const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-CHfeu7BD.js","assets/if-defined-Dr4zPP72.js","assets/index-Csc8jgkV.js","assets/index-CV9ldt-_.js","assets/ref-B-Ucs7Fl.js","assets/index-C2S5cRQi.js","assets/index-DnlzeZtC.js","assets/index-D-zxq6DA.js","assets/index-B_-Zf5Vm.js","assets/index-BJn5W0e4.js","assets/index-C63O7_qW.js","assets/index-2mAFmQBU.js","assets/email-D6Zy3xAS.js","assets/index-Bx2apkwh.js","assets/socials-D27QZ3ta.js","assets/index-CQCEQNYB.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-Bc1g9c_w.js","assets/index-DfXjOv4G.js","assets/index-BpUiDJI8.js","assets/index-DWJTKLUb.js","assets/swaps-rlrNBeJ9.js","assets/index-Bi_EZKy3.js","assets/index-ViQx7Lg6.js","assets/index-Detb6jUa.js","assets/send-DIqgKtOY.js","assets/index-D59rL_Dj.js","assets/index-C7VHayA7.js","assets/receive-YRgAkwzS.js","assets/index-zy5EWfjj.js","assets/onramp-RZamXhbK.js","assets/index-Bvg3kdD5.js","assets/index-BJ29AIwQ.js","assets/transactions-B_rc7X4V.js","assets/index-Di2wC7AY.js","assets/index-Ckk5mp89.js","assets/index-C-tBkFDr.js","assets/index-FBrvz7hj.js","assets/index-CgmXG9GP.js","assets/w3m-modal-CJwCR0kq.js","assets/SafeProvider-CMjiPtoG.js","assets/index-tcpCDn4g.js","assets/index-DKlhDKQO.js"])))=>i.map(i=>d[i]);
function dne(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const fne="modulepreload",hne=function(t){return"/webappx/"+t},hB={},Qi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=l(n.map(c=>{if(c=hne(c),c in hB)return;hB[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":fne,d||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var $o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var eT={exports:{}},sb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pB;function pne(){if(pB)return sb;pB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return sb.Fragment=e,sb.jsx=n,sb.jsxs=n,sb}var gB;function gne(){return gB||(gB=1,eT.exports=pne()),eT.exports}var E=gne(),tT={exports:{}},_n={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB;function mne(){if(mB)return _n;mB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function m(F,H,$){this.props=F,this.context=H,this.refs=w,this.updater=$||g}m.prototype.isReactComponent={},m.prototype.setState=function(F,H){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,H,"setState")},m.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function v(){}v.prototype=m.prototype;function x(F,H,$){this.props=F,this.context=H,this.refs=w,this.updater=$||g}var C=x.prototype=new v;C.constructor=x,b(C,m.prototype),C.isPureReactComponent=!0;var S=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function _(F,H,$,Z,X,le){return $=le.ref,{$$typeof:t,type:F,key:H,ref:$!==void 0?$:null,props:le}}function N(F,H){return _(F.type,H,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function D(F){var H={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function($){return H[$]})}var k=/\/+/g;function z(F,H){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):H.toString(36)}function K(){}function q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(K,K):(F.status="pending",F.then(function(H){F.status==="pending"&&(F.status="fulfilled",F.value=H)},function(H){F.status==="pending"&&(F.status="rejected",F.reason=H)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function I(F,H,$,Z,X){var le=typeof F;(le==="undefined"||le==="boolean")&&(F=null);var de=!1;if(F===null)de=!0;else switch(le){case"bigint":case"string":case"number":de=!0;break;case"object":switch(F.$$typeof){case t:case e:de=!0;break;case d:return de=F._init,I(de(F._payload),H,$,Z,X)}}if(de)return X=X(F),de=Z===""?"."+z(F,0):Z,S(X)?($="",de!=null&&($=de.replace(k,"$&/")+"/"),I(X,H,$,"",function(ce){return ce})):X!=null&&(O(X)&&(X=N(X,$+(X.key==null||F&&F.key===X.key?"":(""+X.key).replace(k,"$&/")+"/")+de)),H.push(X)),1;de=0;var pe=Z===""?".":Z+":";if(S(F))for(var ae=0;ae<F.length;ae++)Z=F[ae],le=pe+z(Z,ae),de+=I(Z,H,$,le,X);else if(ae=p(F),typeof ae=="function")for(F=ae.call(F),ae=0;!(Z=F.next()).done;)Z=Z.value,le=pe+z(Z,ae++),de+=I(Z,H,$,le,X);else if(le==="object"){if(typeof F.then=="function")return I(q(F),H,$,Z,X);throw H=String(F),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return de}function P(F,H,$){if(F==null)return F;var Z=[],X=0;return I(F,Z,"","",function(le){return H.call($,le,X++)}),Z}function M(F){if(F._status===-1){var H=F._result;H=H(),H.then(function($){(F._status===0||F._status===-1)&&(F._status=1,F._result=$)},function($){(F._status===0||F._status===-1)&&(F._status=2,F._result=$)}),F._status===-1&&(F._status=0,F._result=H)}if(F._status===1)return F._result.default;throw F._result}var j=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function G(){}return _n.Children={map:P,forEach:function(F,H,$){P(F,function(){H.apply(this,arguments)},$)},count:function(F){var H=0;return P(F,function(){H++}),H},toArray:function(F){return P(F,function(H){return H})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_n.Component=m,_n.Fragment=n,_n.Profiler=s,_n.PureComponent=x,_n.StrictMode=r,_n.Suspense=l,_n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,_n.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},_n.cache=function(F){return function(){return F.apply(null,arguments)}},_n.cloneElement=function(F,H,$){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Z=b({},F.props),X=F.key,le=void 0;if(H!=null)for(de in H.ref!==void 0&&(le=void 0),H.key!==void 0&&(X=""+H.key),H)!R.call(H,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&H.ref===void 0||(Z[de]=H[de]);var de=arguments.length-2;if(de===1)Z.children=$;else if(1<de){for(var pe=Array(de),ae=0;ae<de;ae++)pe[ae]=arguments[ae+2];Z.children=pe}return _(F.type,X,void 0,void 0,le,Z)},_n.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:i,_context:F},F},_n.createElement=function(F,H,$){var Z,X={},le=null;if(H!=null)for(Z in H.key!==void 0&&(le=""+H.key),H)R.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(X[Z]=H[Z]);var de=arguments.length-2;if(de===1)X.children=$;else if(1<de){for(var pe=Array(de),ae=0;ae<de;ae++)pe[ae]=arguments[ae+2];X.children=pe}if(F&&F.defaultProps)for(Z in de=F.defaultProps,de)X[Z]===void 0&&(X[Z]=de[Z]);return _(F,le,void 0,void 0,null,X)},_n.createRef=function(){return{current:null}},_n.forwardRef=function(F){return{$$typeof:a,render:F}},_n.isValidElement=O,_n.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:M}},_n.memo=function(F,H){return{$$typeof:c,type:F,compare:H===void 0?null:H}},_n.startTransition=function(F){var H=T.T,$={};T.T=$;try{var Z=F(),X=T.S;X!==null&&X($,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(G,j)}catch(le){j(le)}finally{T.T=H}},_n.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},_n.use=function(F){return T.H.use(F)},_n.useActionState=function(F,H,$){return T.H.useActionState(F,H,$)},_n.useCallback=function(F,H){return T.H.useCallback(F,H)},_n.useContext=function(F){return T.H.useContext(F)},_n.useDebugValue=function(){},_n.useDeferredValue=function(F,H){return T.H.useDeferredValue(F,H)},_n.useEffect=function(F,H,$){var Z=T.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(F,H)},_n.useId=function(){return T.H.useId()},_n.useImperativeHandle=function(F,H,$){return T.H.useImperativeHandle(F,H,$)},_n.useInsertionEffect=function(F,H){return T.H.useInsertionEffect(F,H)},_n.useLayoutEffect=function(F,H){return T.H.useLayoutEffect(F,H)},_n.useMemo=function(F,H){return T.H.useMemo(F,H)},_n.useOptimistic=function(F,H){return T.H.useOptimistic(F,H)},_n.useReducer=function(F,H,$){return T.H.useReducer(F,H,$)},_n.useRef=function(F){return T.H.useRef(F)},_n.useState=function(F){return T.H.useState(F)},_n.useSyncExternalStore=function(F,H,$){return T.H.useSyncExternalStore(F,H,$)},_n.useTransition=function(){return T.H.useTransition()},_n.version="19.1.0",_n}var yB;function yC(){return yB||(yB=1,tT.exports=mne()),tT.exports}var W=yC();const at=$m(W),PH=dne({__proto__:null,default:at},[W]);var nT={exports:{}},ib={},rT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function yne(){return bB||(bB=1,function(t){function e(P,M){var j=P.length;P.push(M);e:for(;0<j;){var G=j-1>>>1,F=P[G];if(0<s(F,M))P[G]=M,P[j]=F,j=G;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var M=P[0],j=P.pop();if(j!==M){P[0]=j;e:for(var G=0,F=P.length,H=F>>>1;G<H;){var $=2*(G+1)-1,Z=P[$],X=$+1,le=P[X];if(0>s(Z,j))X<F&&0>s(le,Z)?(P[G]=le,P[X]=j,G=X):(P[G]=Z,P[$]=j,G=$);else if(X<F&&0>s(le,j))P[G]=le,P[X]=j,G=X;else break e}}return M}function s(P,M){var j=P.sortIndex-M.sortIndex;return j!==0?j:P.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,b=!1,w=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function S(P){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=P)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function T(P){if(w=!1,S(P),!b)if(n(l)!==null)b=!0,R||(R=!0,z());else{var M=n(c);M!==null&&I(T,M.startTime-P)}}var R=!1,_=-1,N=5,O=-1;function D(){return m?!0:!(t.unstable_now()-O<N)}function k(){if(m=!1,R){var P=t.unstable_now();O=P;var M=!0;try{e:{b=!1,w&&(w=!1,x(_),_=-1),g=!0;var j=p;try{t:{for(S(P),f=n(l);f!==null&&!(f.expirationTime>P&&D());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var F=G(f.expirationTime<=P);if(P=t.unstable_now(),typeof F=="function"){f.callback=F,S(P),M=!0;break t}f===n(l)&&r(l),S(P)}else r(l);f=n(l)}if(f!==null)M=!0;else{var H=n(c);H!==null&&I(T,H.startTime-P),M=!1}}break e}finally{f=null,p=j,g=!1}M=void 0}}finally{M?z():R=!1}}}var z;if(typeof C=="function")z=function(){C(k)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,q=K.port2;K.port1.onmessage=k,z=function(){q.postMessage(null)}}else z=function(){v(k,0)};function I(P,M){_=v(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var j=p;p=M;try{return P()}finally{p=j}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=p;p=P;try{return M()}finally{p=j}},t.unstable_scheduleCallback=function(P,M,j){var G=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?G+j:G):j=G,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=j+F,P={id:d++,callback:M,priorityLevel:P,startTime:j,expirationTime:F,sortIndex:-1},j>G?(P.sortIndex=j,e(c,P),n(l)===null&&P===n(c)&&(w?(x(_),_=-1):w=!0,I(T,j-G))):(P.sortIndex=F,e(l,P),b||g||(b=!0,R||(R=!0,z()))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var M=p;return function(){var j=p;p=M;try{return P.apply(this,arguments)}finally{p=j}}}}(sT)),sT}var wB;function bne(){return wB||(wB=1,rT.exports=yne()),rT.exports}var iT={exports:{}},Hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vB;function wne(){if(vB)return Hi;vB=1;var t=yC();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hi.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(l,c,null,d)},Hi.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Hi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Hi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Hi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Hi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Hi.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Hi.requestFormReset=function(l){r.d.r(l)},Hi.unstable_batchedUpdates=function(l,c){return l(c)},Hi.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Hi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hi.version="19.1.0",Hi}var xB;function OH(){if(xB)return iT.exports;xB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iT.exports=wne(),iT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EB;function vne(){if(EB)return ib;EB=1;var t=bne(),e=yC(),n=OH();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(i(u)!==u)throw Error(r(188))}function l(u){var h=u.alternate;if(!h){if(h=i(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,A=h;;){var B=y.return;if(B===null)break;var L=B.alternate;if(L===null){if(A=B.return,A!==null){y=A;continue}break}if(B.child===L.child){for(L=B.child;L;){if(L===y)return a(B),u;if(L===A)return a(B),h;L=L.sibling}throw Error(r(188))}if(y.return!==A.return)y=B,A=L;else{for(var ee=!1,oe=B.child;oe;){if(oe===y){ee=!0,y=B,A=L;break}if(oe===A){ee=!0,A=B,y=L;break}oe=oe.sibling}if(!ee){for(oe=L.child;oe;){if(oe===y){ee=!0,y=L,A=B;break}if(oe===A){ee=!0,A=L,y=B;break}oe=oe.sibling}if(!ee)throw Error(r(189))}}if(y.alternate!==A)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function c(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=c(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var K=Symbol.for("react.client.reference");function q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===K?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case b:return"Fragment";case m:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList";case O:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case g:return"Portal";case C:return(u.displayName||"Context")+".Provider";case x:return(u._context.displayName||"Context")+".Consumer";case S:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return h=u.displayName||null,h!==null?h:q(u.type)||"Memo";case N:h=u._payload,u=u._init;try{return q(u(h))}catch{}}return null}var I=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},G=[],F=-1;function H(u){return{current:u}}function $(u){0>F||(u.current=G[F],G[F]=null,F--)}function Z(u,h){F++,G[F]=u.current,u.current=h}var X=H(null),le=H(null),de=H(null),pe=H(null);function ae(u,h){switch(Z(de,h),Z(le,u),Z(X,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?$5(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=$5(h),u=H5(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}$(X),Z(X,u)}function ce(){$(X),$(le),$(de)}function fe(u){u.memoizedState!==null&&Z(pe,u);var h=X.current,y=H5(h,u.type);h!==y&&(Z(le,u),Z(X,y))}function ve(u){le.current===u&&($(X),$(le)),pe.current===u&&($(pe),Xy._currentValue=j)}var Re=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,xe=t.unstable_cancelCallback,te=t.unstable_shouldYield,J=t.unstable_requestPaint,V=t.unstable_now,Y=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,me=t.unstable_UserBlockingPriority,_e=t.unstable_NormalPriority,Te=t.unstable_LowPriority,ot=t.unstable_IdlePriority,It=t.log,Ft=t.unstable_setDisableYieldValue,Ce=null,ye=null;function re(u){if(typeof It=="function"&&Ft(u),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Ce,u)}catch{}}var ge=Math.clz32?Math.clz32:et,ke=Math.log,$e=Math.LN2;function et(u){return u>>>=0,u===0?32:31-(ke(u)/$e|0)|0}var xt=256,gt=4194304;function Rn(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Jt(u,h,y){var A=u.pendingLanes;if(A===0)return 0;var B=0,L=u.suspendedLanes,ee=u.pingedLanes;u=u.warmLanes;var oe=A&134217727;return oe!==0?(A=oe&~L,A!==0?B=Rn(A):(ee&=oe,ee!==0?B=Rn(ee):y||(y=oe&~u,y!==0&&(B=Rn(y))))):(oe=A&~L,oe!==0?B=Rn(oe):ee!==0?B=Rn(ee):y||(y=A&~u,y!==0&&(B=Rn(y)))),B===0?0:h!==0&&h!==B&&(h&L)===0&&(L=B&-B,y=h&-h,L>=y||L===32&&(y&4194048)!==0)?h:B}function Yn(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function ls(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var u=xt;return xt<<=1,(xt&4194048)===0&&(xt=256),u}function Mi(){var u=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),u}function Ka(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function na(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function mu(u,h,y,A,B,L){var ee=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var oe=u.entanglements,be=u.expirationTimes,Me=u.hiddenUpdates;for(y=ee&~y;0<y;){var Ke=31-ge(y),Ye=1<<Ke;oe[Ke]=0,be[Ke]=-1;var Le=Me[Ke];if(Le!==null)for(Me[Ke]=null,Ke=0;Ke<Le.length;Ke++){var je=Le[Ke];je!==null&&(je.lane&=-536870913)}y&=~Ye}A!==0&&Ge(u,A,0),L!==0&&B===0&&u.tag!==0&&(u.suspendedLanes|=L&~(ee&~h))}function Ge(u,h,y){u.pendingLanes|=h,u.suspendedLanes&=~h;var A=31-ge(h);u.entangledLanes|=h,u.entanglements[A]=u.entanglements[A]|1073741824|y&4194090}function Qr(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var A=31-ge(y),B=1<<A;B&h|u[A]&h&&(u[A]|=h),y&=~B}}function ns(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function nr(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function to(){var u=M.p;return u!==0?u:(u=window.event,u===void 0?32:aB(u.type))}function Yr(u,h){var y=M.p;try{return M.p=u,h()}finally{M.p=y}}var Br=Math.random().toString(36).slice(2),rr="__reactFiber$"+Br,sr="__reactProps$"+Br,qn="__reactContainer$"+Br,no="__reactEvents$"+Br,ni="__reactListeners$"+Br,Ld="__reactHandles$"+Br,xl="__reactResources$"+Br,ra="__reactMarker$"+Br;function Jr(u){delete u[rr],delete u[sr],delete u[no],delete u[ni],delete u[Ld]}function Wa(u){var h=u[rr];if(h)return h;for(var y=u.parentNode;y;){if(h=y[qn]||y[rr]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=G5(u);u!==null;){if(y=u[rr])return y;u=G5(u)}return h}u=y,y=u.parentNode}return null}function Qa(u){if(u=u[rr]||u[qn]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Tc(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function El(u){var h=u[xl];return h||(h=u[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function rs(u){u[ra]=!0}var mh=new Set,Al={};function sa(u,h){Bs(u,h),Bs(u+"Capture",h)}function Bs(u,h){for(Al[u]=h,u=0;u<h.length;u++)mh.add(h[u])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ee={},Ue={};function He(u){return Re.call(Ue,u)?!0:Re.call(Ee,u)?!1:yu.test(u)?Ue[u]=!0:(Ee[u]=!0,!1)}function We(u,h,y){if(He(h))if(y===null)u.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var A=h.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+y)}}function Ve(u,h,y){if(y===null)u.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+y)}}function Je(u,h,y,A){if(A===null)u.removeAttribute(y);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(y);return}u.setAttributeNS(h,y,""+A)}}var it,pt;function dn(u){if(it===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);it=h&&h[1]||"",pt=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+u+pt}var Jn=!1;function zt(u,h){if(!u||Jn)return"";Jn=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(h){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(je){var Le=je}Reflect.construct(u,[],Ye)}else{try{Ye.call()}catch(je){Le=je}u.call(Ye.prototype)}}else{try{throw Error()}catch(je){Le=je}(Ye=u())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(je){if(je&&Le&&typeof je.stack=="string")return[je.stack,Le.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=A.DetermineComponentFrameRoot(),ee=L[0],oe=L[1];if(ee&&oe){var be=ee.split(`
`),Me=oe.split(`
`);for(B=A=0;A<be.length&&!be[A].includes("DetermineComponentFrameRoot");)A++;for(;B<Me.length&&!Me[B].includes("DetermineComponentFrameRoot");)B++;if(A===be.length||B===Me.length)for(A=be.length-1,B=Me.length-1;1<=A&&0<=B&&be[A]!==Me[B];)B--;for(;1<=A&&0<=B;A--,B--)if(be[A]!==Me[B]){if(A!==1||B!==1)do if(A--,B--,0>B||be[A]!==Me[B]){var Ke=`
`+be[A].replace(" at new "," at ");return u.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",u.displayName)),Ke}while(1<=A&&0<=B);break}}}finally{Jn=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?dn(y):""}function vn(u){switch(u.tag){case 26:case 27:case 5:return dn(u.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return zt(u.type,!1);case 11:return zt(u.type.render,!1);case 1:return zt(u.type,!0);case 31:return dn("Activity");default:return""}}function yn(u){try{var h="";do h+=vn(u),u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function on(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function fn(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function gr(u){var h=fn(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),A=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var B=y.get,L=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return B.call(this)},set:function(ee){A=""+ee,L.call(this,ee)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(ee){A=""+ee},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function vr(u){u._valueTracker||(u._valueTracker=gr(u))}function ri(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),A="";return u&&(A=fn(u)?u.checked?"true":"false":u.value),u=A,u!==y?(h.setValue(u),!0):!1}function Ui(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Cl=/[\n"\\]/g;function $s(u){return u.replace(Cl,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Li(u,h,y,A,B,L,ee,oe){u.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?u.type=ee:u.removeAttribute("type"),h!=null?ee==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+on(h)):u.value!==""+on(h)&&(u.value=""+on(h)):ee!=="submit"&&ee!=="reset"||u.removeAttribute("value"),h!=null?Sl(u,ee,on(h)):y!=null?Sl(u,ee,on(y)):A!=null&&u.removeAttribute("value"),B==null&&L!=null&&(u.defaultChecked=!!L),B!=null&&(u.checked=B&&typeof B!="function"&&typeof B!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?u.name=""+on(oe):u.removeAttribute("name")}function ji(u,h,y,A,B,L,ee,oe){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(u.type=L),h!=null||y!=null){if(!(L!=="submit"&&L!=="reset"||h!=null))return;y=y!=null?""+on(y):"",h=h!=null?""+on(h):y,oe||h===u.value||(u.value=h),u.defaultValue=h}A=A??B,A=typeof A!="function"&&typeof A!="symbol"&&!!A,u.checked=oe?u.checked:!!A,u.defaultChecked=!!A,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(u.name=ee)}function Sl(u,h,y){h==="number"&&Ui(u.ownerDocument)===u||u.defaultValue===""+y||(u.defaultValue=""+y)}function vi(u,h,y,A){if(u=u.options,h){h={};for(var B=0;B<y.length;B++)h["$"+y[B]]=!0;for(y=0;y<u.length;y++)B=h.hasOwnProperty("$"+u[y].value),u[y].selected!==B&&(u[y].selected=B),B&&A&&(u[y].defaultSelected=!0)}else{for(y=""+on(y),h=null,B=0;B<u.length;B++){if(u[B].value===y){u[B].selected=!0,A&&(u[B].defaultSelected=!0);return}h!==null||u[B].disabled||(h=u[B])}h!==null&&(h.selected=!0)}}function vo(u,h,y){if(h!=null&&(h=""+on(h),h!==u.value&&(u.value=h),y==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=y!=null?""+on(y):""}function bu(u,h,y,A){if(h==null){if(A!=null){if(y!=null)throw Error(r(92));if(I(A)){if(1<A.length)throw Error(r(93));A=A[0]}y=A}y==null&&(y=""),h=y}y=on(h),u.defaultValue=y,A=u.textContent,A===y&&A!==""&&A!==null&&(u.value=A)}function _l(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ex(u,h,y){var A=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?A?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":A?u.setProperty(h,y):typeof y!="number"||y===0||fy.has(h)?h==="float"?u.cssFloat=y:u[h]=(""+y).trim():u[h]=y+"px"}function yh(u,h,y){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,y!=null){for(var A in y)!y.hasOwnProperty(A)||h!=null&&h.hasOwnProperty(A)||(A.indexOf("--")===0?u.setProperty(A,""):A==="float"?u.cssFloat="":u[A]="");for(var B in h)A=h[B],h.hasOwnProperty(B)&&y[B]!==A&&Ex(u,B,A)}else for(var L in h)h.hasOwnProperty(L)&&Ex(u,L,h[L])}function jd(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(u){return hy.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ya=null;function vu(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Fd=null,Lt=null;function F0(u){var h=Qa(u);if(h&&(u=h.stateNode)){var y=u[sr]||null;e:switch(u=h.stateNode,h.type){case"input":if(Li(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+$s(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var A=y[h];if(A!==u&&A.form===u.form){var B=A[sr]||null;if(!B)throw Error(r(90));Li(A,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(h=0;h<y.length;h++)A=y[h],A.form===u.form&&ri(A)}break e;case"textarea":vo(u,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&vi(u,!!y.multiple,h,!1)}}}var $d=!1;function py(u,h,y){if($d)return u(h,y);$d=!0;try{var A=u(h);return A}finally{if($d=!1,(Fd!==null||Lt!==null)&&(cE(),Fd&&(h=Fd,u=Lt,Lt=Fd=null,F0(h),u)))for(h=0;h<u.length;h++)F0(u[h])}}function Hd(u,h){var y=u.stateNode;if(y===null)return null;var A=y[sr]||null;if(A===null)return null;y=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(u=u.type,A=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!A;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(ro)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Ja=!1}var Za=null,U=null,Q=null;function ne(){if(Q)return Q;var u,h=U,y=h.length,A,B="value"in Za?Za.value:Za.textContent,L=B.length;for(u=0;u<y&&h[u]===B[u];u++);var ee=y-u;for(A=1;A<=ee&&h[y-A]===B[L-A];A++);return Q=B.slice(u,1<A?1-A:void 0)}function ue(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function we(){return!0}function De(){return!1}function ze(u){function h(y,A,B,L,ee){this._reactName=y,this._targetInst=B,this.type=A,this.nativeEvent=L,this.target=ee,this.currentTarget=null;for(var oe in u)u.hasOwnProperty(oe)&&(y=u[oe],this[oe]=y?y(L):L[oe]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?we:De,this.isPropagationStopped=De,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=we)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=we)},persist:function(){},isPersistent:we}),h}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xn=ze(jt),gn=d({},jt,{view:0,detail:0}),ss=ze(gn),si,$0,bh,wh=d({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==bh&&(bh&&u.type==="mousemove"?(si=u.screenX-bh.screenX,$0=u.screenY-bh.screenY):$0=si=0,bh=u),si)},movementY:function(u){return"movementY"in u?u.movementY:$0}}),Ax=ze(wh),Cx=d({},wh,{dataTransfer:0}),HS=ze(Cx),zS=d({},gn,{relatedTarget:0}),gy=ze(zS),qS=d({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=ze(qS),GS=d({},jt,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),KS=ze(GS),WS=d({},jt,{data:0}),my=ze(WS),QS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZS(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=JS[u])?!!h[u]:!1}function yy(){return ZS}var XS=d({},gn,{key:function(u){if(u.key){var h=QS[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=ue(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?YS[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(u){return u.type==="keypress"?ue(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ue(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),e_=ze(XS),Sx=d({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=ze(Sx),t_=d({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),n_=ze(t_),r_=d({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),s_=ze(r_),i_=d({},wh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=ze(i_),o_=d({},jt,{newState:0,oldState:0}),a_=ze(o_),c_=[9,13,27,32],zd=ro&&"CompositionEvent"in window,qd=null;ro&&"documentMode"in document&&(qd=document.documentMode);var Tx=ro&&"TextEvent"in window&&!qd,by=ro&&(!zd||qd&&8<qd&&11>=qd),Ie=" ",Ze=!1;function Bt(u,h){switch(u){case"keyup":return c_.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kt(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var tn=!1;function mr(u,h){switch(u){case"compositionend":return Kt(h);case"keypress":return h.which!==32?null:(Ze=!0,Ie);case"textInput":return u=h.data,u===Ie&&Ze?null:u;default:return null}}function ia(u,h){if(tn)return u==="compositionend"||!zd&&Bt(u,h)?(u=ne(),Q=U=Za=null,tn=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return by&&h.locale!=="ko"?null:h.data;default:return null}}var Eo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fi(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Eo[u.type]:h==="textarea"}function Ao(u,h,y,A){Fd?Lt?Lt.push(A):Lt=[A]:Fd=A,h=pE(h,"onChange"),0<h.length&&(y=new xn("onChange","change",null,y,A),u.push({event:y,listeners:h}))}var xu=null,oa=null;function l_(u){M5(u,0)}function Rx(u){var h=Tc(u);if(ri(h))return u}function r6(u,h){if(u==="change")return h}var s6=!1;if(ro){var u_;if(ro){var d_="oninput"in document;if(!d_){var i6=document.createElement("div");i6.setAttribute("oninput","return;"),d_=typeof i6.oninput=="function"}u_=d_}else u_=!1;s6=u_&&(!document.documentMode||9<document.documentMode)}function o6(){xu&&(xu.detachEvent("onpropertychange",a6),oa=xu=null)}function a6(u){if(u.propertyName==="value"&&Rx(oa)){var h=[];Ao(h,oa,u,vu(u)),py(l_,h)}}function $ee(u,h,y){u==="focusin"?(o6(),xu=h,oa=y,xu.attachEvent("onpropertychange",a6)):u==="focusout"&&o6()}function Hee(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Rx(oa)}function zee(u,h){if(u==="click")return Rx(h)}function qee(u,h){if(u==="input"||u==="change")return Rx(h)}function Vee(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var aa=typeof Object.is=="function"?Object.is:Vee;function wy(u,h){if(aa(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),A=Object.keys(h);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var B=y[A];if(!Re.call(h,B)||!aa(u[B],h[B]))return!1}return!0}function c6(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function l6(u,h){var y=c6(u);u=0;for(var A;y;){if(y.nodeType===3){if(A=u+y.textContent.length,u<=h&&A>=h)return{node:y,offset:h-u};u=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=c6(y)}}function u6(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?u6(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function d6(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Ui(u.document);h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=Ui(u.document)}return h}function f_(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var Gee=ro&&"documentMode"in document&&11>=document.documentMode,H0=null,h_=null,vy=null,p_=!1;function f6(u,h,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;p_||H0==null||H0!==Ui(A)||(A=H0,"selectionStart"in A&&f_(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),vy&&wy(vy,A)||(vy=A,A=pE(h_,"onSelect"),0<A.length&&(h=new xn("onSelect","select",null,h,y),u.push({event:h,listeners:A}),h.target=H0)))}function vh(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var z0={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionrun:vh("Transition","TransitionRun"),transitionstart:vh("Transition","TransitionStart"),transitioncancel:vh("Transition","TransitionCancel"),transitionend:vh("Transition","TransitionEnd")},g_={},h6={};ro&&(h6=document.createElement("div").style,"AnimationEvent"in window||(delete z0.animationend.animation,delete z0.animationiteration.animation,delete z0.animationstart.animation),"TransitionEvent"in window||delete z0.transitionend.transition);function xh(u){if(g_[u])return g_[u];if(!z0[u])return u;var h=z0[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in h6)return g_[u]=h[y];return u}var p6=xh("animationend"),g6=xh("animationiteration"),m6=xh("animationstart"),Kee=xh("transitionrun"),Wee=xh("transitionstart"),Qee=xh("transitioncancel"),y6=xh("transitionend"),b6=new Map,m_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");m_.push("scrollEnd");function Pc(u,h){b6.set(u,h),sa(h,[u])}var w6=new WeakMap;function Xa(u,h){if(typeof u=="object"&&u!==null){var y=w6.get(u);return y!==void 0?y:(h={value:u,source:h,stack:yn(h)},w6.set(u,h),h)}return{value:u,source:h,stack:yn(h)}}var ec=[],q0=0,y_=0;function Px(){for(var u=q0,h=y_=q0=0;h<u;){var y=ec[h];ec[h++]=null;var A=ec[h];ec[h++]=null;var B=ec[h];ec[h++]=null;var L=ec[h];if(ec[h++]=null,A!==null&&B!==null){var ee=A.pending;ee===null?B.next=B:(B.next=ee.next,ee.next=B),A.pending=B}L!==0&&v6(y,B,L)}}function Ox(u,h,y,A){ec[q0++]=u,ec[q0++]=h,ec[q0++]=y,ec[q0++]=A,y_|=A,u.lanes|=A,u=u.alternate,u!==null&&(u.lanes|=A)}function b_(u,h,y,A){return Ox(u,h,y,A),Ix(u)}function V0(u,h){return Ox(u,null,null,h),Ix(u)}function v6(u,h,y){u.lanes|=y;var A=u.alternate;A!==null&&(A.lanes|=y);for(var B=!1,L=u.return;L!==null;)L.childLanes|=y,A=L.alternate,A!==null&&(A.childLanes|=y),L.tag===22&&(u=L.stateNode,u===null||u._visibility&1||(B=!0)),u=L,L=L.return;return u.tag===3?(L=u.stateNode,B&&h!==null&&(B=31-ge(y),u=L.hiddenUpdates,A=u[B],A===null?u[B]=[h]:A.push(h),h.lane=y|536870912),L):null}function Ix(u){if(50<Vy)throw Vy=0,CN=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var G0={};function Yee(u,h,y,A){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(u,h,y,A){return new Yee(u,h,y,A)}function w_(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Eu(u,h){var y=u.alternate;return y===null?(y=ca(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&65011712,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function x6(u,h){u.flags&=65011714;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,h=y.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function kx(u,h,y,A,B,L){var ee=0;if(A=u,typeof u=="function")w_(u)&&(ee=1);else if(typeof u=="string")ee=Zte(u,y,X.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case O:return u=ca(31,y,h,B),u.elementType=O,u.lanes=L,u;case b:return Eh(y.children,B,L,h);case w:ee=8,B|=24;break;case m:return u=ca(12,y,h,B|2),u.elementType=m,u.lanes=L,u;case T:return u=ca(13,y,h,B),u.elementType=T,u.lanes=L,u;case R:return u=ca(19,y,h,B),u.elementType=R,u.lanes=L,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case v:case C:ee=10;break e;case x:ee=9;break e;case S:ee=11;break e;case _:ee=14;break e;case N:ee=16,A=null;break e}ee=29,y=Error(r(130,u===null?"null":typeof u,"")),A=null}return h=ca(ee,y,h,B),h.elementType=u,h.type=A,h.lanes=L,h}function Eh(u,h,y,A){return u=ca(7,u,A,h),u.lanes=y,u}function v_(u,h,y){return u=ca(6,u,null,h),u.lanes=y,u}function x_(u,h,y){return h=ca(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var K0=[],W0=0,Bx=null,Dx=0,tc=[],nc=0,Ah=null,Au=1,Cu="";function Ch(u,h){K0[W0++]=Dx,K0[W0++]=Bx,Bx=u,Dx=h}function E6(u,h,y){tc[nc++]=Au,tc[nc++]=Cu,tc[nc++]=Ah,Ah=u;var A=Au;u=Cu;var B=32-ge(A)-1;A&=~(1<<B),y+=1;var L=32-ge(h)+B;if(30<L){var ee=B-B%5;L=(A&(1<<ee)-1).toString(32),A>>=ee,B-=ee,Au=1<<32-ge(h)+B|y<<B|A,Cu=L+u}else Au=1<<L|y<<B|A,Cu=u}function E_(u){u.return!==null&&(Ch(u,1),E6(u,1,0))}function A_(u){for(;u===Bx;)Bx=K0[--W0],K0[W0]=null,Dx=K0[--W0],K0[W0]=null;for(;u===Ah;)Ah=tc[--nc],tc[nc]=null,Cu=tc[--nc],tc[nc]=null,Au=tc[--nc],tc[nc]=null}var so=null,ys=null,yr=!1,Sh=null,Nl=!1,C_=Error(r(519));function _h(u){var h=Error(r(418,""));throw Ay(Xa(h,u)),C_}function A6(u){var h=u.stateNode,y=u.type,A=u.memoizedProps;switch(h[rr]=u,h[sr]=A,y){case"dialog":Hn("cancel",h),Hn("close",h);break;case"iframe":case"object":case"embed":Hn("load",h);break;case"video":case"audio":for(y=0;y<Ky.length;y++)Hn(Ky[y],h);break;case"source":Hn("error",h);break;case"img":case"image":case"link":Hn("error",h),Hn("load",h);break;case"details":Hn("toggle",h);break;case"input":Hn("invalid",h),ji(h,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),vr(h);break;case"select":Hn("invalid",h);break;case"textarea":Hn("invalid",h),bu(h,A.value,A.defaultValue,A.children),vr(h)}y=A.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||A.suppressHydrationWarning===!0||F5(h.textContent,y)?(A.popover!=null&&(Hn("beforetoggle",h),Hn("toggle",h)),A.onScroll!=null&&Hn("scroll",h),A.onScrollEnd!=null&&Hn("scrollend",h),A.onClick!=null&&(h.onclick=gE),h=!0):h=!1,h||_h(u)}function C6(u){for(so=u.return;so;)switch(so.tag){case 5:case 13:Nl=!1;return;case 27:case 3:Nl=!0;return;default:so=so.return}}function xy(u){if(u!==so)return!1;if(!yr)return C6(u),yr=!0,!1;var h=u.tag,y;if((y=h!==3&&h!==27)&&((y=h===5)&&(y=u.type,y=!(y!=="form"&&y!=="button")||FN(u.type,u.memoizedProps)),y=!y),y&&ys&&_h(u),C6(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(y=u.data,y==="/$"){if(h===0){ys=Ic(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++;u=u.nextSibling}ys=null}}else h===27?(h=ys,af(u.type)?(u=qN,qN=null,ys=u):ys=h):ys=so?Ic(u.stateNode.nextSibling):null;return!0}function Ey(){ys=so=null,yr=!1}function S6(){var u=Sh;return u!==null&&(_o===null?_o=u:_o.push.apply(_o,u),Sh=null),u}function Ay(u){Sh===null?Sh=[u]:Sh.push(u)}var S_=H(null),Nh=null,Su=null;function Vd(u,h,y){Z(S_,h._currentValue),h._currentValue=y}function _u(u){u._currentValue=S_.current,$(S_)}function __(u,h,y){for(;u!==null;){var A=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),u===y)break;u=u.return}}function N_(u,h,y,A){var B=u.child;for(B!==null&&(B.return=u);B!==null;){var L=B.dependencies;if(L!==null){var ee=B.child;L=L.firstContext;e:for(;L!==null;){var oe=L;L=B;for(var be=0;be<h.length;be++)if(oe.context===h[be]){L.lanes|=y,oe=L.alternate,oe!==null&&(oe.lanes|=y),__(L.return,y,u),A||(ee=null);break e}L=oe.next}}else if(B.tag===18){if(ee=B.return,ee===null)throw Error(r(341));ee.lanes|=y,L=ee.alternate,L!==null&&(L.lanes|=y),__(ee,y,u),ee=null}else ee=B.child;if(ee!==null)ee.return=B;else for(ee=B;ee!==null;){if(ee===u){ee=null;break}if(B=ee.sibling,B!==null){B.return=ee.return,ee=B;break}ee=ee.return}B=ee}}function Cy(u,h,y,A){u=null;for(var B=h,L=!1;B!==null;){if(!L){if((B.flags&524288)!==0)L=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var ee=B.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var oe=B.type;aa(B.pendingProps.value,ee.value)||(u!==null?u.push(oe):u=[oe])}}else if(B===pe.current){if(ee=B.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(u!==null?u.push(Xy):u=[Xy])}B=B.return}u!==null&&N_(h,u,y,A),h.flags|=262144}function Mx(u){for(u=u.firstContext;u!==null;){if(!aa(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Th(u){Nh=u,Su=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function $i(u){return _6(Nh,u)}function Ux(u,h){return Nh===null&&Th(u),_6(u,h)}function _6(u,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},Su===null){if(u===null)throw Error(r(308));Su=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Su=Su.next=h;return y}var Jee=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(y,A){u.push(A)}};this.abort=function(){h.aborted=!0,u.forEach(function(y){return y()})}},Zee=t.unstable_scheduleCallback,Xee=t.unstable_NormalPriority,Hs={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T_(){return{controller:new Jee,data:new Map,refCount:0}}function Sy(u){u.refCount--,u.refCount===0&&Zee(Xee,function(){u.controller.abort()})}var _y=null,R_=0,Q0=0,Y0=null;function ete(u,h){if(_y===null){var y=_y=[];R_=0,Q0=ON(),Y0={status:"pending",value:void 0,then:function(A){y.push(A)}}}return R_++,h.then(N6,N6),h}function N6(){if(--R_===0&&_y!==null){Y0!==null&&(Y0.status="fulfilled");var u=_y;_y=null,Q0=0,Y0=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function tte(u,h){var y=[],A={status:"pending",value:null,reason:null,then:function(B){y.push(B)}};return u.then(function(){A.status="fulfilled",A.value=h;for(var B=0;B<y.length;B++)(0,y[B])(h)},function(B){for(A.status="rejected",A.reason=B,B=0;B<y.length;B++)(0,y[B])(void 0)}),A}var T6=P.S;P.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&ete(u,h),T6!==null&&T6(u,h)};var Rh=H(null);function P_(){var u=Rh.current;return u!==null?u:qr.pooledCache}function Lx(u,h){h===null?Z(Rh,Rh.current):Z(Rh,h.pool)}function R6(){var u=P_();return u===null?null:{parent:Hs._currentValue,pool:u}}var Ny=Error(r(460)),P6=Error(r(474)),jx=Error(r(542)),O_={then:function(){}};function O6(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Fx(){}function I6(u,h,y){switch(y=u[y],y===void 0?u.push(h):y!==h&&(h.then(Fx,Fx),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,B6(u),u;default:if(typeof h.status=="string")h.then(Fx,Fx);else{if(u=qr,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(A){if(h.status==="pending"){var B=h;B.status="fulfilled",B.value=A}},function(A){if(h.status==="pending"){var B=h;B.status="rejected",B.reason=A}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,B6(u),u}throw Ty=h,Ny}}var Ty=null;function k6(){if(Ty===null)throw Error(r(459));var u=Ty;return Ty=null,u}function B6(u){if(u===Ny||u===jx)throw Error(r(483))}var Gd=!1;function I_(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k_(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Kd(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Wd(u,h,y){var A=u.updateQueue;if(A===null)return null;if(A=A.shared,(Ar&2)!==0){var B=A.pending;return B===null?h.next=h:(h.next=B.next,B.next=h),A.pending=h,h=Ix(u),v6(u,null,y),h}return Ox(u,A,h,y),Ix(u)}function Ry(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194048)!==0)){var A=h.lanes;A&=u.pendingLanes,y|=A,h.lanes=y,Qr(u,y)}}function B_(u,h){var y=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var B=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var ee={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};L===null?B=L=ee:L=L.next=ee,y=y.next}while(y!==null);L===null?B=L=h:L=L.next=h}else B=L=h;y={baseState:A.baseState,firstBaseUpdate:B,lastBaseUpdate:L,shared:A.shared,callbacks:A.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}var D_=!1;function Py(){if(D_){var u=Y0;if(u!==null)throw u}}function Oy(u,h,y,A){D_=!1;var B=u.updateQueue;Gd=!1;var L=B.firstBaseUpdate,ee=B.lastBaseUpdate,oe=B.shared.pending;if(oe!==null){B.shared.pending=null;var be=oe,Me=be.next;be.next=null,ee===null?L=Me:ee.next=Me,ee=be;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,oe=Ke.lastBaseUpdate,oe!==ee&&(oe===null?Ke.firstBaseUpdate=Me:oe.next=Me,Ke.lastBaseUpdate=be))}if(L!==null){var Ye=B.baseState;ee=0,Ke=Me=be=null,oe=L;do{var Le=oe.lane&-536870913,je=Le!==oe.lane;if(je?(Qn&Le)===Le:(A&Le)===Le){Le!==0&&Le===Q0&&(D_=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var hn=u,Zt=oe;Le=h;var Pr=y;switch(Zt.tag){case 1:if(hn=Zt.payload,typeof hn=="function"){Ye=hn.call(Pr,Ye,Le);break e}Ye=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=Zt.payload,Le=typeof hn=="function"?hn.call(Pr,Ye,Le):hn,Le==null)break e;Ye=d({},Ye,Le);break e;case 2:Gd=!0}}Le=oe.callback,Le!==null&&(u.flags|=64,je&&(u.flags|=8192),je=B.callbacks,je===null?B.callbacks=[Le]:je.push(Le))}else je={lane:Le,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ke===null?(Me=Ke=je,be=Ye):Ke=Ke.next=je,ee|=Le;if(oe=oe.next,oe===null){if(oe=B.shared.pending,oe===null)break;je=oe,oe=je.next,je.next=null,B.lastBaseUpdate=je,B.shared.pending=null}}while(!0);Ke===null&&(be=Ye),B.baseState=be,B.firstBaseUpdate=Me,B.lastBaseUpdate=Ke,L===null&&(B.shared.lanes=0),nf|=ee,u.lanes=ee,u.memoizedState=Ye}}function D6(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function M6(u,h){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)D6(y[u],h)}var J0=H(null),$x=H(0);function U6(u,h){u=ku,Z($x,u),Z(J0,h),ku=u|h.baseLanes}function M_(){Z($x,ku),Z(J0,J0.current)}function U_(){ku=$x.current,$(J0),$($x)}var Qd=0,kn=null,Tr=null,Ds=null,Hx=!1,Z0=!1,Ph=!1,zx=0,Iy=0,X0=null,nte=0;function Ns(){throw Error(r(321))}function L_(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!aa(u[y],h[y]))return!1;return!0}function j_(u,h,y,A,B,L){return Qd=L,kn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,P.H=u===null||u.memoizedState===null?v8:x8,Ph=!1,L=y(A,B),Ph=!1,Z0&&(L=j6(h,y,A,B)),L6(u),L}function L6(u){P.H=Qx;var h=Tr!==null&&Tr.next!==null;if(Qd=0,Ds=Tr=kn=null,Hx=!1,Iy=0,X0=null,h)throw Error(r(300));u===null||ii||(u=u.dependencies,u!==null&&Mx(u)&&(ii=!0))}function j6(u,h,y,A){kn=u;var B=0;do{if(Z0&&(X0=null),Iy=0,Z0=!1,25<=B)throw Error(r(301));if(B+=1,Ds=Tr=null,u.updateQueue!=null){var L=u.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}P.H=lte,L=h(y,A)}while(Z0);return L}function rte(){var u=P.H,h=u.useState()[0];return h=typeof h.then=="function"?ky(h):h,u=u.useState()[0],(Tr!==null?Tr.memoizedState:null)!==u&&(kn.flags|=1024),h}function F_(){var u=zx!==0;return zx=0,u}function $_(u,h,y){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~y}function H_(u){if(Hx){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Hx=!1}Qd=0,Ds=Tr=kn=null,Z0=!1,Iy=zx=0,X0=null}function Co(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?kn.memoizedState=Ds=u:Ds=Ds.next=u,Ds}function Ms(){if(Tr===null){var u=kn.alternate;u=u!==null?u.memoizedState:null}else u=Tr.next;var h=Ds===null?kn.memoizedState:Ds.next;if(h!==null)Ds=h,Tr=u;else{if(u===null)throw kn.alternate===null?Error(r(467)):Error(r(310));Tr=u,u={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Ds===null?kn.memoizedState=Ds=u:Ds=Ds.next=u}return Ds}function z_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ky(u){var h=Iy;return Iy+=1,X0===null&&(X0=[]),u=I6(X0,u,h),h=kn,(Ds===null?h.memoizedState:Ds.next)===null&&(h=h.alternate,P.H=h===null||h.memoizedState===null?v8:x8),u}function qx(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return ky(u);if(u.$$typeof===C)return $i(u)}throw Error(r(438,String(u)))}function q_(u){var h=null,y=kn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var A=kn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(h={data:A.data.map(function(B){return B.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=z_(),kn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(u),A=0;A<u;A++)y[A]=D;return h.index++,y}function Nu(u,h){return typeof h=="function"?h(u):h}function Vx(u){var h=Ms();return V_(h,Tr,u)}function V_(u,h,y){var A=u.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=y;var B=u.baseQueue,L=A.pending;if(L!==null){if(B!==null){var ee=B.next;B.next=L.next,L.next=ee}h.baseQueue=B=L,A.pending=null}if(L=u.baseState,B===null)u.memoizedState=L;else{h=B.next;var oe=ee=null,be=null,Me=h,Ke=!1;do{var Ye=Me.lane&-536870913;if(Ye!==Me.lane?(Qn&Ye)===Ye:(Qd&Ye)===Ye){var Le=Me.revertLane;if(Le===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ye===Q0&&(Ke=!0);else if((Qd&Le)===Le){Me=Me.next,Le===Q0&&(Ke=!0);continue}else Ye={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(oe=be=Ye,ee=L):be=be.next=Ye,kn.lanes|=Le,nf|=Le;Ye=Me.action,Ph&&y(L,Ye),L=Me.hasEagerState?Me.eagerState:y(L,Ye)}else Le={lane:Ye,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(oe=be=Le,ee=L):be=be.next=Le,kn.lanes|=Ye,nf|=Ye;Me=Me.next}while(Me!==null&&Me!==h);if(be===null?ee=L:be.next=oe,!aa(L,u.memoizedState)&&(ii=!0,Ke&&(y=Y0,y!==null)))throw y;u.memoizedState=L,u.baseState=ee,u.baseQueue=be,A.lastRenderedState=L}return B===null&&(A.lanes=0),[u.memoizedState,A.dispatch]}function G_(u){var h=Ms(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var A=y.dispatch,B=y.pending,L=h.memoizedState;if(B!==null){y.pending=null;var ee=B=B.next;do L=u(L,ee.action),ee=ee.next;while(ee!==B);aa(L,h.memoizedState)||(ii=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),y.lastRenderedState=L}return[L,A]}function F6(u,h,y){var A=kn,B=Ms(),L=yr;if(L){if(y===void 0)throw Error(r(407));y=y()}else y=h();var ee=!aa((Tr||B).memoizedState,y);ee&&(B.memoizedState=y,ii=!0),B=B.queue;var oe=z6.bind(null,A,B,u);if(By(2048,8,oe,[u]),B.getSnapshot!==h||ee||Ds!==null&&Ds.memoizedState.tag&1){if(A.flags|=2048,eg(9,Gx(),H6.bind(null,A,B,y,h),null),qr===null)throw Error(r(349));L||(Qd&124)!==0||$6(A,h,y)}return y}function $6(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=kn.updateQueue,h===null?(h=z_(),kn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function H6(u,h,y,A){h.value=y,h.getSnapshot=A,q6(h)&&V6(u)}function z6(u,h,y){return y(function(){q6(h)&&V6(u)})}function q6(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!aa(u,y)}catch{return!0}}function V6(u){var h=V0(u,2);h!==null&&ha(h,u,2)}function K_(u){var h=Co();if(typeof u=="function"){var y=u;if(u=y(),Ph){re(!0);try{y()}finally{re(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:u},h}function G6(u,h,y,A){return u.baseState=y,V_(u,Tr,typeof A=="function"?A:Nu)}function ste(u,h,y,A,B){if(Wx(u))throw Error(r(485));if(u=h.action,u!==null){var L={payload:B,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){L.listeners.push(ee)}};P.T!==null?y(!0):L.isTransition=!1,A(L),y=h.pending,y===null?(L.next=h.pending=L,K6(h,L)):(L.next=y.next,h.pending=y.next=L)}}function K6(u,h){var y=h.action,A=h.payload,B=u.state;if(h.isTransition){var L=P.T,ee={};P.T=ee;try{var oe=y(B,A),be=P.S;be!==null&&be(ee,oe),W6(u,h,oe)}catch(Me){W_(u,h,Me)}finally{P.T=L}}else try{L=y(B,A),W6(u,h,L)}catch(Me){W_(u,h,Me)}}function W6(u,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(A){Q6(u,h,A)},function(A){return W_(u,h,A)}):Q6(u,h,y)}function Q6(u,h,y){h.status="fulfilled",h.value=y,Y6(h),u.state=y,h=u.pending,h!==null&&(y=h.next,y===h?u.pending=null:(y=y.next,h.next=y,K6(u,y)))}function W_(u,h,y){var A=u.pending;if(u.pending=null,A!==null){A=A.next;do h.status="rejected",h.reason=y,Y6(h),h=h.next;while(h!==A)}u.action=null}function Y6(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function J6(u,h){return h}function Z6(u,h){if(yr){var y=qr.formState;if(y!==null){e:{var A=kn;if(yr){if(ys){t:{for(var B=ys,L=Nl;B.nodeType!==8;){if(!L){B=null;break t}if(B=Ic(B.nextSibling),B===null){B=null;break t}}L=B.data,B=L==="F!"||L==="F"?B:null}if(B){ys=Ic(B.nextSibling),A=B.data==="F!";break e}}_h(A)}A=!1}A&&(h=y[0])}}return y=Co(),y.memoizedState=y.baseState=h,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J6,lastRenderedState:h},y.queue=A,y=y8.bind(null,kn,A),A.dispatch=y,A=K_(!1),L=X_.bind(null,kn,!1,A.queue),A=Co(),B={state:h,dispatch:null,action:u,pending:null},A.queue=B,y=ste.bind(null,kn,B,L,y),B.dispatch=y,A.memoizedState=u,[h,y,!1]}function X6(u){var h=Ms();return e8(h,Tr,u)}function e8(u,h,y){if(h=V_(u,h,J6)[0],u=Vx(Nu)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var A=ky(h)}catch(ee){throw ee===Ny?jx:ee}else A=h;h=Ms();var B=h.queue,L=B.dispatch;return y!==h.memoizedState&&(kn.flags|=2048,eg(9,Gx(),ite.bind(null,B,y),null)),[A,L,u]}function ite(u,h){u.action=h}function t8(u){var h=Ms(),y=Tr;if(y!==null)return e8(h,y,u);Ms(),h=h.memoizedState,y=Ms();var A=y.queue.dispatch;return y.memoizedState=u,[h,A,!1]}function eg(u,h,y,A){return u={tag:u,create:y,deps:A,inst:h,next:null},h=kn.updateQueue,h===null&&(h=z_(),kn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=u.next=u:(A=y.next,y.next=u,u.next=A,h.lastEffect=u),u}function Gx(){return{destroy:void 0,resource:void 0}}function n8(){return Ms().memoizedState}function Kx(u,h,y,A){var B=Co();A=A===void 0?null:A,kn.flags|=u,B.memoizedState=eg(1|h,Gx(),y,A)}function By(u,h,y,A){var B=Ms();A=A===void 0?null:A;var L=B.memoizedState.inst;Tr!==null&&A!==null&&L_(A,Tr.memoizedState.deps)?B.memoizedState=eg(h,L,y,A):(kn.flags|=u,B.memoizedState=eg(1|h,L,y,A))}function r8(u,h){Kx(8390656,8,u,h)}function s8(u,h){By(2048,8,u,h)}function i8(u,h){return By(4,2,u,h)}function o8(u,h){return By(4,4,u,h)}function a8(u,h){if(typeof h=="function"){u=u();var y=h(u);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function c8(u,h,y){y=y!=null?y.concat([u]):null,By(4,4,a8.bind(null,h,u),y)}function Q_(){}function l8(u,h){var y=Ms();h=h===void 0?null:h;var A=y.memoizedState;return h!==null&&L_(h,A[1])?A[0]:(y.memoizedState=[u,h],u)}function u8(u,h){var y=Ms();h=h===void 0?null:h;var A=y.memoizedState;if(h!==null&&L_(h,A[1]))return A[0];if(A=u(),Ph){re(!0);try{u()}finally{re(!1)}}return y.memoizedState=[A,h],A}function Y_(u,h,y){return y===void 0||(Qd&1073741824)!==0?u.memoizedState=h:(u.memoizedState=y,u=h5(),kn.lanes|=u,nf|=u,y)}function d8(u,h,y,A){return aa(y,h)?y:J0.current!==null?(u=Y_(u,y,A),aa(u,h)||(ii=!0),u):(Qd&42)===0?(ii=!0,u.memoizedState=y):(u=h5(),kn.lanes|=u,nf|=u,h)}function f8(u,h,y,A,B){var L=M.p;M.p=L!==0&&8>L?L:8;var ee=P.T,oe={};P.T=oe,X_(u,!1,h,y);try{var be=B(),Me=P.S;if(Me!==null&&Me(oe,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ke=tte(be,A);Dy(u,h,Ke,fa(u))}else Dy(u,h,A,fa(u))}catch(Ye){Dy(u,h,{then:function(){},status:"rejected",reason:Ye},fa())}finally{M.p=L,P.T=ee}}function ote(){}function J_(u,h,y,A){if(u.tag!==5)throw Error(r(476));var B=h8(u).queue;f8(u,B,h,j,y===null?ote:function(){return p8(u),y(A)})}function h8(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:j},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:y},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function p8(u){var h=h8(u).next.queue;Dy(u,h,{},fa())}function Z_(){return $i(Xy)}function g8(){return Ms().memoizedState}function m8(){return Ms().memoizedState}function ate(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var y=fa();u=Kd(y);var A=Wd(h,u,y);A!==null&&(ha(A,h,y),Ry(A,h,y)),h={cache:T_()},u.payload=h;return}h=h.return}}function cte(u,h,y){var A=fa();y={lane:A,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Wx(u)?b8(h,y):(y=b_(u,h,y,A),y!==null&&(ha(y,u,A),w8(y,h,A)))}function y8(u,h,y){var A=fa();Dy(u,h,y,A)}function Dy(u,h,y,A){var B={lane:A,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Wx(u))b8(h,B);else{var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var ee=h.lastRenderedState,oe=L(ee,y);if(B.hasEagerState=!0,B.eagerState=oe,aa(oe,ee))return Ox(u,h,B,0),qr===null&&Px(),!1}catch{}finally{}if(y=b_(u,h,B,A),y!==null)return ha(y,u,A),w8(y,h,A),!0}return!1}function X_(u,h,y,A){if(A={lane:2,revertLane:ON(),action:A,hasEagerState:!1,eagerState:null,next:null},Wx(u)){if(h)throw Error(r(479))}else h=b_(u,y,A,2),h!==null&&ha(h,u,2)}function Wx(u){var h=u.alternate;return u===kn||h!==null&&h===kn}function b8(u,h){Z0=Hx=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function w8(u,h,y){if((y&4194048)!==0){var A=h.lanes;A&=u.pendingLanes,y|=A,h.lanes=y,Qr(u,y)}}var Qx={readContext:$i,use:qx,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useLayoutEffect:Ns,useInsertionEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useSyncExternalStore:Ns,useId:Ns,useHostTransitionStatus:Ns,useFormState:Ns,useActionState:Ns,useOptimistic:Ns,useMemoCache:Ns,useCacheRefresh:Ns},v8={readContext:$i,use:qx,useCallback:function(u,h){return Co().memoizedState=[u,h===void 0?null:h],u},useContext:$i,useEffect:r8,useImperativeHandle:function(u,h,y){y=y!=null?y.concat([u]):null,Kx(4194308,4,a8.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Kx(4194308,4,u,h)},useInsertionEffect:function(u,h){Kx(4,2,u,h)},useMemo:function(u,h){var y=Co();h=h===void 0?null:h;var A=u();if(Ph){re(!0);try{u()}finally{re(!1)}}return y.memoizedState=[A,h],A},useReducer:function(u,h,y){var A=Co();if(y!==void 0){var B=y(h);if(Ph){re(!0);try{y(h)}finally{re(!1)}}}else B=h;return A.memoizedState=A.baseState=B,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:B},A.queue=u,u=u.dispatch=cte.bind(null,kn,u),[A.memoizedState,u]},useRef:function(u){var h=Co();return u={current:u},h.memoizedState=u},useState:function(u){u=K_(u);var h=u.queue,y=y8.bind(null,kn,h);return h.dispatch=y,[u.memoizedState,y]},useDebugValue:Q_,useDeferredValue:function(u,h){var y=Co();return Y_(y,u,h)},useTransition:function(){var u=K_(!1);return u=f8.bind(null,kn,u.queue,!0,!1),Co().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,y){var A=kn,B=Co();if(yr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),qr===null)throw Error(r(349));(Qn&124)!==0||$6(A,h,y)}B.memoizedState=y;var L={value:y,getSnapshot:h};return B.queue=L,r8(z6.bind(null,A,L,u),[u]),A.flags|=2048,eg(9,Gx(),H6.bind(null,A,L,y,h),null),y},useId:function(){var u=Co(),h=qr.identifierPrefix;if(yr){var y=Cu,A=Au;y=(A&~(1<<32-ge(A)-1)).toString(32)+y,h=""+h+"R"+y,y=zx++,0<y&&(h+="H"+y.toString(32)),h+=""}else y=nte++,h=""+h+"r"+y.toString(32)+"";return u.memoizedState=h},useHostTransitionStatus:Z_,useFormState:Z6,useActionState:Z6,useOptimistic:function(u){var h=Co();h.memoizedState=h.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=X_.bind(null,kn,!0,y),y.dispatch=h,[u,h]},useMemoCache:q_,useCacheRefresh:function(){return Co().memoizedState=ate.bind(null,kn)}},x8={readContext:$i,use:qx,useCallback:l8,useContext:$i,useEffect:s8,useImperativeHandle:c8,useInsertionEffect:i8,useLayoutEffect:o8,useMemo:u8,useReducer:Vx,useRef:n8,useState:function(){return Vx(Nu)},useDebugValue:Q_,useDeferredValue:function(u,h){var y=Ms();return d8(y,Tr.memoizedState,u,h)},useTransition:function(){var u=Vx(Nu)[0],h=Ms().memoizedState;return[typeof u=="boolean"?u:ky(u),h]},useSyncExternalStore:F6,useId:g8,useHostTransitionStatus:Z_,useFormState:X6,useActionState:X6,useOptimistic:function(u,h){var y=Ms();return G6(y,Tr,u,h)},useMemoCache:q_,useCacheRefresh:m8},lte={readContext:$i,use:qx,useCallback:l8,useContext:$i,useEffect:s8,useImperativeHandle:c8,useInsertionEffect:i8,useLayoutEffect:o8,useMemo:u8,useReducer:G_,useRef:n8,useState:function(){return G_(Nu)},useDebugValue:Q_,useDeferredValue:function(u,h){var y=Ms();return Tr===null?Y_(y,u,h):d8(y,Tr.memoizedState,u,h)},useTransition:function(){var u=G_(Nu)[0],h=Ms().memoizedState;return[typeof u=="boolean"?u:ky(u),h]},useSyncExternalStore:F6,useId:g8,useHostTransitionStatus:Z_,useFormState:t8,useActionState:t8,useOptimistic:function(u,h){var y=Ms();return Tr!==null?G6(y,Tr,u,h):(y.baseState=u,[u,y.queue.dispatch])},useMemoCache:q_,useCacheRefresh:m8},tg=null,My=0;function Yx(u){var h=My;return My+=1,tg===null&&(tg=[]),I6(tg,u,h)}function Uy(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Jx(u,h){throw h.$$typeof===f?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function E8(u){var h=u._init;return h(u._payload)}function A8(u){function h(Oe,Ae){if(u){var Be=Oe.deletions;Be===null?(Oe.deletions=[Ae],Oe.flags|=16):Be.push(Ae)}}function y(Oe,Ae){if(!u)return null;for(;Ae!==null;)h(Oe,Ae),Ae=Ae.sibling;return null}function A(Oe){for(var Ae=new Map;Oe!==null;)Oe.key!==null?Ae.set(Oe.key,Oe):Ae.set(Oe.index,Oe),Oe=Oe.sibling;return Ae}function B(Oe,Ae){return Oe=Eu(Oe,Ae),Oe.index=0,Oe.sibling=null,Oe}function L(Oe,Ae,Be){return Oe.index=Be,u?(Be=Oe.alternate,Be!==null?(Be=Be.index,Be<Ae?(Oe.flags|=67108866,Ae):Be):(Oe.flags|=67108866,Ae)):(Oe.flags|=1048576,Ae)}function ee(Oe){return u&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function oe(Oe,Ae,Be,Qe){return Ae===null||Ae.tag!==6?(Ae=v_(Be,Oe.mode,Qe),Ae.return=Oe,Ae):(Ae=B(Ae,Be),Ae.return=Oe,Ae)}function be(Oe,Ae,Be,Qe){var Dt=Be.type;return Dt===b?Ke(Oe,Ae,Be.props.children,Qe,Be.key):Ae!==null&&(Ae.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&E8(Dt)===Ae.type)?(Ae=B(Ae,Be.props),Uy(Ae,Be),Ae.return=Oe,Ae):(Ae=kx(Be.type,Be.key,Be.props,null,Oe.mode,Qe),Uy(Ae,Be),Ae.return=Oe,Ae)}function Me(Oe,Ae,Be,Qe){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Be.containerInfo||Ae.stateNode.implementation!==Be.implementation?(Ae=x_(Be,Oe.mode,Qe),Ae.return=Oe,Ae):(Ae=B(Ae,Be.children||[]),Ae.return=Oe,Ae)}function Ke(Oe,Ae,Be,Qe,Dt){return Ae===null||Ae.tag!==7?(Ae=Eh(Be,Oe.mode,Qe,Dt),Ae.return=Oe,Ae):(Ae=B(Ae,Be),Ae.return=Oe,Ae)}function Ye(Oe,Ae,Be){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=v_(""+Ae,Oe.mode,Be),Ae.return=Oe,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case p:return Be=kx(Ae.type,Ae.key,Ae.props,null,Oe.mode,Be),Uy(Be,Ae),Be.return=Oe,Be;case g:return Ae=x_(Ae,Oe.mode,Be),Ae.return=Oe,Ae;case N:var Qe=Ae._init;return Ae=Qe(Ae._payload),Ye(Oe,Ae,Be)}if(I(Ae)||z(Ae))return Ae=Eh(Ae,Oe.mode,Be,null),Ae.return=Oe,Ae;if(typeof Ae.then=="function")return Ye(Oe,Yx(Ae),Be);if(Ae.$$typeof===C)return Ye(Oe,Ux(Oe,Ae),Be);Jx(Oe,Ae)}return null}function Le(Oe,Ae,Be,Qe){var Dt=Ae!==null?Ae.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Dt!==null?null:oe(Oe,Ae,""+Be,Qe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case p:return Be.key===Dt?be(Oe,Ae,Be,Qe):null;case g:return Be.key===Dt?Me(Oe,Ae,Be,Qe):null;case N:return Dt=Be._init,Be=Dt(Be._payload),Le(Oe,Ae,Be,Qe)}if(I(Be)||z(Be))return Dt!==null?null:Ke(Oe,Ae,Be,Qe,null);if(typeof Be.then=="function")return Le(Oe,Ae,Yx(Be),Qe);if(Be.$$typeof===C)return Le(Oe,Ae,Ux(Oe,Be),Qe);Jx(Oe,Be)}return null}function je(Oe,Ae,Be,Qe,Dt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Oe=Oe.get(Be)||null,oe(Ae,Oe,""+Qe,Dt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case p:return Oe=Oe.get(Qe.key===null?Be:Qe.key)||null,be(Ae,Oe,Qe,Dt);case g:return Oe=Oe.get(Qe.key===null?Be:Qe.key)||null,Me(Ae,Oe,Qe,Dt);case N:var jn=Qe._init;return Qe=jn(Qe._payload),je(Oe,Ae,Be,Qe,Dt)}if(I(Qe)||z(Qe))return Oe=Oe.get(Be)||null,Ke(Ae,Oe,Qe,Dt,null);if(typeof Qe.then=="function")return je(Oe,Ae,Be,Yx(Qe),Dt);if(Qe.$$typeof===C)return je(Oe,Ae,Be,Ux(Ae,Qe),Dt);Jx(Ae,Qe)}return null}function hn(Oe,Ae,Be,Qe){for(var Dt=null,jn=null,qt=Ae,nn=Ae=0,ai=null;qt!==null&&nn<Be.length;nn++){qt.index>nn?(ai=qt,qt=null):ai=qt.sibling;var ir=Le(Oe,qt,Be[nn],Qe);if(ir===null){qt===null&&(qt=ai);break}u&&qt&&ir.alternate===null&&h(Oe,qt),Ae=L(ir,Ae,nn),jn===null?Dt=ir:jn.sibling=ir,jn=ir,qt=ai}if(nn===Be.length)return y(Oe,qt),yr&&Ch(Oe,nn),Dt;if(qt===null){for(;nn<Be.length;nn++)qt=Ye(Oe,Be[nn],Qe),qt!==null&&(Ae=L(qt,Ae,nn),jn===null?Dt=qt:jn.sibling=qt,jn=qt);return yr&&Ch(Oe,nn),Dt}for(qt=A(qt);nn<Be.length;nn++)ai=je(qt,Oe,nn,Be[nn],Qe),ai!==null&&(u&&ai.alternate!==null&&qt.delete(ai.key===null?nn:ai.key),Ae=L(ai,Ae,nn),jn===null?Dt=ai:jn.sibling=ai,jn=ai);return u&&qt.forEach(function(ff){return h(Oe,ff)}),yr&&Ch(Oe,nn),Dt}function Zt(Oe,Ae,Be,Qe){if(Be==null)throw Error(r(151));for(var Dt=null,jn=null,qt=Ae,nn=Ae=0,ai=null,ir=Be.next();qt!==null&&!ir.done;nn++,ir=Be.next()){qt.index>nn?(ai=qt,qt=null):ai=qt.sibling;var ff=Le(Oe,qt,ir.value,Qe);if(ff===null){qt===null&&(qt=ai);break}u&&qt&&ff.alternate===null&&h(Oe,qt),Ae=L(ff,Ae,nn),jn===null?Dt=ff:jn.sibling=ff,jn=ff,qt=ai}if(ir.done)return y(Oe,qt),yr&&Ch(Oe,nn),Dt;if(qt===null){for(;!ir.done;nn++,ir=Be.next())ir=Ye(Oe,ir.value,Qe),ir!==null&&(Ae=L(ir,Ae,nn),jn===null?Dt=ir:jn.sibling=ir,jn=ir);return yr&&Ch(Oe,nn),Dt}for(qt=A(qt);!ir.done;nn++,ir=Be.next())ir=je(qt,Oe,nn,ir.value,Qe),ir!==null&&(u&&ir.alternate!==null&&qt.delete(ir.key===null?nn:ir.key),Ae=L(ir,Ae,nn),jn===null?Dt=ir:jn.sibling=ir,jn=ir);return u&&qt.forEach(function(une){return h(Oe,une)}),yr&&Ch(Oe,nn),Dt}function Pr(Oe,Ae,Be,Qe){if(typeof Be=="object"&&Be!==null&&Be.type===b&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case p:e:{for(var Dt=Be.key;Ae!==null;){if(Ae.key===Dt){if(Dt=Be.type,Dt===b){if(Ae.tag===7){y(Oe,Ae.sibling),Qe=B(Ae,Be.props.children),Qe.return=Oe,Oe=Qe;break e}}else if(Ae.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&E8(Dt)===Ae.type){y(Oe,Ae.sibling),Qe=B(Ae,Be.props),Uy(Qe,Be),Qe.return=Oe,Oe=Qe;break e}y(Oe,Ae);break}else h(Oe,Ae);Ae=Ae.sibling}Be.type===b?(Qe=Eh(Be.props.children,Oe.mode,Qe,Be.key),Qe.return=Oe,Oe=Qe):(Qe=kx(Be.type,Be.key,Be.props,null,Oe.mode,Qe),Uy(Qe,Be),Qe.return=Oe,Oe=Qe)}return ee(Oe);case g:e:{for(Dt=Be.key;Ae!==null;){if(Ae.key===Dt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Be.containerInfo&&Ae.stateNode.implementation===Be.implementation){y(Oe,Ae.sibling),Qe=B(Ae,Be.children||[]),Qe.return=Oe,Oe=Qe;break e}else{y(Oe,Ae);break}else h(Oe,Ae);Ae=Ae.sibling}Qe=x_(Be,Oe.mode,Qe),Qe.return=Oe,Oe=Qe}return ee(Oe);case N:return Dt=Be._init,Be=Dt(Be._payload),Pr(Oe,Ae,Be,Qe)}if(I(Be))return hn(Oe,Ae,Be,Qe);if(z(Be)){if(Dt=z(Be),typeof Dt!="function")throw Error(r(150));return Be=Dt.call(Be),Zt(Oe,Ae,Be,Qe)}if(typeof Be.then=="function")return Pr(Oe,Ae,Yx(Be),Qe);if(Be.$$typeof===C)return Pr(Oe,Ae,Ux(Oe,Be),Qe);Jx(Oe,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint"?(Be=""+Be,Ae!==null&&Ae.tag===6?(y(Oe,Ae.sibling),Qe=B(Ae,Be),Qe.return=Oe,Oe=Qe):(y(Oe,Ae),Qe=v_(Be,Oe.mode,Qe),Qe.return=Oe,Oe=Qe),ee(Oe)):y(Oe,Ae)}return function(Oe,Ae,Be,Qe){try{My=0;var Dt=Pr(Oe,Ae,Be,Qe);return tg=null,Dt}catch(qt){if(qt===Ny||qt===jx)throw qt;var jn=ca(29,qt,null,Oe.mode);return jn.lanes=Qe,jn.return=Oe,jn}finally{}}}var ng=A8(!0),C8=A8(!1),rc=H(null),Tl=null;function Yd(u){var h=u.alternate;Z(zs,zs.current&1),Z(rc,u),Tl===null&&(h===null||J0.current!==null||h.memoizedState!==null)&&(Tl=u)}function S8(u){if(u.tag===22){if(Z(zs,zs.current),Z(rc,u),Tl===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Tl=u)}}else Jd()}function Jd(){Z(zs,zs.current),Z(rc,rc.current)}function Tu(u){$(rc),Tl===u&&(Tl=null),$(zs)}var zs=H(0);function Zx(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||zN(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function eN(u,h,y,A){h=u.memoizedState,y=y(A,h),y=y==null?h:d({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var tN={enqueueSetState:function(u,h,y){u=u._reactInternals;var A=fa(),B=Kd(A);B.payload=h,y!=null&&(B.callback=y),h=Wd(u,B,A),h!==null&&(ha(h,u,A),Ry(h,u,A))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var A=fa(),B=Kd(A);B.tag=1,B.payload=h,y!=null&&(B.callback=y),h=Wd(u,B,A),h!==null&&(ha(h,u,A),Ry(h,u,A))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=fa(),A=Kd(y);A.tag=2,h!=null&&(A.callback=h),h=Wd(u,A,y),h!==null&&(ha(h,u,y),Ry(h,u,y))}};function _8(u,h,y,A,B,L,ee){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,L,ee):h.prototype&&h.prototype.isPureReactComponent?!wy(y,A)||!wy(B,L):!0}function N8(u,h,y,A){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,A),h.state!==u&&tN.enqueueReplaceState(h,h.state,null)}function Oh(u,h){var y=h;if("ref"in h){y={};for(var A in h)A!=="ref"&&(y[A]=h[A])}if(u=u.defaultProps){y===h&&(y=d({},y));for(var B in u)y[B]===void 0&&(y[B]=u[B])}return y}var Xx=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function T8(u){Xx(u)}function R8(u){console.error(u)}function P8(u){Xx(u)}function eE(u,h){try{var y=u.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(A){setTimeout(function(){throw A})}}function O8(u,h,y){try{var A=u.onCaughtError;A(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function nN(u,h,y){return y=Kd(y),y.tag=3,y.payload={element:null},y.callback=function(){eE(u,h)},y}function I8(u){return u=Kd(u),u.tag=3,u}function k8(u,h,y,A){var B=y.type.getDerivedStateFromError;if(typeof B=="function"){var L=A.value;u.payload=function(){return B(L)},u.callback=function(){O8(h,y,A)}}var ee=y.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(u.callback=function(){O8(h,y,A),typeof B!="function"&&(rf===null?rf=new Set([this]):rf.add(this));var oe=A.stack;this.componentDidCatch(A.value,{componentStack:oe!==null?oe:""})})}function ute(u,h,y,A,B){if(y.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(h=y.alternate,h!==null&&Cy(h,y,B,!0),y=rc.current,y!==null){switch(y.tag){case 13:return Tl===null?_N():y.alternate===null&&bs===0&&(bs=3),y.flags&=-257,y.flags|=65536,y.lanes=B,A===O_?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([A]):h.add(A),TN(u,A,B)),!1;case 22:return y.flags|=65536,A===O_?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([A])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([A]):y.add(A)),TN(u,A,B)),!1}throw Error(r(435,y.tag))}return TN(u,A,B),_N(),!1}if(yr)return h=rc.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=B,A!==C_&&(u=Error(r(422),{cause:A}),Ay(Xa(u,y)))):(A!==C_&&(h=Error(r(423),{cause:A}),Ay(Xa(h,y))),u=u.current.alternate,u.flags|=65536,B&=-B,u.lanes|=B,A=Xa(A,y),B=nN(u.stateNode,A,B),B_(u,B),bs!==4&&(bs=2)),!1;var L=Error(r(520),{cause:A});if(L=Xa(L,y),qy===null?qy=[L]:qy.push(L),bs!==4&&(bs=2),h===null)return!0;A=Xa(A,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,u=B&-B,y.lanes|=u,u=nN(y.stateNode,A,u),B_(y,u),!1;case 1:if(h=y.type,L=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(rf===null||!rf.has(L))))return y.flags|=65536,B&=-B,y.lanes|=B,B=I8(B),k8(B,u,y,A),B_(y,B),!1}y=y.return}while(y!==null);return!1}var B8=Error(r(461)),ii=!1;function xi(u,h,y,A){h.child=u===null?C8(h,null,y,A):ng(h,u.child,y,A)}function D8(u,h,y,A,B){y=y.render;var L=h.ref;if("ref"in A){var ee={};for(var oe in A)oe!=="ref"&&(ee[oe]=A[oe])}else ee=A;return Th(h),A=j_(u,h,y,ee,L,B),oe=F_(),u!==null&&!ii?($_(u,h,B),Ru(u,h,B)):(yr&&oe&&E_(h),h.flags|=1,xi(u,h,A,B),h.child)}function M8(u,h,y,A,B){if(u===null){var L=y.type;return typeof L=="function"&&!w_(L)&&L.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=L,U8(u,h,L,A,B)):(u=kx(y.type,null,A,h,h.mode,B),u.ref=h.ref,u.return=h,h.child=u)}if(L=u.child,!uN(u,B)){var ee=L.memoizedProps;if(y=y.compare,y=y!==null?y:wy,y(ee,A)&&u.ref===h.ref)return Ru(u,h,B)}return h.flags|=1,u=Eu(L,A),u.ref=h.ref,u.return=h,h.child=u}function U8(u,h,y,A,B){if(u!==null){var L=u.memoizedProps;if(wy(L,A)&&u.ref===h.ref)if(ii=!1,h.pendingProps=A=L,uN(u,B))(u.flags&131072)!==0&&(ii=!0);else return h.lanes=u.lanes,Ru(u,h,B)}return rN(u,h,y,A,B)}function L8(u,h,y){var A=h.pendingProps,B=A.children,L=u!==null?u.memoizedState:null;if(A.mode==="hidden"){if((h.flags&128)!==0){if(A=L!==null?L.baseLanes|y:y,u!==null){for(B=h.child=u.child,L=0;B!==null;)L=L|B.lanes|B.childLanes,B=B.sibling;h.childLanes=L&~A}else h.childLanes=0,h.child=null;return j8(u,h,A,y)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Lx(h,L!==null?L.cachePool:null),L!==null?U6(h,L):M_(),S8(h);else return h.lanes=h.childLanes=536870912,j8(u,h,L!==null?L.baseLanes|y:y,y)}else L!==null?(Lx(h,L.cachePool),U6(h,L),Jd(),h.memoizedState=null):(u!==null&&Lx(h,null),M_(),Jd());return xi(u,h,B,y),h.child}function j8(u,h,y,A){var B=P_();return B=B===null?null:{parent:Hs._currentValue,pool:B},h.memoizedState={baseLanes:y,cachePool:B},u!==null&&Lx(h,null),M_(),S8(h),u!==null&&Cy(u,h,A,!0),null}function tE(u,h){var y=h.ref;if(y===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(u===null||u.ref!==y)&&(h.flags|=4194816)}}function rN(u,h,y,A,B){return Th(h),y=j_(u,h,y,A,void 0,B),A=F_(),u!==null&&!ii?($_(u,h,B),Ru(u,h,B)):(yr&&A&&E_(h),h.flags|=1,xi(u,h,y,B),h.child)}function F8(u,h,y,A,B,L){return Th(h),h.updateQueue=null,y=j6(h,A,y,B),L6(u),A=F_(),u!==null&&!ii?($_(u,h,L),Ru(u,h,L)):(yr&&A&&E_(h),h.flags|=1,xi(u,h,y,L),h.child)}function $8(u,h,y,A,B){if(Th(h),h.stateNode===null){var L=G0,ee=y.contextType;typeof ee=="object"&&ee!==null&&(L=$i(ee)),L=new y(A,L),h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=tN,h.stateNode=L,L._reactInternals=h,L=h.stateNode,L.props=A,L.state=h.memoizedState,L.refs={},I_(h),ee=y.contextType,L.context=typeof ee=="object"&&ee!==null?$i(ee):G0,L.state=h.memoizedState,ee=y.getDerivedStateFromProps,typeof ee=="function"&&(eN(h,y,ee,A),L.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(ee=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),ee!==L.state&&tN.enqueueReplaceState(L,L.state,null),Oy(h,A,L,B),Py(),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308),A=!0}else if(u===null){L=h.stateNode;var oe=h.memoizedProps,be=Oh(y,oe);L.props=be;var Me=L.context,Ke=y.contextType;ee=G0,typeof Ke=="object"&&Ke!==null&&(ee=$i(Ke));var Ye=y.getDerivedStateFromProps;Ke=typeof Ye=="function"||typeof L.getSnapshotBeforeUpdate=="function",oe=h.pendingProps!==oe,Ke||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(oe||Me!==ee)&&N8(h,L,A,ee),Gd=!1;var Le=h.memoizedState;L.state=Le,Oy(h,A,L,B),Py(),Me=h.memoizedState,oe||Le!==Me||Gd?(typeof Ye=="function"&&(eN(h,y,Ye,A),Me=h.memoizedState),(be=Gd||_8(h,y,be,A,Le,Me,ee))?(Ke||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Me),L.props=A,L.state=Me,L.context=ee,A=be):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{L=h.stateNode,k_(u,h),ee=h.memoizedProps,Ke=Oh(y,ee),L.props=Ke,Ye=h.pendingProps,Le=L.context,Me=y.contextType,be=G0,typeof Me=="object"&&Me!==null&&(be=$i(Me)),oe=y.getDerivedStateFromProps,(Me=typeof oe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ee!==Ye||Le!==be)&&N8(h,L,A,be),Gd=!1,Le=h.memoizedState,L.state=Le,Oy(h,A,L,B),Py();var je=h.memoizedState;ee!==Ye||Le!==je||Gd||u!==null&&u.dependencies!==null&&Mx(u.dependencies)?(typeof oe=="function"&&(eN(h,y,oe,A),je=h.memoizedState),(Ke=Gd||_8(h,y,Ke,A,Le,je,be)||u!==null&&u.dependencies!==null&&Mx(u.dependencies))?(Me||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(A,je,be),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(A,je,be)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||ee===u.memoizedProps&&Le===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Le===u.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=je),L.props=A,L.state=je,L.context=be,A=Ke):(typeof L.componentDidUpdate!="function"||ee===u.memoizedProps&&Le===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Le===u.memoizedState||(h.flags|=1024),A=!1)}return L=A,tE(u,h),A=(h.flags&128)!==0,L||A?(L=h.stateNode,y=A&&typeof y.getDerivedStateFromError!="function"?null:L.render(),h.flags|=1,u!==null&&A?(h.child=ng(h,u.child,null,B),h.child=ng(h,null,y,B)):xi(u,h,y,B),h.memoizedState=L.state,u=h.child):u=Ru(u,h,B),u}function H8(u,h,y,A){return Ey(),h.flags|=256,xi(u,h,y,A),h.child}var sN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iN(u){return{baseLanes:u,cachePool:R6()}}function oN(u,h,y){return u=u!==null?u.childLanes&~y:0,h&&(u|=sc),u}function z8(u,h,y){var A=h.pendingProps,B=!1,L=(h.flags&128)!==0,ee;if((ee=L)||(ee=u!==null&&u.memoizedState===null?!1:(zs.current&2)!==0),ee&&(B=!0,h.flags&=-129),ee=(h.flags&32)!==0,h.flags&=-33,u===null){if(yr){if(B?Yd(h):Jd(),yr){var oe=ys,be;if(be=oe){e:{for(be=oe,oe=Nl;be.nodeType!==8;){if(!oe){oe=null;break e}if(be=Ic(be.nextSibling),be===null){oe=null;break e}}oe=be}oe!==null?(h.memoizedState={dehydrated:oe,treeContext:Ah!==null?{id:Au,overflow:Cu}:null,retryLane:536870912,hydrationErrors:null},be=ca(18,null,null,0),be.stateNode=oe,be.return=h,h.child=be,so=h,ys=null,be=!0):be=!1}be||_h(h)}if(oe=h.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return zN(oe)?h.lanes=32:h.lanes=536870912,null;Tu(h)}return oe=A.children,A=A.fallback,B?(Jd(),B=h.mode,oe=nE({mode:"hidden",children:oe},B),A=Eh(A,B,y,null),oe.return=h,A.return=h,oe.sibling=A,h.child=oe,B=h.child,B.memoizedState=iN(y),B.childLanes=oN(u,ee,y),h.memoizedState=sN,A):(Yd(h),aN(h,oe))}if(be=u.memoizedState,be!==null&&(oe=be.dehydrated,oe!==null)){if(L)h.flags&256?(Yd(h),h.flags&=-257,h=cN(u,h,y)):h.memoizedState!==null?(Jd(),h.child=u.child,h.flags|=128,h=null):(Jd(),B=A.fallback,oe=h.mode,A=nE({mode:"visible",children:A.children},oe),B=Eh(B,oe,y,null),B.flags|=2,A.return=h,B.return=h,A.sibling=B,h.child=A,ng(h,u.child,null,y),A=h.child,A.memoizedState=iN(y),A.childLanes=oN(u,ee,y),h.memoizedState=sN,h=B);else if(Yd(h),zN(oe)){if(ee=oe.nextSibling&&oe.nextSibling.dataset,ee)var Me=ee.dgst;ee=Me,A=Error(r(419)),A.stack="",A.digest=ee,Ay({value:A,source:null,stack:null}),h=cN(u,h,y)}else if(ii||Cy(u,h,y,!1),ee=(y&u.childLanes)!==0,ii||ee){if(ee=qr,ee!==null&&(A=y&-y,A=(A&42)!==0?1:ns(A),A=(A&(ee.suspendedLanes|y))!==0?0:A,A!==0&&A!==be.retryLane))throw be.retryLane=A,V0(u,A),ha(ee,u,A),B8;oe.data==="$?"||_N(),h=cN(u,h,y)}else oe.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=be.treeContext,ys=Ic(oe.nextSibling),so=h,yr=!0,Sh=null,Nl=!1,u!==null&&(tc[nc++]=Au,tc[nc++]=Cu,tc[nc++]=Ah,Au=u.id,Cu=u.overflow,Ah=h),h=aN(h,A.children),h.flags|=4096);return h}return B?(Jd(),B=A.fallback,oe=h.mode,be=u.child,Me=be.sibling,A=Eu(be,{mode:"hidden",children:A.children}),A.subtreeFlags=be.subtreeFlags&65011712,Me!==null?B=Eu(Me,B):(B=Eh(B,oe,y,null),B.flags|=2),B.return=h,A.return=h,A.sibling=B,h.child=A,A=B,B=h.child,oe=u.child.memoizedState,oe===null?oe=iN(y):(be=oe.cachePool,be!==null?(Me=Hs._currentValue,be=be.parent!==Me?{parent:Me,pool:Me}:be):be=R6(),oe={baseLanes:oe.baseLanes|y,cachePool:be}),B.memoizedState=oe,B.childLanes=oN(u,ee,y),h.memoizedState=sN,A):(Yd(h),y=u.child,u=y.sibling,y=Eu(y,{mode:"visible",children:A.children}),y.return=h,y.sibling=null,u!==null&&(ee=h.deletions,ee===null?(h.deletions=[u],h.flags|=16):ee.push(u)),h.child=y,h.memoizedState=null,y)}function aN(u,h){return h=nE({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function nE(u,h){return u=ca(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function cN(u,h,y){return ng(h,u.child,null,y),u=aN(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function q8(u,h,y){u.lanes|=h;var A=u.alternate;A!==null&&(A.lanes|=h),__(u.return,h,y)}function lN(u,h,y,A,B){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:B}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=A,L.tail=y,L.tailMode=B)}function V8(u,h,y){var A=h.pendingProps,B=A.revealOrder,L=A.tail;if(xi(u,h,A.children,y),A=zs.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&q8(u,y,h);else if(u.tag===19)q8(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}switch(Z(zs,A),B){case"forwards":for(y=h.child,B=null;y!==null;)u=y.alternate,u!==null&&Zx(u)===null&&(B=y),y=y.sibling;y=B,y===null?(B=h.child,h.child=null):(B=y.sibling,y.sibling=null),lN(h,!1,B,y,L);break;case"backwards":for(y=null,B=h.child,h.child=null;B!==null;){if(u=B.alternate,u!==null&&Zx(u)===null){h.child=B;break}u=B.sibling,B.sibling=y,y=B,B=u}lN(h,!0,y,null,L);break;case"together":lN(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ru(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),nf|=h.lanes,(y&h.childLanes)===0)if(u!==null){if(Cy(u,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=Eu(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Eu(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function uN(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Mx(u)))}function dte(u,h,y){switch(h.tag){case 3:ae(h,h.stateNode.containerInfo),Vd(h,Hs,u.memoizedState.cache),Ey();break;case 27:case 5:fe(h);break;case 4:ae(h,h.stateNode.containerInfo);break;case 10:Vd(h,h.type,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(Yd(h),h.flags|=128,null):(y&h.child.childLanes)!==0?z8(u,h,y):(Yd(h),u=Ru(u,h,y),u!==null?u.sibling:null);Yd(h);break;case 19:var B=(u.flags&128)!==0;if(A=(y&h.childLanes)!==0,A||(Cy(u,h,y,!1),A=(y&h.childLanes)!==0),B){if(A)return V8(u,h,y);h.flags|=128}if(B=h.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Z(zs,zs.current),A)break;return null;case 22:case 23:return h.lanes=0,L8(u,h,y);case 24:Vd(h,Hs,u.memoizedState.cache)}return Ru(u,h,y)}function G8(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps)ii=!0;else{if(!uN(u,y)&&(h.flags&128)===0)return ii=!1,dte(u,h,y);ii=(u.flags&131072)!==0}else ii=!1,yr&&(h.flags&1048576)!==0&&E6(h,Dx,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var A=h.elementType,B=A._init;if(A=B(A._payload),h.type=A,typeof A=="function")w_(A)?(u=Oh(A,u),h.tag=1,h=$8(null,h,A,u,y)):(h.tag=0,h=rN(null,h,A,u,y));else{if(A!=null){if(B=A.$$typeof,B===S){h.tag=11,h=D8(null,h,A,u,y);break e}else if(B===_){h.tag=14,h=M8(null,h,A,u,y);break e}}throw h=q(A)||A,Error(r(306,h,""))}}return h;case 0:return rN(u,h,h.type,h.pendingProps,y);case 1:return A=h.type,B=Oh(A,h.pendingProps),$8(u,h,A,B,y);case 3:e:{if(ae(h,h.stateNode.containerInfo),u===null)throw Error(r(387));A=h.pendingProps;var L=h.memoizedState;B=L.element,k_(u,h),Oy(h,A,null,y);var ee=h.memoizedState;if(A=ee.cache,Vd(h,Hs,A),A!==L.cache&&N_(h,[Hs],y,!0),Py(),A=ee.element,L.isDehydrated)if(L={element:A,isDehydrated:!1,cache:ee.cache},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){h=H8(u,h,A,y);break e}else if(A!==B){B=Xa(Error(r(424)),h),Ay(B),h=H8(u,h,A,y);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(ys=Ic(u.firstChild),so=h,yr=!0,Sh=null,Nl=!0,y=C8(h,null,A,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Ey(),A===B){h=Ru(u,h,y);break e}xi(u,h,A,y)}h=h.child}return h;case 26:return tE(u,h),u===null?(y=Y5(h.type,null,h.pendingProps,null))?h.memoizedState=y:yr||(y=h.type,u=h.pendingProps,A=mE(de.current).createElement(y),A[rr]=h,A[sr]=u,Ai(A,y,u),rs(A),h.stateNode=A):h.memoizedState=Y5(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return fe(h),u===null&&yr&&(A=h.stateNode=K5(h.type,h.pendingProps,de.current),so=h,Nl=!0,B=ys,af(h.type)?(qN=B,ys=Ic(A.firstChild)):ys=B),xi(u,h,h.pendingProps.children,y),tE(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&yr&&((B=A=ys)&&(A=jte(A,h.type,h.pendingProps,Nl),A!==null?(h.stateNode=A,so=h,ys=Ic(A.firstChild),Nl=!1,B=!0):B=!1),B||_h(h)),fe(h),B=h.type,L=h.pendingProps,ee=u!==null?u.memoizedProps:null,A=L.children,FN(B,L)?A=null:ee!==null&&FN(B,ee)&&(h.flags|=32),h.memoizedState!==null&&(B=j_(u,h,rte,null,null,y),Xy._currentValue=B),tE(u,h),xi(u,h,A,y),h.child;case 6:return u===null&&yr&&((u=y=ys)&&(y=Fte(y,h.pendingProps,Nl),y!==null?(h.stateNode=y,so=h,ys=null,u=!0):u=!1),u||_h(h)),null;case 13:return z8(u,h,y);case 4:return ae(h,h.stateNode.containerInfo),A=h.pendingProps,u===null?h.child=ng(h,null,A,y):xi(u,h,A,y),h.child;case 11:return D8(u,h,h.type,h.pendingProps,y);case 7:return xi(u,h,h.pendingProps,y),h.child;case 8:return xi(u,h,h.pendingProps.children,y),h.child;case 12:return xi(u,h,h.pendingProps.children,y),h.child;case 10:return A=h.pendingProps,Vd(h,h.type,A.value),xi(u,h,A.children,y),h.child;case 9:return B=h.type._context,A=h.pendingProps.children,Th(h),B=$i(B),A=A(B),h.flags|=1,xi(u,h,A,y),h.child;case 14:return M8(u,h,h.type,h.pendingProps,y);case 15:return U8(u,h,h.type,h.pendingProps,y);case 19:return V8(u,h,y);case 31:return A=h.pendingProps,y=h.mode,A={mode:A.mode,children:A.children},u===null?(y=nE(A,y),y.ref=h.ref,h.child=y,y.return=h,h=y):(y=Eu(u.child,A),y.ref=h.ref,h.child=y,y.return=h,h=y),h;case 22:return L8(u,h,y);case 24:return Th(h),A=$i(Hs),u===null?(B=P_(),B===null&&(B=qr,L=T_(),B.pooledCache=L,L.refCount++,L!==null&&(B.pooledCacheLanes|=y),B=L),h.memoizedState={parent:A,cache:B},I_(h),Vd(h,Hs,B)):((u.lanes&y)!==0&&(k_(u,h),Oy(h,null,null,y),Py()),B=u.memoizedState,L=h.memoizedState,B.parent!==A?(B={parent:A,cache:A},h.memoizedState=B,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=B),Vd(h,Hs,A)):(A=L.cache,Vd(h,Hs,A),A!==B.cache&&N_(h,[Hs],y,!0))),xi(u,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Pu(u){u.flags|=4}function K8(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!tB(h)){if(h=rc.current,h!==null&&((Qn&4194048)===Qn?Tl!==null:(Qn&62914560)!==Qn&&(Qn&536870912)===0||h!==Tl))throw Ty=O_,P6;u.flags|=8192}}function rE(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Mi():536870912,u.lanes|=h,og|=h)}function Ly(u,h){if(!yr)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function us(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,A=0;if(h)for(var B=u.child;B!==null;)y|=B.lanes|B.childLanes,A|=B.subtreeFlags&65011712,A|=B.flags&65011712,B.return=u,B=B.sibling;else for(B=u.child;B!==null;)y|=B.lanes|B.childLanes,A|=B.subtreeFlags,A|=B.flags,B.return=u,B=B.sibling;return u.subtreeFlags|=A,u.childLanes=y,h}function fte(u,h,y){var A=h.pendingProps;switch(A_(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(h),null;case 1:return us(h),null;case 3:return y=h.stateNode,A=null,u!==null&&(A=u.memoizedState.cache),h.memoizedState.cache!==A&&(h.flags|=2048),_u(Hs),ce(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(xy(h)?Pu(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,S6())),us(h),null;case 26:return y=h.memoizedState,u===null?(Pu(h),y!==null?(us(h),K8(h,y)):(us(h),h.flags&=-16777217)):y?y!==u.memoizedState?(Pu(h),us(h),K8(h,y)):(us(h),h.flags&=-16777217):(u.memoizedProps!==A&&Pu(h),us(h),h.flags&=-16777217),null;case 27:ve(h),y=de.current;var B=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==A&&Pu(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return us(h),null}u=X.current,xy(h)?A6(h):(u=K5(B,A,y),h.stateNode=u,Pu(h))}return us(h),null;case 5:if(ve(h),y=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==A&&Pu(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return us(h),null}if(u=X.current,xy(h))A6(h);else{switch(B=mE(de.current),u){case 1:u=B.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:u=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":u=B.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":u=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":u=B.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof A.is=="string"?B.createElement("select",{is:A.is}):B.createElement("select"),A.multiple?u.multiple=!0:A.size&&(u.size=A.size);break;default:u=typeof A.is=="string"?B.createElement(y,{is:A.is}):B.createElement(y)}}u[rr]=h,u[sr]=A;e:for(B=h.child;B!==null;){if(B.tag===5||B.tag===6)u.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===h)break e;for(;B.sibling===null;){if(B.return===null||B.return===h)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}h.stateNode=u;e:switch(Ai(u,y,A),y){case"button":case"input":case"select":case"textarea":u=!!A.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pu(h)}}return us(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==A&&Pu(h);else{if(typeof A!="string"&&h.stateNode===null)throw Error(r(166));if(u=de.current,xy(h)){if(u=h.stateNode,y=h.memoizedProps,A=null,B=so,B!==null)switch(B.tag){case 27:case 5:A=B.memoizedProps}u[rr]=h,u=!!(u.nodeValue===y||A!==null&&A.suppressHydrationWarning===!0||F5(u.nodeValue,y)),u||_h(h)}else u=mE(u).createTextNode(A),u[rr]=h,h.stateNode=u}return us(h),null;case 13:if(A=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(B=xy(h),A!==null&&A.dehydrated!==null){if(u===null){if(!B)throw Error(r(318));if(B=h.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));B[rr]=h}else Ey(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;us(h),B=!1}else B=S6(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=B),B=!0;if(!B)return h.flags&256?(Tu(h),h):(Tu(h),null)}if(Tu(h),(h.flags&128)!==0)return h.lanes=y,h;if(y=A!==null,u=u!==null&&u.memoizedState!==null,y){A=h.child,B=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(B=A.alternate.memoizedState.cachePool.pool);var L=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(L=A.memoizedState.cachePool.pool),L!==B&&(A.flags|=2048)}return y!==u&&y&&(h.child.flags|=8192),rE(h,h.updateQueue),us(h),null;case 4:return ce(),u===null&&DN(h.stateNode.containerInfo),us(h),null;case 10:return _u(h.type),us(h),null;case 19:if($(zs),B=h.memoizedState,B===null)return us(h),null;if(A=(h.flags&128)!==0,L=B.rendering,L===null)if(A)Ly(B,!1);else{if(bs!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(L=Zx(u),L!==null){for(h.flags|=128,Ly(B,!1),u=L.updateQueue,h.updateQueue=u,rE(h,u),h.subtreeFlags=0,u=y,y=h.child;y!==null;)x6(y,u),y=y.sibling;return Z(zs,zs.current&1|2),h.child}u=u.sibling}B.tail!==null&&V()>oE&&(h.flags|=128,A=!0,Ly(B,!1),h.lanes=4194304)}else{if(!A)if(u=Zx(L),u!==null){if(h.flags|=128,A=!0,u=u.updateQueue,h.updateQueue=u,rE(h,u),Ly(B,!0),B.tail===null&&B.tailMode==="hidden"&&!L.alternate&&!yr)return us(h),null}else 2*V()-B.renderingStartTime>oE&&y!==536870912&&(h.flags|=128,A=!0,Ly(B,!1),h.lanes=4194304);B.isBackwards?(L.sibling=h.child,h.child=L):(u=B.last,u!==null?u.sibling=L:h.child=L,B.last=L)}return B.tail!==null?(h=B.tail,B.rendering=h,B.tail=h.sibling,B.renderingStartTime=V(),h.sibling=null,u=zs.current,Z(zs,A?u&1|2:u&1),h):(us(h),null);case 22:case 23:return Tu(h),U_(),A=h.memoizedState!==null,u!==null?u.memoizedState!==null!==A&&(h.flags|=8192):A&&(h.flags|=8192),A?(y&536870912)!==0&&(h.flags&128)===0&&(us(h),h.subtreeFlags&6&&(h.flags|=8192)):us(h),y=h.updateQueue,y!==null&&rE(h,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==y&&(h.flags|=2048),u!==null&&$(Rh),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),_u(Hs),us(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function hte(u,h){switch(A_(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return _u(Hs),ce(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return ve(h),null;case 13:if(Tu(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Ey()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return $(zs),null;case 4:return ce(),null;case 10:return _u(h.type),null;case 22:case 23:return Tu(h),U_(),u!==null&&$(Rh),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return _u(Hs),null;case 25:return null;default:return null}}function W8(u,h){switch(A_(h),h.tag){case 3:_u(Hs),ce();break;case 26:case 27:case 5:ve(h);break;case 4:ce();break;case 13:Tu(h);break;case 19:$(zs);break;case 10:_u(h.type);break;case 22:case 23:Tu(h),U_(),u!==null&&$(Rh);break;case 24:_u(Hs)}}function jy(u,h){try{var y=h.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var B=A.next;y=B;do{if((y.tag&u)===u){A=void 0;var L=y.create,ee=y.inst;A=L(),ee.destroy=A}y=y.next}while(y!==B)}}catch(oe){Dr(h,h.return,oe)}}function Zd(u,h,y){try{var A=h.updateQueue,B=A!==null?A.lastEffect:null;if(B!==null){var L=B.next;A=L;do{if((A.tag&u)===u){var ee=A.inst,oe=ee.destroy;if(oe!==void 0){ee.destroy=void 0,B=h;var be=y,Me=oe;try{Me()}catch(Ke){Dr(B,be,Ke)}}}A=A.next}while(A!==L)}}catch(Ke){Dr(h,h.return,Ke)}}function Q8(u){var h=u.updateQueue;if(h!==null){var y=u.stateNode;try{M6(h,y)}catch(A){Dr(u,u.return,A)}}}function Y8(u,h,y){y.props=Oh(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(A){Dr(u,h,A)}}function Fy(u,h){try{var y=u.ref;if(y!==null){switch(u.tag){case 26:case 27:case 5:var A=u.stateNode;break;case 30:A=u.stateNode;break;default:A=u.stateNode}typeof y=="function"?u.refCleanup=y(A):y.current=A}}catch(B){Dr(u,h,B)}}function Rl(u,h){var y=u.ref,A=u.refCleanup;if(y!==null)if(typeof A=="function")try{A()}catch(B){Dr(u,h,B)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(B){Dr(u,h,B)}else y.current=null}function J8(u){var h=u.type,y=u.memoizedProps,A=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&A.focus();break e;case"img":y.src?A.src=y.src:y.srcSet&&(A.srcset=y.srcSet)}}catch(B){Dr(u,u.return,B)}}function dN(u,h,y){try{var A=u.stateNode;Bte(A,u.type,y,h),A[sr]=h}catch(B){Dr(u,u.return,B)}}function Z8(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&af(u.type)||u.tag===4}function fN(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Z8(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&af(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function hN(u,h,y){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(u,h):(h=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,h.appendChild(u),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=gE));else if(A!==4&&(A===27&&af(u.type)&&(y=u.stateNode,h=null),u=u.child,u!==null))for(hN(u,h,y),u=u.sibling;u!==null;)hN(u,h,y),u=u.sibling}function sE(u,h,y){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(A!==4&&(A===27&&af(u.type)&&(y=u.stateNode),u=u.child,u!==null))for(sE(u,h,y),u=u.sibling;u!==null;)sE(u,h,y),u=u.sibling}function X8(u){var h=u.stateNode,y=u.memoizedProps;try{for(var A=u.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Ai(h,A,y),h[rr]=u,h[sr]=y}catch(L){Dr(u,u.return,L)}}var Ou=!1,Ts=!1,pN=!1,e5=typeof WeakSet=="function"?WeakSet:Set,oi=null;function pte(u,h){if(u=u.containerInfo,LN=EE,u=d6(u),f_(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var B=A.anchorOffset,L=A.focusNode;A=A.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break e}var ee=0,oe=-1,be=-1,Me=0,Ke=0,Ye=u,Le=null;t:for(;;){for(var je;Ye!==y||B!==0&&Ye.nodeType!==3||(oe=ee+B),Ye!==L||A!==0&&Ye.nodeType!==3||(be=ee+A),Ye.nodeType===3&&(ee+=Ye.nodeValue.length),(je=Ye.firstChild)!==null;)Le=Ye,Ye=je;for(;;){if(Ye===u)break t;if(Le===y&&++Me===B&&(oe=ee),Le===L&&++Ke===A&&(be=ee),(je=Ye.nextSibling)!==null)break;Ye=Le,Le=Ye.parentNode}Ye=je}y=oe===-1||be===-1?null:{start:oe,end:be}}else y=null}y=y||{start:0,end:0}}else y=null;for(jN={focusedElem:u,selectionRange:y},EE=!1,oi=h;oi!==null;)if(h=oi,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,oi=u;else for(;oi!==null;){switch(h=oi,L=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&L!==null){u=void 0,y=h,B=L.memoizedProps,L=L.memoizedState,A=y.stateNode;try{var hn=Oh(y.type,B,y.elementType===y.type);u=A.getSnapshotBeforeUpdate(hn,L),A.__reactInternalSnapshotBeforeUpdate=u}catch(Zt){Dr(y,y.return,Zt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,y=u.nodeType,y===9)HN(u);else if(y===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":HN(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,oi=u;break}oi=h.return}}function t5(u,h,y){var A=y.flags;switch(y.tag){case 0:case 11:case 15:Xd(u,y),A&4&&jy(5,y);break;case 1:if(Xd(u,y),A&4)if(u=y.stateNode,h===null)try{u.componentDidMount()}catch(ee){Dr(y,y.return,ee)}else{var B=Oh(y.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(B,h,u.__reactInternalSnapshotBeforeUpdate)}catch(ee){Dr(y,y.return,ee)}}A&64&&Q8(y),A&512&&Fy(y,y.return);break;case 3:if(Xd(u,y),A&64&&(u=y.updateQueue,u!==null)){if(h=null,y.child!==null)switch(y.child.tag){case 27:case 5:h=y.child.stateNode;break;case 1:h=y.child.stateNode}try{M6(u,h)}catch(ee){Dr(y,y.return,ee)}}break;case 27:h===null&&A&4&&X8(y);case 26:case 5:Xd(u,y),h===null&&A&4&&J8(y),A&512&&Fy(y,y.return);break;case 12:Xd(u,y);break;case 13:Xd(u,y),A&4&&s5(u,y),A&64&&(u=y.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(y=Ate.bind(null,y),$te(u,y))));break;case 22:if(A=y.memoizedState!==null||Ou,!A){h=h!==null&&h.memoizedState!==null||Ts,B=Ou;var L=Ts;Ou=A,(Ts=h)&&!L?ef(u,y,(y.subtreeFlags&8772)!==0):Xd(u,y),Ou=B,Ts=L}break;case 30:break;default:Xd(u,y)}}function n5(u){var h=u.alternate;h!==null&&(u.alternate=null,n5(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Jr(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var is=null,So=!1;function Iu(u,h,y){for(y=y.child;y!==null;)r5(u,h,y),y=y.sibling}function r5(u,h,y){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Ce,y)}catch{}switch(y.tag){case 26:Ts||Rl(y,h),Iu(u,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Ts||Rl(y,h);var A=is,B=So;af(y.type)&&(is=y.stateNode,So=!1),Iu(u,h,y),Qy(y.stateNode),is=A,So=B;break;case 5:Ts||Rl(y,h);case 6:if(A=is,B=So,is=null,Iu(u,h,y),is=A,So=B,is!==null)if(So)try{(is.nodeType===9?is.body:is.nodeName==="HTML"?is.ownerDocument.body:is).removeChild(y.stateNode)}catch(L){Dr(y,h,L)}else try{is.removeChild(y.stateNode)}catch(L){Dr(y,h,L)}break;case 18:is!==null&&(So?(u=is,V5(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,y.stateNode),rb(u)):V5(is,y.stateNode));break;case 4:A=is,B=So,is=y.stateNode.containerInfo,So=!0,Iu(u,h,y),is=A,So=B;break;case 0:case 11:case 14:case 15:Ts||Zd(2,y,h),Ts||Zd(4,y,h),Iu(u,h,y);break;case 1:Ts||(Rl(y,h),A=y.stateNode,typeof A.componentWillUnmount=="function"&&Y8(y,h,A)),Iu(u,h,y);break;case 21:Iu(u,h,y);break;case 22:Ts=(A=Ts)||y.memoizedState!==null,Iu(u,h,y),Ts=A;break;default:Iu(u,h,y)}}function s5(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{rb(u)}catch(y){Dr(h,h.return,y)}}function gte(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new e5),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new e5),h;default:throw Error(r(435,u.tag))}}function gN(u,h){var y=gte(u);h.forEach(function(A){var B=Cte.bind(null,u,A);y.has(A)||(y.add(A),A.then(B,B))})}function la(u,h){var y=h.deletions;if(y!==null)for(var A=0;A<y.length;A++){var B=y[A],L=u,ee=h,oe=ee;e:for(;oe!==null;){switch(oe.tag){case 27:if(af(oe.type)){is=oe.stateNode,So=!1;break e}break;case 5:is=oe.stateNode,So=!1;break e;case 3:case 4:is=oe.stateNode.containerInfo,So=!0;break e}oe=oe.return}if(is===null)throw Error(r(160));r5(L,ee,B),is=null,So=!1,L=B.alternate,L!==null&&(L.return=null),B.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)i5(h,u),h=h.sibling}var Oc=null;function i5(u,h){var y=u.alternate,A=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:la(h,u),ua(u),A&4&&(Zd(3,u,u.return),jy(3,u),Zd(5,u,u.return));break;case 1:la(h,u),ua(u),A&512&&(Ts||y===null||Rl(y,y.return)),A&64&&Ou&&(u=u.updateQueue,u!==null&&(A=u.callbacks,A!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?A:y.concat(A))));break;case 26:var B=Oc;if(la(h,u),ua(u),A&512&&(Ts||y===null||Rl(y,y.return)),A&4){var L=y!==null?y.memoizedState:null;if(A=u.memoizedState,y===null)if(A===null)if(u.stateNode===null){e:{A=u.type,y=u.memoizedProps,B=B.ownerDocument||B;t:switch(A){case"title":L=B.getElementsByTagName("title")[0],(!L||L[ra]||L[rr]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=B.createElement(A),B.head.insertBefore(L,B.querySelector("head > title"))),Ai(L,A,y),L[rr]=u,rs(L),A=L;break e;case"link":var ee=X5("link","href",B).get(A+(y.href||""));if(ee){for(var oe=0;oe<ee.length;oe++)if(L=ee[oe],L.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&L.getAttribute("rel")===(y.rel==null?null:y.rel)&&L.getAttribute("title")===(y.title==null?null:y.title)&&L.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){ee.splice(oe,1);break t}}L=B.createElement(A),Ai(L,A,y),B.head.appendChild(L);break;case"meta":if(ee=X5("meta","content",B).get(A+(y.content||""))){for(oe=0;oe<ee.length;oe++)if(L=ee[oe],L.getAttribute("content")===(y.content==null?null:""+y.content)&&L.getAttribute("name")===(y.name==null?null:y.name)&&L.getAttribute("property")===(y.property==null?null:y.property)&&L.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&L.getAttribute("charset")===(y.charSet==null?null:y.charSet)){ee.splice(oe,1);break t}}L=B.createElement(A),Ai(L,A,y),B.head.appendChild(L);break;default:throw Error(r(468,A))}L[rr]=u,rs(L),A=L}u.stateNode=A}else eB(B,u.type,u.stateNode);else u.stateNode=Z5(B,A,u.memoizedProps);else L!==A?(L===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):L.count--,A===null?eB(B,u.type,u.stateNode):Z5(B,A,u.memoizedProps)):A===null&&u.stateNode!==null&&dN(u,u.memoizedProps,y.memoizedProps)}break;case 27:la(h,u),ua(u),A&512&&(Ts||y===null||Rl(y,y.return)),y!==null&&A&4&&dN(u,u.memoizedProps,y.memoizedProps);break;case 5:if(la(h,u),ua(u),A&512&&(Ts||y===null||Rl(y,y.return)),u.flags&32){B=u.stateNode;try{_l(B,"")}catch(je){Dr(u,u.return,je)}}A&4&&u.stateNode!=null&&(B=u.memoizedProps,dN(u,B,y!==null?y.memoizedProps:B)),A&1024&&(pN=!0);break;case 6:if(la(h,u),ua(u),A&4){if(u.stateNode===null)throw Error(r(162));A=u.memoizedProps,y=u.stateNode;try{y.nodeValue=A}catch(je){Dr(u,u.return,je)}}break;case 3:if(wE=null,B=Oc,Oc=yE(h.containerInfo),la(h,u),Oc=B,ua(u),A&4&&y!==null&&y.memoizedState.isDehydrated)try{rb(h.containerInfo)}catch(je){Dr(u,u.return,je)}pN&&(pN=!1,o5(u));break;case 4:A=Oc,Oc=yE(u.stateNode.containerInfo),la(h,u),ua(u),Oc=A;break;case 12:la(h,u),ua(u);break;case 13:la(h,u),ua(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(xN=V()),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,gN(u,A)));break;case 22:B=u.memoizedState!==null;var be=y!==null&&y.memoizedState!==null,Me=Ou,Ke=Ts;if(Ou=Me||B,Ts=Ke||be,la(h,u),Ts=Ke,Ou=Me,ua(u),A&8192)e:for(h=u.stateNode,h._visibility=B?h._visibility&-2:h._visibility|1,B&&(y===null||be||Ou||Ts||Ih(u)),y=null,h=u;;){if(h.tag===5||h.tag===26){if(y===null){be=y=h;try{if(L=be.stateNode,B)ee=L.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{oe=be.stateNode;var Ye=be.memoizedProps.style,Le=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;oe.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(je){Dr(be,be.return,je)}}}else if(h.tag===6){if(y===null){be=h;try{be.stateNode.nodeValue=B?"":be.memoizedProps}catch(je){Dr(be,be.return,je)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}A&4&&(A=u.updateQueue,A!==null&&(y=A.retryQueue,y!==null&&(A.retryQueue=null,gN(u,y))));break;case 19:la(h,u),ua(u),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,gN(u,A)));break;case 30:break;case 21:break;default:la(h,u),ua(u)}}function ua(u){var h=u.flags;if(h&2){try{for(var y,A=u.return;A!==null;){if(Z8(A)){y=A;break}A=A.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var B=y.stateNode,L=fN(u);sE(u,L,B);break;case 5:var ee=y.stateNode;y.flags&32&&(_l(ee,""),y.flags&=-33);var oe=fN(u);sE(u,oe,ee);break;case 3:case 4:var be=y.stateNode.containerInfo,Me=fN(u);hN(u,Me,be);break;default:throw Error(r(161))}}catch(Ke){Dr(u,u.return,Ke)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function o5(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;o5(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function Xd(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)t5(u,h.alternate,h),h=h.sibling}function Ih(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Zd(4,h,h.return),Ih(h);break;case 1:Rl(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Y8(h,h.return,y),Ih(h);break;case 27:Qy(h.stateNode);case 26:case 5:Rl(h,h.return),Ih(h);break;case 22:h.memoizedState===null&&Ih(h);break;case 30:Ih(h);break;default:Ih(h)}u=u.sibling}}function ef(u,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var A=h.alternate,B=u,L=h,ee=L.flags;switch(L.tag){case 0:case 11:case 15:ef(B,L,y),jy(4,L);break;case 1:if(ef(B,L,y),A=L,B=A.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Me){Dr(A,A.return,Me)}if(A=L,B=A.updateQueue,B!==null){var oe=A.stateNode;try{var be=B.shared.hiddenCallbacks;if(be!==null)for(B.shared.hiddenCallbacks=null,B=0;B<be.length;B++)D6(be[B],oe)}catch(Me){Dr(A,A.return,Me)}}y&&ee&64&&Q8(L),Fy(L,L.return);break;case 27:X8(L);case 26:case 5:ef(B,L,y),y&&A===null&&ee&4&&J8(L),Fy(L,L.return);break;case 12:ef(B,L,y);break;case 13:ef(B,L,y),y&&ee&4&&s5(B,L);break;case 22:L.memoizedState===null&&ef(B,L,y),Fy(L,L.return);break;case 30:break;default:ef(B,L,y)}h=h.sibling}}function mN(u,h){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Sy(y))}function yN(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Sy(u))}function Pl(u,h,y,A){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)a5(u,h,y,A),h=h.sibling}function a5(u,h,y,A){var B=h.flags;switch(h.tag){case 0:case 11:case 15:Pl(u,h,y,A),B&2048&&jy(9,h);break;case 1:Pl(u,h,y,A);break;case 3:Pl(u,h,y,A),B&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Sy(u)));break;case 12:if(B&2048){Pl(u,h,y,A),u=h.stateNode;try{var L=h.memoizedProps,ee=L.id,oe=L.onPostCommit;typeof oe=="function"&&oe(ee,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(be){Dr(h,h.return,be)}}else Pl(u,h,y,A);break;case 13:Pl(u,h,y,A);break;case 23:break;case 22:L=h.stateNode,ee=h.alternate,h.memoizedState!==null?L._visibility&2?Pl(u,h,y,A):$y(u,h):L._visibility&2?Pl(u,h,y,A):(L._visibility|=2,rg(u,h,y,A,(h.subtreeFlags&10256)!==0)),B&2048&&mN(ee,h);break;case 24:Pl(u,h,y,A),B&2048&&yN(h.alternate,h);break;default:Pl(u,h,y,A)}}function rg(u,h,y,A,B){for(B=B&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var L=u,ee=h,oe=y,be=A,Me=ee.flags;switch(ee.tag){case 0:case 11:case 15:rg(L,ee,oe,be,B),jy(8,ee);break;case 23:break;case 22:var Ke=ee.stateNode;ee.memoizedState!==null?Ke._visibility&2?rg(L,ee,oe,be,B):$y(L,ee):(Ke._visibility|=2,rg(L,ee,oe,be,B)),B&&Me&2048&&mN(ee.alternate,ee);break;case 24:rg(L,ee,oe,be,B),B&&Me&2048&&yN(ee.alternate,ee);break;default:rg(L,ee,oe,be,B)}h=h.sibling}}function $y(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=u,A=h,B=A.flags;switch(A.tag){case 22:$y(y,A),B&2048&&mN(A.alternate,A);break;case 24:$y(y,A),B&2048&&yN(A.alternate,A);break;default:$y(y,A)}h=h.sibling}}var Hy=8192;function sg(u){if(u.subtreeFlags&Hy)for(u=u.child;u!==null;)c5(u),u=u.sibling}function c5(u){switch(u.tag){case 26:sg(u),u.flags&Hy&&u.memoizedState!==null&&ene(Oc,u.memoizedState,u.memoizedProps);break;case 5:sg(u);break;case 3:case 4:var h=Oc;Oc=yE(u.stateNode.containerInfo),sg(u),Oc=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=Hy,Hy=16777216,sg(u),Hy=h):sg(u));break;default:sg(u)}}function l5(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function zy(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var A=h[y];oi=A,d5(A,u)}l5(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)u5(u),u=u.sibling}function u5(u){switch(u.tag){case 0:case 11:case 15:zy(u),u.flags&2048&&Zd(9,u,u.return);break;case 3:zy(u);break;case 12:zy(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,iE(u)):zy(u);break;default:zy(u)}}function iE(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var A=h[y];oi=A,d5(A,u)}l5(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Zd(8,h,h.return),iE(h);break;case 22:y=h.stateNode,y._visibility&2&&(y._visibility&=-3,iE(h));break;default:iE(h)}u=u.sibling}}function d5(u,h){for(;oi!==null;){var y=oi;switch(y.tag){case 0:case 11:case 15:Zd(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var A=y.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:Sy(y.memoizedState.cache)}if(A=y.child,A!==null)A.return=y,oi=A;else e:for(y=u;oi!==null;){A=oi;var B=A.sibling,L=A.return;if(n5(A),A===y){oi=null;break e}if(B!==null){B.return=L,oi=B;break e}oi=L}}}var mte={getCacheForType:function(u){var h=$i(Hs),y=h.data.get(u);return y===void 0&&(y=u(),h.data.set(u,y)),y}},yte=typeof WeakMap=="function"?WeakMap:Map,Ar=0,qr=null,$n=null,Qn=0,Cr=0,da=null,tf=!1,ig=!1,bN=!1,ku=0,bs=0,nf=0,kh=0,wN=0,sc=0,og=0,qy=null,_o=null,vN=!1,xN=0,oE=1/0,aE=null,rf=null,Ei=0,sf=null,ag=null,cg=0,EN=0,AN=null,f5=null,Vy=0,CN=null;function fa(){if((Ar&2)!==0&&Qn!==0)return Qn&-Qn;if(P.T!==null){var u=Q0;return u!==0?u:ON()}return to()}function h5(){sc===0&&(sc=(Qn&536870912)===0||yr?ms():536870912);var u=rc.current;return u!==null&&(u.flags|=32),sc}function ha(u,h,y){(u===qr&&(Cr===2||Cr===9)||u.cancelPendingCommit!==null)&&(lg(u,0),of(u,Qn,sc,!1)),na(u,y),((Ar&2)===0||u!==qr)&&(u===qr&&((Ar&2)===0&&(kh|=y),bs===4&&of(u,Qn,sc,!1)),Ol(u))}function p5(u,h,y){if((Ar&6)!==0)throw Error(r(327));var A=!y&&(h&124)===0&&(h&u.expiredLanes)===0||Yn(u,h),B=A?vte(u,h):NN(u,h,!0),L=A;do{if(B===0){ig&&!A&&of(u,h,0,!1);break}else{if(y=u.current.alternate,L&&!bte(y)){B=NN(u,h,!1),L=!1;continue}if(B===2){if(L=h,u.errorRecoveryDisabledLanes&L)var ee=0;else ee=u.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){h=ee;e:{var oe=u;B=qy;var be=oe.current.memoizedState.isDehydrated;if(be&&(lg(oe,ee).flags|=256),ee=NN(oe,ee,!1),ee!==2){if(bN&&!be){oe.errorRecoveryDisabledLanes|=L,kh|=L,B=4;break e}L=_o,_o=B,L!==null&&(_o===null?_o=L:_o.push.apply(_o,L))}B=ee}if(L=!1,B!==2)continue}}if(B===1){lg(u,0),of(u,h,0,!0);break}e:{switch(A=u,L=B,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:of(A,h,sc,!tf);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(B=xN+300-V(),10<B)){if(of(A,h,sc,!tf),Jt(A,0,!0)!==0)break e;A.timeoutHandle=z5(g5.bind(null,A,y,_o,aE,vN,h,sc,kh,og,tf,L,2,-0,0),B);break e}g5(A,y,_o,aE,vN,h,sc,kh,og,tf,L,0,-0,0)}}break}while(!0);Ol(u)}function g5(u,h,y,A,B,L,ee,oe,be,Me,Ke,Ye,Le,je){if(u.timeoutHandle=-1,Ye=h.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Zy={stylesheets:null,count:0,unsuspend:Xte},c5(h),Ye=tne(),Ye!==null)){u.cancelPendingCommit=Ye(E5.bind(null,u,h,L,y,A,B,ee,oe,be,Ke,1,Le,je)),of(u,L,ee,!Me);return}E5(u,h,L,y,A,B,ee,oe,be)}function bte(u){for(var h=u;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var A=0;A<y.length;A++){var B=y[A],L=B.getSnapshot;B=B.value;try{if(!aa(L(),B))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function of(u,h,y,A){h&=~wN,h&=~kh,u.suspendedLanes|=h,u.pingedLanes&=~h,A&&(u.warmLanes|=h),A=u.expirationTimes;for(var B=h;0<B;){var L=31-ge(B),ee=1<<L;A[L]=-1,B&=~ee}y!==0&&Ge(u,y,h)}function cE(){return(Ar&6)===0?(Gy(0),!1):!0}function SN(){if($n!==null){if(Cr===0)var u=$n.return;else u=$n,Su=Nh=null,H_(u),tg=null,My=0,u=$n;for(;u!==null;)W8(u.alternate,u),u=u.return;$n=null}}function lg(u,h){var y=u.timeoutHandle;y!==-1&&(u.timeoutHandle=-1,Mte(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),SN(),qr=u,$n=y=Eu(u.current,null),Qn=h,Cr=0,da=null,tf=!1,ig=Yn(u,h),bN=!1,og=sc=wN=kh=nf=bs=0,_o=qy=null,vN=!1,(h&8)!==0&&(h|=h&32);var A=u.entangledLanes;if(A!==0)for(u=u.entanglements,A&=h;0<A;){var B=31-ge(A),L=1<<B;h|=u[B],A&=~L}return ku=h,Px(),y}function m5(u,h){kn=null,P.H=Qx,h===Ny||h===jx?(h=k6(),Cr=3):h===P6?(h=k6(),Cr=4):Cr=h===B8?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,da=h,$n===null&&(bs=1,eE(u,Xa(h,u.current)))}function y5(){var u=P.H;return P.H=Qx,u===null?Qx:u}function b5(){var u=P.A;return P.A=mte,u}function _N(){bs=4,tf||(Qn&4194048)!==Qn&&rc.current!==null||(ig=!0),(nf&134217727)===0&&(kh&134217727)===0||qr===null||of(qr,Qn,sc,!1)}function NN(u,h,y){var A=Ar;Ar|=2;var B=y5(),L=b5();(qr!==u||Qn!==h)&&(aE=null,lg(u,h)),h=!1;var ee=bs;e:do try{if(Cr!==0&&$n!==null){var oe=$n,be=da;switch(Cr){case 8:SN(),ee=6;break e;case 3:case 2:case 9:case 6:rc.current===null&&(h=!0);var Me=Cr;if(Cr=0,da=null,ug(u,oe,be,Me),y&&ig){ee=0;break e}break;default:Me=Cr,Cr=0,da=null,ug(u,oe,be,Me)}}wte(),ee=bs;break}catch(Ke){m5(u,Ke)}while(!0);return h&&u.shellSuspendCounter++,Su=Nh=null,Ar=A,P.H=B,P.A=L,$n===null&&(qr=null,Qn=0,Px()),ee}function wte(){for(;$n!==null;)w5($n)}function vte(u,h){var y=Ar;Ar|=2;var A=y5(),B=b5();qr!==u||Qn!==h?(aE=null,oE=V()+500,lg(u,h)):ig=Yn(u,h);e:do try{if(Cr!==0&&$n!==null){h=$n;var L=da;t:switch(Cr){case 1:Cr=0,da=null,ug(u,h,L,1);break;case 2:case 9:if(O6(L)){Cr=0,da=null,v5(h);break}h=function(){Cr!==2&&Cr!==9||qr!==u||(Cr=7),Ol(u)},L.then(h,h);break e;case 3:Cr=7;break e;case 4:Cr=5;break e;case 7:O6(L)?(Cr=0,da=null,v5(h)):(Cr=0,da=null,ug(u,h,L,7));break;case 5:var ee=null;switch($n.tag){case 26:ee=$n.memoizedState;case 5:case 27:var oe=$n;if(!ee||tB(ee)){Cr=0,da=null;var be=oe.sibling;if(be!==null)$n=be;else{var Me=oe.return;Me!==null?($n=Me,lE(Me)):$n=null}break t}}Cr=0,da=null,ug(u,h,L,5);break;case 6:Cr=0,da=null,ug(u,h,L,6);break;case 8:SN(),bs=6;break e;default:throw Error(r(462))}}xte();break}catch(Ke){m5(u,Ke)}while(!0);return Su=Nh=null,P.H=A,P.A=B,Ar=y,$n!==null?0:(qr=null,Qn=0,Px(),bs)}function xte(){for(;$n!==null&&!te();)w5($n)}function w5(u){var h=G8(u.alternate,u,ku);u.memoizedProps=u.pendingProps,h===null?lE(u):$n=h}function v5(u){var h=u,y=h.alternate;switch(h.tag){case 15:case 0:h=F8(y,h,h.pendingProps,h.type,void 0,Qn);break;case 11:h=F8(y,h,h.pendingProps,h.type.render,h.ref,Qn);break;case 5:H_(h);default:W8(y,h),h=$n=x6(h,ku),h=G8(y,h,ku)}u.memoizedProps=u.pendingProps,h===null?lE(u):$n=h}function ug(u,h,y,A){Su=Nh=null,H_(h),tg=null,My=0;var B=h.return;try{if(ute(u,B,h,y,Qn)){bs=1,eE(u,Xa(y,u.current)),$n=null;return}}catch(L){if(B!==null)throw $n=B,L;bs=1,eE(u,Xa(y,u.current)),$n=null;return}h.flags&32768?(yr||A===1?u=!0:ig||(Qn&536870912)!==0?u=!1:(tf=u=!0,(A===2||A===9||A===3||A===6)&&(A=rc.current,A!==null&&A.tag===13&&(A.flags|=16384))),x5(h,u)):lE(h)}function lE(u){var h=u;do{if((h.flags&32768)!==0){x5(h,tf);return}u=h.return;var y=fte(h.alternate,h,ku);if(y!==null){$n=y;return}if(h=h.sibling,h!==null){$n=h;return}$n=h=u}while(h!==null);bs===0&&(bs=5)}function x5(u,h){do{var y=hte(u.alternate,u);if(y!==null){y.flags&=32767,$n=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(u=u.sibling,u!==null)){$n=u;return}$n=u=y}while(u!==null);bs=6,$n=null}function E5(u,h,y,A,B,L,ee,oe,be){u.cancelPendingCommit=null;do uE();while(Ei!==0);if((Ar&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(L=h.lanes|h.childLanes,L|=y_,mu(u,y,L,ee,oe,be),u===qr&&($n=qr=null,Qn=0),ag=h,sf=u,cg=y,EN=L,AN=B,f5=A,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Ste(_e,function(){return N5(),null})):(u.callbackNode=null,u.callbackPriority=0),A=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||A){A=P.T,P.T=null,B=M.p,M.p=2,ee=Ar,Ar|=4;try{pte(u,h,y)}finally{Ar=ee,M.p=B,P.T=A}}Ei=1,A5(),C5(),S5()}}function A5(){if(Ei===1){Ei=0;var u=sf,h=ag,y=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||y){y=P.T,P.T=null;var A=M.p;M.p=2;var B=Ar;Ar|=4;try{i5(h,u);var L=jN,ee=d6(u.containerInfo),oe=L.focusedElem,be=L.selectionRange;if(ee!==oe&&oe&&oe.ownerDocument&&u6(oe.ownerDocument.documentElement,oe)){if(be!==null&&f_(oe)){var Me=be.start,Ke=be.end;if(Ke===void 0&&(Ke=Me),"selectionStart"in oe)oe.selectionStart=Me,oe.selectionEnd=Math.min(Ke,oe.value.length);else{var Ye=oe.ownerDocument||document,Le=Ye&&Ye.defaultView||window;if(Le.getSelection){var je=Le.getSelection(),hn=oe.textContent.length,Zt=Math.min(be.start,hn),Pr=be.end===void 0?Zt:Math.min(be.end,hn);!je.extend&&Zt>Pr&&(ee=Pr,Pr=Zt,Zt=ee);var Oe=l6(oe,Zt),Ae=l6(oe,Pr);if(Oe&&Ae&&(je.rangeCount!==1||je.anchorNode!==Oe.node||je.anchorOffset!==Oe.offset||je.focusNode!==Ae.node||je.focusOffset!==Ae.offset)){var Be=Ye.createRange();Be.setStart(Oe.node,Oe.offset),je.removeAllRanges(),Zt>Pr?(je.addRange(Be),je.extend(Ae.node,Ae.offset)):(Be.setEnd(Ae.node,Ae.offset),je.addRange(Be))}}}}for(Ye=[],je=oe;je=je.parentNode;)je.nodeType===1&&Ye.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<Ye.length;oe++){var Qe=Ye[oe];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}EE=!!LN,jN=LN=null}finally{Ar=B,M.p=A,P.T=y}}u.current=h,Ei=2}}function C5(){if(Ei===2){Ei=0;var u=sf,h=ag,y=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||y){y=P.T,P.T=null;var A=M.p;M.p=2;var B=Ar;Ar|=4;try{t5(u,h.alternate,h)}finally{Ar=B,M.p=A,P.T=y}}Ei=3}}function S5(){if(Ei===4||Ei===3){Ei=0,J();var u=sf,h=ag,y=cg,A=f5;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ei=5:(Ei=0,ag=sf=null,_5(u,u.pendingLanes));var B=u.pendingLanes;if(B===0&&(rf=null),nr(y),h=h.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Ce,h,void 0,(h.current.flags&128)===128)}catch{}if(A!==null){h=P.T,B=M.p,M.p=2,P.T=null;try{for(var L=u.onRecoverableError,ee=0;ee<A.length;ee++){var oe=A[ee];L(oe.value,{componentStack:oe.stack})}}finally{P.T=h,M.p=B}}(cg&3)!==0&&uE(),Ol(u),B=u.pendingLanes,(y&4194090)!==0&&(B&42)!==0?u===CN?Vy++:(Vy=0,CN=u):Vy=0,Gy(0)}}function _5(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Sy(h)))}function uE(u){return A5(),C5(),S5(),N5()}function N5(){if(Ei!==5)return!1;var u=sf,h=EN;EN=0;var y=nr(cg),A=P.T,B=M.p;try{M.p=32>y?32:y,P.T=null,y=AN,AN=null;var L=sf,ee=cg;if(Ei=0,ag=sf=null,cg=0,(Ar&6)!==0)throw Error(r(331));var oe=Ar;if(Ar|=4,u5(L.current),a5(L,L.current,ee,y),Ar=oe,Gy(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Ce,L)}catch{}return!0}finally{M.p=B,P.T=A,_5(u,h)}}function T5(u,h,y){h=Xa(y,h),h=nN(u.stateNode,h,2),u=Wd(u,h,2),u!==null&&(na(u,2),Ol(u))}function Dr(u,h,y){if(u.tag===3)T5(u,u,y);else for(;h!==null;){if(h.tag===3){T5(h,u,y);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(rf===null||!rf.has(A))){u=Xa(y,u),y=I8(2),A=Wd(h,y,2),A!==null&&(k8(y,A,h,u),na(A,2),Ol(A));break}}h=h.return}}function TN(u,h,y){var A=u.pingCache;if(A===null){A=u.pingCache=new yte;var B=new Set;A.set(h,B)}else B=A.get(h),B===void 0&&(B=new Set,A.set(h,B));B.has(y)||(bN=!0,B.add(y),u=Ete.bind(null,u,h,y),h.then(u,u))}function Ete(u,h,y){var A=u.pingCache;A!==null&&A.delete(h),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,qr===u&&(Qn&y)===y&&(bs===4||bs===3&&(Qn&62914560)===Qn&&300>V()-xN?(Ar&2)===0&&lg(u,0):wN|=y,og===Qn&&(og=0)),Ol(u)}function R5(u,h){h===0&&(h=Mi()),u=V0(u,h),u!==null&&(na(u,h),Ol(u))}function Ate(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),R5(u,y)}function Cte(u,h){var y=0;switch(u.tag){case 13:var A=u.stateNode,B=u.memoizedState;B!==null&&(y=B.retryLane);break;case 19:A=u.stateNode;break;case 22:A=u.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(h),R5(u,y)}function Ste(u,h){return Se(u,h)}var dE=null,dg=null,RN=!1,fE=!1,PN=!1,Bh=0;function Ol(u){u!==dg&&u.next===null&&(dg===null?dE=dg=u:dg=dg.next=u),fE=!0,RN||(RN=!0,Nte())}function Gy(u,h){if(!PN&&fE){PN=!0;do for(var y=!1,A=dE;A!==null;){if(u!==0){var B=A.pendingLanes;if(B===0)var L=0;else{var ee=A.suspendedLanes,oe=A.pingedLanes;L=(1<<31-ge(42|u)+1)-1,L&=B&~(ee&~oe),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(y=!0,k5(A,L))}else L=Qn,L=Jt(A,A===qr?L:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(L&3)===0||Yn(A,L)||(y=!0,k5(A,L));A=A.next}while(y);PN=!1}}function _te(){P5()}function P5(){fE=RN=!1;var u=0;Bh!==0&&(Dte()&&(u=Bh),Bh=0);for(var h=V(),y=null,A=dE;A!==null;){var B=A.next,L=O5(A,h);L===0?(A.next=null,y===null?dE=B:y.next=B,B===null&&(dg=y)):(y=A,(u!==0||(L&3)!==0)&&(fE=!0)),A=B}Gy(u)}function O5(u,h){for(var y=u.suspendedLanes,A=u.pingedLanes,B=u.expirationTimes,L=u.pendingLanes&-62914561;0<L;){var ee=31-ge(L),oe=1<<ee,be=B[ee];be===-1?((oe&y)===0||(oe&A)!==0)&&(B[ee]=ls(oe,h)):be<=h&&(u.expiredLanes|=oe),L&=~oe}if(h=qr,y=Qn,y=Jt(u,u===h?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A=u.callbackNode,y===0||u===h&&(Cr===2||Cr===9)||u.cancelPendingCommit!==null)return A!==null&&A!==null&&xe(A),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||Yn(u,y)){if(h=y&-y,h===u.callbackPriority)return h;switch(A!==null&&xe(A),nr(y)){case 2:case 8:y=me;break;case 32:y=_e;break;case 268435456:y=ot;break;default:y=_e}return A=I5.bind(null,u),y=Se(y,A),u.callbackPriority=h,u.callbackNode=y,h}return A!==null&&A!==null&&xe(A),u.callbackPriority=2,u.callbackNode=null,2}function I5(u,h){if(Ei!==0&&Ei!==5)return u.callbackNode=null,u.callbackPriority=0,null;var y=u.callbackNode;if(uE()&&u.callbackNode!==y)return null;var A=Qn;return A=Jt(u,u===qr?A:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A===0?null:(p5(u,A,h),O5(u,V()),u.callbackNode!=null&&u.callbackNode===y?I5.bind(null,u):null)}function k5(u,h){if(uE())return null;p5(u,h,!0)}function Nte(){Ute(function(){(Ar&6)!==0?Se(se,_te):P5()})}function ON(){return Bh===0&&(Bh=ms()),Bh}function B5(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:xo(""+u)}function D5(u,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,u.id&&y.setAttribute("form",u.id),h.parentNode.insertBefore(y,h),u=new FormData(u),y.parentNode.removeChild(y),u}function Tte(u,h,y,A,B){if(h==="submit"&&y&&y.stateNode===B){var L=B5((B[sr]||null).action),ee=A.submitter;ee&&(h=(h=ee[sr]||null)?B5(h.formAction):ee.getAttribute("formAction"),h!==null&&(L=h,ee=null));var oe=new xn("action","action",null,A,B);u.push({event:oe,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(Bh!==0){var be=ee?D5(B,ee):new FormData(B);J_(y,{pending:!0,data:be,method:B.method,action:L},null,be)}}else typeof L=="function"&&(oe.preventDefault(),be=ee?D5(B,ee):new FormData(B),J_(y,{pending:!0,data:be,method:B.method,action:L},L,be))},currentTarget:B}]})}}for(var IN=0;IN<m_.length;IN++){var kN=m_[IN],Rte=kN.toLowerCase(),Pte=kN[0].toUpperCase()+kN.slice(1);Pc(Rte,"on"+Pte)}Pc(p6,"onAnimationEnd"),Pc(g6,"onAnimationIteration"),Pc(m6,"onAnimationStart"),Pc("dblclick","onDoubleClick"),Pc("focusin","onFocus"),Pc("focusout","onBlur"),Pc(Kee,"onTransitionRun"),Pc(Wee,"onTransitionStart"),Pc(Qee,"onTransitionCancel"),Pc(y6,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ote=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ky));function M5(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var A=u[y],B=A.event;A=A.listeners;e:{var L=void 0;if(h)for(var ee=A.length-1;0<=ee;ee--){var oe=A[ee],be=oe.instance,Me=oe.currentTarget;if(oe=oe.listener,be!==L&&B.isPropagationStopped())break e;L=oe,B.currentTarget=Me;try{L(B)}catch(Ke){Xx(Ke)}B.currentTarget=null,L=be}else for(ee=0;ee<A.length;ee++){if(oe=A[ee],be=oe.instance,Me=oe.currentTarget,oe=oe.listener,be!==L&&B.isPropagationStopped())break e;L=oe,B.currentTarget=Me;try{L(B)}catch(Ke){Xx(Ke)}B.currentTarget=null,L=be}}}}function Hn(u,h){var y=h[no];y===void 0&&(y=h[no]=new Set);var A=u+"__bubble";y.has(A)||(U5(h,u,2,!1),y.add(A))}function BN(u,h,y){var A=0;h&&(A|=4),U5(y,u,A,h)}var hE="_reactListening"+Math.random().toString(36).slice(2);function DN(u){if(!u[hE]){u[hE]=!0,mh.forEach(function(y){y!=="selectionchange"&&(Ote.has(y)||BN(y,!1,u),BN(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[hE]||(h[hE]=!0,BN("selectionchange",!1,h))}}function U5(u,h,y,A){switch(aB(h)){case 2:var B=sne;break;case 8:B=ine;break;default:B=QN}y=B.bind(null,h,y,u),B=void 0,!Ja||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(B=!0),A?B!==void 0?u.addEventListener(h,y,{capture:!0,passive:B}):u.addEventListener(h,y,!0):B!==void 0?u.addEventListener(h,y,{passive:B}):u.addEventListener(h,y,!1)}function MN(u,h,y,A,B){var L=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var ee=A.tag;if(ee===3||ee===4){var oe=A.stateNode.containerInfo;if(oe===B)break;if(ee===4)for(ee=A.return;ee!==null;){var be=ee.tag;if((be===3||be===4)&&ee.stateNode.containerInfo===B)return;ee=ee.return}for(;oe!==null;){if(ee=Wa(oe),ee===null)return;if(be=ee.tag,be===5||be===6||be===26||be===27){A=L=ee;continue e}oe=oe.parentNode}}A=A.return}py(function(){var Me=L,Ke=vu(y),Ye=[];e:{var Le=b6.get(u);if(Le!==void 0){var je=xn,hn=u;switch(u){case"keypress":if(ue(y)===0)break e;case"keydown":case"keyup":je=e_;break;case"focusin":hn="focus",je=gy;break;case"focusout":hn="blur",je=gy;break;case"beforeblur":case"afterblur":je=gy;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=HS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=n_;break;case p6:case g6:case m6:je=VS;break;case y6:je=s_;break;case"scroll":case"scrollend":je=ss;break;case"wheel":je=Nx;break;case"copy":case"cut":case"paste":je=KS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=_x;break;case"toggle":case"beforetoggle":je=a_}var Zt=(h&4)!==0,Pr=!Zt&&(u==="scroll"||u==="scrollend"),Oe=Zt?Le!==null?Le+"Capture":null:Le;Zt=[];for(var Ae=Me,Be;Ae!==null;){var Qe=Ae;if(Be=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Be===null||Oe===null||(Qe=Hd(Ae,Oe),Qe!=null&&Zt.push(Wy(Ae,Qe,Be))),Pr)break;Ae=Ae.return}0<Zt.length&&(Le=new je(Le,hn,null,y,Ke),Ye.push({event:Le,listeners:Zt}))}}if((h&7)===0){e:{if(Le=u==="mouseover"||u==="pointerover",je=u==="mouseout"||u==="pointerout",Le&&y!==Ya&&(hn=y.relatedTarget||y.fromElement)&&(Wa(hn)||hn[qn]))break e;if((je||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,je?(hn=y.relatedTarget||y.toElement,je=Me,hn=hn?Wa(hn):null,hn!==null&&(Pr=i(hn),Zt=hn.tag,hn!==Pr||Zt!==5&&Zt!==27&&Zt!==6)&&(hn=null)):(je=null,hn=Me),je!==hn)){if(Zt=Ax,Qe="onMouseLeave",Oe="onMouseEnter",Ae="mouse",(u==="pointerout"||u==="pointerover")&&(Zt=_x,Qe="onPointerLeave",Oe="onPointerEnter",Ae="pointer"),Pr=je==null?Le:Tc(je),Be=hn==null?Le:Tc(hn),Le=new Zt(Qe,Ae+"leave",je,y,Ke),Le.target=Pr,Le.relatedTarget=Be,Qe=null,Wa(Ke)===Me&&(Zt=new Zt(Oe,Ae+"enter",hn,y,Ke),Zt.target=Be,Zt.relatedTarget=Pr,Qe=Zt),Pr=Qe,je&&hn)t:{for(Zt=je,Oe=hn,Ae=0,Be=Zt;Be;Be=fg(Be))Ae++;for(Be=0,Qe=Oe;Qe;Qe=fg(Qe))Be++;for(;0<Ae-Be;)Zt=fg(Zt),Ae--;for(;0<Be-Ae;)Oe=fg(Oe),Be--;for(;Ae--;){if(Zt===Oe||Oe!==null&&Zt===Oe.alternate)break t;Zt=fg(Zt),Oe=fg(Oe)}Zt=null}else Zt=null;je!==null&&L5(Ye,Le,je,Zt,!1),hn!==null&&Pr!==null&&L5(Ye,Pr,hn,Zt,!0)}}e:{if(Le=Me?Tc(Me):window,je=Le.nodeName&&Le.nodeName.toLowerCase(),je==="select"||je==="input"&&Le.type==="file")var Dt=r6;else if(Fi(Le))if(s6)Dt=qee;else{Dt=Hee;var jn=$ee}else je=Le.nodeName,!je||je.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Me&&jd(Me.elementType)&&(Dt=r6):Dt=zee;if(Dt&&(Dt=Dt(u,Me))){Ao(Ye,Dt,y,Ke);break e}jn&&jn(u,Le,Me),u==="focusout"&&Me&&Le.type==="number"&&Me.memoizedProps.value!=null&&Sl(Le,"number",Le.value)}switch(jn=Me?Tc(Me):window,u){case"focusin":(Fi(jn)||jn.contentEditable==="true")&&(H0=jn,h_=Me,vy=null);break;case"focusout":vy=h_=H0=null;break;case"mousedown":p_=!0;break;case"contextmenu":case"mouseup":case"dragend":p_=!1,f6(Ye,y,Ke);break;case"selectionchange":if(Gee)break;case"keydown":case"keyup":f6(Ye,y,Ke)}var qt;if(zd)e:{switch(u){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else tn?Bt(u,y)&&(nn="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(nn="onCompositionStart");nn&&(by&&y.locale!=="ko"&&(tn||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&tn&&(qt=ne()):(Za=Ke,U="value"in Za?Za.value:Za.textContent,tn=!0)),jn=pE(Me,nn),0<jn.length&&(nn=new my(nn,u,null,y,Ke),Ye.push({event:nn,listeners:jn}),qt?nn.data=qt:(qt=Kt(y),qt!==null&&(nn.data=qt)))),(qt=Tx?mr(u,y):ia(u,y))&&(nn=pE(Me,"onBeforeInput"),0<nn.length&&(jn=new my("onBeforeInput","beforeinput",null,y,Ke),Ye.push({event:jn,listeners:nn}),jn.data=qt)),Tte(Ye,u,Me,y,Ke)}M5(Ye,h)})}function Wy(u,h,y){return{instance:u,listener:h,currentTarget:y}}function pE(u,h){for(var y=h+"Capture",A=[];u!==null;){var B=u,L=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||L===null||(B=Hd(u,y),B!=null&&A.unshift(Wy(u,B,L)),B=Hd(u,h),B!=null&&A.push(Wy(u,B,L))),u.tag===3)return A;u=u.return}return[]}function fg(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function L5(u,h,y,A,B){for(var L=h._reactName,ee=[];y!==null&&y!==A;){var oe=y,be=oe.alternate,Me=oe.stateNode;if(oe=oe.tag,be!==null&&be===A)break;oe!==5&&oe!==26&&oe!==27||Me===null||(be=Me,B?(Me=Hd(y,L),Me!=null&&ee.unshift(Wy(y,Me,be))):B||(Me=Hd(y,L),Me!=null&&ee.push(Wy(y,Me,be)))),y=y.return}ee.length!==0&&u.push({event:h,listeners:ee})}var Ite=/\r\n?/g,kte=/\u0000|\uFFFD/g;function j5(u){return(typeof u=="string"?u:""+u).replace(Ite,`
`).replace(kte,"")}function F5(u,h){return h=j5(h),j5(u)===h}function gE(){}function Rr(u,h,y,A,B,L){switch(y){case"children":typeof A=="string"?h==="body"||h==="textarea"&&A===""||_l(u,A):(typeof A=="number"||typeof A=="bigint")&&h!=="body"&&_l(u,""+A);break;case"className":Ve(u,"class",A);break;case"tabIndex":Ve(u,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":Ve(u,y,A);break;case"style":yh(u,A,L);break;case"data":if(h!=="object"){Ve(u,"data",A);break}case"src":case"href":if(A===""&&(h!=="a"||y!=="href")){u.removeAttribute(y);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(y);break}A=xo(""+A),u.setAttribute(y,A);break;case"action":case"formAction":if(typeof A=="function"){u.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(y==="formAction"?(h!=="input"&&Rr(u,h,"name",B.name,B,null),Rr(u,h,"formEncType",B.formEncType,B,null),Rr(u,h,"formMethod",B.formMethod,B,null),Rr(u,h,"formTarget",B.formTarget,B,null)):(Rr(u,h,"encType",B.encType,B,null),Rr(u,h,"method",B.method,B,null),Rr(u,h,"target",B.target,B,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(y);break}A=xo(""+A),u.setAttribute(y,A);break;case"onClick":A!=null&&(u.onclick=gE);break;case"onScroll":A!=null&&Hn("scroll",u);break;case"onScrollEnd":A!=null&&Hn("scrollend",u);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(y=A.__html,y!=null){if(B.children!=null)throw Error(r(60));u.innerHTML=y}}break;case"multiple":u.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":u.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){u.removeAttribute("xlink:href");break}y=xo(""+A),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(y,""+A):u.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(y,""):u.removeAttribute(y);break;case"capture":case"download":A===!0?u.setAttribute(y,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(y,A):u.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?u.setAttribute(y,A):u.removeAttribute(y);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?u.removeAttribute(y):u.setAttribute(y,A);break;case"popover":Hn("beforetoggle",u),Hn("toggle",u),We(u,"popover",A);break;case"xlinkActuate":Je(u,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Je(u,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Je(u,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Je(u,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Je(u,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Je(u,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Je(u,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Je(u,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Je(u,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":We(u,"is",A);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=wu.get(y)||y,We(u,y,A))}}function UN(u,h,y,A,B,L){switch(y){case"style":yh(u,A,L);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(y=A.__html,y!=null){if(B.children!=null)throw Error(r(60));u.innerHTML=y}}break;case"children":typeof A=="string"?_l(u,A):(typeof A=="number"||typeof A=="bigint")&&_l(u,""+A);break;case"onScroll":A!=null&&Hn("scroll",u);break;case"onScrollEnd":A!=null&&Hn("scrollend",u);break;case"onClick":A!=null&&(u.onclick=gE);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(B=y.endsWith("Capture"),h=y.slice(2,B?y.length-7:void 0),L=u[sr]||null,L=L!=null?L[y]:null,typeof L=="function"&&u.removeEventListener(h,L,B),typeof A=="function")){typeof L!="function"&&L!==null&&(y in u?u[y]=null:u.hasAttribute(y)&&u.removeAttribute(y)),u.addEventListener(h,A,B);break e}y in u?u[y]=A:A===!0?u.setAttribute(y,""):We(u,y,A)}}}function Ai(u,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hn("error",u),Hn("load",u);var A=!1,B=!1,L;for(L in y)if(y.hasOwnProperty(L)){var ee=y[L];if(ee!=null)switch(L){case"src":A=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Rr(u,h,L,ee,y,null)}}B&&Rr(u,h,"srcSet",y.srcSet,y,null),A&&Rr(u,h,"src",y.src,y,null);return;case"input":Hn("invalid",u);var oe=L=ee=B=null,be=null,Me=null;for(A in y)if(y.hasOwnProperty(A)){var Ke=y[A];if(Ke!=null)switch(A){case"name":B=Ke;break;case"type":ee=Ke;break;case"checked":be=Ke;break;case"defaultChecked":Me=Ke;break;case"value":L=Ke;break;case"defaultValue":oe=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,h));break;default:Rr(u,h,A,Ke,y,null)}}ji(u,L,oe,be,Me,ee,B,!1),vr(u);return;case"select":Hn("invalid",u),A=ee=L=null;for(B in y)if(y.hasOwnProperty(B)&&(oe=y[B],oe!=null))switch(B){case"value":L=oe;break;case"defaultValue":ee=oe;break;case"multiple":A=oe;default:Rr(u,h,B,oe,y,null)}h=L,y=ee,u.multiple=!!A,h!=null?vi(u,!!A,h,!1):y!=null&&vi(u,!!A,y,!0);return;case"textarea":Hn("invalid",u),L=B=A=null;for(ee in y)if(y.hasOwnProperty(ee)&&(oe=y[ee],oe!=null))switch(ee){case"value":A=oe;break;case"defaultValue":B=oe;break;case"children":L=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:Rr(u,h,ee,oe,y,null)}bu(u,A,B,L),vr(u);return;case"option":for(be in y)if(y.hasOwnProperty(be)&&(A=y[be],A!=null))switch(be){case"selected":u.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Rr(u,h,be,A,y,null)}return;case"dialog":Hn("beforetoggle",u),Hn("toggle",u),Hn("cancel",u),Hn("close",u);break;case"iframe":case"object":Hn("load",u);break;case"video":case"audio":for(A=0;A<Ky.length;A++)Hn(Ky[A],u);break;case"image":Hn("error",u),Hn("load",u);break;case"details":Hn("toggle",u);break;case"embed":case"source":case"link":Hn("error",u),Hn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in y)if(y.hasOwnProperty(Me)&&(A=y[Me],A!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Rr(u,h,Me,A,y,null)}return;default:if(jd(h)){for(Ke in y)y.hasOwnProperty(Ke)&&(A=y[Ke],A!==void 0&&UN(u,h,Ke,A,y,void 0));return}}for(oe in y)y.hasOwnProperty(oe)&&(A=y[oe],A!=null&&Rr(u,h,oe,A,y,null))}function Bte(u,h,y,A){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,L=null,ee=null,oe=null,be=null,Me=null,Ke=null;for(je in y){var Ye=y[je];if(y.hasOwnProperty(je)&&Ye!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":be=Ye;default:A.hasOwnProperty(je)||Rr(u,h,je,null,A,Ye)}}for(var Le in A){var je=A[Le];if(Ye=y[Le],A.hasOwnProperty(Le)&&(je!=null||Ye!=null))switch(Le){case"type":L=je;break;case"name":B=je;break;case"checked":Me=je;break;case"defaultChecked":Ke=je;break;case"value":ee=je;break;case"defaultValue":oe=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,h));break;default:je!==Ye&&Rr(u,h,Le,je,A,Ye)}}Li(u,ee,oe,be,Me,Ke,L,B);return;case"select":je=ee=oe=Le=null;for(L in y)if(be=y[L],y.hasOwnProperty(L)&&be!=null)switch(L){case"value":break;case"multiple":je=be;default:A.hasOwnProperty(L)||Rr(u,h,L,null,A,be)}for(B in A)if(L=A[B],be=y[B],A.hasOwnProperty(B)&&(L!=null||be!=null))switch(B){case"value":Le=L;break;case"defaultValue":oe=L;break;case"multiple":ee=L;default:L!==be&&Rr(u,h,B,L,A,be)}h=oe,y=ee,A=je,Le!=null?vi(u,!!y,Le,!1):!!A!=!!y&&(h!=null?vi(u,!!y,h,!0):vi(u,!!y,y?[]:"",!1));return;case"textarea":je=Le=null;for(oe in y)if(B=y[oe],y.hasOwnProperty(oe)&&B!=null&&!A.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Rr(u,h,oe,null,A,B)}for(ee in A)if(B=A[ee],L=y[ee],A.hasOwnProperty(ee)&&(B!=null||L!=null))switch(ee){case"value":Le=B;break;case"defaultValue":je=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:B!==L&&Rr(u,h,ee,B,A,L)}vo(u,Le,je);return;case"option":for(var hn in y)if(Le=y[hn],y.hasOwnProperty(hn)&&Le!=null&&!A.hasOwnProperty(hn))switch(hn){case"selected":u.selected=!1;break;default:Rr(u,h,hn,null,A,Le)}for(be in A)if(Le=A[be],je=y[be],A.hasOwnProperty(be)&&Le!==je&&(Le!=null||je!=null))switch(be){case"selected":u.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Rr(u,h,be,Le,A,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in y)Le=y[Zt],y.hasOwnProperty(Zt)&&Le!=null&&!A.hasOwnProperty(Zt)&&Rr(u,h,Zt,null,A,Le);for(Me in A)if(Le=A[Me],je=y[Me],A.hasOwnProperty(Me)&&Le!==je&&(Le!=null||je!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,h));break;default:Rr(u,h,Me,Le,A,je)}return;default:if(jd(h)){for(var Pr in y)Le=y[Pr],y.hasOwnProperty(Pr)&&Le!==void 0&&!A.hasOwnProperty(Pr)&&UN(u,h,Pr,void 0,A,Le);for(Ke in A)Le=A[Ke],je=y[Ke],!A.hasOwnProperty(Ke)||Le===je||Le===void 0&&je===void 0||UN(u,h,Ke,Le,A,je);return}}for(var Oe in y)Le=y[Oe],y.hasOwnProperty(Oe)&&Le!=null&&!A.hasOwnProperty(Oe)&&Rr(u,h,Oe,null,A,Le);for(Ye in A)Le=A[Ye],je=y[Ye],!A.hasOwnProperty(Ye)||Le===je||Le==null&&je==null||Rr(u,h,Ye,Le,A,je)}var LN=null,jN=null;function mE(u){return u.nodeType===9?u:u.ownerDocument}function $5(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H5(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function FN(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $N=null;function Dte(){var u=window.event;return u&&u.type==="popstate"?u===$N?!1:($N=u,!0):($N=null,!1)}var z5=typeof setTimeout=="function"?setTimeout:void 0,Mte=typeof clearTimeout=="function"?clearTimeout:void 0,q5=typeof Promise=="function"?Promise:void 0,Ute=typeof queueMicrotask=="function"?queueMicrotask:typeof q5<"u"?function(u){return q5.resolve(null).then(u).catch(Lte)}:z5;function Lte(u){setTimeout(function(){throw u})}function af(u){return u==="head"}function V5(u,h){var y=h,A=0,B=0;do{var L=y.nextSibling;if(u.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(0<A&&8>A){y=A;var ee=u.ownerDocument;if(y&1&&Qy(ee.documentElement),y&2&&Qy(ee.body),y&4)for(y=ee.head,Qy(y),ee=y.firstChild;ee;){var oe=ee.nextSibling,be=ee.nodeName;ee[ra]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||y.removeChild(ee),ee=oe}}if(B===0){u.removeChild(L),rb(h);return}B--}else y==="$"||y==="$?"||y==="$!"?B++:A=y.charCodeAt(0)-48;else A=0;y=L}while(y);rb(h)}function HN(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":HN(y),Jr(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}u.removeChild(y)}}function jte(u,h,y,A){for(;u.nodeType===1;){var B=y;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!A&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(A){if(!u[ra])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(L=u.getAttribute("rel"),L==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(L!==B.rel||u.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||u.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||u.getAttribute("title")!==(B.title==null?null:B.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(L=u.getAttribute("src"),(L!==(B.src==null?null:B.src)||u.getAttribute("type")!==(B.type==null?null:B.type)||u.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&L&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var L=B.name==null?null:""+B.name;if(B.type==="hidden"&&u.getAttribute("name")===L)return u}else return u;if(u=Ic(u.nextSibling),u===null)break}return null}function Fte(u,h,y){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!y||(u=Ic(u.nextSibling),u===null))return null;return u}function zN(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function $te(u,h){var y=u.ownerDocument;if(u.data!=="$?"||y.readyState==="complete")h();else{var A=function(){h(),y.removeEventListener("DOMContentLoaded",A)};y.addEventListener("DOMContentLoaded",A),u._reactRetry=A}}function Ic(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var qN=null;function G5(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}function K5(u,h,y){switch(h=mE(y),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Qy(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);Jr(u)}var ic=new Map,W5=new Set;function yE(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Bu=M.d;M.d={f:Hte,r:zte,D:qte,C:Vte,L:Gte,m:Kte,X:Qte,S:Wte,M:Yte};function Hte(){var u=Bu.f(),h=cE();return u||h}function zte(u){var h=Qa(u);h!==null&&h.tag===5&&h.type==="form"?p8(h):Bu.r(u)}var hg=typeof document>"u"?null:document;function Q5(u,h,y){var A=hg;if(A&&typeof h=="string"&&h){var B=$s(h);B='link[rel="'+u+'"][href="'+B+'"]',typeof y=="string"&&(B+='[crossorigin="'+y+'"]'),W5.has(B)||(W5.add(B),u={rel:u,crossOrigin:y,href:h},A.querySelector(B)===null&&(h=A.createElement("link"),Ai(h,"link",u),rs(h),A.head.appendChild(h)))}}function qte(u){Bu.D(u),Q5("dns-prefetch",u,null)}function Vte(u,h){Bu.C(u,h),Q5("preconnect",u,h)}function Gte(u,h,y){Bu.L(u,h,y);var A=hg;if(A&&u&&h){var B='link[rel="preload"][as="'+$s(h)+'"]';h==="image"&&y&&y.imageSrcSet?(B+='[imagesrcset="'+$s(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(B+='[imagesizes="'+$s(y.imageSizes)+'"]')):B+='[href="'+$s(u)+'"]';var L=B;switch(h){case"style":L=pg(u);break;case"script":L=gg(u)}ic.has(L)||(u=d({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:u,as:h},y),ic.set(L,u),A.querySelector(B)!==null||h==="style"&&A.querySelector(Yy(L))||h==="script"&&A.querySelector(Jy(L))||(h=A.createElement("link"),Ai(h,"link",u),rs(h),A.head.appendChild(h)))}}function Kte(u,h){Bu.m(u,h);var y=hg;if(y&&u){var A=h&&typeof h.as=="string"?h.as:"script",B='link[rel="modulepreload"][as="'+$s(A)+'"][href="'+$s(u)+'"]',L=B;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=gg(u)}if(!ic.has(L)&&(u=d({rel:"modulepreload",href:u},h),ic.set(L,u),y.querySelector(B)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Jy(L)))return}A=y.createElement("link"),Ai(A,"link",u),rs(A),y.head.appendChild(A)}}}function Wte(u,h,y){Bu.S(u,h,y);var A=hg;if(A&&u){var B=El(A).hoistableStyles,L=pg(u);h=h||"default";var ee=B.get(L);if(!ee){var oe={loading:0,preload:null};if(ee=A.querySelector(Yy(L)))oe.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},y),(y=ic.get(L))&&VN(u,y);var be=ee=A.createElement("link");rs(be),Ai(be,"link",u),be._p=new Promise(function(Me,Ke){be.onload=Me,be.onerror=Ke}),be.addEventListener("load",function(){oe.loading|=1}),be.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,bE(ee,h,A)}ee={type:"stylesheet",instance:ee,count:1,state:oe},B.set(L,ee)}}}function Qte(u,h){Bu.X(u,h);var y=hg;if(y&&u){var A=El(y).hoistableScripts,B=gg(u),L=A.get(B);L||(L=y.querySelector(Jy(B)),L||(u=d({src:u,async:!0},h),(h=ic.get(B))&&GN(u,h),L=y.createElement("script"),rs(L),Ai(L,"link",u),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},A.set(B,L))}}function Yte(u,h){Bu.M(u,h);var y=hg;if(y&&u){var A=El(y).hoistableScripts,B=gg(u),L=A.get(B);L||(L=y.querySelector(Jy(B)),L||(u=d({src:u,async:!0,type:"module"},h),(h=ic.get(B))&&GN(u,h),L=y.createElement("script"),rs(L),Ai(L,"link",u),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},A.set(B,L))}}function Y5(u,h,y,A){var B=(B=de.current)?yE(B):null;if(!B)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=pg(y.href),y=El(B).hoistableStyles,A=y.get(h),A||(A={type:"style",instance:null,count:0,state:null},y.set(h,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){u=pg(y.href);var L=El(B).hoistableStyles,ee=L.get(u);if(ee||(B=B.ownerDocument||B,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(u,ee),(L=B.querySelector(Yy(u)))&&!L._p&&(ee.instance=L,ee.state.loading=5),ic.has(u)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},ic.set(u,y),L||Jte(B,u,y,ee.state))),h&&A===null)throw Error(r(528,""));return ee}if(h&&A!==null)throw Error(r(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=gg(y),y=El(B).hoistableScripts,A=y.get(h),A||(A={type:"script",instance:null,count:0,state:null},y.set(h,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function pg(u){return'href="'+$s(u)+'"'}function Yy(u){return'link[rel="stylesheet"]['+u+"]"}function J5(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function Jte(u,h,y,A){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?A.loading=1:(h=u.createElement("link"),A.preload=h,h.addEventListener("load",function(){return A.loading|=1}),h.addEventListener("error",function(){return A.loading|=2}),Ai(h,"link",y),rs(h),u.head.appendChild(h))}function gg(u){return'[src="'+$s(u)+'"]'}function Jy(u){return"script[async]"+u}function Z5(u,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var A=u.querySelector('style[data-href~="'+$s(y.href)+'"]');if(A)return h.instance=A,rs(A),A;var B=d({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return A=(u.ownerDocument||u).createElement("style"),rs(A),Ai(A,"style",B),bE(A,y.precedence,u),h.instance=A;case"stylesheet":B=pg(y.href);var L=u.querySelector(Yy(B));if(L)return h.state.loading|=4,h.instance=L,rs(L),L;A=J5(y),(B=ic.get(B))&&VN(A,B),L=(u.ownerDocument||u).createElement("link"),rs(L);var ee=L;return ee._p=new Promise(function(oe,be){ee.onload=oe,ee.onerror=be}),Ai(L,"link",A),h.state.loading|=4,bE(L,y.precedence,u),h.instance=L;case"script":return L=gg(y.src),(B=u.querySelector(Jy(L)))?(h.instance=B,rs(B),B):(A=y,(B=ic.get(L))&&(A=d({},y),GN(A,B)),u=u.ownerDocument||u,B=u.createElement("script"),rs(B),Ai(B,"link",A),u.head.appendChild(B),h.instance=B);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(A=h.instance,h.state.loading|=4,bE(A,y.precedence,u));return h.instance}function bE(u,h,y){for(var A=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=A.length?A[A.length-1]:null,L=B,ee=0;ee<A.length;ee++){var oe=A[ee];if(oe.dataset.precedence===h)L=oe;else if(L!==B)break}L?L.parentNode.insertBefore(u,L.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(u,h.firstChild))}function VN(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function GN(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var wE=null;function X5(u,h,y){if(wE===null){var A=new Map,B=wE=new Map;B.set(y,A)}else B=wE,A=B.get(y),A||(A=new Map,B.set(y,A));if(A.has(u))return A;for(A.set(u,null),y=y.getElementsByTagName(u),B=0;B<y.length;B++){var L=y[B];if(!(L[ra]||L[rr]||u==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=L.getAttribute(h)||"";ee=u+ee;var oe=A.get(ee);oe?oe.push(L):A.set(ee,[L])}}return A}function eB(u,h,y){u=u.ownerDocument||u,u.head.insertBefore(y,h==="title"?u.querySelector("head > title"):null)}function Zte(u,h,y){if(y===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function tB(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Zy=null;function Xte(){}function ene(u,h,y){if(Zy===null)throw Error(r(475));var A=Zy;if(h.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var B=pg(y.href),L=u.querySelector(Yy(B));if(L){u=L._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(A.count++,A=vE.bind(A),u.then(A,A)),h.state.loading|=4,h.instance=L,rs(L);return}L=u.ownerDocument||u,y=J5(y),(B=ic.get(B))&&VN(y,B),L=L.createElement("link"),rs(L);var ee=L;ee._p=new Promise(function(oe,be){ee.onload=oe,ee.onerror=be}),Ai(L,"link",y),h.instance=L}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(A.count++,h=vE.bind(A),u.addEventListener("load",h),u.addEventListener("error",h))}}function tne(){if(Zy===null)throw Error(r(475));var u=Zy;return u.stylesheets&&u.count===0&&KN(u,u.stylesheets),0<u.count?function(h){var y=setTimeout(function(){if(u.stylesheets&&KN(u,u.stylesheets),u.unsuspend){var A=u.unsuspend;u.unsuspend=null,A()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(y)}}:null}function vE(){if(this.count--,this.count===0){if(this.stylesheets)KN(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var xE=null;function KN(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,xE=new Map,h.forEach(nne,u),xE=null,vE.call(u))}function nne(u,h){if(!(h.state.loading&4)){var y=xE.get(u);if(y)var A=y.get(null);else{y=new Map,xE.set(u,y);for(var B=u.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<B.length;L++){var ee=B[L];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(y.set(ee.dataset.precedence,ee),A=ee)}A&&y.set(null,A)}B=h.instance,ee=B.getAttribute("data-precedence"),L=y.get(ee)||A,L===A&&y.set(null,B),y.set(ee,B),this.count++,A=vE.bind(this),B.addEventListener("load",A),B.addEventListener("error",A),L?L.parentNode.insertBefore(B,L.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(B,u.firstChild)),h.state.loading|=4}}var Xy={$$typeof:C,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function rne(u,h,y,A,B,L,ee,oe){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=A,this.onUncaughtError=B,this.onCaughtError=L,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function nB(u,h,y,A,B,L,ee,oe,be,Me,Ke,Ye){return u=new rne(u,h,y,ee,oe,be,Me,Ye),h=1,L===!0&&(h|=24),L=ca(3,null,null,h),u.current=L,L.stateNode=u,h=T_(),h.refCount++,u.pooledCache=h,h.refCount++,L.memoizedState={element:A,isDehydrated:y,cache:h},I_(L),u}function rB(u){return u?(u=G0,u):G0}function sB(u,h,y,A,B,L){B=rB(B),A.context===null?A.context=B:A.pendingContext=B,A=Kd(h),A.payload={element:y},L=L===void 0?null:L,L!==null&&(A.callback=L),y=Wd(u,A,h),y!==null&&(ha(y,u,h),Ry(y,u,h))}function iB(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function WN(u,h){iB(u,h),(u=u.alternate)&&iB(u,h)}function oB(u){if(u.tag===13){var h=V0(u,67108864);h!==null&&ha(h,u,67108864),WN(u,67108864)}}var EE=!0;function sne(u,h,y,A){var B=P.T;P.T=null;var L=M.p;try{M.p=2,QN(u,h,y,A)}finally{M.p=L,P.T=B}}function ine(u,h,y,A){var B=P.T;P.T=null;var L=M.p;try{M.p=8,QN(u,h,y,A)}finally{M.p=L,P.T=B}}function QN(u,h,y,A){if(EE){var B=YN(A);if(B===null)MN(u,h,A,AE,y),cB(u,A);else if(ane(B,u,h,y,A))A.stopPropagation();else if(cB(u,A),h&4&&-1<one.indexOf(u)){for(;B!==null;){var L=Qa(B);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var ee=Rn(L.pendingLanes);if(ee!==0){var oe=L;for(oe.pendingLanes|=2,oe.entangledLanes|=2;ee;){var be=1<<31-ge(ee);oe.entanglements[1]|=be,ee&=~be}Ol(L),(Ar&6)===0&&(oE=V()+500,Gy(0))}}break;case 13:oe=V0(L,2),oe!==null&&ha(oe,L,2),cE(),WN(L,2)}if(L=YN(A),L===null&&MN(u,h,A,AE,y),L===B)break;B=L}B!==null&&A.stopPropagation()}else MN(u,h,A,null,y)}}function YN(u){return u=vu(u),JN(u)}var AE=null;function JN(u){if(AE=null,u=Wa(u),u!==null){var h=i(u);if(h===null)u=null;else{var y=h.tag;if(y===13){if(u=o(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return AE=u,null}function aB(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y()){case se:return 2;case me:return 8;case _e:case Te:return 32;case ot:return 268435456;default:return 32}default:return 32}}var ZN=!1,cf=null,lf=null,uf=null,eb=new Map,tb=new Map,df=[],one="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cB(u,h){switch(u){case"focusin":case"focusout":cf=null;break;case"dragenter":case"dragleave":lf=null;break;case"mouseover":case"mouseout":uf=null;break;case"pointerover":case"pointerout":eb.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":tb.delete(h.pointerId)}}function nb(u,h,y,A,B,L){return u===null||u.nativeEvent!==L?(u={blockedOn:h,domEventName:y,eventSystemFlags:A,nativeEvent:L,targetContainers:[B]},h!==null&&(h=Qa(h),h!==null&&oB(h)),u):(u.eventSystemFlags|=A,h=u.targetContainers,B!==null&&h.indexOf(B)===-1&&h.push(B),u)}function ane(u,h,y,A,B){switch(h){case"focusin":return cf=nb(cf,u,h,y,A,B),!0;case"dragenter":return lf=nb(lf,u,h,y,A,B),!0;case"mouseover":return uf=nb(uf,u,h,y,A,B),!0;case"pointerover":var L=B.pointerId;return eb.set(L,nb(eb.get(L)||null,u,h,y,A,B)),!0;case"gotpointercapture":return L=B.pointerId,tb.set(L,nb(tb.get(L)||null,u,h,y,A,B)),!0}return!1}function lB(u){var h=Wa(u.target);if(h!==null){var y=i(h);if(y!==null){if(h=y.tag,h===13){if(h=o(y),h!==null){u.blockedOn=h,Yr(u.priority,function(){if(y.tag===13){var A=fa();A=ns(A);var B=V0(y,A);B!==null&&ha(B,y,A),WN(y,A)}});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function CE(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=YN(u.nativeEvent);if(y===null){y=u.nativeEvent;var A=new y.constructor(y.type,y);Ya=A,y.target.dispatchEvent(A),Ya=null}else return h=Qa(y),h!==null&&oB(h),u.blockedOn=y,!1;h.shift()}return!0}function uB(u,h,y){CE(u)&&y.delete(h)}function cne(){ZN=!1,cf!==null&&CE(cf)&&(cf=null),lf!==null&&CE(lf)&&(lf=null),uf!==null&&CE(uf)&&(uf=null),eb.forEach(uB),tb.forEach(uB)}function SE(u,h){u.blockedOn===h&&(u.blockedOn=null,ZN||(ZN=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cne)))}var _E=null;function dB(u){_E!==u&&(_E=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_E===u&&(_E=null);for(var h=0;h<u.length;h+=3){var y=u[h],A=u[h+1],B=u[h+2];if(typeof A!="function"){if(JN(A||y)===null)continue;break}var L=Qa(y);L!==null&&(u.splice(h,3),h-=3,J_(L,{pending:!0,data:B,method:y.method,action:A},A,B))}}))}function rb(u){function h(be){return SE(be,u)}cf!==null&&SE(cf,u),lf!==null&&SE(lf,u),uf!==null&&SE(uf,u),eb.forEach(h),tb.forEach(h);for(var y=0;y<df.length;y++){var A=df[y];A.blockedOn===u&&(A.blockedOn=null)}for(;0<df.length&&(y=df[0],y.blockedOn===null);)lB(y),y.blockedOn===null&&df.shift();if(y=(u.ownerDocument||u).$$reactFormReplay,y!=null)for(A=0;A<y.length;A+=3){var B=y[A],L=y[A+1],ee=B[sr]||null;if(typeof L=="function")ee||dB(y);else if(ee){var oe=null;if(L&&L.hasAttribute("formAction")){if(B=L,ee=L[sr]||null)oe=ee.formAction;else if(JN(B)!==null)continue}else oe=ee.action;typeof oe=="function"?y[A+1]=oe:(y.splice(A,3),A-=3),dB(y)}}}function XN(u){this._internalRoot=u}NE.prototype.render=XN.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var y=h.current,A=fa();sB(y,A,u,h,null,null)},NE.prototype.unmount=XN.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;sB(u.current,2,null,u,null,null),cE(),h[qn]=null}};function NE(u){this._internalRoot=u}NE.prototype.unstable_scheduleHydration=function(u){if(u){var h=to();u={blockedOn:null,target:u,priority:h};for(var y=0;y<df.length&&h!==0&&h<df[y].priority;y++);df.splice(y,0,u),y===0&&lB(u)}};var fB=e.version;if(fB!=="19.1.0")throw Error(r(527,fB,"19.1.0"));M.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=l(h),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var lne={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var TE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!TE.isDisabled&&TE.supportsFiber)try{Ce=TE.inject(lne),ye=TE}catch{}}return ib.createRoot=function(u,h){if(!s(u))throw Error(r(299));var y=!1,A="",B=T8,L=R8,ee=P8,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(B=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(ee=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(oe=h.unstable_transitionCallbacks)),h=nB(u,1,!1,null,null,y,A,B,L,ee,oe,null),u[qn]=h.current,DN(u),new XN(h)},ib.hydrateRoot=function(u,h,y){if(!s(u))throw Error(r(299));var A=!1,B="",L=T8,ee=R8,oe=P8,be=null,Me=null;return y!=null&&(y.unstable_strictMode===!0&&(A=!0),y.identifierPrefix!==void 0&&(B=y.identifierPrefix),y.onUncaughtError!==void 0&&(L=y.onUncaughtError),y.onCaughtError!==void 0&&(ee=y.onCaughtError),y.onRecoverableError!==void 0&&(oe=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(be=y.unstable_transitionCallbacks),y.formState!==void 0&&(Me=y.formState)),h=nB(u,1,!0,h,y??null,A,B,L,ee,oe,be,Me),h.context=rB(null),y=h.current,A=fa(),A=ns(A),B=Kd(A),B.callback=null,Wd(y,B,A),y=A,h.current.lanes=y,na(h,y),Ol(h),u[qn]=h.current,DN(u),new NE(h)},ib.version="19.1.0",ib}var AB;function xne(){if(AB)return nT.exports;AB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nT.exports=vne(),nT.exports}var Ene=xne(),ob={},CB;function Ane(){if(CB)return ob;CB=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.parse=o,ob.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const b=new i,w=p.length;if(w<2)return b;const m=g?.decode||d;let v=0;do{const x=p.indexOf("=",v);if(x===-1)break;const C=p.indexOf(";",v),S=C===-1?w:C;if(x>S){v=p.lastIndexOf(";",x-1)+1;continue}const T=a(p,v,x),R=l(p,x,T),_=p.slice(T,R);if(b[_]===void 0){let N=a(p,x+1,S),O=l(p,S,N);const D=m(p.slice(N,O));b[_]=D}v=S+1}while(v<w);return b}function a(p,g,b){do{const w=p.charCodeAt(g);if(w!==32&&w!==9)return g}while(++g<b);return b}function l(p,g,b){for(;g>b;){const w=p.charCodeAt(--g);if(w!==32&&w!==9)return g+1}return b}function c(p,g,b){const w=b?.encode||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const m=w(g);if(!e.test(m))throw new TypeError(`argument val is invalid: ${g}`);let v=p+"="+m;if(!b)return v;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);v+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);v+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);v+="; Path="+b.path}if(b.expires){if(!f(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);v+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(v+="; HttpOnly"),b.secure&&(v+="; Secure"),b.partitioned&&(v+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return v}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return s.call(p)==="[object Date]"}return ob}Ane();var SB="popstate";function Cne(t={}){function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=A0(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ZR("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:C1(i))}function r(s,i){ll(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return _ne(e,n,r,t)}function ps(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ll(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sne(){return Math.random().toString(36).substring(2,10)}function _B(t,e){return{usr:t.state,key:t.key,idx:e}}function ZR(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?A0(e):e,state:n,key:e&&e.key||r||Sne()}}function C1({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function A0(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _ne(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let m=d(),v=m==null?null:m-c;c=m,l&&l({action:a,location:w.location,delta:v})}function p(m,v){a="PUSH";let x=ZR(w.location,m,v);n&&n(x,m),c=d()+1;let C=_B(x,c),S=w.createHref(x);try{o.pushState(C,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(S)}i&&l&&l({action:a,location:w.location,delta:1})}function g(m,v){a="REPLACE";let x=ZR(w.location,m,v);n&&n(x,m),c=d();let C=_B(x,c),S=w.createHref(x);o.replaceState(C,"",S),i&&l&&l({action:a,location:w.location,delta:0})}function b(m){return Nne(m)}let w={get action(){return a},get location(){return t(s,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(SB,f),l=m,()=>{s.removeEventListener(SB,f),l=null}},createHref(m){return e(s,m)},createURL:b,encodeLocation(m){let v=b(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(m){return o.go(m)}};return w}function Nne(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ps(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:C1(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IH(t,e,n="/"){return Tne(t,e,n,!1)}function Tne(t,e,n,r){let s=typeof e=="string"?A0(e):e,i=Ed(s.pathname||"/",n);if(i==null)return null;let o=kH(t);Rne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Fne(i);a=Lne(o[l],c,r)}return a}function kH(t,e=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ps(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=yd([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ps(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),kH(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Mne(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))s(i,o);else for(let a of BH(i.path))s(i,o,a)}),e}function BH(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BH(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Rne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Une(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Pne=/^:[\w-]+$/,One=3,Ine=2,kne=1,Bne=10,Dne=-2,NB=t=>t==="*";function Mne(t,e){let n=t.split("/"),r=n.length;return n.some(NB)&&(r+=Dne),e&&(r+=Ine),n.filter(s=>!NB(s)).reduce((s,i)=>s+(Pne.test(i)?One:i===""?kne:Bne),r)}function Une(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Lne(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=a2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=a2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:yd([i,f.pathname]),pathnameBase:qne(yd([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=yd([i,f.pathnameBase]))}return o}function a2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jne(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let b=a[p]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function jne(t,e=!1,n=!0){ll(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Fne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ll(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ed(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $ne(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?A0(t):t;return{pathname:n?n.startsWith("/")?n:Hne(n,e):e,search:Vne(r),hash:Gne(s)}}function Hne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oT(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DH(t){let e=zne(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function MH(t,e,n,r=!1){let s;typeof t=="string"?s=A0(t):(s={...t},ps(!s.pathname||!s.pathname.includes("?"),oT("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),oT("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),oT("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=$ne(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var yd=t=>t.join("/").replace(/\/\/+/g,"/"),qne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kne(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UH=["POST","PUT","PATCH","DELETE"];new Set(UH);var Wne=["GET",...UH];new Set(Wne);var Hm=W.createContext(null);Hm.displayName="DataRouter";var bC=W.createContext(null);bC.displayName="DataRouterState";var LH=W.createContext({isTransitioning:!1});LH.displayName="ViewTransition";var Qne=W.createContext(new Map);Qne.displayName="Fetchers";var Yne=W.createContext(null);Yne.displayName="Await";var uu=W.createContext(null);uu.displayName="Navigation";var Rv=W.createContext(null);Rv.displayName="Location";var du=W.createContext({outlet:null,matches:[],isDataRoute:!1});du.displayName="Route";var EI=W.createContext(null);EI.displayName="RouteError";function Jne(t,{relative:e}={}){ps(Pv(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(uu),{hash:s,pathname:i,search:o}=Ov(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:yd([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Pv(){return W.useContext(Rv)!=null}function lh(){return ps(Pv(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Rv).location}var jH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FH(t){W.useContext(uu).static||W.useLayoutEffect(t)}function gs(){let{isDataRoute:t}=W.useContext(du);return t?ure():Zne()}function Zne(){ps(Pv(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Hm),{basename:e,navigator:n}=W.useContext(uu),{matches:r}=W.useContext(du),{pathname:s}=lh(),i=JSON.stringify(DH(r)),o=W.useRef(!1);return FH(()=>{o.current=!0}),W.useCallback((l,c={})=>{if(ll(o.current,jH),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=MH(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yd([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}W.createContext(null);function C0(){let{matches:t}=W.useContext(du),e=t[t.length-1];return e?e.params:{}}function Ov(t,{relative:e}={}){let{matches:n}=W.useContext(du),{pathname:r}=lh(),s=JSON.stringify(DH(n));return W.useMemo(()=>MH(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Xne(t,e){return $H(t,e)}function $H(t,e,n,r){ps(Pv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=W.useContext(uu),{matches:i}=W.useContext(du),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let v=d&&d.path||"";HH(l,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=lh(),p;if(e){let v=typeof e=="string"?A0(e):e;ps(c==="/"||v.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=f;let g=p.pathname||"/",b=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=IH(t,{pathname:b});ll(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ll(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=sre(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:yd([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:yd([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&m?W.createElement(Rv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function ere(){let t=lre(),e=Kne(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:i},"ErrorBoundary")," or"," ",W.createElement("code",{style:i},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:s},n):null,o)}var tre=W.createElement(ere,null),nre=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(du.Provider,{value:this.props.routeContext},W.createElement(EI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rre({routeContext:t,match:e,children:n}){let r=W.useContext(Hm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(du.Provider,{value:t},n)}function sre(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n?.errors;if(i!=null){let l=s.findIndex(c=>c.route.id&&i?.[c.route.id]!==void 0);ps(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,c,d)=>{let f,p=!1,g=null,b=null;n&&(f=i&&c.route.id?i[c.route.id]:void 0,g=c.route.errorElement||tre,o&&(a<0&&d===0?(HH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):a===d&&(p=!0,b=c.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,d+1)),m=()=>{let v;return f?v=g:p?v=b:c.route.Component?v=W.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,W.createElement(rre,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?W.createElement(nre,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):m()},null)}function AI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ire(t){let e=W.useContext(Hm);return ps(e,AI(t)),e}function ore(t){let e=W.useContext(bC);return ps(e,AI(t)),e}function are(t){let e=W.useContext(du);return ps(e,AI(t)),e}function CI(t){let e=are(t),n=e.matches[e.matches.length-1];return ps(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cre(){return CI("useRouteId")}function lre(){let t=W.useContext(EI),e=ore("useRouteError"),n=CI("useRouteError");return t!==void 0?t:e.errors?.[n]}function ure(){let{router:t}=ire("useNavigate"),e=CI("useNavigate"),n=W.useRef(!1);return FH(()=>{n.current=!0}),W.useCallback(async(s,i={})=>{ll(n.current,jH),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var TB={};function HH(t,e,n){!e&&!TB[t]&&(TB[t]=!0,ll(!1,n))}W.memo(dre);function dre({routes:t,future:e,state:n}){return $H(t,void 0,n,e)}function Xn(t){ps(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fre({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){ps(!Pv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=W.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=A0(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,g=W.useMemo(()=>{let b=Ed(l,o);return b==null?null:{location:{pathname:b,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return ll(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:W.createElement(uu.Provider,{value:a},W.createElement(Rv.Provider,{children:e,value:g}))}function hre({children:t,location:e}){return Xne(XR(t),e)}function XR(t,e=[]){let n=[];return W.Children.forEach(t,(r,s)=>{if(!W.isValidElement(r))return;let i=[...e,s];if(r.type===W.Fragment){n.push.apply(n,XR(r.props.children,i));return}ps(r.type===Xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ps(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=XR(r.props.children,i)),n.push(o)}),n}var DA="get",MA="application/x-www-form-urlencoded";function wC(t){return t!=null&&typeof t.tagName=="string"}function pre(t){return wC(t)&&t.tagName.toLowerCase()==="button"}function gre(t){return wC(t)&&t.tagName.toLowerCase()==="form"}function mre(t){return wC(t)&&t.tagName.toLowerCase()==="input"}function yre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bre(t,e){return t.button===0&&(!e||e==="_self")&&!yre(t)}var RE=null;function wre(){if(RE===null)try{new FormData(document.createElement("form"),0),RE=!1}catch{RE=!0}return RE}var vre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aT(t){return t!=null&&!vre.has(t)?(ll(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${MA}"`),null):t}function xre(t,e){let n,r,s,i,o;if(gre(t)){let a=t.getAttribute("action");r=a?Ed(a,e):null,n=t.getAttribute("method")||DA,s=aT(t.getAttribute("enctype"))||MA,i=new FormData(t)}else if(pre(t)||mre(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ed(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||DA,s=aT(t.getAttribute("formenctype"))||aT(a.getAttribute("enctype"))||MA,i=new FormData(a,t),!wre()){let{name:c,type:d,value:f}=t;if(d==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,f)}}else{if(wC(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=DA,r=null,s=MA,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function SI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Ere(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Are(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Cre(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Ere(i,n);return o.links?o.links():[]}return[]}));return Tre(r.flat(1).filter(Are).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function RB(t,e,n,r,s,i){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?e.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Sre(t,e,{includeHydrateFallback:n}={}){return _re(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function _re(t){return[...new Set(t)]}function Nre(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Tre(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Nre(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rre=new Set([100,101,204,205]);function Pre(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ed(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function zH(){let t=W.useContext(Hm);return SI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ore(){let t=W.useContext(bC);return SI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _I=W.createContext(void 0);_I.displayName="FrameworkContext";function qH(){let t=W.useContext(_I);return SI(t,"You must render this element inside a <HydratedRouter> element"),t}function Ire(t,e){let n=W.useContext(_I),[r,s]=W.useState(!1),[i,o]=W.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=W.useRef(null);W.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=v=>{v.forEach(x=>{o(x.isIntersecting)})},m=new IntersectionObserver(w,{threshold:.5});return p.current&&m.observe(p.current),()=>{m.disconnect()}}},[t]),W.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let g=()=>{s(!0)},b=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ab(a,g),onBlur:ab(l,b),onMouseEnter:ab(c,g),onMouseLeave:ab(d,b),onTouchStart:ab(f,g)}]:[!1,p,{}]}function ab(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kre({page:t,...e}){let{router:n}=zH(),r=W.useMemo(()=>IH(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(Dre,{page:t,matches:r,...e}):null}function Bre(t){let{manifest:e,routeModules:n}=qH(),[r,s]=W.useState([]);return W.useEffect(()=>{let i=!1;return Cre(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Dre({page:t,matches:e,...n}){let r=lh(),{manifest:s,routeModules:i}=qH(),{basename:o}=zH(),{loaderData:a,matches:l}=Ore(),c=W.useMemo(()=>RB(t,e,l,s,r,"data"),[t,e,l,s,r]),d=W.useMemo(()=>RB(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(v=>{let x=s.routes[v.route.id];!x||!x.hasLoader||(!c.some(C=>C.route.id===v.route.id)&&v.route.id in a&&i[v.route.id]?.shouldRevalidate||x.hasClientLoader?w=!0:b.add(v.route.id))}),b.size===0)return[];let m=Pre(t,o);return w&&b.size>0&&m.searchParams.set("_routes",e.filter(v=>b.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[o,a,r,s,c,e,t,i]),p=W.useMemo(()=>Sre(d,s),[d,s]),g=Bre(d);return W.createElement(W.Fragment,null,f.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:w})=>W.createElement("link",{key:b,...w})))}function Mre(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VH&&(window.__reactRouterVersion="7.6.3")}catch{}function Ure({basename:t,children:e,window:n}){let r=W.useRef();r.current==null&&(r.current=Cne({window:n,v5Compat:!0}));let s=r.current,[i,o]=W.useState({action:s.action,location:s.location}),a=W.useCallback(l=>{W.startTransition(()=>o(l))},[o]);return W.useLayoutEffect(()=>s.listen(a),[s,a]),W.createElement(fre,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var GH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KH=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},g){let{basename:b}=W.useContext(uu),w=typeof c=="string"&&GH.test(c),m,v=!1;if(typeof c=="string"&&w&&(m=c,VH))try{let O=new URL(window.location.href),D=c.startsWith("//")?new URL(O.protocol+c):new URL(c),k=Ed(D.pathname,b);D.origin===O.origin&&k!=null?c=k+D.search+D.hash:v=!0}catch{ll(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Jne(c,{relative:s}),[C,S,T]=Ire(r,p),R=$re(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function _(O){e&&e(O),O.defaultPrevented||R(O)}let N=W.createElement("a",{...p,...T,href:m||x,onClick:v||i?e:_,ref:Mre(g,S),target:l,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?W.createElement(W.Fragment,null,N,W.createElement(kre,{page:x})):N});KH.displayName="Link";var Lre=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},d){let f=Ov(o,{relative:c.relative}),p=lh(),g=W.useContext(bC),{navigator:b,basename:w}=W.useContext(uu),m=g!=null&&Gre(f)&&a===!0,v=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,x=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(x=x.toLowerCase(),C=C?C.toLowerCase():null,v=v.toLowerCase()),C&&w&&(C=Ed(C,w)||C);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let T=x===v||!s&&x.startsWith(v)&&x.charAt(S)==="/",R=C!=null&&(C===v||!s&&C.startsWith(v)&&C.charAt(v.length)==="/"),_={isActive:T,isPending:R,isTransitioning:m},N=T?e:void 0,O;typeof r=="function"?O=r(_):O=[r,T?"active":null,R?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(_):i;return W.createElement(KH,{...c,"aria-current":N,className:O,ref:d,style:D,to:o,viewTransition:a},typeof l=="function"?l(_):l)});Lre.displayName="NavLink";var jre=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=DA,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},g)=>{let b=qre(),w=Vre(a,{relative:c}),m=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&GH.test(a),x=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,T=S?.getAttribute("formmethod")||o;b(S||C.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return W.createElement("form",{ref:g,method:m,action:w,onSubmit:r?l:x,...p,"data-discover":!v&&t==="render"?"true":void 0})});jre.displayName="Form";function Fre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WH(t){let e=W.useContext(Hm);return ps(e,Fre(t)),e}function $re(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=gs(),l=lh(),c=Ov(t,{relative:i});return W.useCallback(d=>{if(bre(d,e)){d.preventDefault();let f=n!==void 0?n:C1(l)===C1(c);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,c,n,r,e,t,s,i,o])}var Hre=0,zre=()=>`__${String(++Hre)}__`;function qre(){let{router:t}=WH("useSubmit"),{basename:e}=W.useContext(uu),n=cre();return W.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=xre(r,e);if(s.navigate===!1){let d=s.fetcherKey||zre();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Vre(t,{relative:e}={}){let{basename:n}=W.useContext(uu),r=W.useContext(du);ps(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ov(t||".",{relative:e})},o=lh();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:yd([n,i.pathname])),C1(i)}function Gre(t,e={}){let n=W.useContext(LH);ps(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WH("useViewTransitionState"),s=Ov(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ed(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ed(n.nextLocation.pathname,r)||n.nextLocation.pathname;return a2(s.pathname,o)!=null||a2(s.pathname,i)!=null}[...Rre];var Iv=OH();const NI=$m(Iv),Gw={},PB=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,OB=t=>"init"in t,cT=t=>!!t.write,IB=t=>"v"in t||"e"in t,PE=t=>{if("e"in t)throw t.e;if((Gw?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},c2=new WeakMap,kB=t=>{var e;return l2(t)&&!!((e=c2.get(t))!=null&&e[0])},Kre=t=>{const e=c2.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(n=>n()))},QH=(t,e)=>{let n=c2.get(t);if(!n){n=[!0,new Set],c2.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},l2=t=>typeof t?.then=="function",YH=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},lT=(t,e,n)=>{const r=n(t),s="v"in r,i=r.v;if(l2(e))for(const o of r.d.keys())YH(t,e,n(o));r.v=e,delete r.e,(!s||!Object.is(i,r.v))&&(++r.n,l2(i)&&Kre(i))},BB=(t,e,n)=>{var r;const s=new Set;for(const i of((r=n.get(t))==null?void 0:r.t)||[])n.has(i)&&s.add(i);for(const i of e.p)s.add(i);return s},Wre=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},uT=()=>{const t={},e=new WeakMap,n=r=>{var s,i;(s=e.get(t))==null||s.forEach(o=>o(r)),(i=e.get(r))==null||i.forEach(o=>o())};return n.add=(r,s)=>{const i=r||t,o=(e.has(i)?e:e.set(i,new Set)).get(i);return o.add(s),()=>{o?.delete(s),o.size||e.delete(i)}},n},Qre=t=>(t.c||(t.c=uT()),t.m||(t.m=uT()),t.u||(t.u=uT()),t.f||(t.f=Wre()),t),Yre=Symbol(),Jre=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,s=new Set,i=new Set,o={},a=(p,...g)=>p.read(...g),l=(p,...g)=>p.write(...g),c=(p,g)=>{var b;return(b=p.unstable_onInit)==null?void 0:b.call(p,g)},d=(p,g)=>{var b;return(b=p.onMount)==null?void 0:b.call(p,g)},...f)=>{const p=f[0]||(_=>{if((Gw?"production":void 0)!=="production"&&!_)throw new Error("Atom is undefined or null");let N=t.get(_);return N||(N={d:new Map,p:new Set,n:0},t.set(_,N),c?.(_,R)),N}),g=f[1]||(()=>{const _=[],N=O=>{try{O()}catch(D){_.push(D)}};do{o.f&&N(o.f);const O=new Set,D=O.add.bind(O);r.forEach(k=>{var z;return(z=e.get(k))==null?void 0:z.l.forEach(D)}),r.clear(),i.forEach(D),i.clear(),s.forEach(D),s.clear(),O.forEach(N),r.size&&b()}while(r.size||i.size||s.size);if(_.length)throw new AggregateError(_)}),b=f[2]||(()=>{const _=[],N=new WeakSet,O=new WeakSet,D=Array.from(r);for(;D.length;){const k=D[D.length-1],z=p(k);if(O.has(k)){D.pop();continue}if(N.has(k)){if(n.get(k)===z.n)_.push([k,z]);else if((Gw?"production":void 0)!=="production"&&n.has(k))throw new Error("[Bug] invalidated atom exists");O.add(k),D.pop();continue}N.add(k);for(const K of BB(k,z,e))N.has(K)||D.push(K)}for(let k=_.length-1;k>=0;--k){const[z,K]=_[k];let q=!1;for(const I of K.d.keys())if(I!==z&&r.has(I)){q=!0;break}q&&(w(z),x(z)),n.delete(z)}}),w=f[3]||(_=>{var N;const O=p(_);if(IB(O)&&(e.has(_)&&n.get(_)!==O.n||Array.from(O.d).every(([M,j])=>w(M).n===j)))return O;O.d.clear();let D=!0;const k=()=>{e.has(_)&&(x(_),b(),g())},z=M=>{var j;if(PB(_,M)){const F=p(M);if(!IB(F))if(OB(M))lT(M,M.init,p);else throw new Error("no atom init");return PE(F)}const G=w(M);try{return PE(G)}finally{O.d.set(M,G.n),kB(O.v)&&YH(_,O.v,G),(j=e.get(M))==null||j.t.add(_),D||k()}};let K,q;const I={get signal(){return K||(K=new AbortController),K.signal},get setSelf(){return(Gw?"production":void 0)!=="production"&&!cT(_)&&console.warn("setSelf function cannot be used with read-only atom"),!q&&cT(_)&&(q=(...M)=>{if((Gw?"production":void 0)!=="production"&&D&&console.warn("setSelf function cannot be called in sync"),!D)try{return v(_,...M)}finally{b(),g()}}),q}},P=O.n;try{const M=a(_,z,I);return lT(_,M,p),l2(M)&&(QH(M,()=>K?.abort()),M.then(k,k)),O}catch(M){return delete O.v,O.e=M,++O.n,O}finally{D=!1,P!==O.n&&n.get(_)===P&&(n.set(_,O.n),r.add(_),(N=o.c)==null||N.call(o,_))}}),m=f[4]||(_=>{const N=[_];for(;N.length;){const O=N.pop(),D=p(O);for(const k of BB(O,D,e)){const z=p(k);n.set(k,z.n),N.push(k)}}}),v=f[5]||((_,...N)=>{let O=!0;const D=z=>PE(w(z)),k=(z,...K)=>{var q;const I=p(z);try{if(PB(_,z)){if(!OB(z))throw new Error("atom not writable");const P=I.n,M=K[0];lT(z,M,p),x(z),P!==I.n&&(r.add(z),(q=o.c)==null||q.call(o,z),m(z));return}else return v(z,...K)}finally{O||(b(),g())}};try{return l(_,D,k,...N)}finally{O=!1}}),x=f[6]||(_=>{var N;const O=p(_),D=e.get(_);if(D&&!kB(O.v)){for(const[k,z]of O.d)if(!D.d.has(k)){const K=p(k);C(k).t.add(_),D.d.add(k),z!==K.n&&(r.add(k),(N=o.c)==null||N.call(o,k),m(k))}for(const k of D.d||[])if(!O.d.has(k)){D.d.delete(k);const z=S(k);z?.t.delete(_)}}}),C=f[7]||(_=>{var N;const O=p(_);let D=e.get(_);if(!D){w(_);for(const k of O.d.keys())C(k).t.add(_);if(D={l:new Set,d:new Set(O.d.keys()),t:new Set},e.set(_,D),(N=o.m)==null||N.call(o,_),cT(_)){const k=()=>{let z=!0;const K=(...q)=>{try{return v(_,...q)}finally{z||(b(),g())}};try{const q=d(_,K);q&&(D.u=()=>{z=!0;try{q()}finally{z=!1}})}finally{z=!1}};s.add(k)}}return D}),S=f[8]||(_=>{var N;const O=p(_);let D=e.get(_);if(D&&!D.l.size&&!Array.from(D.t).some(k=>{var z;return(z=e.get(k))==null?void 0:z.d.has(_)})){D.u&&i.add(D.u),D=void 0,e.delete(_),(N=o.u)==null||N.call(o,_);for(const k of O.d.keys()){const z=S(k);z?.t.delete(_)}return}return D}),T=[t,e,n,r,s,i,o,a,l,c,d,p,g,b,w,m,v,x,C,S],R={get:_=>PE(w(_)),set:(_,...N)=>{try{return v(_,...N)}finally{b(),g()}},sub:(_,N)=>{const D=C(_).l;return D.add(N),g(),()=>{D.delete(N),S(_),g()}}};return Object.defineProperty(R,Yre,{value:T}),R},JH=Jre,Zre=Qre,DB=QH,TI={};let Xre=0;function _s(t,e){const n=`atom${++Xre}`,r={toString(){return(TI?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=ese,r.write=tse),e&&(r.write=e),r}function ese(t){return t(this)}function tse(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const nse=()=>{let t=0;const e=Zre({}),n=new WeakMap,r=new WeakMap,s=JH(n,r,void 0,void 0,void 0,void 0,e,void 0,(a,l,c,...d)=>t?c(a,...d):a.write(l,c,...d)),i=new Set;return e.m.add(void 0,a=>{i.add(a);const l=n.get(a);l.m=r.get(a)}),e.u.add(void 0,a=>{i.delete(a);const l=n.get(a);delete l.m}),Object.assign(s,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:a=>{const l={read:()=>null,write:(c,d)=>{++t;try{for(const[f,p]of a)"init"in f&&d(f,p)}finally{--t}}};s.set(l)}})};function rse(){return(TI?"production":void 0)!=="production"?nse():JH()}let cb;function RI(){return cb||(cb=rse(),(TI?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=cb),globalThis.__JOTAI_DEFAULT_STORE__!==cb&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),cb}const sse={},ise=W.createContext(void 0);function ZH(t){return W.useContext(ise)||RI()}const eP=t=>typeof t?.then=="function",tP=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},ose=at.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(tP(t),t)}),dT=new WeakMap,MB=(t,e)=>{let n=dT.get(t);return n||(n=new Promise((r,s)=>{let i=t;const o=c=>d=>{i===c&&r(d)},a=c=>d=>{i===c&&s(d)},l=()=>{try{const c=e();eP(c)?(dT.set(c,n),i=c,c.then(o(c),a(c)),DB(c,l)):r(c)}catch(c){s(c)}};t.then(o(t),a(t)),DB(t,l)}),dT.set(t,n)),n};function u2(t,e){const{delay:n,unstable_promiseStatus:r=!at.use}={},s=ZH(),[[i,o,a],l]=W.useReducer(d=>{const f=s.get(t);return Object.is(d[0],f)&&d[1]===s&&d[2]===t?d:[f,s,t]},void 0,()=>[s.get(t),s,t]);let c=i;if((o!==s||a!==t)&&(l(),c=s.get(t)),W.useEffect(()=>{const d=s.sub(t,()=>{if(r)try{const f=s.get(t);eP(f)&&tP(MB(f,()=>s.get(t)))}catch{}if(typeof n=="number"){setTimeout(l,n);return}l()});return l(),d},[s,t,n,r]),W.useDebugValue(c),eP(c)){const d=MB(c,()=>s.get(t));return r&&tP(d),ose(d)}return c}function qo(t,e){const n=ZH();return W.useCallback((...s)=>{if((sse?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}function ks(t,e){return[u2(t),qo(t)]}function XH(t,e){return function(){return t.apply(e,arguments)}}const{toString:ase}=Object.prototype,{getPrototypeOf:PI}=Object,{iterator:vC,toStringTag:ez}=Symbol,xC=(t=>e=>{const n=ase.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pl=t=>(t=t.toLowerCase(),e=>xC(e)===t),EC=t=>e=>typeof e===t,{isArray:zm}=Array,S1=EC("undefined");function cse(t){return t!==null&&!S1(t)&&t.constructor!==null&&!S1(t.constructor)&&Vo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tz=pl("ArrayBuffer");function lse(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tz(t.buffer),e}const use=EC("string"),Vo=EC("function"),nz=EC("number"),AC=t=>t!==null&&typeof t=="object",dse=t=>t===!0||t===!1,UA=t=>{if(xC(t)!=="object")return!1;const e=PI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ez in t)&&!(vC in t)},fse=pl("Date"),hse=pl("File"),pse=pl("Blob"),gse=pl("FileList"),mse=t=>AC(t)&&Vo(t.pipe),yse=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vo(t.append)&&((e=xC(t))==="formdata"||e==="object"&&Vo(t.toString)&&t.toString()==="[object FormData]"))},bse=pl("URLSearchParams"),[wse,vse,xse,Ese]=["ReadableStream","Request","Response","Headers"].map(pl),Ase=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),zm(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function rz(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const kp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sz=t=>!S1(t)&&t!==kp;function nP(){const{caseless:t}=sz(this)&&this||{},e={},n=(r,s)=>{const i=t&&rz(e,s)||s;UA(e[i])&&UA(r)?e[i]=nP(e[i],r):UA(r)?e[i]=nP({},r):zm(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&kv(arguments[r],n);return e}const Cse=(t,e,n,{allOwnKeys:r}={})=>(kv(e,(s,i)=>{n&&Vo(s)?t[i]=XH(s,n):t[i]=s},{allOwnKeys:r}),t),Sse=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_se=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Nse=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&PI(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Tse=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Rse=t=>{if(!t)return null;if(zm(t))return t;let e=t.length;if(!nz(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Pse=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&PI(Uint8Array)),Ose=(t,e)=>{const r=(t&&t[vC]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Ise=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},kse=pl("HTMLFormElement"),Bse=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),UB=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Dse=pl("RegExp"),iz=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kv(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Mse=t=>{iz(t,(e,n)=>{if(Vo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Vo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Use=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return zm(t)?r(t):r(String(t).split(e)),n},Lse=()=>{},jse=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Fse(t){return!!(t&&Vo(t.append)&&t[ez]==="FormData"&&t[vC])}const $se=t=>{const e=new Array(10),n=(r,s)=>{if(AC(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=zm(r)?[]:{};return kv(r,(o,a)=>{const l=n(o,s+1);!S1(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Hse=pl("AsyncFunction"),zse=t=>t&&(AC(t)||Vo(t))&&Vo(t.then)&&Vo(t.catch),oz=((t,e)=>t?setImmediate:e?((n,r)=>(kp.addEventListener("message",({source:s,data:i})=>{s===kp&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),kp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vo(kp.postMessage)),qse=typeof queueMicrotask<"u"?queueMicrotask.bind(kp):typeof process<"u"&&process.nextTick||oz,Vse=t=>t!=null&&Vo(t[vC]),qe={isArray:zm,isArrayBuffer:tz,isBuffer:cse,isFormData:yse,isArrayBufferView:lse,isString:use,isNumber:nz,isBoolean:dse,isObject:AC,isPlainObject:UA,isReadableStream:wse,isRequest:vse,isResponse:xse,isHeaders:Ese,isUndefined:S1,isDate:fse,isFile:hse,isBlob:pse,isRegExp:Dse,isFunction:Vo,isStream:mse,isURLSearchParams:bse,isTypedArray:Pse,isFileList:gse,forEach:kv,merge:nP,extend:Cse,trim:Ase,stripBOM:Sse,inherits:_se,toFlatObject:Nse,kindOf:xC,kindOfTest:pl,endsWith:Tse,toArray:Rse,forEachEntry:Ose,matchAll:Ise,isHTMLForm:kse,hasOwnProperty:UB,hasOwnProp:UB,reduceDescriptors:iz,freezeMethods:Mse,toObjectSet:Use,toCamelCase:Bse,noop:Lse,toFiniteNumber:jse,findKey:rz,global:kp,isContextDefined:sz,isSpecCompliantForm:Fse,toJSONObject:$se,isAsyncFn:Hse,isThenable:zse,setImmediate:oz,asap:qse,isIterable:Vse};function Cn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}qe.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const az=Cn.prototype,cz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cz[t]={value:t}});Object.defineProperties(Cn,cz);Object.defineProperty(az,"isAxiosError",{value:!0});Cn.from=(t,e,n,r,s,i)=>{const o=Object.create(az);return qe.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Cn.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Gse=null;function rP(t){return qe.isPlainObject(t)||qe.isArray(t)}function lz(t){return qe.endsWith(t,"[]")?t.slice(0,-2):t}function LB(t,e,n){return t?t.concat(e).map(function(s,i){return s=lz(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Kse(t){return qe.isArray(t)&&!t.some(rP)}const Wse=qe.toFlatObject(qe,{},null,function(e){return/^is[A-Z]/.test(e)});function CC(t,e,n){if(!qe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=qe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,m){return!qe.isUndefined(m[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(e);if(!qe.isFunction(s))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(qe.isDate(b))return b.toISOString();if(qe.isBoolean(b))return b.toString();if(!l&&qe.isBlob(b))throw new Cn("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(b)||qe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,w,m){let v=b;if(b&&!m&&typeof b=="object"){if(qe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(qe.isArray(b)&&Kse(b)||(qe.isFileList(b)||qe.endsWith(w,"[]"))&&(v=qe.toArray(b)))return w=lz(w),v.forEach(function(C,S){!(qe.isUndefined(C)||C===null)&&e.append(o===!0?LB([w],S,i):o===null?w:w+"[]",c(C))}),!1}return rP(b)?!0:(e.append(LB(m,w,i),c(b)),!1)}const f=[],p=Object.assign(Wse,{defaultVisitor:d,convertValue:c,isVisitable:rP});function g(b,w){if(!qe.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(b),qe.forEach(b,function(v,x){(!(qe.isUndefined(v)||v===null)&&s.call(e,v,qe.isString(x)?x.trim():x,w,p))===!0&&g(v,w?w.concat(x):[x])}),f.pop()}}if(!qe.isObject(t))throw new TypeError("data must be an object");return g(t),e}function jB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function OI(t,e){this._pairs=[],t&&CC(t,this,e)}const uz=OI.prototype;uz.append=function(e,n){this._pairs.push([e,n])};uz.toString=function(e){const n=e?function(r){return e.call(this,r,jB)}:jB;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Qse(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dz(t,e,n){if(!e)return t;const r=n&&n.encode||Qse;qe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=qe.isURLSearchParams(e)?e.toString():new OI(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class FB{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yse=typeof URLSearchParams<"u"?URLSearchParams:OI,Jse=typeof FormData<"u"?FormData:null,Zse=typeof Blob<"u"?Blob:null,Xse={isBrowser:!0,classes:{URLSearchParams:Yse,FormData:Jse,Blob:Zse},protocols:["http","https","file","blob","url","data"]},II=typeof window<"u"&&typeof document<"u",sP=typeof navigator=="object"&&navigator||void 0,eie=II&&(!sP||["ReactNative","NativeScript","NS"].indexOf(sP.product)<0),tie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nie=II&&window.location.href||"http://localhost",rie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:II,hasStandardBrowserEnv:eie,hasStandardBrowserWebWorkerEnv:tie,navigator:sP,origin:nie},Symbol.toStringTag,{value:"Module"})),Yi={...rie,...Xse};function sie(t,e){return CC(t,new Yi.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Yi.isNode&&qe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function iie(t){return qe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oie(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function hz(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&qe.isArray(s)?s.length:o,l?(qe.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!qe.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&qe.isArray(s[o])&&(s[o]=oie(s[o])),!a)}if(qe.isFormData(t)&&qe.isFunction(t.entries)){const n={};return qe.forEachEntry(t,(r,s)=>{e(iie(r),s,n,0)}),n}return null}function aie(t,e,n){if(qe.isString(t))try{return(e||JSON.parse)(t),qe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Bv={transitional:fz,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=qe.isObject(e);if(i&&qe.isHTMLForm(e)&&(e=new FormData(e)),qe.isFormData(e))return s?JSON.stringify(hz(e)):e;if(qe.isArrayBuffer(e)||qe.isBuffer(e)||qe.isStream(e)||qe.isFile(e)||qe.isBlob(e)||qe.isReadableStream(e))return e;if(qe.isArrayBufferView(e))return e.buffer;if(qe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sie(e,this.formSerializer).toString();if((a=qe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return CC(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),aie(e)):e}],transformResponse:[function(e){const n=this.transitional||Bv.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(qe.isResponse(e)||qe.isReadableStream(e))return e;if(e&&qe.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Cn.from(a,Cn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yi.classes.FormData,Blob:Yi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],t=>{Bv.headers[t]={}});const cie=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lie=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&cie[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$B=Symbol("internals");function lb(t){return t&&String(t).trim().toLowerCase()}function LA(t){return t===!1||t==null?t:qe.isArray(t)?t.map(LA):String(t)}function uie(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const die=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fT(t,e,n,r,s){if(qe.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!qe.isString(e)){if(qe.isString(r))return e.indexOf(r)!==-1;if(qe.isRegExp(r))return r.test(e)}}function fie(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function hie(t,e){const n=qe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Go=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=lb(l);if(!d)throw new Error("header name must be a non-empty string");const f=qe.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=LA(a))}const o=(a,l)=>qe.forEach(a,(c,d)=>i(c,d,l));if(qe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(qe.isString(e)&&(e=e.trim())&&!die(e))o(lie(e),n);else if(qe.isObject(e)&&qe.isIterable(e)){let a={},l,c;for(const d of e){if(!qe.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?qe.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=lb(e),e){const r=qe.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return uie(s);if(qe.isFunction(n))return n.call(this,s,r);if(qe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=lb(e),e){const r=qe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=lb(o),o){const a=qe.findKey(r,o);a&&(!n||fT(r,r[a],a,n))&&(delete r[a],s=!0)}}return qe.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||fT(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return qe.forEach(this,(s,i)=>{const o=qe.findKey(r,i);if(o){n[o]=LA(s),delete n[i];return}const a=e?fie(i):String(i).trim();a!==i&&delete n[i],n[a]=LA(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return qe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&qe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[$B]=this[$B]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=lb(o);r[a]||(hie(s,o),r[a]=!0)}return qe.isArray(e)?e.forEach(i):i(e),this}};Go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(Go.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});qe.freezeMethods(Go);function hT(t,e){const n=this||Bv,r=e||n,s=Go.from(r.headers);let i=r.data;return qe.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function pz(t){return!!(t&&t.__CANCEL__)}function qm(t,e,n){Cn.call(this,t??"canceled",Cn.ERR_CANCELED,e,n),this.name="CanceledError"}qe.inherits(qm,Cn,{__CANCEL__:!0});function gz(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pie(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gie(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const g=d&&c-d;return g?Math.round(p*1e3/g):void 0}}function mie(t,e){let n=0,r=1e3/e,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const d2=(t,e,n=3)=>{let r=0;const s=gie(50,250);return mie(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},HB=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},zB=t=>(...e)=>qe.asap(()=>t(...e)),yie=Yi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Yi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Yi.origin),Yi.navigator&&/(msie|trident)/i.test(Yi.navigator.userAgent)):()=>!0,bie=Yi.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];qe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),qe.isString(r)&&o.push("path="+r),qe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wie(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vie(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mz(t,e,n){let r=!wie(e);return t&&(r||n==!1)?vie(t,e):e}const qB=t=>t instanceof Go?{...t}:t;function Zp(t,e){e=e||{};const n={};function r(c,d,f,p){return qe.isPlainObject(c)&&qe.isPlainObject(d)?qe.merge.call({caseless:p},c,d):qe.isPlainObject(d)?qe.merge({},d):qe.isArray(d)?d.slice():d}function s(c,d,f,p){if(qe.isUndefined(d)){if(!qe.isUndefined(c))return r(void 0,c,f,p)}else return r(c,d,f,p)}function i(c,d){if(!qe.isUndefined(d))return r(void 0,d)}function o(c,d){if(qe.isUndefined(d)){if(!qe.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(qB(c),qB(d),f,!0)};return qe.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||s,p=f(t[d],e[d],d);qe.isUndefined(p)&&f!==a||(n[d]=p)}),n}const yz=t=>{const e=Zp({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Go.from(o),e.url=dz(mz(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(qe.isFormData(n)){if(Yi.hasStandardBrowserEnv||Yi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Yi.hasStandardBrowserEnv&&(r&&qe.isFunction(r)&&(r=r(e)),r||r!==!1&&yie(e.url))){const c=s&&i&&bie.read(i);c&&o.set(s,c)}return e},xie=typeof XMLHttpRequest<"u",Eie=xie&&function(t){return new Promise(function(n,r){const s=yz(t);let i=s.data;const o=Go.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,p,g,b;function w(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function v(){if(!m)return;const C=Go.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:C,config:t,request:m};gz(function(_){n(_),w()},function(_){r(_),w()},T),m=null}"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(r(new Cn("Request aborted",Cn.ECONNABORTED,t,m)),m=null)},m.onerror=function(){r(new Cn("Network Error",Cn.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||fz;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new Cn(S,T.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,t,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&qe.forEach(o.toJSON(),function(S,T){m.setRequestHeader(T,S)}),qe.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),a&&a!=="json"&&(m.responseType=s.responseType),c&&([p,b]=d2(c,!0),m.addEventListener("progress",p)),l&&m.upload&&([f,g]=d2(l),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=C=>{m&&(r(!C||C.type?new qm(null,t,m):C),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=pie(s.url);if(x&&Yi.protocols.indexOf(x)===-1){r(new Cn("Unsupported protocol "+x+":",Cn.ERR_BAD_REQUEST,t));return}m.send(i||null)})},Aie=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof Cn?d:new qm(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Cn(`timeout ${e} of ms exceeded`,Cn.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>qe.asap(a),l}},Cie=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Sie=async function*(t,e){for await(const n of _ie(t))yield*Cie(n,e)},_ie=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},VB=(t,e,n,r)=>{const s=Sie(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},SC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bz=SC&&typeof ReadableStream=="function",Nie=SC&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wz=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Tie=bz&&wz(()=>{let t=!1;const e=new Request(Yi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),GB=64*1024,iP=bz&&wz(()=>qe.isReadableStream(new Response("").body)),f2={stream:iP&&(t=>t.body)};SC&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f2[e]&&(f2[e]=qe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Cn(`Response type '${e}' is not supported`,Cn.ERR_NOT_SUPPORT,r)})})})(new Response);const Rie=async t=>{if(t==null)return 0;if(qe.isBlob(t))return t.size;if(qe.isSpecCompliantForm(t))return(await new Request(Yi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(t)||qe.isArrayBuffer(t))return t.byteLength;if(qe.isURLSearchParams(t)&&(t=t+""),qe.isString(t))return(await Nie(t)).byteLength},Pie=async(t,e)=>{const n=qe.toFiniteNumber(t.getContentLength());return n??Rie(e)},Oie=SC&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:p}=yz(t);c=c?(c+"").toLowerCase():"text";let g=Aie([s,i&&i.toAbortSignal()],o),b;const w=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let m;try{if(l&&Tie&&n!=="get"&&n!=="head"&&(m=await Pie(d,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),R;if(qe.isFormData(r)&&(R=T.headers.get("content-type"))&&d.setContentType(R),T.body){const[_,N]=HB(m,d2(zB(l)));r=VB(T.body,GB,_,N)}}qe.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;b=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let x=await fetch(b,p);const C=iP&&(c==="stream"||c==="response");if(iP&&(a||C&&w)){const T={};["status","statusText","headers"].forEach(O=>{T[O]=x[O]});const R=qe.toFiniteNumber(x.headers.get("content-length")),[_,N]=a&&HB(R,d2(zB(a),!0))||[];x=new Response(VB(x.body,GB,_,()=>{N&&N(),w&&w()}),T)}c=c||"text";let S=await f2[qe.findKey(f2,c)||"text"](x,t);return!C&&w&&w(),await new Promise((T,R)=>{gz(T,R,{data:S,headers:Go.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:b})})}catch(v){throw w&&w(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,t,b),{cause:v.cause||v}):Cn.from(v,v&&v.code,t,b)}}),oP={http:Gse,xhr:Eie,fetch:Oie};qe.forEach(oP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const KB=t=>`- ${t}`,Iie=t=>qe.isFunction(t)||t===null||t===!1,vz={getAdapter:t=>{t=qe.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!Iie(n)&&(r=oP[(o=String(n)).toLowerCase()],r===void 0))throw new Cn(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(KB).join(`
`):" "+KB(i[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:oP};function pT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qm(null,t)}function WB(t){return pT(t),t.headers=Go.from(t.headers),t.data=hT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vz.getAdapter(t.adapter||Bv.adapter)(t).then(function(r){return pT(t),r.data=hT.call(t,t.transformResponse,r),r.headers=Go.from(r.headers),r},function(r){return pz(r)||(pT(t),r&&r.response&&(r.response.data=hT.call(t,t.transformResponse,r.response),r.response.headers=Go.from(r.response.headers))),Promise.reject(r)})}const xz="1.10.0",_C={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_C[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const QB={};_C.transitional=function(e,n,r){function s(i,o){return"[Axios v"+xz+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Cn(s(o," has been removed"+(n?" in "+n:"")),Cn.ERR_DEPRECATED);return n&&!QB[o]&&(QB[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};_C.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function kie(t,e,n){if(typeof t!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Cn("option "+i+" must be "+l,Cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Cn("Unknown option "+i,Cn.ERR_BAD_OPTION)}}const jA={assertOptions:kie,validators:_C},Il=jA.validators;let Gp=class{constructor(e){this.defaults=e||{},this.interceptors={request:new FB,response:new FB}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zp(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&jA.assertOptions(r,{silentJSONParsing:Il.transitional(Il.boolean),forcedJSONParsing:Il.transitional(Il.boolean),clarifyTimeoutError:Il.transitional(Il.boolean)},!1),s!=null&&(qe.isFunction(s)?n.paramsSerializer={serialize:s}:jA.assertOptions(s,{encode:Il.function,serialize:Il.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),jA.assertOptions(n,{baseUrl:Il.spelling("baseURL"),withXsrfToken:Il.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&qe.merge(i.common,i[n.method]);i&&qe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Go.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,f=0,p;if(!l){const b=[WB.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,c),p=b.length,d=Promise.resolve(n);f<p;)d=d.then(b[f++],b[f++]);return d}p=a.length;let g=n;for(f=0;f<p;){const b=a[f++],w=a[f++];try{g=b(g)}catch(m){w.call(this,m);break}}try{d=WB.call(this,g)}catch(b){return Promise.reject(b)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=Zp(this.defaults,e);const n=mz(e.baseURL,e.url,e.allowAbsoluteUrls);return dz(n,e.params,e.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(e){Gp.prototype[e]=function(n,r){return this.request(Zp(r||{},{method:e,url:n,data:(r||{}).data}))}});qe.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Zp(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gp.prototype[e]=n(),Gp.prototype[e+"Form"]=n(!0)});let Bie=class Ez{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new qm(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ez(function(s){e=s}),cancel:e}}};function Die(t){return function(n){return t.apply(null,n)}}function Mie(t){return qe.isObject(t)&&t.isAxiosError===!0}const aP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aP).forEach(([t,e])=>{aP[e]=t});function Az(t){const e=new Gp(t),n=XH(Gp.prototype.request,e);return qe.extend(n,Gp.prototype,e,{allOwnKeys:!0}),qe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Az(Zp(t,s))},n}const Cs=Az(Bv);Cs.Axios=Gp;Cs.CanceledError=qm;Cs.CancelToken=Bie;Cs.isCancel=pz;Cs.VERSION=xz;Cs.toFormData=CC;Cs.AxiosError=Cn;Cs.Cancel=Cs.CanceledError;Cs.all=function(e){return Promise.all(e)};Cs.spread=Die;Cs.isAxiosError=Mie;Cs.mergeConfig=Zp;Cs.AxiosHeaders=Go;Cs.formToJSON=t=>hz(qe.isHTMLForm(t)?new FormData(t):t);Cs.getAdapter=vz.getAdapter;Cs.HttpStatusCode=aP;Cs.default=Cs;const{Axios:c7e,AxiosError:l7e,CanceledError:u7e,isCancel:d7e,CancelToken:f7e,VERSION:h7e,all:p7e,Cancel:g7e,isAxiosError:Xp,spread:m7e,toFormData:y7e,AxiosHeaders:b7e,HttpStatusCode:w7e,formToJSON:v7e,getAdapter:x7e,mergeConfig:E7e}=Cs,Uie="",en=Cs.create({baseURL:Uie});en.interceptors.request.use(t=>{const n=RI().get(Od);return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));en.interceptors.response.use(t=>t,t=>{if(Cs.isAxiosError(t)){const e=t.response?.status;if(e===401||e===403){const n=RI();n.set(Od,null),n.set(xc,null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.hash="/login"}}return Promise.reject(t)});const cP="wallet_info",Lie=()=>{try{const t=localStorage.getItem(cP);return t?JSON.parse(t):null}catch{return null}},Cz=t=>{try{t?localStorage.setItem(cP,JSON.stringify(t)):localStorage.removeItem(cP)}catch{}},kI=_s(Lie()),jie=_s(t=>t(kI)?.balance||"0"),BI=_s(null,async(t,e)=>{try{const n=await en.get("/api/wallet");e(kI,n.data),Cz(n.data)}catch{}}),Fie=_s(null,async(t,e)=>{e(kI,null),Cz(null)}),$ie=()=>{try{return localStorage.getItem("auth_token")}catch{return null}},Hie=()=>{try{const t=localStorage.getItem("auth_user");return t?JSON.parse(t):null}catch{return null}},Sz=t=>{try{t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token")}catch{}},_z=t=>{try{t?localStorage.setItem("auth_user",JSON.stringify(t)):localStorage.removeItem("auth_user")}catch{}},Od=_s($ie()),xc=_s(Hie());_s(null,(t,e,{token:n,user:r})=>{e(Od,n),e(xc,r),Sz(n),_z(r)});const zie=_s(null,(t,e)=>{e(Od,null),e(xc,null),e(Fie),Sz(null),_z(null)}),qie=_s(t=>!!t(Od)&&!!t(xc));function Vie(){return E.jsx("footer",{className:"py-4 border-t text-center text-sm text-gray-500",children:E.jsxs("small",{children:["commit ","95a9262",": ","Merge pull request #81 from leledumbo549/codex/redirect-to-login-on-place-order"]})})}function Gie(){const t=gs(),[e]=ks(Od),[n]=ks(xc);return W.useEffect(()=>{console.log("Loading component - token:",e,"user:",n),console.log("Current location:",window.location.href),e&&n?(console.log("User authenticated, navigating to:",n.role),n.role==="buyer"?t("/home",{replace:!0}):n.role==="seller"?t("/seller",{replace:!0}):n.role==="admin"&&t("/admin",{replace:!0})):t("/home",{replace:!0})},[t,e,n]),E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen space-y-4",children:[E.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-300 border-t-transparent"}),E.jsx(Vie,{})]})}function YB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dv(...t){return e=>{let n=!1;const r=t.map(s=>{const i=YB(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():YB(t[s],null)}}}}function zn(...t){return W.useCallback(Dv(...t),t)}function e0(t){const e=Kie(t),n=W.forwardRef((r,s)=>{const{children:i,...o}=r,a=W.Children.toArray(i),l=a.find(Qie);if(l){const c=l.props.children,d=a.map(f=>f===l?W.Children.count(c)>1?W.Children.only(null):W.isValidElement(c)?c.props.children:null:f);return E.jsx(e,{...o,ref:s,children:W.isValidElement(c)?W.cloneElement(c,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Nz=e0("Slot");function Kie(t){const e=W.forwardRef((n,r)=>{const{children:s,...i}=n;if(W.isValidElement(s)){const o=Jie(s),a=Yie(i,s.props);return s.type!==W.Fragment&&(a.ref=r?Dv(r,o):o),W.cloneElement(s,a)}return W.Children.count(s)>1?W.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tz=Symbol("radix.slottable");function Wie(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Tz,e}function Qie(t){return W.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tz}function Yie(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Jie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Rz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pz(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Rz(t))&&(r&&(r+=" "),r+=e);return r}const JB=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZB=Pz,NC=(t,e)=>n=>{var r;if(e?.variants==null)return ZB(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n?.[c],f=i?.[c];if(d===null)return null;const p=JB(d)||JB(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(b=>{let[w,m]=b;return Array.isArray(m)?m.includes({...i,...a}[w]):{...i,...a}[w]===m})?[...c,f,p]:c},[]);return ZB(t,o,l,n?.class,n?.className)},DI="-",Zie=t=>{const e=eoe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(DI);return a[0]===""&&a.length!==1&&a.shift(),Oz(a,e)||Xie(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Oz=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Oz(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(DI);return e.validators.find(({validator:o})=>o(i))?.classGroupId},XB=/^\[(.+)\]$/,Xie=t=>{if(XB.test(t)){const e=XB.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eoe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)lP(n[s],r,s,e);return r},lP=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:eD(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(toe(s)){lP(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{lP(o,eD(e,i),n,r)})})},eD=(t,e)=>{let n=t;return e.split(DI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},toe=t=>t.isThemeGetter,noe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uP="!",dP=":",roe=dP.length,soe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let b=0;b<s.length;b++){let w=s[b];if(o===0&&a===0){if(w===dP){i.push(s.slice(l,b)),l=b+roe;continue}if(w==="/"){c=b;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=i.length===0?s:s.substring(l),f=ioe(d),p=f!==d,g=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const s=e+dP,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},ioe=t=>t.endsWith(uP)?t.substring(0,t.length-1):t.startsWith(uP)?t.substring(1):t,ooe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},aoe=t=>({cache:noe(t.cacheSize),parseClassName:soe(t),sortModifiers:ooe(t),...Zie(t)}),coe=/\s+/,loe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(coe);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let m=!!w,v=r(m?b.substring(0,w):b);if(!v){if(!m){l=d+(l.length>0?" "+l:l);continue}if(v=r(b),!v){l=d+(l.length>0?" "+l:l);continue}m=!1}const x=i(p).join(":"),C=g?x+uP:x,S=C+v;if(o.includes(S))continue;o.push(S);const T=s(v,m);for(let R=0;R<T.length;++R){const _=T[R];o.push(C+_)}l=d+(l.length>0?" "+l:l)}return l};function uoe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Iz(e))&&(r&&(r+=" "),r+=n);return r}const Iz=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Iz(t[r]))&&(n&&(n+=" "),n+=e);return n};function doe(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=aoe(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=loe(l,n);return s(l,d),d}return function(){return i(uoe.apply(null,arguments))}}const qs=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Bz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,foe=/^\d+\/\d+$/,hoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,poe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,goe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,moe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yoe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mg=t=>foe.test(t),Dn=t=>!!t&&!Number.isNaN(Number(t)),hf=t=>!!t&&Number.isInteger(Number(t)),gT=t=>t.endsWith("%")&&Dn(t.slice(0,-1)),Du=t=>hoe.test(t),boe=()=>!0,woe=t=>poe.test(t)&&!goe.test(t),Dz=()=>!1,voe=t=>moe.test(t),xoe=t=>yoe.test(t),Eoe=t=>!Mt(t)&&!Ut(t),Aoe=t=>Vm(t,Lz,Dz),Mt=t=>kz.test(t),Dh=t=>Vm(t,jz,woe),mT=t=>Vm(t,Toe,Dn),tD=t=>Vm(t,Mz,Dz),Coe=t=>Vm(t,Uz,xoe),OE=t=>Vm(t,Fz,voe),Ut=t=>Bz.test(t),ub=t=>Gm(t,jz),Soe=t=>Gm(t,Roe),nD=t=>Gm(t,Mz),_oe=t=>Gm(t,Lz),Noe=t=>Gm(t,Uz),IE=t=>Gm(t,Fz,!0),Vm=(t,e,n)=>{const r=kz.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Gm=(t,e,n=!1)=>{const r=Bz.exec(t);return r?r[1]?e(r[1]):n:!1},Mz=t=>t==="position"||t==="percentage",Uz=t=>t==="image"||t==="url",Lz=t=>t==="length"||t==="size"||t==="bg-size",jz=t=>t==="length",Toe=t=>t==="number",Roe=t=>t==="family-name",Fz=t=>t==="shadow",Poe=()=>{const t=qs("color"),e=qs("font"),n=qs("text"),r=qs("font-weight"),s=qs("tracking"),i=qs("leading"),o=qs("breakpoint"),a=qs("container"),l=qs("spacing"),c=qs("radius"),d=qs("shadow"),f=qs("inset-shadow"),p=qs("text-shadow"),g=qs("drop-shadow"),b=qs("blur"),w=qs("perspective"),m=qs("aspect"),v=qs("ease"),x=qs("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...S(),Ut,Mt],R=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],N=()=>[Ut,Mt,l],O=()=>[mg,"full","auto",...N()],D=()=>[hf,"none","subgrid",Ut,Mt],k=()=>["auto",{span:["full",hf,Ut,Mt]},hf,Ut,Mt],z=()=>[hf,"auto",Ut,Mt],K=()=>["auto","min","max","fr",Ut,Mt],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...N()],M=()=>[mg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],j=()=>[t,Ut,Mt],G=()=>[...S(),nD,tD,{position:[Ut,Mt]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",_oe,Aoe,{size:[Ut,Mt]}],$=()=>[gT,ub,Dh],Z=()=>["","none","full",c,Ut,Mt],X=()=>["",Dn,ub,Dh],le=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Dn,gT,nD,tD],ae=()=>["","none",b,Ut,Mt],ce=()=>["none",Dn,Ut,Mt],fe=()=>["none",Dn,Ut,Mt],ve=()=>[Dn,Ut,Mt],Re=()=>[mg,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Du],breakpoint:[Du],color:[boe],container:[Du],"drop-shadow":[Du],ease:["in","out","in-out"],font:[Eoe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Du],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Du],shadow:[Du],spacing:["px",Dn],text:[Du],"text-shadow":[Du],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mg,Mt,Ut,m]}],container:["container"],columns:[{columns:[Dn,Mt,Ut,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[hf,"auto",Ut,Mt]}],basis:[{basis:[mg,"full","auto",a,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dn,mg,"auto","initial","none",Mt]}],grow:[{grow:["",Dn,Ut,Mt]}],shrink:[{shrink:["",Dn,Ut,Mt]}],order:[{order:[hf,"first","last","none",Ut,Mt]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[a,"screen",...M()]}],"min-w":[{"min-w":[a,"screen","none",...M()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,ub,Dh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ut,mT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gT,Mt]}],"font-family":[{font:[Soe,Mt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ut,Mt]}],"line-clamp":[{"line-clamp":[Dn,"none",Ut,mT]}],leading:[{leading:[i,...N()]}],"list-image":[{"list-image":["none",Ut,Mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,Mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dn,"from-font","auto",Ut,Dh]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Dn,"auto",Ut,Mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hf,Ut,Mt],radial:["",Ut,Mt],conic:[hf,Ut,Mt]},Noe,Coe]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dn,Ut,Mt]}],"outline-w":[{outline:["",Dn,ub,Dh]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",d,IE,OE]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,IE,OE]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Dn,Dh]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",p,IE,OE]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Dn,Ut,Mt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dn]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Ut,Mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Dn]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,Mt]}],filter:[{filter:["","none",Ut,Mt]}],blur:[{blur:ae()}],brightness:[{brightness:[Dn,Ut,Mt]}],contrast:[{contrast:[Dn,Ut,Mt]}],"drop-shadow":[{"drop-shadow":["","none",g,IE,OE]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Dn,Ut,Mt]}],"hue-rotate":[{"hue-rotate":[Dn,Ut,Mt]}],invert:[{invert:["",Dn,Ut,Mt]}],saturate:[{saturate:[Dn,Ut,Mt]}],sepia:[{sepia:["",Dn,Ut,Mt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,Mt]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[Dn,Ut,Mt]}],"backdrop-contrast":[{"backdrop-contrast":[Dn,Ut,Mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dn,Ut,Mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dn,Ut,Mt]}],"backdrop-invert":[{"backdrop-invert":["",Dn,Ut,Mt]}],"backdrop-opacity":[{"backdrop-opacity":[Dn,Ut,Mt]}],"backdrop-saturate":[{"backdrop-saturate":[Dn,Ut,Mt]}],"backdrop-sepia":[{"backdrop-sepia":["",Dn,Ut,Mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,Mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dn,"initial",Ut,Mt]}],ease:[{ease:["linear","initial",v,Ut,Mt]}],delay:[{delay:[Dn,Ut,Mt]}],animate:[{animate:["none",x,Ut,Mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ut,Mt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Ut,Mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,Mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,Mt]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Dn,ub,Dh,mT]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ooe=doe(Poe);function Ht(...t){return Ooe(Pz(t))}function Id(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}const MI=NC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ht({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?Nz:"button";return E.jsx(i,{"data-slot":"button",className:Ht(MI({variant:e,size:n,className:t})),...s})}function Mn({className:t,...e}){return E.jsx("div",{"data-slot":"card",className:Ht("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Fr({className:t,...e}){return E.jsx("div",{"data-slot":"card-header",className:Ht("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function $r({className:t,...e}){return E.jsx("div",{"data-slot":"card-title",className:Ht("leading-none font-semibold",t),...e})}function Un({className:t,...e}){return E.jsx("div",{"data-slot":"card-content",className:Ht("px-6",t),...e})}function Ioe({className:t,...e}){return E.jsx("div",{"data-slot":"card-footer",className:Ht("flex items-center px-6 [.border-t]:pt-6",t),...e})}function Hr({className:t,type:e,...n}){return E.jsx("input",{type:e,"data-slot":"input",className:Ht("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const koe=NC("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function nl({className:t,variant:e,...n}){return E.jsx("div",{"data-slot":"alert",role:"alert",className:Ht(koe({variant:e}),t),...n})}function rl({className:t,...e}){return E.jsx("div",{"data-slot":"alert-description",className:Ht("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const Boe=NC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function hs({className:t,variant:e,asChild:n=!1,...r}){const s=n?Nz:"span";return E.jsx(s,{"data-slot":"badge",className:Ht(Boe({variant:e}),t),...r})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Moe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),rD=t=>{const e=Moe(t);return e.charAt(0).toUpperCase()+e.slice(1)},$z=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Uoe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Loe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>W.createElement("svg",{ref:l,...Loe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$z("lucide",s),...!i&&!Uoe(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>W.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=(t,e)=>{const n=W.forwardRef(({className:r,...s},i)=>W.createElement(joe,{ref:i,iconNode:e,className:$z(`lucide-${Doe(rD(t))}`,`lucide-${t}`,r),...s}));return n.displayName=rD(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$oe=Fn("arrow-down",Foe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Km=Fn("arrow-left",Hoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qoe=Fn("arrow-right",zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Goe=Fn("arrow-up-down",Voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Woe=Fn("arrow-up",Koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sD=Fn("chart-column",Qoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Joe=Fn("check",Yoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hz=Fn("chevron-down",Zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eae=Fn("chevron-left",Xoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nae=Fn("chevron-right",tae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sae=Fn("chevron-up",rae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zl=Fn("circle-alert",iae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aae=Fn("circle-check-big",oae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lae=Fn("circle-check",cae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dae=Fn("circle",uae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yT=Fn("clock",fae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pae=Fn("credit-card",hae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mv=Fn("eye",gae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bT=Fn("file-text",mae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],iD=Fn("house",yae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yf=Fn("loader-circle",bae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vae=Fn("log-out",wae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Eae=Fn("menu",xae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M5 12h14",key:"1ays0h"}]],Cae=Fn("minus",Aae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ql=Fn("package",Sae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zz=Fn("plus",_ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],UI=Fn("save",Nae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oD=Fn("search",Tae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qz=Fn("settings",Rae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Oae=Fn("shield-check",Pae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],t0=Fn("shopping-cart",Iae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],nm=Fn("store",kae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Vz=Fn("trash-2",Bae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mae=Fn("truck",Dae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lae=Fn("user-check",Uae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kw=Fn("user",jae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gz=Fn("users",Fae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kz=Fn("x",$ae);function yt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function Hae(t,e){const n=W.createContext(e),r=i=>{const{children:o,...a}=i,l=W.useMemo(()=>a,Object.values(a));return E.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=W.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ec(t,e=[]){let n=[];function r(i,o){const a=W.createContext(o),l=n.length;n=[...n,o];const c=f=>{const{scope:p,children:g,...b}=f,w=p?.[t]?.[l]||a,m=W.useMemo(()=>b,Object.values(b));return E.jsx(w.Provider,{value:m,children:g})};c.displayName=i+"Provider";function d(f,p){const g=p?.[t]?.[l]||a,b=W.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>W.createContext(o));return function(a){const l=a?.[t]||i;return W.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zae(s,...e)]}function zae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return W.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ss=globalThis?.document?W.useLayoutEffect:()=>{},qae=PH[" useId ".trim().toString()]||(()=>{}),Vae=0;function sl(t){const[e,n]=W.useState(qae());return Ss(()=>{n(r=>r??String(Vae++))},[t]),e?`radix-${e}`:""}var Gae=PH[" useInsertionEffect ".trim().toString()]||Ss;function Jf({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Kae({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=W.useRef(t!==void 0);W.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=W.useCallback(d=>{if(a){const f=Wae(d)?d(t):d;f!==t&&o.current?.(f)}else i(d)},[a,t,i,o]);return[l,c]}function Kae({defaultProp:t,onChange:e}){const[n,r]=W.useState(t),s=W.useRef(n),i=W.useRef(e);return Gae(()=>{i.current=e},[e]),W.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function Wae(t){return typeof t=="function"}var Qae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qt=Qae.reduce((t,e)=>{const n=e0(`Primitive.${e}`),r=W.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function h2(t,e){t&&Iv.flushSync(()=>t.dispatchEvent(e))}function fi(t){const e=W.useRef(t);return W.useEffect(()=>{e.current=t}),W.useMemo(()=>(...n)=>e.current?.(...n),[])}function Yae(t,e=globalThis?.document){const n=fi(t);W.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Jae="DismissableLayer",fP="dismissableLayer.update",Zae="dismissableLayer.pointerDownOutside",Xae="dismissableLayer.focusOutside",aD,Wz=W.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=W.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=W.useContext(Wz),[d,f]=W.useState(null),p=d?.ownerDocument??globalThis?.document,[,g]=W.useState({}),b=zn(e,_=>f(_)),w=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(m),x=d?w.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,T=nce(_=>{const N=_.target,O=[...c.branches].some(D=>D.contains(N));!S||O||(s?.(_),o?.(_),_.defaultPrevented||a?.())},p),R=rce(_=>{const N=_.target;[...c.branches].some(D=>D.contains(N))||(i?.(_),o?.(_),_.defaultPrevented||a?.())},p);return Yae(_=>{x===c.layers.size-1&&(r?.(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},p),W.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),cD(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aD)}},[d,p,n,c]),W.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),cD())},[d,c]),W.useEffect(()=>{const _=()=>g({});return document.addEventListener(fP,_),()=>document.removeEventListener(fP,_)},[]),E.jsx(Qt.div,{...l,ref:b,style:{pointerEvents:C?S?"auto":"none":void 0,...t.style},onFocusCapture:yt(t.onFocusCapture,R.onFocusCapture),onBlurCapture:yt(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:yt(t.onPointerDownCapture,T.onPointerDownCapture)})});Uv.displayName=Jae;var ece="DismissableLayerBranch",tce=W.forwardRef((t,e)=>{const n=W.useContext(Wz),r=W.useRef(null),s=zn(e,r);return W.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),E.jsx(Qt.div,{...t,ref:s})});tce.displayName=ece;function nce(t,e=globalThis?.document){const n=fi(t),r=W.useRef(!1),s=W.useRef(()=>{});return W.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Qz(Zae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rce(t,e=globalThis?.document){const n=fi(t),r=W.useRef(!1);return W.useEffect(()=>{const s=i=>{i.target&&!r.current&&Qz(Xae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cD(){const t=new CustomEvent(fP);document.dispatchEvent(t)}function Qz(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?h2(s,i):s.dispatchEvent(i)}var wT="focusScope.autoFocusOnMount",vT="focusScope.autoFocusOnUnmount",lD={bubbles:!1,cancelable:!0},sce="FocusScope",TC=W.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=W.useState(null),c=fi(s),d=fi(i),f=W.useRef(null),p=zn(e,w=>l(w)),g=W.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;W.useEffect(()=>{if(r){let w=function(C){if(g.paused||!a)return;const S=C.target;a.contains(S)?f.current=S:Rf(f.current,{select:!0})},m=function(C){if(g.paused||!a)return;const S=C.relatedTarget;S!==null&&(a.contains(S)||Rf(f.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Rf(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",m);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",m),x.disconnect()}}},[r,a,g.paused]),W.useEffect(()=>{if(a){dD.add(g);const w=document.activeElement;if(!a.contains(w)){const v=new CustomEvent(wT,lD);a.addEventListener(wT,c),a.dispatchEvent(v),v.defaultPrevented||(ice(uce(Yz(a)),{select:!0}),document.activeElement===w&&Rf(a))}return()=>{a.removeEventListener(wT,c),setTimeout(()=>{const v=new CustomEvent(vT,lD);a.addEventListener(vT,d),a.dispatchEvent(v),v.defaultPrevented||Rf(w??document.body,{select:!0}),a.removeEventListener(vT,d),dD.remove(g)},0)}}},[a,c,d,g]);const b=W.useCallback(w=>{if(!n&&!r||g.paused)return;const m=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(m&&v){const x=w.currentTarget,[C,S]=oce(x);C&&S?!w.shiftKey&&v===S?(w.preventDefault(),n&&Rf(C,{select:!0})):w.shiftKey&&v===C&&(w.preventDefault(),n&&Rf(S,{select:!0})):v===x&&w.preventDefault()}},[n,r,g.paused]);return E.jsx(Qt.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});TC.displayName=sce;function ice(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rf(r,{select:e}),document.activeElement!==n)return}function oce(t){const e=Yz(t),n=uD(e,t),r=uD(e.reverse(),t);return[n,r]}function Yz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uD(t,e){for(const n of t)if(!ace(n,{upTo:e}))return n}function ace(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cce(t){return t instanceof HTMLInputElement&&"select"in t}function Rf(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cce(t)&&e&&t.select()}}var dD=lce();function lce(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=fD(t,e),t.unshift(e)},remove(e){t=fD(t,e),t[0]?.resume()}}}function fD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function uce(t){return t.filter(e=>e.tagName!=="A")}var dce="Portal",RC=W.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=W.useState(!1);Ss(()=>i(!0),[]);const o=n||s&&globalThis?.document?.body;return o?NI.createPortal(E.jsx(Qt.div,{...r,ref:e}),o):null});RC.displayName=dce;function fce(t,e){return W.useReducer((n,r)=>e[n][r]??n,t)}var qa=t=>{const{present:e,children:n}=t,r=hce(e),s=typeof n=="function"?n({present:r.isPresent}):W.Children.only(n),i=zn(r.ref,pce(s));return typeof n=="function"||r.isPresent?W.cloneElement(s,{ref:i}):null};qa.displayName="Presence";function hce(t){const[e,n]=W.useState(),r=W.useRef(null),s=W.useRef(t),i=W.useRef("none"),o=t?"mounted":"unmounted",[a,l]=fce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return W.useEffect(()=>{const c=kE(r.current);i.current=a==="mounted"?c:"none"},[a]),Ss(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=kE(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ss(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const w=kE(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},p=g=>{g.target===e&&(i.current=kE(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:W.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function kE(t){return t?.animationName||"none"}function pce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xT=0;function LI(){W.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hD()),document.body.insertAdjacentElement("beforeend",t[1]??hD()),xT++,()=>{xT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xT--}},[])}function hD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vl=function(){return Vl=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vl.apply(this,arguments)};function Jz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gce(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var FA="right-scroll-bar-position",$A="width-before-scroll-bar",mce="with-scroll-bars-hidden",yce="--removed-body-scroll-bar-size";function ET(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bce(t,e){var n=W.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var wce=typeof window<"u"?W.useLayoutEffect:W.useEffect,pD=new WeakMap;function vce(t,e){var n=bce(null,function(r){return t.forEach(function(s){return ET(s,r)})});return wce(function(){var r=pD.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ET(a,null)}),i.forEach(function(a){s.has(a)||ET(a,o)})}pD.set(n,t)},[t]),n}function xce(t){return t}function Ece(t,e){e===void 0&&(e=xce);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Ace(t){t===void 0&&(t={});var e=Ece(null);return e.options=Vl({async:!0,ssr:!1},t),e}var Zz=function(t){var e=t.sideCar,n=Jz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return W.createElement(r,Vl({},n))};Zz.isSideCarExport=!0;function Cce(t,e){return t.useMedium(e),Zz}var Xz=Ace(),AT=function(){},PC=W.forwardRef(function(t,e){var n=W.useRef(null),r=W.useState({onScrollCapture:AT,onWheelCapture:AT,onTouchMoveCapture:AT}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,b=t.noIsolation,w=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,C=t.gapMode,S=Jz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,R=vce([n,e]),_=Vl(Vl({},S),s);return W.createElement(W.Fragment,null,d&&W.createElement(T,{sideCar:Xz,removeScrollBar:c,shards:f,noRelative:g,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:C}),o?W.cloneElement(W.Children.only(a),Vl(Vl({},_),{ref:R})):W.createElement(x,Vl({},_,{className:l,ref:R}),a))});PC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};PC.classNames={fullWidth:$A,zeroRight:FA};var Sce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _ce(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Sce();return e&&t.setAttribute("nonce",e),t}function Nce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tce(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Rce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_ce())&&(Nce(e,n),Tce(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Pce=function(){var t=Rce();return function(e,n){W.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eq=function(){var t=Pce(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Oce={left:0,top:0,right:0,gap:0},CT=function(t){return parseInt(t||"",10)||0},Ice=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[CT(n),CT(r),CT(s)]},kce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Oce;var e=Ice(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Bce=eq(),rm="data-scroll-locked",Dce=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(rm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(FA,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($A,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(FA," .").concat(FA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($A," .").concat($A,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rm,`] {
    `).concat(yce,": ").concat(a,`px;
  }
`)},gD=function(){var t=parseInt(document.body.getAttribute(rm)||"0",10);return isFinite(t)?t:0},Mce=function(){W.useEffect(function(){return document.body.setAttribute(rm,(gD()+1).toString()),function(){var t=gD()-1;t<=0?document.body.removeAttribute(rm):document.body.setAttribute(rm,t.toString())}},[])},Uce=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Mce();var i=W.useMemo(function(){return kce(s)},[s]);return W.createElement(Bce,{styles:Dce(i,!e,s,n?"":"!important")})},hP=!1;if(typeof window<"u")try{var BE=Object.defineProperty({},"passive",{get:function(){return hP=!0,!0}});window.addEventListener("test",BE,BE),window.removeEventListener("test",BE,BE)}catch{hP=!1}var yg=hP?{passive:!1}:!1,Lce=function(t){return t.tagName==="TEXTAREA"},tq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lce(t)&&n[e]==="visible")},jce=function(t){return tq(t,"overflowY")},Fce=function(t){return tq(t,"overflowX")},mD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nq(t,r);if(s){var i=rq(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$ce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Hce=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nq=function(t,e){return t==="v"?jce(e):Fce(e)},rq=function(t,e){return t==="v"?$ce(e):Hce(e)},zce=function(t,e){return t==="h"&&e==="rtl"?-1:1},qce=function(t,e,n,r,s){var i=zce(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var g=rq(t,a),b=g[0],w=g[1],m=g[2],v=w-m-i*b;(b||v)&&nq(t,a)&&(f+=v,p+=b);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},DE=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yD=function(t){return[t.deltaX,t.deltaY]},bD=function(t){return t&&"current"in t?t.current:t},Vce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Kce=0,bg=[];function Wce(t){var e=W.useRef([]),n=W.useRef([0,0]),r=W.useRef(),s=W.useState(Kce++)[0],i=W.useState(eq)[0],o=W.useRef(t);W.useEffect(function(){o.current=t},[t]),W.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=gce([t.lockRef.current],(t.shards||[]).map(bD),!0).filter(Boolean);return w.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=W.useCallback(function(w,m){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var v=DE(w),x=n.current,C="deltaX"in w?w.deltaX:x[0]-v[0],S="deltaY"in w?w.deltaY:x[1]-v[1],T,R=w.target,_=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in w&&_==="h"&&R.type==="range")return!1;var N=mD(_,R);if(!N)return!0;if(N?T=_:(T=_==="v"?"h":"v",N=mD(_,R)),!N)return!1;if(!r.current&&"changedTouches"in w&&(C||S)&&(r.current=T),!T)return!0;var O=r.current||T;return qce(O,m,w,O==="h"?C:S)},[]),l=W.useCallback(function(w){var m=w;if(!(!bg.length||bg[bg.length-1]!==i)){var v="deltaY"in m?yD(m):DE(m),x=e.current.filter(function(T){return T.name===m.type&&(T.target===m.target||m.target===T.shadowParent)&&Vce(T.delta,v)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var C=(o.current.shards||[]).map(bD).filter(Boolean).filter(function(T){return T.contains(m.target)}),S=C.length>0?a(m,C[0]):!o.current.noIsolation;S&&m.cancelable&&m.preventDefault()}}},[]),c=W.useCallback(function(w,m,v,x){var C={name:w,delta:m,target:v,should:x,shadowParent:Qce(v)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(S){return S!==C})},1)},[]),d=W.useCallback(function(w){n.current=DE(w),r.current=void 0},[]),f=W.useCallback(function(w){c(w.type,yD(w),w.target,a(w,t.lockRef.current))},[]),p=W.useCallback(function(w){c(w.type,DE(w),w.target,a(w,t.lockRef.current))},[]);W.useEffect(function(){return bg.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,yg),document.addEventListener("touchmove",l,yg),document.addEventListener("touchstart",d,yg),function(){bg=bg.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,yg),document.removeEventListener("touchmove",l,yg),document.removeEventListener("touchstart",d,yg)}},[]);var g=t.removeScrollBar,b=t.inert;return W.createElement(W.Fragment,null,b?W.createElement(i,{styles:Gce(s)}):null,g?W.createElement(Uce,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Qce(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yce=Cce(Xz,Wce);var OC=W.forwardRef(function(t,e){return W.createElement(PC,Vl({},t,{ref:e,sideCar:Yce}))});OC.classNames=PC.classNames;var Jce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wg=new WeakMap,ME=new WeakMap,UE={},ST=0,sq=function(t){return t&&(t.host||sq(t.parentNode))},Zce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sq(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Xce=function(t,e,n,r){var s=Zce(e,Array.isArray(t)?t:[t]);UE[n]||(UE[n]=new WeakMap);var i=UE[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),b=g!==null&&g!=="false",w=(wg.get(p)||0)+1,m=(i.get(p)||0)+1;wg.set(p,w),i.set(p,m),o.push(p),w===1&&b&&ME.set(p,!0),m===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),ST++,function(){o.forEach(function(f){var p=wg.get(f)-1,g=i.get(f)-1;wg.set(f,p),i.set(f,g),p||(ME.has(f)||f.removeAttribute(r),ME.delete(f)),g||f.removeAttribute(n)}),ST--,ST||(wg=new WeakMap,wg=new WeakMap,ME=new WeakMap,UE={})}},jI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Jce(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Xce(r,s,n,"aria-hidden")):function(){return null}},IC="Dialog",[iq,oq]=Ec(IC),[ele,gl]=iq(IC),aq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=W.useRef(null),l=W.useRef(null),[c,d]=Jf({prop:r,defaultProp:s??!1,onChange:i,caller:IC});return E.jsx(ele,{scope:e,triggerRef:a,contentRef:l,contentId:sl(),titleId:sl(),descriptionId:sl(),open:c,onOpenChange:d,onOpenToggle:W.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};aq.displayName=IC;var cq="DialogTrigger",lq=W.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gl(cq,n),i=zn(e,s.triggerRef);return E.jsx(Qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":HI(s.open),...r,ref:i,onClick:yt(t.onClick,s.onOpenToggle)})});lq.displayName=cq;var FI="DialogPortal",[tle,uq]=iq(FI,{forceMount:void 0}),dq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=gl(FI,e);return E.jsx(tle,{scope:e,forceMount:n,children:W.Children.map(r,o=>E.jsx(qa,{present:n||i.open,children:E.jsx(RC,{asChild:!0,container:s,children:o})}))})};dq.displayName=FI;var p2="DialogOverlay",fq=W.forwardRef((t,e)=>{const n=uq(p2,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gl(p2,t.__scopeDialog);return i.modal?E.jsx(qa,{present:r||i.open,children:E.jsx(rle,{...s,ref:e})}):null});fq.displayName=p2;var nle=e0("DialogOverlay.RemoveScroll"),rle=W.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gl(p2,n);return E.jsx(OC,{as:nle,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(Qt.div,{"data-state":HI(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),n0="DialogContent",hq=W.forwardRef((t,e)=>{const n=uq(n0,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gl(n0,t.__scopeDialog);return E.jsx(qa,{present:r||i.open,children:i.modal?E.jsx(sle,{...s,ref:e}):E.jsx(ile,{...s,ref:e})})});hq.displayName=n0;var sle=W.forwardRef((t,e)=>{const n=gl(n0,t.__scopeDialog),r=W.useRef(null),s=zn(e,n.contentRef,r);return W.useEffect(()=>{const i=r.current;if(i)return jI(i)},[]),E.jsx(pq,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:yt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:yt(t.onFocusOutside,i=>i.preventDefault())})}),ile=W.forwardRef((t,e)=>{const n=gl(n0,t.__scopeDialog),r=W.useRef(!1),s=W.useRef(!1);return E.jsx(pq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),pq=W.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=gl(n0,n),l=W.useRef(null),c=zn(e,l);return LI(),E.jsxs(E.Fragment,{children:[E.jsx(TC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:E.jsx(Uv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":HI(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(ale,{titleId:a.titleId}),E.jsx(lle,{contentRef:l,descriptionId:a.descriptionId})]})]})}),$I="DialogTitle",gq=W.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gl($I,n);return E.jsx(Qt.h2,{id:s.titleId,...r,ref:e})});gq.displayName=$I;var mq="DialogDescription",yq=W.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gl(mq,n);return E.jsx(Qt.p,{id:s.descriptionId,...r,ref:e})});yq.displayName=mq;var bq="DialogClose",wq=W.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gl(bq,n);return E.jsx(Qt.button,{type:"button",...r,ref:e,onClick:yt(t.onClick,()=>s.onOpenChange(!1))})});wq.displayName=bq;function HI(t){return t?"open":"closed"}var vq="DialogTitleWarning",[ole,xq]=Hae(vq,{contentName:n0,titleName:$I,docsSlug:"dialog"}),ale=({titleId:t})=>{const e=xq(vq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return W.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cle="DialogDescriptionWarning",lle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xq(cle).contentName}}.`;return W.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Eq=aq,Aq=lq,Cq=dq,Sq=fq,_q=hq,Nq=gq,Tq=yq,kC=wq;function Rq({...t}){return E.jsx(Eq,{"data-slot":"dialog",...t})}function Pq({...t}){return E.jsx(Aq,{"data-slot":"dialog-trigger",...t})}function ule({...t}){return E.jsx(Cq,{"data-slot":"dialog-portal",...t})}function Oq({...t}){return E.jsx(kC,{"data-slot":"dialog-close",...t})}function dle({className:t,...e}){return E.jsx(Sq,{"data-slot":"dialog-overlay",className:Ht("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Iq({className:t,children:e,showCloseButton:n=!0,...r}){return E.jsxs(ule,{"data-slot":"dialog-portal",children:[E.jsx(dle,{}),E.jsxs(_q,{"data-slot":"dialog-content",className:Ht("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&E.jsxs(kC,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(Kz,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kq({className:t,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:Ht("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Bq({className:t,...e}){return E.jsx("div",{"data-slot":"dialog-footer",className:Ht("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Dq({className:t,...e}){return E.jsx(Nq,{"data-slot":"dialog-title",className:Ht("text-lg leading-none font-semibold",t),...e})}function fle({className:t,...e}){return E.jsx(Tq,{"data-slot":"dialog-description",className:Ht("text-muted-foreground text-sm",t),...e})}function Mq(){return E.jsxs(Rq,{children:[E.jsx(Pq,{asChild:!0,children:E.jsx("button",{type:"button",className:"text-sm underline",children:"Wallet Help"})}),E.jsxs(Iq,{className:"space-y-4",children:[E.jsx(kq,{children:E.jsx(Dq,{children:"Connecting Your Wallet"})}),E.jsxs(fle,{className:"space-y-2",children:[E.jsx("p",{children:"Install a compatible wallet extension like MetaMask."}),E.jsx("p",{children:'Unlock your wallet then click "Connect Wallet".'}),E.jsx("p",{children:"Approve the connection request in the wallet popup."})]}),E.jsx(Bq,{children:E.jsx(Oq,{asChild:!0,children:E.jsx(ht,{children:"Got it"})})})]})]})}const hle=Symbol(),zI=Symbol(),Ww="a",Uq="f",wD="p",Lq="c",jq="t",qI="h",i1="w",VI="o",GI="k";let ple=(t,e)=>new Proxy(t,e);const pP=Object.getPrototypeOf,gP=new WeakMap,Fq=t=>t&&(gP.has(t)?gP.get(t):pP(t)===Object.prototype||pP(t)===Array.prototype),g2=t=>typeof t=="object"&&t!==null,gle=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),mle=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(pP(t),e)},yle=(t,e)=>{const n={[Uq]:e};let r=!1;const s=(a,l)=>{if(!r){let c=n[Ww].get(t);if(c||(c={},n[Ww].set(t,c)),a===i1)c[i1]=!0;else{let d=c[a];d||(d=new Set,c[a]=d),d.add(l)}}},i=()=>{r=!0,n[Ww].delete(t)},o={get(a,l){return l===zI?t:(s(GI,l),$q(Reflect.get(a,l),n[Ww],n[Lq],n[jq]))},has(a,l){return l===hle?(i(),!0):(s(qI,l),Reflect.has(a,l))},getOwnPropertyDescriptor(a,l){return s(VI,l),Reflect.getOwnPropertyDescriptor(a,l)},ownKeys(a){return s(i1),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},KI=t=>t[zI]||t,$q=(t,e,n,r)=>{if(!Fq(t))return t;let s=r&&r.get(t);if(!s){const l=KI(t);gle(l)?s=[l,mle(l)]:s=[l],r?.set(t,s)}const[i,o]=s;let a=n&&n.get(i);return(!a||a[1][Uq]!==!!o)&&(a=yle(i,!!o),a[1][wD]=ple(o||i,a[0]),n&&n.set(i,a)),a[1][Ww]=e,a[1][Lq]=n,a[1][jq]=r,a[1][wD]},ble=(t,e)=>{const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);return n.length!==r.length||n.some((s,i)=>s!==r[i])},Hq=(t,e,n,r,s=Object.is)=>{if(s(t,e))return!1;if(!g2(t)||!g2(e))return!0;const i=n.get(KI(t));if(!i)return!0;if(r){if(r.get(t)===e)return!1;r.set(t,e)}let o=null;for(const a of i[qI]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(i[i1]===!0){if(o=ble(t,e),o)return o}else for(const a of i[VI]||[]){const l=!!Reflect.getOwnPropertyDescriptor(t,a),c=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=l!==c,o)return o}for(const a of i[GI]||[])if(o=Hq(t[a],e[a],n,r,s),o)return o;if(o===null)throw new Error("invalid used");return o},wle=t=>Fq(t)&&t[zI]||null,vD=(t,e=!0)=>{gP.set(t,e)},vle=(t,e,n)=>{const r=[],s=new WeakSet,i=(o,a)=>{var l,c,d;if(s.has(o))return;g2(o)&&s.add(o);const f=g2(o)&&e.get(KI(o));if(f){if((l=f[qI])===null||l===void 0||l.forEach(p=>{const g=`:has(${String(p)})`;r.push(a?[...a,g]:[g])}),f[i1]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else(c=f[VI])===null||c===void 0||c.forEach(p=>{const g=`:hasOwn(${String(p)})`;r.push(a?[...a,g]:[g])});(d=f[GI])===null||d===void 0||d.forEach(p=>{"value"in(Object.getOwnPropertyDescriptor(o,p)||{})&&i(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return i(t),r},m2={},WI=t=>typeof t=="object"&&t!==null,xle=t=>WI(t)&&!Lv.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),zq=(t,e)=>{const n=mP.get(t);if(n?.[0]===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return vD(r,!0),mP.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(Lv.has(i))vD(i,!1);else if(Zf.has(i)){const[l,c]=Zf.get(i);a.value=zq(l,c())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},Ele=(t,e,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const l=!t()&&Reflect.has(s,i),c=Reflect.get(s,i,a);if(l&&(xD(c,o)||_1.has(o)&&xD(c,_1.get(o))))return!0;n(i),WI(o)&&(o=wle(o)||o);const d=!Zf.has(o)&&Cle(o)?Wr(o):o;return e(i,d),Reflect.set(s,i,d,a),r(["set",[i],o,c]),!0}}),Zf=new WeakMap,Lv=new WeakSet,mP=new WeakMap,Qw=[1,1],_1=new WeakMap;let xD=Object.is,Ale=(t,e)=>new Proxy(t,e),Cle=xle,Sle=zq,_le=Ele;function Wr(t={}){if(!WI(t))throw new Error("object required");const e=_1.get(t);if(e)return e;let n=Qw[0];const r=new Set,s=(m,v=++Qw[0])=>{n!==v&&(n=v,r.forEach(x=>x(m,v)))};let i=Qw[1];const o=(m=++Qw[1])=>(i!==m&&!r.size&&(i=m,l.forEach(([v])=>{const x=v[1](m);x>n&&(n=x)})),n),a=m=>(v,x)=>{const C=[...v];C[1]=[m,...C[1]],s(C,x)},l=new Map,c=(m,v)=>{const x=!Lv.has(v)&&Zf.get(v);if(x){if((m2?"production":void 0)!=="production"&&l.has(m))throw new Error("prop listener already exists");if(r.size){const C=x[2](a(m));l.set(m,[x,C])}else l.set(m,[x])}},d=m=>{var v;const x=l.get(m);x&&(l.delete(m),(v=x[1])==null||v.call(x))},f=m=>(r.add(m),r.size===1&&l.forEach(([x,C],S)=>{if((m2?"production":void 0)!=="production"&&C)throw new Error("remove already exists");const T=x[2](a(S));l.set(S,[x,T])}),()=>{r.delete(m),r.size===0&&l.forEach(([x,C],S)=>{C&&(C(),l.set(S,[x]))})});let p=!0;const g=_le(()=>p,c,d,s),b=Ale(t,g);_1.set(t,b);const w=[t,o,f];return Zf.set(b,w),Reflect.ownKeys(t).forEach(m=>{const v=Object.getOwnPropertyDescriptor(t,m);"value"in v&&v.writable&&(b[m]=t[m])}),p=!1,b}function wi(t,e,n){const r=Zf.get(t);(m2?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const c=o(d=>{i.push(d),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,c()}}function r0(t){const e=Zf.get(t);(m2?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return Sle(n,r())}function s0(t){return Lv.add(t),t}function Nle(){return{proxyStateMap:Zf,refSet:Lv,snapCache:mP,versionHolder:Qw,proxyCache:_1}}function Xi(t,e,n,r){let s=t[e];return wi(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}const{proxyStateMap:Tle,snapCache:Rle}=Nle(),LE=t=>Tle.has(t);function Ple(t){const e=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const c=Rle.get(a),d=c?.[1];if(d&&!s.has(d)){const f=new Map(r);s.set(d,f)}},o=c=>s.get(c)||r,a={data:e,index:n,epoch:0,get size(){return LE(this)||i(),o(this).size},get(c){const f=o(this).get(c);if(f===void 0){this.epoch;return}return this.data[f]},has(c){const d=o(this);return this.epoch,d.has(c)},set(c,d){if(!LE(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(c);return f===void 0?(r.set(c,this.index),this.data[this.index++]=d):this.data[f]=d,this.epoch++,this},delete(c){if(!LE(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(c);return d===void 0?!1:(delete this.data[d],r.delete(c),this.epoch++,!0)},clear(){if(!LE(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(c){this.epoch,o(this).forEach((f,p)=>{c(this.data[f],p,this)})},*entries(){this.epoch;const c=o(this);for(const[d,f]of c)yield[d,this.data[f]]},*keys(){this.epoch;const c=o(this);for(const d of c.keys())yield d},*values(){this.epoch;const c=o(this);for(const d of c.values())yield this.data[d]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},l=Wr(a);return Object.defineProperties(l,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(l),l}var ED={};const Fe={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof ED<"u"?ED.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},qq={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return Fe.CHAIN_NAME_MAP?.[r]||void 0}};var Ole=20,Ile=1,i0=1e6,AD=1e6,kle=-7,Ble=21,Dle=!1,jv="[big.js] ",S0=jv+"Invalid ",BC=S0+"decimal places",Mle=S0+"rounding mode",Vq=jv+"Division by zero",Nr={},Xl=void 0,Ule=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Gq(){function t(e){var n=this;if(!(n instanceof t))return e===Xl?Gq():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(S0+"value");e=e===0&&1/e<0?"-0":String(e)}Lle(n,e)}n.constructor=t}return t.prototype=Nr,t.DP=Ole,t.RM=Ile,t.NE=kle,t.PE=Ble,t.strict=Dle,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Lle(t,e){var n,r,s;if(!Ule.test(e))throw Error(S0+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function _0(t,e,n,r){var s=t.c;if(n===Xl&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Mle);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Xl))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Xl||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function N0(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Nr.abs=function(){var t=new this.constructor(this);return t.s=1,t};Nr.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,l=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=l)return a>l^e?1:-1;for(o=(a=r.length)<(l=s.length)?a:l,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==l?0:a>l^e?1:-1};Nr.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>i0)throw Error(BC);if(!s[0])throw Error(Vq);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,l,c,d,f,p=s.slice(),g=a=s.length,b=r.length,w=r.slice(0,a),m=w.length,v=t,x=v.c=[],C=0,S=o+(v.e=e.e-t.e)+1;for(v.s=i,i=S<0?0:S,p.unshift(0);m++<a;)w.push(0);do{for(c=0;c<10;c++){if(a!=(m=w.length))d=a>m?1:-1;else for(f=-1,d=0;++f<a;)if(s[f]!=w[f]){d=s[f]>w[f]?1:-1;break}if(d<0){for(l=m==a?s:p;m;){if(w[--m]<l[m]){for(f=m;f&&!w[--f];)w[f]=9;--w[f],w[m]+=10}w[m]-=l[m]}for(;!w[0];)w.shift()}else break}x[C++]=d?c:++c,w[0]&&d?w[m]=r[g]||0:w=[r[g]]}while((g++<b||w[0]!==Xl)&&i--);return!x[0]&&C!=1&&(x.shift(),v.e--,S--),C>S&&_0(v,S,n.RM,w[0]!==Xl),v};Nr.eq=function(t){return this.cmp(t)===0};Nr.gt=function(t){return this.cmp(t)>0};Nr.gte=function(t){return this.cmp(t)>-1};Nr.lt=function(t){return this.cmp(t)<0};Nr.lte=function(t){return this.cmp(t)<1};Nr.minus=Nr.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,l=(t=new o(t)).s;if(a!=l)return t.s=-l,i.plus(t);var c=i.c.slice(),d=i.e,f=t.c,p=t.e;if(!c[0]||!f[0])return f[0]?t.s=-l:c[0]?t=new o(i):t.s=1,t;if(a=d-p){for((s=a<0)?(a=-a,r=c):(p=d,r=f),r.reverse(),l=a;l--;)r.push(0);r.reverse()}else for(n=((s=c.length<f.length)?c:f).length,a=l=0;l<n;l++)if(c[l]!=f[l]){s=c[l]<f[l];break}if(s&&(r=c,c=f,f=r,t.s=-t.s),(l=(n=f.length)-(e=c.length))>0)for(;l--;)c[e++]=0;for(l=e;n>a;){if(c[--n]<f[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=f[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;)c.shift(),--p;return c[0]||(t.s=1,c=[p=0]),t.c=c,t.e=p,t};Nr.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(Vq);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Nr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Nr.plus=Nr.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,l=t.e,c=t.c;if(!a[0]||!c[0])return c[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-l){for(e>0?(l=o,r=c):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-c.length<0&&(r=c,c=a,a=r),e=c.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+c[e]+n)/10|0;for(n&&(a.unshift(n),++l),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=l,t};Nr.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-AD||t>AD)throw Error(S0+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Nr.prec=function(t,e){if(t!==~~t||t<1||t>i0)throw Error(S0+"precision");return _0(new this.constructor(this),t,e)};Nr.round=function(t,e){if(t===Xl)t=0;else if(t!==~~t||t<-i0||t>i0)throw Error(BC);return _0(new this.constructor(this),t+this.e+1,e)};Nr.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(jv+"No square root");i=Math.sqrt(+N0(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return _0(t,(s.DP-=4)+t.e+1,s.RM)};Nr.times=Nr.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,l=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=l+c,o<a&&(e=s,s=i,i=e,c=o,o=a,a=c),e=new Array(c=o+a);c--;)e[c]=0;for(l=a;l--;){for(a=0,c=o+l;c>l;)a=e[c]+i[l]*s[c-l-1]+a,e[c--]=a%10,a=a/10|0;e[c]=a}for(a?++t.e:e.shift(),l=e.length;!e[--l];)e.pop();return t.c=e,t};Nr.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Xl){if(t!==~~t||t<0||t>i0)throw Error(BC);for(n=_0(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return N0(n,!0,!!r)};Nr.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Xl){if(t!==~~t||t<0||t>i0)throw Error(BC);for(n=_0(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return N0(n,!1,!!r)};Nr[Symbol.for("nodejs.util.inspect.custom")]=Nr.toJSON=Nr.toString=function(){var t=this,e=t.constructor;return N0(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Nr.toNumber=function(){var t=+N0(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(jv+"Imprecise conversion");return t};Nr.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Xl){if(t!==~~t||t<1||t>i0)throw Error(S0+"precision");for(n=_0(new r(n),t,e);n.c.length<t;)n.c.push(0)}return N0(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Nr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(jv+"valueOf disallowed");return N0(t,t.e<=e.NE||t.e>=e.PE,!0)};var db=Gq();const jle={bigNumber(t){return t?new db(t):new db(0)},multiply(t,e){if(t===void 0||e===void 0)return new db(0);const n=new db(t),r=new db(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Fle=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],$le=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Hle=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],zle={getERC20Abi:t=>Fe.USDT_CONTRACT_ADDRESSES.includes(t)?Hle:Fle,getSwapAbi:()=>$le},uo={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},mn={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function _T(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const an={setItem(t,e){Yw()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Yw())return localStorage.getItem(t)||void 0},removeItem(t){Yw()&&localStorage.removeItem(t)},clear(){Yw()&&localStorage.clear()}};function Yw(){return typeof window<"u"&&typeof localStorage<"u"}function hd(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var CD={};const NT=(typeof process<"u"&&typeof CD<"u"?CD.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Kq=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],qle="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",wr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:NT,SECURE_SITE_DASHBOARD:`${NT}/dashboard`,SECURE_SITE_FAVICON:`${NT}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[Fe.CHAIN.EVM,Fe.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[Fe.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[Fe.CHAIN.EVM,Fe.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[Fe.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[Fe.CHAIN.EVM,Fe.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ct={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ct.getActiveNamespace(),e=ct.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{an.setItem(mn.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=an.getItem(mn.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{an.removeItem(mn.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{an.setItem(mn.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{an.setItem(mn.ACTIVE_CAIP_NETWORK_ID,t),ct.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return an.getItem(mn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{an.removeItem(mn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=_T(t);an.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ct.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),an.setItem(mn.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=an.getItem(mn.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=_T(t);an.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return an.getItem(mn.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=_T(t);return an.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{an.setItem(mn.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return an.getItem(mn.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{an.removeItem(mn.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return an.getItem(mn.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return an.getItem(mn.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{an.setItem(mn.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return an.getItem(mn.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=an.getItem(mn.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));an.setItem(mn.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ct.getConnectedNamespaces();e.includes(t)||(e.push(t),ct.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ct.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ct.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return an.getItem(mn.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{an.setItem(mn.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{an.removeItem(mn.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=an.getItem(mn.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ct.getBalanceCache();an.setItem(mn.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ct.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ct.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ct.getBalanceCache();e[t.caipAddress]=t,an.setItem(mn.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=an.getItem(mn.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ct.getBalanceCache();an.setItem(mn.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ct.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ct.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ct.getNativeBalanceCache();e[t.caipAddress]=t,an.setItem(mn.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=an.getItem(mn.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ct.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ct.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ct.getEnsCache();e[t.address]=t,an.setItem(mn.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ct.getEnsCache();an.setItem(mn.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=an.getItem(mn.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ct.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ct.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ct.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},an.setItem(mn.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ct.getIdentityCache();an.setItem(mn.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{an.removeItem(mn.PORTFOLIO_CACHE),an.removeItem(mn.NATIVE_BALANCE_CACHE),an.removeItem(mn.ENS_CACHE),an.removeItem(mn.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{an.setItem(mn.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=an.getItem(mn.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ct.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),l=o.connectorId===Fe.CONNECTOR_ID.AUTH;if(a&&!l){const c=new Set(a.accounts.map(f=>f.address.toLowerCase())),d=o.accounts.filter(f=>!c.has(f.address.toLowerCase()));a.accounts.push(...d)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};an.setItem(mn.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=an.getItem(mn.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ct.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(l=>l.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(l=>l.address.toLowerCase()!==e.toLowerCase())})),an.setItem(mn.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=an.getItem(mn.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ct.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),an.setItem(mn.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ct.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),an.setItem(mn.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ct.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},Nt={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Nt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=wr.TEN_SEC_MS:!0},isAllowedRetry(t,e=wr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Nt.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+wr.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Nt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Nt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ct.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Nt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const r=Number(t);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Fe.W3M_API_URL},getBlockchainApiUrl(){return Fe.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Fe.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?wr.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Fe.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),l=t.substring(r+i,o),c=t.substring(s),d=l+n;return a+d+c}};async function fb(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Fv{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await fb(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await fb(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await fb(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await fb(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await fb(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Vle={getFeatureValue(t,e){const n=e?.[t];return n===void 0?wr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Nt.isTelegram()){if(Nt.isIos())return t.filter(e=>e!=="google");if(Nt.isMac())return t.filter(e=>e!=="x");if(Nt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},$t=Wr({features:wr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:wr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),tt={state:$t,subscribeKey(t,e){return Xi($t,t,e)},setOptions(t){Object.assign($t,t)},setRemoteFeatures(t){if(!t)return;const e={...$t.remoteFeatures,...t};$t.remoteFeatures=e,$t.remoteFeatures?.socials&&($t.remoteFeatures.socials=Vle.filterSocialsByPlatform($t.remoteFeatures.socials)),$t.features?.pay&&($t.remoteFeatures.email=!1,$t.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;$t.features||($t.features=wr.DEFAULT_FEATURES);const e={...$t.features,...t};$t.features=e,$t.features?.pay&&$t.remoteFeatures&&($t.remoteFeatures.email=!1,$t.remoteFeatures.socials=!1)},setProjectId(t){$t.projectId=t},setCustomRpcUrls(t){$t.customRpcUrls=t},setAllWallets(t){$t.allWallets=t},setIncludeWalletIds(t){$t.includeWalletIds=t},setExcludeWalletIds(t){$t.excludeWalletIds=t},setFeaturedWalletIds(t){$t.featuredWalletIds=t},setTokens(t){$t.tokens=t},setTermsConditionsUrl(t){$t.termsConditionsUrl=t},setPrivacyPolicyUrl(t){$t.privacyPolicyUrl=t},setCustomWallets(t){$t.customWallets=t},setIsSiweEnabled(t){$t.isSiweEnabled=t},setIsUniversalProvider(t){$t.isUniversalProvider=t},setSdkVersion(t){$t.sdkVersion=t},setMetadata(t){$t.metadata=t},setDisableAppend(t){$t.disableAppend=t},setEIP6963Enabled(t){$t.enableEIP6963=t},setDebug(t){$t.debug=t},setEnableWalletConnect(t){$t.enableWalletConnect=t},setEnableWalletGuide(t){$t.enableWalletGuide=t},setEnableAuthLogger(t){$t.enableAuthLogger=t},setEnableWallets(t){$t.enableWallets=t},setPreferUniversalLinks(t){$t.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(wr.SIWX_DEFAULTS))t[e]??=n;$t.siwx=t},setConnectMethodsOrder(t){$t.features={...$t.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){$t.features={...$t.features,walletFeaturesOrder:t}},setSocialsOrder(t){$t.remoteFeatures={...$t.remoteFeatures,socials:t}},setCollapseWallets(t){$t.features={...$t.features,collapseWallets:t}},setEnableEmbedded(t){$t.enableEmbedded=t},setAllowUnsupportedChain(t){$t.allowUnsupportedChain=t},setManualWCControl(t){$t.manualWCControl=t},setEnableNetworkSwitch(t){$t.enableNetworkSwitch=t},setEnableReconnect(t){$t.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&($t.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){$t.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return $t.universalProviderConfigOverride},getSnapshot(){return r0($t)}},Gle=Object.freeze({enabled:!0,events:[]}),Kle=new Fv({baseUrl:Nt.getAnalyticsUrl(),clientId:null}),Wle=5,Qle=60*1e3,pf=Wr({...Gle}),Yle={state:pf,subscribeKey(t,e){return Xi(pf,t,e)},async sendError(t,e){if(!pf.enabled)return;const n=Date.now();if(pf.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<Qle}).length>=Wle)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};pf.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=tt.state;await Kle.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Nt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){pf.enabled=!0},disable(){pf.enabled=!1},clearEvents(){pf.events=[]}};class ym extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,ym.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,ym):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function SD(t,e){const n=t instanceof ym?t:new ym(t instanceof Error?t.message:String(t),e,t);throw Yle.sendError(n,n.category),n}function Va(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return SD(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return SD(a,e)}},n[r]=i}else n[r]=s}),n}var bm={};const Jle="https://secure.walletconnect.org/sdk",Zle=(typeof process<"u"&&typeof bm<"u"?bm.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Jle,Xle=(typeof process<"u"&&typeof bm<"u"?bm.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",eue=(typeof process<"u"&&typeof bm<"u"?bm.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",kt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},ei={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},zl={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},tue={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===zl.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${zl.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===zl.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${zl.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===Fe.CHAIN.SOLANA&&t===zl.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${zl.COINBASE.url}/dapp?cb_url=${r}`)}},pa=Wr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),nue={state:pa,subscribeNetworkImages(t){return wi(pa.networkImages,()=>t(pa.networkImages))},subscribeKey(t,e){return Xi(pa,t,e)},subscribe(t){return wi(pa,()=>t(pa))},setWalletImage(t,e){pa.walletImages[t]=e},setNetworkImage(t,e){pa.networkImages[t]=e},setChainImage(t,e){pa.chainImages[t]=e},setConnectorImage(t,e){pa.connectorImages={...pa.connectorImages,[t]:e}},setTokenImage(t,e){pa.tokenImages[t]=e},setCurrencyImage(t,e){pa.currencyImages[t]=e}},Yc=Va(nue),rue={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},TT=Wr({networkImagePromises:{}}),Wq={async fetchWalletImage(t){if(t)return await Gt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(TT.networkImagePromises[t]||(TT.networkImagePromises[t]=Gt._fetchNetworkImage(t)),await TT.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Yc.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Yc.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Yc.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Yc.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Yc.state.connectorImages[t.imageId]},getChainImage(t){return Yc.state.networkImages[rue[t]]}},gf=Wr({message:"",variant:"info",open:!1}),sue={state:gf,subscribeKey(t,e){return Xi(gf,t,e)},open(t,e){const{debug:n}=tt.state,{shortMessage:r,longMessage:s}=t;n&&(gf.message=r,gf.variant=e,gf.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){gf.open=!1,gf.message="",gf.variant="info"}},Ws=Va(sue),iue=Nt.getAnalyticsUrl(),oue=new Fv({baseUrl:iue,clientId:null}),aue=["MODAL_CREATED"],Mu=Wr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),_r={state:Mu,subscribe(t){return wi(Mu,()=>t(Mu))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=tt.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Pt.state.address;if(aue.includes(t.data.event)||typeof window>"u")return;await oue.post({path:"/e",params:_r.getSdkProperties(),body:{eventId:Nt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Mu.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Fe.HTTP_STATUS_CODES.FORBIDDEN&&!Mu.reportedErrors.FORBIDDEN&&(Ws.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Yw()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Mu.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){Mu.timestamp=Date.now(),Mu.data=t,(tt.state.features?.analytics||t.event==="INITIALIZE")&&_r._sendAnalyticsEvent(Mu)}},cue=Nt.getApiUrl(),No=new Fv({baseUrl:cue,clientId:null}),lue=40,_D=4,uue=20,An=Wr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Gt={state:An,subscribeKey(t,e){return Xi(An,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=tt.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return tt.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${No.baseUrl}/getWalletImage/${t}`,n=await No.getBlob({path:e,params:Gt._getSdkProperties()});Yc.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${No.baseUrl}/public/getAssetImage/${t}`,n=await No.getBlob({path:e,params:Gt._getSdkProperties()});Yc.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${No.baseUrl}/public/getAssetImage/${t}`,n=await No.getBlob({path:e,params:Gt._getSdkProperties()});Yc.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${No.baseUrl}/public/getCurrencyImage/${t}`,n=await No.getBlob({path:e,params:Gt._getSdkProperties()});Yc.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${No.baseUrl}/public/getTokenImage/${t}`,n=await No.getBlob({path:e,params:Gt._getSdkProperties()});Yc.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Nt.isMobile()?t?.filter(n=>n.mobile_link||n.id===zl.COINBASE.id?!0:he.state.activeChain==="solana"&&(n.id===zl.SOLFLARE.id||n.id===zl.PHANTOM.id)):t},async fetchProjectConfig(){return(await No.get({path:"/appkit/v1/config",params:Gt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await No.get({path:"/projects/v1/origins",params:Gt._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===Fe.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=Fe.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=he.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!Wq.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Gt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ut.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Gt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Gt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Gt._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Gt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(zl).map(i=>i.id));const r=await No.get({path:"/getWallets",params:{...Gt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Gt._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=tt.state;if(t?.length){const e={...Gt._getSdkProperties(),page:1,entries:t?.length??_D,include:t},{data:n}=await Gt.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Gt._fetchWalletImage(i))),An.featured=r,An.allFeatured=r}},async fetchRecommendedWallets(){try{An.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=tt.state,r=[...e??[],...n??[]].filter(Boolean),s=he.getRequestedCaipNetworkIds().join(","),i={page:1,entries:_D,include:t,exclude:r,chains:s},{data:o,count:a}=await Gt.fetchWallets(i),l=ct.getRecentWallets(),c=o.map(f=>f.image_id).filter(Boolean),d=l.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...c,...d].map(f=>Gt._fetchWalletImage(f))),An.recommended=o,An.allRecommended=o,An.count=a??0}catch{}finally{An.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=tt.state,s=he.getRequestedCaipNetworkIds().join(","),i=[...An.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:t,entries:lue,include:e,exclude:i,chains:s},{data:a,count:l}=await Gt.fetchWallets(o),c=a.slice(0,uue).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(c.map(d=>Gt._fetchWalletImage(d))),An.wallets=Nt.uniqueBy([...An.wallets,...Gt._filterOutExtensions(a)],"id").filter(d=>d.chains?.some(f=>s.includes(f))),An.count=l>An.count?l:An.count,An.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Gt.fetchWallets(e);n&&n.forEach(r=>{An.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=tt.state,s=he.getRequestedCaipNetworkIds().join(",");An.search=[];const i={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Gt.fetchWallets(i);_r.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...a.map(l=>Gt._fetchWalletImage(l)),Nt.wait(300)]),An.search=Gt._filterOutExtensions(o)},initPromise(t,e){const n=An.promises[t];return n||(An.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Gt.initPromise("connectorImages",Gt.fetchConnectorImages),e&&Gt.initPromise("featuredWallets",Gt.fetchFeaturedWallets),n&&Gt.initPromise("recommendedWallets",Gt.fetchRecommendedWallets),r&&Gt.initPromise("networkImages",Gt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){tt.state.features?.analytics&&Gt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await No.get({path:"/getAnalyticsConfig",params:Gt._getSdkProperties()});tt.setFeatures({analytics:t})}catch{tt.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){An.featured=An.allFeatured,An.recommended=An.allRecommended;return}const e=he.getRequestedCaipNetworkIds().join(",");An.featured=An.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),An.recommended=An.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),An.filteredWallets=An.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){An.filteredWallets=[]},setFilterByNamespace(t){if(!t){An.featured=An.allFeatured,An.recommended=An.allRecommended;return}const e=he.getRequestedCaipNetworkIds().join(",");An.featured=An.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),An.recommended=An.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),An.filteredWallets=An.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},Or=Wr({view:"Connect",history:["Connect"],transactionStack:[]}),due={state:Or,subscribeKey(t,e){return Xi(Or,t,e)},pushTransactionStack(t){Or.transactionStack.push(t)},popTransactionStack(t){const e=Or.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n?.();break;case"error":r?.(),ln.goBack();break;case"cancel":s?.(),ln.goBack();break}},push(t,e){t!==Or.view&&(Or.view=t,Or.history.push(t),Or.data=e)},reset(t,e){Or.view=t,Or.history=[t],Or.data=e},replace(t,e){Or.history.at(-1)===t||(Or.view=t,Or.history[Or.history.length-1]=t,Or.data=e)},goBack(){const t=he.state.activeCaipAddress,e=ln.state.view==="ConnectingFarcaster",n=!t&&e;if(Or.history.length>1){Or.history.pop();const[r]=Or.history.slice(-1);r&&(t&&r==="Connect"?Or.view="Account":Or.view=r)}else fr.close();Or.data?.wallet&&(Or.data.wallet=void 0),setTimeout(()=>{if(n){Pt.setFarcasterUrl(void 0,he.state.activeChain);const r=ut.getAuthConnector();r?.provider?.reload();const s=r0(tt.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(t){if(Or.history.length>1){Or.history=Or.history.slice(0,t+1);const[e]=Or.history.slice(-1);e&&(Or.view=e)}},goBackOrCloseModal(){ln.state.history.length>1?ln.goBack():fr.close()}},ln=Va(due),Uu=Wr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),yP={state:Uu,subscribe(t){return wi(Uu,()=>t(Uu))},setThemeMode(t){Uu.themeMode=t;try{const e=ut.getAuthConnector();if(e){const n=yP.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:hd(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Uu.themeVariables={...Uu.themeVariables,...t};try{const e=ut.getAuthConnector();if(e){const n=yP.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:hd(Uu.themeVariables,Uu.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return r0(Uu)}},Mo=Va(yP),Qq={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},or=Wr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Qq},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),fue={state:or,subscribe(t){return wi(or,()=>{t(or)})},subscribeKey(t,e){return Xi(or,t,e)},initialize(t){t.forEach(e=>{const n=ct.getConnectedConnectorId(e);n&&ut.setConnectorId(n,e)})},setActiveConnector(t){t&&(or.activeConnector=s0(t))},setConnectors(t){t.filter(s=>!or.allConnectors.some(i=>i.id===s.id&&ut.getConnectorName(i.name)===ut.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&or.allConnectors.push(s0(s))});const n=ut.getEnabledNamespaces(),r=ut.getEnabledConnectors(n);or.connectors=ut.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(or.filterByNamespaceMap).forEach(e=>{or.filterByNamespaceMap[e]=!1}),t.forEach(e=>{or.filterByNamespaceMap[e]=!0}),ut.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){or.filterByNamespaceMap[t]=e,ut.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ut.getEnabledNamespaces(),e=ut.getEnabledConnectors(t),n=ut.areAllNamespacesEnabled();or.connectors=ut.mergeMultiChainConnectors(e),n?Gt.clearFilterByNamespaces():Gt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(or.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return or.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(or.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ut.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=s?.id===Fe.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=ut.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===Fe.CONNECTOR_ID.AUTH){const e=t,n=r0(tt.state),r=Mo.getSnapshot().themeMode,s=Mo.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:hd(s,r)}),ut.setConnectors([t])}else ut.setConnectors([t])},getAuthConnector(t){const e=t||he.state.activeChain,n=or.connectors.find(r=>r.id===Fe.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return or.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return or.allConnectors.find(e=>e.id===t)},getConnector(t,e){return or.allConnectors.filter(r=>r.chain===he.state.activeChain).find(r=>r.explorerId===t||r.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=r0(tt.state),r=Mo.getSnapshot().themeMode,s=Mo.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:hd(s,r)})},getConnectorsByNamespace(t){const e=or.allConnectors.filter(n=>n.chain===t);return ut.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return he.checkIfSmartAccountEnabled()&&Ba(t)===ei.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=ut.getConnector(t.id,t.rdns);tue.handleMobileDeeplinkRedirect(e?.explorerId||t.id,he.state.activeChain),e?ln.push("ConnectingExternal",{connector:e}):ln.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ut.getConnectorsByNamespace(t):ut.mergeMultiChainConnectors(or.allConnectors)},setFilterByNamespace(t){or.filterByNamespace=t,or.connectors=ut.getConnectors(t),Gt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(or.activeConnectorIds={...or.activeConnectorIds,[e]:t},ct.setConnectedConnectorId(e,t))},removeConnectorId(t){or.activeConnectorIds={...or.activeConnectorIds,[t]:void 0},ct.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return or.activeConnectorIds[t]},isConnected(t){return t?!!or.activeConnectorIds[t]:Object.values(or.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){or.activeConnectorIds={...Qq}}},ut=Va(fue),hue=1e3,hb={checkNamespaceConnectorId(t,e){return ut.getConnectorId(t)===e},isSocialProvider(t){return wr.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&ut.setActiveConnector(e),s?.(Nt.isMobile()&&t),r){const c=fr.subscribeKey("open",d=>{d||(ln.state.view!==r&&ln.replace(r),c(),a(new Error("Modal closed")))})}const l=he.subscribeKey("activeCaipAddress",c=>{c&&(i?.(),n&&fr.close(),l(),o(uo.parseCaipAddress(c)))})})},connectExternal(t){return new Promise((e,n)=>{const r=he.subscribeKey("activeCaipAddress",s=>{s&&(fr.close(),r(),e(uo.parseCaipAddress(s)))});mt.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=Pt.state.socialWindow,i=Pt.state.socialProvider,o=!1,a=null;const l=he.subscribeKey("activeCaipAddress",c=>{c&&(e&&fr.close(),l())});return new Promise((c,d)=>{async function f(g){if(g.data?.resultUri)if(g.origin===Fe.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const b=ut.getAuthConnector();if(b&&!o){s&&(s.close(),Pt.setSocialWindow(void 0,he.state.activeChain),s=Pt.state.socialWindow),o=!0;const w=g.data.resultUri;if(i&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),i){ct.setConnectedSocialProvider(i),await mt.connectExternal({id:b.id,type:b.type,socialUri:w},b.chain);const m=he.state.activeCaipAddress;if(!m){d(new Error("Failed to connect"));return}c(uo.parseCaipAddress(m)),_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i,caipNetworkId:he.getActiveCaipNetwork()?.caipNetworkId}})}}}catch{i&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),d(new Error("Failed to connect"))}}else i&&_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function p(){if(t&&(Pt.setSocialProvider(t,he.state.activeChain),i=Pt.state.socialProvider,_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n?.();const g=fr.subscribeKey("open",w=>{!w&&t==="farcaster"&&(d(new Error("Popup closed")),r?.(),g())}),b=ut.getAuthConnector();if(b&&!Pt.state.farcasterUrl)try{const{url:w}=await b.provider.getFarcasterUri();Pt.setFarcasterUrl(w,he.state.activeChain)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=ut.getAuthConnector();a=Nt.returnOpenHref(`${Fe.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&i){const{uri:b}=await g.provider.getSocialRedirectUri({provider:i});if(a&&b){Pt.setSocialWindow(a,he.state.activeChain),s=Pt.state.socialWindow,a.location.href=b;const w=setInterval(()=>{s?.closed&&!o&&(d(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",f,!1)}else a?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a?.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),e){const a=fr.subscribeKey("open",l=>{l||(ln.state.view!==e&&ln.replace(e),a(),i(new Error("Modal closed")))})}const o=he.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),t&&fr.close(),o(),s(uo.parseCaipAddress(a)))})})},async updateEmail(){const t=ct.getConnectedConnectorId(he.state.activeChain),e=ut.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==Fe.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return ln.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(fr.close(),clearInterval(i),o(),r({email:a}))},hue),o=fr.subscribeKey("open",a=>{a||(ln.state.view!=="Connect"&&ln.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return he.checkIfSmartAccountEnabled()&&Ba(t)===ei.ACCOUNT_TYPES.EOA}};function Yq(){const t=he.state.activeCaipNetwork?.chainNamespace||"eip155",e=he.state.activeCaipNetwork?.id||1,n=wr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Ba(t){return he.getAccountData(t)?.preferredAccountType}const y2={getConnectionStatus(t,e){const n=ut.state.activeConnectorIds[e],r=mt.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(l=>l.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!tt.state.remoteFeatures?.multiWallet,n=ut.state.activeConnectorIds[t],r=mt.getConnections(t),i=(mt.state.recentConnections.get(t)??[]).filter(a=>ut.getConnectorById(a.connectorId)),o=y2.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],i);return e?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Cp=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Vs=Wr({...Cp}),pue={state:Vs,subscribeKey(t,e){return Xi(Vs,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Nt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Vs.message=Cp.message,Vs.variant=Cp.variant,Vs.svg=Cp.svg,Vs.open=Cp.open,Vs.autoClose=Cp.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Cp.autoClose}){Vs.open?(Vs.open=!1,setTimeout(()=>{Vs.message=t,Vs.variant=n,Vs.svg=e,Vs.open=!0,Vs.autoClose=r},150)):(Vs.message=t,Vs.variant=n,Vs.svg=e,Vs.open=!0,Vs.autoClose=r)}},Yl=pue,os=Wr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),gue={state:os,subscribe(t){return wi(os,()=>t(os))},setLastNetworkInView(t){os.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");os.loading=!0;try{const e=await Yt.fetchTransactions({account:t,cursor:os.next,chainId:he.state.activeCaipNetwork?.caipNetworkId}),n=HA.filterSpamTransactions(e.data),r=HA.filterByConnectedChain(n),s=[...os.transactions,...r];os.loading=!1,os.transactions=s,os.transactionsByYear=HA.groupTransactionsByYearAndMonth(os.transactionsByYear,r),os.empty=s.length===0,os.next=e.next?e.next:void 0}catch{const n=he.state.activeChain;_r.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:tt.state.projectId,cursor:os.next,isSmartAccount:Ba(n)===ei.ACCOUNT_TYPES.SMART_ACCOUNT}}),Yl.showError("Failed to fetch transactions"),os.loading=!1,os.empty=!0,os.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},l=(o[i]??[]).filter(c=>c.id!==r.id);n[s]={...o,[i]:[...l,r].sort((c,d)=>new Date(d.metadata.minedAt).getTime()-new Date(c.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=he.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){os.next=void 0},resetTransactions(){os.transactions=[],os.transactionsByYear={},os.lastNetworkInView=void 0,os.loading=!1,os.empty=!1,os.next=void 0}},HA=Va(gue,"API_ERROR"),ar=Wr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Mh;const mue={state:ar,subscribe(t){return wi(ar,()=>t(ar))},subscribeKey(t,e){return Xi(ar,t,e)},_getClient(){return ar._client},setClient(t){ar._client=s0(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);mt.syncStorageConnections(e)},syncStorageConnections(t){const e=ct.getConnections(),n=t??Array.from(he.state.chains.keys());for(const r of n){const s=e[r]??[],i=new Map(ar.recentConnections);i.set(r,s),ar.recentConnections=i}},getConnections(t){return t?ar.connections.get(t)??[]:[]},hasAnyConnection(t){const e=mt.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect(){if(Nt.isTelegram()||Nt.isSafari()&&Nt.isIos()){if(Mh){await Mh,Mh=void 0;return}if(!Nt.isPairingExpired(ar?.wcPairingExpiry)){const t=ar.wcUri;ar.wcUri=t;return}Mh=mt._getClient()?.connectWalletConnect?.().catch(()=>{}),mt.state.status="connecting",await Mh,Mh=void 0,ar.wcPairingExpiry=void 0,mt.state.status="connected"}else await mt._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const r=await mt._getClient()?.connectExternal?.(t);return n&&he.setActiveNamespace(e),r},async reconnectExternal(t){await mt._getClient()?.reconnectExternal?.(t);const e=t.chain||he.state.activeChain;e&&ut.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;fr.setLoading(!0,he.state.activeChain);const n=ut.getAuthConnector();n&&(Pt.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ct.setPreferredAccountTypes(Object.entries(he.state.chains).reduce((r,[s,i])=>{const o=s,a=Ba(o);return a!==void 0&&(r[o]=a),r},{})),await mt.reconnectExternal(n),fr.setLoading(!1,he.state.activeChain),_r.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:he.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return mt._getClient()?.signMessage(t)},parseUnits(t,e){return mt._getClient()?.parseUnits(t,e)},formatUnits(t,e){return mt._getClient()?.formatUnits(t,e)},async sendTransaction(t){return mt._getClient()?.sendTransaction(t)},async getCapabilities(t){return mt._getClient()?.getCapabilities(t)},async grantPermissions(t){return mt._getClient()?.grantPermissions(t)},async walletGetAssets(t){return mt._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return mt._getClient()?.estimateGas(t)},async writeContract(t){return mt._getClient()?.writeContract(t)},async getEnsAddress(t){return mt._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return mt._getClient()?.getEnsAvatar(t)},checkInstalled(t){return mt._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){ar.wcUri=void 0,ar.wcPairingExpiry=void 0,ar.wcLinking=void 0,ar.recentWallet=void 0,ar.status="disconnected",HA.resetTransactions(),ct.deleteWalletConnectDeepLink()},resetUri(){ar.wcUri=void 0,ar.wcPairingExpiry=void 0,Mh=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=mt.state;t&&ct.setWalletConnectDeepLink(t),e&&ct.setAppKitRecent(e),_r.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:ln.state.data?.wallet?.name||"Unknown",caipNetworkId:he.getActiveCaipNetwork()?.caipNetworkId}})},setWcBasic(t){ar.wcBasic=t},setUri(t){ar.wcUri=t,ar.wcPairingExpiry=Nt.getPairingExpiry()},setWcLinking(t){ar.wcLinking=t},setWcError(t){ar.wcError=t,ar.buffering=!1},setRecentWallet(t){ar.recentWallet=t},setBuffering(t){ar.buffering=t},setStatus(t){ar.status=t},setIsSwitchingConnection(t){ar.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await mt._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(r){throw new ym("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){const n=new Map(ar.connections);n.set(e,t),ar.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const n=Pt.state.user?.accounts?.find(s=>s.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&hb.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await mt.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=ut.getConnectorById(t.connectorId),s=t.connectorId===Fe.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)s&&n&&await mt.handleAuthAccountSwitch({address:n,namespace:e});else return(await mt.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){const s=ut.getConnectorById(t.connectorId),i=t.auth?.name?.toLowerCase(),o=t.connectorId===Fe.CONNECTOR_ID.AUTH,a=t.connectorId===Fe.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let l;if(o)if(i&&hb.isSocialProvider(i)){const{address:c}=await hb.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){fr.open({view:"ConnectingFarcaster"})},onConnect(){ln.replace("ProfileWallets")}});l=c}else{const{address:c}=await hb.connectEmail({closeModalOnConnect:r,onOpen(){fr.open({view:"EmailLogin"})},onConnect(){ln.replace("ProfileWallets")}});l=c}else if(a){const{address:c}=await hb.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(d){fr.open({view:d?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ln.replace("ProfileWallets")}});l=c}else{const c=await mt.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);c&&(l=c.address)}return o&&n&&await mt.handleAuthAccountSwitch({address:n,namespace:e}),l},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=Pt.getCaipAddress(n);if(o){const{address:l}=uo.parseCaipAddress(o);i=l}const a=y2.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const l=await mt.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&l){const c=l.toLowerCase()!==i.toLowerCase();s?.({address:l,namespace:n,hasSwitchedAccount:c,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const l=await mt.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});l&&s?.({address:l,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},mt=Va(mue),vg=Wr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),eu={state:vg,subscribe(t){return wi(vg,()=>t(vg))},subscribeOpen(t){return Xi(vg,"open",t)},set(t){Object.assign(vg,{...vg,...t})}},yue={async getTokenList(){const t=he.state.activeCaipNetwork;return(await Yt.fetchSwapTokens({chainId:t?.caipNetworkId}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=he.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await mt?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Yt.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Yt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s?.allowance&&n&&r){const i=mt.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await ZI.getMyTokensWithBalance(t);return Pt.setTokenBalance(e,he.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:Yq(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Sr=Wr({tokenBalances:[],loading:!1}),bue={state:Sr,subscribe(t){return wi(Sr,()=>t(Sr))},subscribeKey(t,e){return Xi(Sr,t,e)},setToken(t){t&&(Sr.token=s0(t))},setTokenAmount(t){Sr.sendTokenAmount=t},setReceiverAddress(t){Sr.receiverAddress=t},setReceiverProfileImageUrl(t){Sr.receiverProfileImageUrl=t},setReceiverProfileName(t){Sr.receiverProfileName=t},setNetworkBalanceInUsd(t){Sr.networkBalanceInUSD=t},setLoading(t){Sr.loading=t},async sendToken(){try{switch(br.setLoading(!0),he.state.activeCaipNetwork?.chainNamespace){case"eip155":await br.sendEvmToken();return;case"solana":await br.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{br.setLoading(!1)}},async sendEvmToken(){const t=he.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Ba(t);if(!br.state.sendTokenAmount||!br.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!br.state.token)throw new Error("A token is required");br.state.token?.address?(_r.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ei.ACCOUNT_TYPES.SMART_ACCOUNT,token:br.state.token.address,amount:br.state.sendTokenAmount,network:he.state.activeCaipNetwork?.caipNetworkId||""}}),await br.sendERC20Token({receiverAddress:br.state.receiverAddress,tokenAddress:br.state.token.address,sendTokenAmount:br.state.sendTokenAmount,decimals:br.state.token.quantity.decimals})):(_r.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ei.ACCOUNT_TYPES.SMART_ACCOUNT,token:br.state.token.symbol||"",amount:br.state.sendTokenAmount,network:he.state.activeCaipNetwork?.caipNetworkId||""}}),await br.sendNativeToken({receiverAddress:br.state.receiverAddress,sendTokenAmount:br.state.sendTokenAmount,decimals:br.state.token.quantity.decimals}))},async fetchTokenBalance(t){Sr.loading=!0;const e=he.state.activeCaipNetwork?.caipNetworkId,n=he.state.activeCaipNetwork?.chainNamespace,r=he.state.activeCaipAddress,s=r?Nt.getPlainAddress(r):void 0;if(Sr.lastRetry&&!Nt.isAllowedRetry(Sr.lastRetry,30*wr.ONE_SEC_MS))return Sr.loading=!1,[];try{if(s&&e&&n){const i=await ZI.getMyTokensWithBalance();return Sr.tokenBalances=i,Sr.lastRetry=void 0,i}}catch(i){Sr.lastRetry=Date.now(),t?.(i),Yl.showError("Token Balance Unavailable")}finally{Sr.loading=!1}return[]},fetchNetworkBalance(){if(Sr.tokenBalances.length===0)return;const t=yue.mapBalancesToSwapTokens(Sr.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Yq());e&&(Sr.networkBalanceInUSD=e?jle.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){ln.pushTransactionStack({});const e=t.receiverAddress,n=Pt.state.address,r=mt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await mt.sendTransaction({chainNamespace:Fe.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)}),_r.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ba("eip155")===ei.ACCOUNT_TYPES.SMART_ACCOUNT,token:br.state.token?.symbol||"",amount:t.sendTokenAmount,network:he.state.activeCaipNetwork?.caipNetworkId||""}}),mt._getClient()?.updateBalance("eip155"),br.resetSend()},async sendERC20Token(t){ln.pushTransactionStack({onSuccess(){ln.replace("Account")}});const e=mt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Pt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Nt.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await mt.writeContract({fromAddress:Pt.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:zle.getERC20Abi(n),chainNamespace:Fe.CHAIN.EVM}),br.resetSend()}},async sendSolanaToken(){if(!br.state.sendTokenAmount||!br.state.receiverAddress)throw new Error("An amount and receiver address are required");ln.pushTransactionStack({onSuccess(){ln.replace("Account")}}),await mt.sendTransaction({chainNamespace:"solana",to:br.state.receiverAddress,value:br.state.sendTokenAmount}),mt._getClient()?.updateBalance("solana"),br.resetSend()},resetSend(){Sr.token=void 0,Sr.sendTokenAmount=void 0,Sr.receiverAddress=void 0,Sr.receiverProfileImageUrl=void 0,Sr.receiverProfileName=void 0,Sr.loading=!1,Sr.tokenBalances=[]}},br=Va(bue),RT={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},jE={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},bt=Wr({chains:Ple(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),wue={state:bt,subscribe(t){return wi(bt,()=>{t(bt)})},subscribeKey(t,e){return Xi(bt,t,e)},subscribeChainProp(t,e,n){let r;return wi(bt.chains,()=>{const s=n||bt.activeChain;if(s){const i=bt.chains.get(s)?.[t];r!==i&&(r=i,e(i))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ct.getActiveNetworkProps(),i=e?.find(d=>d.id.toString()===r?.toString()),a=t.find(d=>d?.namespace===s)||t?.[0],l=t.map(d=>d.namespace).filter(d=>d!==void 0),c=tt.state.enableEmbedded?new Set([...l]):new Set([...e?.map(d=>d.chainNamespace)??[]]);(t?.length===0||!a)&&(bt.noAdapters=!0),bt.noAdapters||(bt.activeChain=a?.namespace,bt.activeCaipNetwork=i,he.setChainNetworkData(a?.namespace,{caipNetwork:i}),bt.activeChain&&eu.set({activeChain:a?.namespace})),c.forEach(d=>{const f=e?.filter(b=>b.chainNamespace===d),p=ct.getPreferredAccountTypes()||{},g={...tt.state.defaultAccountTypes,...p};he.state.chains.set(d,{namespace:d,networkState:Wr({...jE,caipNetwork:f?.[0]}),accountState:Wr({...RT,preferredAccountType:g[d]}),caipNetworks:f??[],...n}),he.setRequestedCaipNetworks(f??[],d)})},removeAdapter(t){if(bt.activeChain===t){const e=Array.from(bt.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&he.setActiveCaipNetwork(n)}}bt.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");bt.chains.set(t.namespace,{namespace:t.namespace,networkState:{...jE,caipNetwork:r[0]},accountState:RT,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),he.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=bt.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),bt.chains.set(t.chainNamespace,{...e,caipNetworks:n}),he.setRequestedCaipNetworks(n,t.chainNamespace),ut.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=bt.chains.get(t);if(n){const r=bt.activeCaipNetwork?.id===e,s=[...n.caipNetworks?.filter(i=>i.id!==e)||[]];r&&n?.caipNetworks?.[0]&&he.setActiveCaipNetwork(n.caipNetworks[0]),bt.chains.set(t,{...n,caipNetworks:s}),he.setRequestedCaipNetworks(s||[],t),s.length===0&&ut.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=bt.chains.get(t);n&&(n.networkState={...n.networkState||jE,...e},bt.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=bt.chains.get(t);if(r){const s={...r.accountState||RT,...e};bt.chains.set(t,{...r,accountState:s}),(bt.chains.size===1||bt.activeChain===t)&&(e.caipAddress&&(bt.activeCaipAddress=e.caipAddress),Pt.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=bt.chains.get(t);if(n){const r={...n.networkState||jE,...e};bt.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){he.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){bt.activeChain=t;const e=t?bt.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(bt.activeCaipAddress=e?.accountState?.caipAddress,bt.activeCaipNetwork=n,he.setChainNetworkData(t,{caipNetwork:n}),ct.setActiveCaipNetworkId(n?.caipNetworkId),eu.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;bt.activeChain!==t.chainNamespace&&he.setIsSwitchingNamespace(!0);const e=bt.chains.get(t.chainNamespace);bt.activeChain=t.chainNamespace,bt.activeCaipNetwork=t,he.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?bt.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:bt.activeCaipAddress=void 0,he.setAccountProp("caipAddress",bt.activeCaipAddress,t.chainNamespace),e&&Pt.replaceState(e.accountState),br.resetSend(),eu.set({activeChain:bt.activeChain,selectedNetworkId:bt.activeCaipNetwork?.caipNetworkId}),ct.setActiveCaipNetworkId(t.caipNetworkId),!he.checkIfSupportedNetwork(t.chainNamespace)&&tt.state.enableNetworkSwitch&&!tt.state.allowUnsupportedChain&&!mt.state.wcBasic&&he.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=bt.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==he.state.activeChain,n=he.getNetworkData(t)?.caipNetwork,r=he.getCaipNetworkByNamespace(t,n?.id);e&&r&&await he.switchActiveNetwork(r)},async switchActiveNetwork(t){const e=he.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=!he.state.chains.get(e)?.caipNetworks?.some(i=>i.id===bt.activeCaipNetwork?.id),s=he.getNetworkControllerClient(t.chainNamespace);if(s){try{await s.switchCaipNetwork(t),r&&fr.close()}catch{ln.goBack()}_r.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||bt.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=bt.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||bt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=bt.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){let n=bt.activeChain;if(e&&(n=e),!n)return;const r=bt.chains.get(n)?.accountState;if(r)return r[t]},getNetworkProp(t,e){const n=bt.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=bt.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return Nt.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return bt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=he.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){he.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=he.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ut.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return bt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=he.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?bt.chains.get(t)?.networkState?.caipNetwork:bt.activeCaipNetwork},getActiveCaipAddress(){return bt.activeCaipAddress},getApprovedCaipNetworkIds(t){return bt.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await he.getNetworkControllerClient()?.getApprovedCaipNetworksData();he.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||bt.activeCaipNetwork,r=he.getRequestedCaipNetworks(t);return r.length?r?.some(s=>s.id===n?.id):!0},checkIfSupportedChainId(t){return bt.activeChain?he.getRequestedCaipNetworks(bt.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){he.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=qq.caipNetworkIdToNumber(bt.activeCaipNetwork?.caipNetworkId),e=bt.activeChain;return!e||!t?!1:!!he.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){fr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=bt.activeCaipNetwork;return!!(t?.chainNamespace&&wr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){he.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=tt.state.defaultAccountTypes[e],r=he.getAccountProp("preferredAccountType",e);bt.activeCaipAddress=void 0,he.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ut.removeConnectorId(e)},setIsSwitchingNamespace(t){bt.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(bt.chains.forEach(n=>{Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?bt.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){return t?he.state.chains.get(t)?.accountState:Pt.state},getNetworkData(t){const e=t||bt.activeChain;if(e)return he.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=he.state.chains.get(t),r=n?.caipNetworks?.find(s=>s.id===e);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=ut.state.filterByNamespace;return(t?[bt.chains.get(t)]:Array.from(bt.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?he.getRequestedCaipNetworks(t):he.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){bt.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return bt.lastConnectedSIWECaipNetwork}},he=Va(wue),vue={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Jq=Nt.getBlockchainApiUrl(),To=Wr({clientId:null,api:new Fv({baseUrl:Jq,clientId:null}),supportedChains:{http:[],ws:[]}}),Yt={state:To,async get(t){const{st:e,sv:n}=Yt.getSdkProperties(),r=tt.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return To.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=tt.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{To.supportedChains.http.length||await Yt.getSupportedNetworks()}catch{return!1}return To.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Yt.get({path:"v1/supported-chains"});return To.supportedChains=t,t}catch{return To.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Yt.isNetworkSupported(e))return{avatar:"",name:""};const r=ct.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Yt.get({path:`/v1/identity/${t}`,params:{sender:he.state.activeCaipAddress?Nt.getPlainAddress(he.state.activeCaipAddress):void 0}});return ct.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:s}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:n,cache:r}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?To.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:tt.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Yt.getSdkProperties();if(!await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Yt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){if(!await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return To.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:wr.CONVERT_SLIPPAGE_TOLERANCE},projectId:tt.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:s}=Yt.getSdkProperties();if(!await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Yt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){const{st:r,sv:s}=Yt.getSdkProperties();if(!await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId))return Yl.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ct.getBalanceCacheForCaipAddress(o);if(a)return a;const l=await Yt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ct.updateBalanceCache({caipAddress:o,balance:l,timestamp:Date.now()}),l},async lookupEnsName(t){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:`/v1/profile/reverse/${t}`,params:{sender:Pt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?To.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?(await To.api.post({path:"/v1/generators/onrampurl",params:{projectId:tt.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Yt.get({path:"/v1/onramp/options"})}catch{return vue}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?await To.api.post({path:"/v1/onramp/quote",params:{projectId:tt.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?Yt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Yt.isNetworkSupported(he.state.activeCaipNetwork?.caipNetworkId)?To.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:tt.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){To.clientId=t,To.api=new Fv({baseUrl:Jq,clientId:t})}};function xue(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ND(t){return xue(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Zq="2.31.7";let PT={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Zq}`},ml=class bP extends Error{constructor(e,n={}){const r=n.cause instanceof bP?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof bP&&n.cause.docsPath||n.docsPath,i=PT.getDocsUrl?.({...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...PT.version?[`Version: ${PT.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Zq}walk(e){return Xq(this,e)}};function Xq(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Xq(t.cause,e):e?null:t}class A7e extends ml{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let eV=class extends ml{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function QI(t,{dir:e,size:n=32}={}){return typeof t=="string"?Eue(t,{dir:e,size:n}):Aue(t,{dir:e,size:n})}function Eue(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new eV({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Aue(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new eV({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let Cue=class extends ml{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Sue=class extends ml{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function tV(t,{size:e}){if(ND(t)>e)throw new Sue({givenSize:ND(t),maxSize:e})}const _ue=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TD(t,e={}){return typeof t=="number"||typeof t=="bigint"?Tue(t,e):typeof t=="string"?rV(t,e):typeof t=="boolean"?Nue(t,e):nV(t,e)}function Nue(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(tV(n,{size:e.size}),QI(n,{size:e.size})):n}function nV(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=_ue[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(tV(r,{size:e.size}),QI(r,{dir:"right",size:e.size})):r}function Tue(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Cue({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?QI(a,{size:r}):a}const Rue=new TextEncoder;function rV(t,e={}){const n=Rue.encode(t);return nV(n,e)}let Pue=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Kp=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Oue(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}const YI=t=>t;class o1 extends ml{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${YI(o)}`,e&&`Request body: ${Kp(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class sV extends ml{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${YI(r)}`,`Request body: ${Kp(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class RD extends ml{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${YI(n)}`,`Request body: ${Kp(e)}`],name:"TimeoutError"})}}const Iue=-1;class Zo extends ml{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof sV?e.code:n??Iue}}class Ga extends Zo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class N1 extends Zo{constructor(e){super(e,{code:N1.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(N1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class T1 extends Zo{constructor(e){super(e,{code:T1.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(T1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class R1 extends Zo{constructor(e,{method:n}={}){super(e,{code:R1.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(R1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class P1 extends Zo{constructor(e){super(e,{code:P1.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(P1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wm extends Zo{constructor(e){super(e,{code:wm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class O1 extends Zo{constructor(e){super(e,{code:O1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(O1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class I1 extends Zo{constructor(e){super(e,{code:I1.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(I1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class k1 extends Zo{constructor(e){super(e,{code:k1.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(k1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class vm extends Zo{constructor(e){super(e,{code:vm.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(vm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Bp extends Zo{constructor(e,{method:n}={}){super(e,{code:Bp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class xm extends Zo{constructor(e){super(e,{code:xm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(xm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class B1 extends Zo{constructor(e){super(e,{code:B1.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(B1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Wp extends Ga{constructor(e){super(e,{code:Wp.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class D1 extends Ga{constructor(e){super(e,{code:D1.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(D1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class M1 extends Ga{constructor(e,{method:n}={}){super(e,{code:M1.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(M1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class U1 extends Ga{constructor(e){super(e,{code:U1.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(U1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class L1 extends Ga{constructor(e){super(e,{code:L1.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(L1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class j1 extends Ga{constructor(e){super(e,{code:j1.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(j1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class F1 extends Ga{constructor(e){super(e,{code:F1.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(F1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class $1 extends Ga{constructor(e){super(e,{code:$1.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty($1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class H1 extends Ga{constructor(e){super(e,{code:H1.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(H1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class z1 extends Ga{constructor(e){super(e,{code:z1.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class q1 extends Ga{constructor(e){super(e,{code:q1.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class V1 extends Ga{constructor(e){super(e,{code:V1.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(V1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class G1 extends Ga{constructor(e){super(e,{code:G1.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(G1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class kue extends Zo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class JI extends ml{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(JI,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(JI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Bue(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const OT=new Map;function Due({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=l();o();const f=d.map(({args:p})=>p);f.length!==0&&t(f).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let g=0;g<d.length;g++){const{resolve:b}=d[g];b?.([p[g],p])}}).catch(p=>{for(let g=0;g<d.length;g++){const{reject:b}=d[g];b?.(p)}})},o=()=>OT.delete(e),a=()=>l().map(({args:d})=>d),l=()=>OT.get(e)||[],c=d=>OT.set(e,[...l(),d]);return{flush:o,async schedule(d){const{promise:f,resolve:p,reject:g}=Bue();return n?.([...a(),d])&&i(),l().length>0?(c({args:d,resolve:p,reject:g}),f):(c({args:d,resolve:p,reject:g}),setTimeout(i,r),f)}}}async function iV(t){return new Promise(e=>setTimeout(e,t))}const wP=256;let FE=wP,$E;function Mue(t=11){if(!$E||FE+t>wP*2){$E="",FE=0;for(let e=0;e<wP;e++)$E+=(256+Math.random()*256|0).toString(16).substring(1)}return $E.substring(FE,FE+++t)}const HE=new Pue(8192);function Uue(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(HE.get(n))return HE.get(n);const r=t().finally(()=>HE.delete(n));return HE.set(n,r),r}function Lue(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const d=typeof e=="function"?e({count:a,error:c}):e;d&&await iV(d),o({count:a+1})};try{const c=await t();s(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});i(c)}};o()})}function jue(t,e={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(i?.exclude?.includes(c))throw new Bp(new Error("method not supported"),{method:c});if(i?.include&&!i.include.includes(c))throw new Bp(new Error("method not supported"),{method:c});const d=s?rV(`${l}.${Kp(n)}`):void 0;return Uue(()=>Lue(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case N1.code:throw new N1(p);case T1.code:throw new T1(p);case R1.code:throw new R1(p,{method:n.method});case P1.code:throw new P1(p);case wm.code:throw new wm(p);case O1.code:throw new O1(p);case I1.code:throw new I1(p);case k1.code:throw new k1(p);case vm.code:throw new vm(p);case Bp.code:throw new Bp(p,{method:n.method});case xm.code:throw new xm(p);case B1.code:throw new B1(p);case Wp.code:throw new Wp(p);case D1.code:throw new D1(p);case M1.code:throw new M1(p);case U1.code:throw new U1(p);case L1.code:throw new L1(p);case j1.code:throw new j1(p);case F1.code:throw new F1(p);case $1.code:throw new $1(p);case H1.code:throw new H1(p);case z1.code:throw new z1(p);case q1.code:throw new q1(p);case V1.code:throw new V1(p);case G1.code:throw new G1(p);case 5e3:throw new Wp(p);default:throw f instanceof ml?f:new kue(p)}}},{delay:({count:f,error:p})=>{if(p&&p instanceof o1){const g=p?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Fue(f)}),{enabled:s,id:d})}}function Fue(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===xm.code||t.code===wm.code:t instanceof o1&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function oV({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},l){const c=Mue();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:jue(r,{methods:e,retryCount:s,retryDelay:i,uid:c}),value:l}}function PD(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=$ue,retryCount:o,retryDelay:a}=e;return({chain:l,pollingInterval:c=4e3,timeout:d,...f})=>{let p=t,g=()=>{};const b=oV({key:n,name:r,async request({method:w,params:m}){let v;const x=async(C=0)=>{const S=p[C]({...f,chain:l,retryCount:0,timeout:d});try{const T=await S.request({method:w,params:m});return g({method:w,params:m,response:T,transport:S,status:"success"}),T}catch(T){if(g({error:T,method:w,params:m,transport:S,status:"error"}),i(T)||C===p.length-1||(v??=p.slice(C+1).some(R=>{const{include:_,exclude:N}=R({chain:l}).config.methods||{};return _?_.includes(w):N?!N.includes(w):!0}),!v))throw T;return x(C+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:w=>g=w,transports:p.map(w=>w({chain:l,retryCount:0}))});if(s){const w=typeof s=="object"?s:{};Hue({chain:l,interval:w.interval??c,onTransports:m=>p=m,ping:w.ping,sampleCount:w.sampleCount,timeout:w.timeout,transports:p,weights:w.weights})}return b}}function $ue(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===vm.code||t.code===Wp.code||JI.nodeMessage.test(t.message)||t.code===5e3))}function Hue({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:l=.7,latency:c=.3}=a,d=[],f=async()=>{const p=await Promise.all(o.map(async w=>{const m=w({chain:t,retryCount:0,timeout:i}),v=Date.now();let x,C;try{await(r?r({transport:m}):m.request({method:"net_listening"})),C=1}catch{C=0}finally{x=Date.now()}return{latency:x-v,success:C}}));d.push(p),d.length>s&&d.shift();const g=Math.max(...d.map(w=>Math.max(...w.map(({latency:m})=>m)))),b=o.map((w,m)=>{const v=d.map(R=>R[m].latency),C=1-v.reduce((R,_)=>R+_,0)/v.length/g,S=d.map(R=>R[m].success),T=S.reduce((R,_)=>R+_,0)/S.length;return T===0?[0,m]:[c*C+l*T,m]}).sort((w,m)=>m[0]-w[0]);n(b.map(([,w])=>o[w])),await iV(e),f()};f()}class zue extends ml{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function que(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Vue(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const OD=Vue();function Gue(t,e={}){return{async request(n){const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:d}=a;try{const f=await que(async({signal:g})=>{const b={...a,body:Array.isArray(r)?Kp(r.map(x=>({jsonrpc:"2.0",id:x.id??OD.take(),...x}))):Kp({jsonrpc:"2.0",id:r.id??OD.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:d||(o>0?g:null)},w=new Request(t,b),m=await s?.(w,b)??{...b,url:t};return await fetch(m.url??t,m)},{errorInstance:new RD({body:r,url:t}),timeout:o,signal:!0});i&&await i(f);let p;if(f.headers.get("Content-Type")?.startsWith("application/json"))p=await f.json();else{p=await f.text();try{p=JSON.parse(p||"{}")}catch(g){if(f.ok)throw g;p={error:p}}}if(!f.ok)throw new o1({body:r,details:Kp(p.error)||f.statusText,headers:f.headers,status:f.status,url:t});return p}catch(f){throw f instanceof o1||f instanceof RD?f:new o1({body:r,cause:f,url:t})}}}}function zE(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:d}=e;return({chain:f,retryCount:p,timeout:g})=>{const{batchSize:b=1e3,wait:w=0}=typeof n=="object"?n:{},m=e.retryCount??p,v=g??e.timeout??1e4,x=t||f?.rpcUrls.default.http[0];if(!x)throw new zue;const C=Gue(x,{fetchOptions:r,onRequest:a,onResponse:l,timeout:v});return oV({key:s,methods:i,name:o,async request({method:S,params:T}){const R={method:S,params:T},{schedule:_}=Due({id:x,wait:w,shouldSplitBatch(k){return k.length>b},fn:k=>C.request({body:k}),sort:(k,z)=>k.id-z.id}),N=async k=>n?_(k):[await C.request({body:k})],[{error:O,result:D}]=await N(R);if(d)return{error:O,result:D};if(O)throw new sV({body:R,error:O,url:x});return D},retryCount:m,retryDelay:c,timeout:v,type:"http"},{fetchOptions:r,url:x})}}function aV(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const IT={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Oue(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},ZI={async getMyTokensWithBalance(t){const e=Pt.state.address,n=he.state.activeCaipNetwork,r=ut.getConnectorId("eip155")===Fe.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ct.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===Fe.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Yt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const n=IT.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await mt.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const s=await mt.walletGetAssets({account:t,chainFilter:[n]});if(!IT.isWalletGetAssetsResponse(s))return null;const o=(s[n]||[]).map(a=>IT.createBalance(a,e.caipNetworkId));return ct.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},kl=Wr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Kue={state:kl,replaceState(t){t&&Object.assign(kl,s0(t))},subscribe(t){return he.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return he.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){he.setAccountProp("status",t,e)},getCaipAddress(t){return he.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Nt.getPlainAddress(t):void 0;e===he.state.activeChain&&(he.state.activeCaipAddress=t),he.setAccountProp("caipAddress",t,e),he.setAccountProp("address",n,e)},setBalance(t,e,n){he.setAccountProp("balance",t,n),he.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){he.setAccountProp("profileName",t,e)},setProfileImage(t,e){he.setAccountProp("profileImage",t,e)},setUser(t,e){he.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){he.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){he.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){he.setAccountProp("currentTab",t,he.state.activeChain)},setTokenBalance(t,e){t&&he.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){he.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){const r=he.getAccountProp("addressLabels",n)||new Map;r.set(t,e),he.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=he.getAccountProp("addressLabels",e)||new Map;n.delete(t),he.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){he.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){he.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&he.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){he.setAccountProp("socialWindow",t?s0(t):void 0,e)},setFarcasterUrl(t,e){he.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){kl.balanceLoading=!0;const e=he.state.activeCaipNetwork?.caipNetworkId,n=he.state.activeCaipNetwork?.chainNamespace,r=he.state.activeCaipAddress,s=r?Nt.getPlainAddress(r):void 0;if(kl.lastRetry&&!Nt.isAllowedRetry(kl.lastRetry,30*wr.ONE_SEC_MS))return kl.balanceLoading=!1,[];try{if(s&&e&&n){const i=await ZI.getMyTokensWithBalance();return Pt.setTokenBalance(i,n),kl.lastRetry=void 0,kl.balanceLoading=!1,i}}catch(i){kl.lastRetry=Date.now(),t?.(i),Yl.showError("Token Balance Unavailable")}finally{kl.balanceLoading=!1}return[]},resetAccount(t){he.resetAccount(t)}},Pt=Va(Kue),Wue={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=he.state.activeCaipNetwork,r=ln.state.data;if(t.id===n?.id)return;const i=Pt.getCaipAddress(he.state.activeChain),o=t.chainNamespace!==he.state.activeChain,a=Pt.getCaipAddress(t.chainNamespace),c=ut.getConnectorId(he.state.activeChain)===Fe.CONNECTOR_ID.AUTH,d=Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||c&&d?ln.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?ln.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):ln.push("SwitchNetwork",{...r,network:t})}},Ro=Wr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Que={state:Ro,subscribe(t){return wi(Ro,()=>t(Ro))},subscribeKey(t,e){return Xi(Ro,t,e)},async open(t){const e=t?.namespace,n=he.state.activeChain,r=e&&e!==n,s=he.getAccountData(t?.namespace)?.caipAddress;if(mt.state.wcBasic?Gt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Gt.prefetch(),ut.setFilterByNamespace(t?.namespace),fr.setLoading(!0,e),e&&r){const i=he.getNetworkData(e)?.caipNetwork||he.getRequestedCaipNetworks(e)[0];i&&Wue.onSwitchNetwork({network:i,ignoreSwitchConfirmation:!0})}else{const i=he.state.noAdapters;tt.state.manualWCControl||i&&!s?Nt.isMobile()?ln.reset("AllWallets"):ln.reset("ConnectingWalletConnectBasic"):t?.view?ln.reset(t.view,t.data):s?ln.reset("Account"):ln.reset("Connect")}Ro.open=!0,eu.set({open:!0}),_r.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=tt.state.enableEmbedded,e=!!he.state.activeCaipAddress;Ro.open&&_r.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Ro.open=!1,ln.reset("Connect"),fr.clearLoading(),t?e?ln.replace("Account"):ln.push("Connect"):eu.set({open:!1}),mt.resetUri()},setLoading(t,e){e&&Ro.loadingNamespaceMap.set(e,t),Ro.loading=t,eu.set({loading:t})},clearLoading(){Ro.loadingNamespaceMap.clear(),Ro.loading=!1},shake(){Ro.shake||(Ro.shake=!0,setTimeout(()=>{Ro.shake=!1},500))}},fr=Va(Que),a1={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},vP={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Yue={providers:Kq,selectedProvider:null,error:null,purchaseCurrency:a1,paymentCurrency:vP,purchaseCurrencies:[a1],paymentCurrencies:[],quotesLoading:!1},Zn=Wr(Yue),Jue={state:Zn,subscribe(t){return wi(Zn,()=>t(Zn))},subscribeKey(t,e){return Xi(Zn,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=he.state.activeChain,n=e===Fe.CHAIN.SOLANA?"SOL":"USDC",r=he.getAccountProp("address",e)??"",s=new URL(t.url);s.searchParams.append("publicKey",qle),s.searchParams.append("destinationCurrencyCode",n),s.searchParams.append("walletAddress",r),s.searchParams.append("externalCustomerId",tt.state.projectId),Zn.selectedProvider={...t,url:s.toString()}}else Zn.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Kq.filter(r=>e.includes(r.name));Zn.providers=n}else Zn.providers=[]},setPurchaseCurrency(t){Zn.purchaseCurrency=t},setPaymentCurrency(t){Zn.paymentCurrency=t},setPurchaseAmount(t){xP.state.purchaseAmount=t},setPaymentAmount(t){xP.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Yt.getOnrampOptions();Zn.purchaseCurrencies=t.purchaseCurrencies,Zn.paymentCurrencies=t.paymentCurrencies,Zn.paymentCurrency=t.paymentCurrencies[0]||vP,Zn.purchaseCurrency=t.purchaseCurrencies[0]||a1,await Gt.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Gt.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){Zn.quotesLoading=!0;try{const t=await Yt.getOnrampQuote({purchaseCurrency:Zn.purchaseCurrency,paymentCurrency:Zn.paymentCurrency,amount:Zn.paymentAmount?.toString()||"0",network:Zn.purchaseCurrency?.symbol});return Zn.quotesLoading=!1,Zn.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return Zn.error=t.message,Zn.quotesLoading=!1,null}finally{Zn.quotesLoading=!1}},resetState(){Zn.selectedProvider=null,Zn.error=null,Zn.purchaseCurrency=a1,Zn.paymentCurrency=vP,Zn.purchaseCurrencies=[a1],Zn.paymentCurrencies=[],Zn.paymentAmount=void 0,Zn.purchaseAmount=void 0,Zn.quotesLoading=!1}},xP=Va(Jue),ID=2147483648,Zue={convertEVMChainIdToCoinType(t){if(t>=ID)throw new Error("Invalid chainId");return(ID|t)>>>0}},oc=Wr({suggestions:[],loading:!1}),Xue={state:oc,subscribe(t){return wi(oc,()=>t(oc))},subscribeKey(t,e){return Xi(oc,t,e)},async resolveName(t){try{return await Yt.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Yt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{oc.loading=!0,oc.suggestions=[];const e=await Yt.getEnsNameSuggestions(t);return oc.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],oc.suggestions}catch(e){const n=c1.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{oc.loading=!1}},async getNamesForAddress(t){try{if(!he.state.activeCaipNetwork)return[];const n=ct.getEnsFromCacheForAddress(t);if(n)return n;const r=await Yt.reverseLookupEnsName({address:t});return ct.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=c1.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=he.state.activeCaipNetwork,n=Pt.state.address,r=ut.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");oc.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ln.pushTransactionStack({onCancel(){ln.replace("RegisterAccountName")}});const i=await mt.signMessage(s);oc.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Zue.convertEVMChainIdToCoinType(Number(o));await Yt.registerEnsName({coinType:a,address:n,signature:i,message:s}),Pt.setProfileName(t,e.chainNamespace),ln.replace("RegisterAccountNameSuccess")}catch(s){const i=c1.parseEnsApiError(s,`Error registering name ${t}`);throw ln.replace("RegisterAccountName"),new Error(i)}finally{oc.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},c1=Va(Xue);var qE={exports:{}},kD;function ede(){if(kD)return qE.exports;kD=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,R,_){return Function.prototype.apply.call(T,R,_)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:n=function(T){return Object.getOwnPropertyNames(T)};function r(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(T){return T!==T};function i(){i.init.call(this)}qE.exports=i,qE.exports.once=v,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(T){for(var R=[],_=1;_<arguments.length;_++)R.push(arguments[_]);var N=T==="error",O=this._events;if(O!==void 0)N=N&&O.error===void 0;else if(!N)return!1;if(N){var D;if(R.length>0&&(D=R[0]),D instanceof Error)throw D;var k=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw k.context=D,k}var z=O[T];if(z===void 0)return!1;if(typeof z=="function")e(z,this,R);else for(var K=z.length,q=b(z,K),_=0;_<K;++_)e(q[_],this,R);return!0};function c(S,T,R,_){var N,O,D;if(a(R),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",T,R.listener?R.listener:R),O=S._events),D=O[T]),D===void 0)D=O[T]=R,++S._eventsCount;else if(typeof D=="function"?D=O[T]=_?[R,D]:[D,R]:_?D.unshift(R):D.push(R),N=l(S),N>0&&D.length>N&&!D.warned){D.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=S,k.type=T,k.count=D.length,r(k)}return S}i.prototype.addListener=function(T,R){return c(this,T,R,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(T,R){return c(this,T,R,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,T,R){var _={fired:!1,wrapFn:void 0,target:S,type:T,listener:R},N=d.bind(_);return N.listener=R,_.wrapFn=N,N}i.prototype.once=function(T,R){return a(R),this.on(T,f(this,T,R)),this},i.prototype.prependOnceListener=function(T,R){return a(R),this.prependListener(T,f(this,T,R)),this},i.prototype.removeListener=function(T,R){var _,N,O,D,k;if(a(R),N=this._events,N===void 0)return this;if(_=N[T],_===void 0)return this;if(_===R||_.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete N[T],N.removeListener&&this.emit("removeListener",T,_.listener||R));else if(typeof _!="function"){for(O=-1,D=_.length-1;D>=0;D--)if(_[D]===R||_[D].listener===R){k=_[D].listener,O=D;break}if(O<0)return this;O===0?_.shift():w(_,O),_.length===1&&(N[T]=_[0]),N.removeListener!==void 0&&this.emit("removeListener",T,k||R)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(T){var R,_,N;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[T]),this;if(arguments.length===0){var O=Object.keys(_),D;for(N=0;N<O.length;++N)D=O[N],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=_[T],typeof R=="function")this.removeListener(T,R);else if(R!==void 0)for(N=R.length-1;N>=0;N--)this.removeListener(T,R[N]);return this};function p(S,T,R){var _=S._events;if(_===void 0)return[];var N=_[T];return N===void 0?[]:typeof N=="function"?R?[N.listener||N]:[N]:R?m(N):b(N,N.length)}i.prototype.listeners=function(T){return p(this,T,!0)},i.prototype.rawListeners=function(T){return p(this,T,!1)},i.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):g.call(S,T)},i.prototype.listenerCount=g;function g(S){var T=this._events;if(T!==void 0){var R=T[S];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(S,T){for(var R=new Array(T),_=0;_<T;++_)R[_]=S[_];return R}function w(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function m(S){for(var T=new Array(S.length),R=0;R<T.length;++R)T[R]=S[R].listener||S[R];return T}function v(S,T){return new Promise(function(R,_){function N(D){S.removeListener(T,O),_(D)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",N),R([].slice.call(arguments))}C(S,T,O,{once:!0}),T!=="error"&&x(S,N,{once:!0})})}function x(S,T,R){typeof S.on=="function"&&C(S,"error",T,R)}function C(S,T,R,_){if(typeof S.on=="function")_.once?S.once(T,R):S.on(T,R);else if(typeof S.addEventListener=="function")S.addEventListener(T,function N(O){_.once&&S.removeEventListener(T,N),R(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return qE.exports}var Ac=ede();const XI=$m(Ac);var kT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EP=function(t,e){return EP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},EP(t,e)};function tde(t,e){EP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var AP=function(){return AP=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},AP.apply(this,arguments)};function nde(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rde(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function sde(t,e){return function(n,r){e(n,r,t)}}function ide(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ode(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function ade(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cde(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function lde(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function CP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cV(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function ude(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cV(arguments[e]));return t}function dde(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function K1(t){return this instanceof K1?(this.v=t,this):new K1(t)}function fde(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){r[p]&&(s[p]=function(g){return new Promise(function(b,w){i.push([p,g,b,w])>1||a(p,g)})})}function a(p,g){try{l(r[p](g))}catch(b){f(i[0][3],b)}}function l(p){p.value instanceof K1?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){a("next",p)}function d(p){a("throw",p)}function f(p,g){p(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}function hde(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:K1(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function pde(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CP=="function"?CP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function gde(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function mde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function yde(t){return t&&t.__esModule?t:{default:t}}function bde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function wde(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const vde=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return AP},__asyncDelegator:hde,__asyncGenerator:fde,__asyncValues:pde,__await:K1,__awaiter:ode,__classPrivateFieldGet:bde,__classPrivateFieldSet:wde,__createBinding:cde,__decorate:rde,__exportStar:lde,__extends:tde,__generator:ade,__importDefault:yde,__importStar:mde,__makeTemplateObject:gde,__metadata:ide,__param:sde,__read:cV,__rest:nde,__spread:ude,__spreadArrays:dde,__values:CP},Symbol.toStringTag,{value:"Module"})),DC=mC(vde);var BT={},pb={},BD;function xde(){if(BD)return pb;BD=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return pb.delay=t,pb}var Uh={},DT={},Lh={},DD;function Ede(){return DD||(DD=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.ONE_THOUSAND=Lh.ONE_HUNDRED=void 0,Lh.ONE_HUNDRED=100,Lh.ONE_THOUSAND=1e3),Lh}var MT={},MD;function Ade(){return MD||(MD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(MT)),MT}var UD;function lV(){return UD||(UD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=DC;e.__exportStar(Ede(),t),e.__exportStar(Ade(),t)}(DT)),DT}var LD;function Cde(){if(LD)return Uh;LD=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.fromMiliseconds=Uh.toMiliseconds=void 0;const t=lV();function e(r){return r*t.ONE_THOUSAND}Uh.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Uh.fromMiliseconds=n,Uh}var jD;function Sde(){return jD||(jD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=DC;e.__exportStar(xde(),t),e.__exportStar(Cde(),t)}(BT)),BT}var xg={},FD;function _de(){if(FD)return xg;FD=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return xg.Watch=t,xg.default=t,xg}var UT={},gb={},$D;function Nde(){if($D)return gb;$D=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.IWatch=void 0;class t{}return gb.IWatch=t,gb}var HD;function Tde(){return HD||(HD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),DC.__exportStar(Nde(),t)}(UT)),UT}var zD;function Rde(){return zD||(zD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=DC;e.__exportStar(Sde(),t),e.__exportStar(_de(),t),e.__exportStar(Tde(),t),e.__exportStar(lV(),t)}(kT)),kT}var dt=Rde();class T0{}let Pde=class extends T0{constructor(e){super()}};const qD=dt.FIVE_SECONDS,R0={pulse:"heartbeat_pulse"};let Ode=class uV extends Pde{constructor(e){super(e),this.events=new Ac.EventEmitter,this.interval=qD,this.interval=e?.interval||qD}static async init(e){const n=new uV(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),dt.toMiliseconds(this.interval))}pulse(){this.events.emit(R0.pulse)}};const Ide=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,kde=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Bde=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Dde(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Mde(t);return}return e}function Mde(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function VE(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Bde.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Ide.test(t)||kde.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Dde)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Ude(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ui(t,...e){try{return Ude(t(...e))}catch(n){return Promise.reject(n)}}function Lde(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function jde(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function zA(t){if(Lde(t))return String(t);if(jde(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return zA(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const SP="base64:";function Fde(t){return typeof t=="string"?t:SP+zde(t)}function $de(t){return typeof t!="string"||!t.startsWith(SP)?t:Hde(t.slice(SP.length))}function Hde(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function zde(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Bo(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function qde(...t){return Bo(t.join(":"))}function GE(t){return t=Bo(t),t?t+":":""}function Vde(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Gde(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Kde="memory",Wde=()=>{const t=new Map;return{name:Kde,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Qde(t={}){const e={mounts:{"":t.driver||Wde()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const d of e.mountpoints)if(c.startsWith(d))return{base:d,relativeKey:c.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,d)=>e.mountpoints.filter(f=>f.startsWith(c)||d&&c.startsWith(f)).map(f=>({relativeBase:c.length>f.length?c.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(c,d)=>{if(e.watching){d=Bo(d);for(const f of e.watchListeners)f(c,d)}},i=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await VD(e.mounts[c],s,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,d,f)=>{const p=new Map,g=b=>{let w=p.get(b.base);return w||(w={driver:b.driver,base:b.base,items:[]},p.set(b.base,w)),w};for(const b of c){const w=typeof b=="string",m=Bo(w?b:b.key),v=w?void 0:b.value,x=w||!b.options?d:{...d,...b.options},C=n(m);g(C).items.push({key:m,value:v,relativeKey:C.relativeKey,options:x})}return Promise.all([...p.values()].map(b=>f(b))).then(b=>b.flat())},l={hasItem(c,d={}){c=Bo(c);const{relativeKey:f,driver:p}=n(c);return ui(p.hasItem,f,d)},getItem(c,d={}){c=Bo(c);const{relativeKey:f,driver:p}=n(c);return ui(p.getItem,f,d).then(g=>VE(g))},getItems(c,d={}){return a(c,d,f=>f.driver.getItems?ui(f.driver.getItems,f.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(g=>({key:qde(f.base,g.key),value:VE(g.value)}))):Promise.all(f.items.map(p=>ui(f.driver.getItem,p.relativeKey,p.options).then(g=>({key:p.key,value:VE(g)})))))},getItemRaw(c,d={}){c=Bo(c);const{relativeKey:f,driver:p}=n(c);return p.getItemRaw?ui(p.getItemRaw,f,d):ui(p.getItem,f,d).then(g=>$de(g))},async setItem(c,d,f={}){if(d===void 0)return l.removeItem(c);c=Bo(c);const{relativeKey:p,driver:g}=n(c);g.setItem&&(await ui(g.setItem,p,zA(d),f),g.watch||s("update",c))},async setItems(c,d){await a(c,d,async f=>{if(f.driver.setItems)return ui(f.driver.setItems,f.items.map(p=>({key:p.relativeKey,value:zA(p.value),options:p.options})),d);f.driver.setItem&&await Promise.all(f.items.map(p=>ui(f.driver.setItem,p.relativeKey,zA(p.value),p.options)))})},async setItemRaw(c,d,f={}){if(d===void 0)return l.removeItem(c,f);c=Bo(c);const{relativeKey:p,driver:g}=n(c);if(g.setItemRaw)await ui(g.setItemRaw,p,d,f);else if(g.setItem)await ui(g.setItem,p,Fde(d),f);else return;g.watch||s("update",c)},async removeItem(c,d={}){typeof d=="boolean"&&(d={removeMeta:d}),c=Bo(c);const{relativeKey:f,driver:p}=n(c);p.removeItem&&(await ui(p.removeItem,f,d),(d.removeMeta||d.removeMata)&&await ui(p.removeItem,f+"$",d),p.watch||s("remove",c))},async getMeta(c,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),c=Bo(c);const{relativeKey:f,driver:p}=n(c),g=Object.create(null);if(p.getMeta&&Object.assign(g,await ui(p.getMeta,f,d)),!d.nativeOnly){const b=await ui(p.getItem,f+"$",d).then(w=>VE(w));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(g,b))}return g},setMeta(c,d,f={}){return this.setItem(c+"$",d,f)},removeMeta(c,d={}){return this.removeItem(c+"$",d)},async getKeys(c,d={}){c=GE(c);const f=r(c,!0);let p=[];const g=[];let b=!0;for(const m of f){m.driver.flags?.maxDepth||(b=!1);const v=await ui(m.driver.getKeys,m.relativeBase,d);for(const x of v){const C=m.mountpoint+Bo(x);p.some(S=>C.startsWith(S))||g.push(C)}p=[m.mountpoint,...p.filter(x=>!x.startsWith(m.mountpoint))]}const w=d.maxDepth!==void 0&&!b;return g.filter(m=>(!w||Vde(m,d.maxDepth))&&Gde(m,c))},async clear(c,d={}){c=GE(c),await Promise.all(r(c,!1).map(async f=>{if(f.driver.clear)return ui(f.driver.clear,f.relativeBase,d);if(f.driver.removeItem){const p=await f.driver.getKeys(f.relativeBase||"",d);return Promise.all(p.map(g=>f.driver.removeItem(g,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>GD(c)))},async watch(c){return await i(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,d){if(c=GE(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((f,p)=>p.length-f.length)),e.mounts[c]=d,e.watching&&Promise.resolve(VD(d,s,c)).then(f=>{e.unwatch[c]=f}).catch(console.error),l},async unmount(c,d=!0){c=GE(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c]?.(),delete e.unwatch[c]),d&&await GD(e.mounts[c]),e.mountpoints=e.mountpoints.filter(f=>f!==c),delete e.mounts[c])},getMount(c=""){c=Bo(c)+":";const d=n(c);return{driver:d.driver,base:d.base}},getMounts(c="",d={}){return c=Bo(c),r(c,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(c,d={})=>l.getKeys(c,d),get:(c,d={})=>l.getItem(c,d),set:(c,d,f={})=>l.setItem(c,d,f),has:(c,d={})=>l.hasItem(c,d),del:(c,d={})=>l.removeItem(c,d),remove:(c,d={})=>l.removeItem(c,d)};return l}function VD(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function GD(t){typeof t.dispose=="function"&&await ui(t.dispose)}function P0(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function dV(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=P0(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let LT;function $v(){return LT||(LT=dV("keyval-store","keyval")),LT}function KD(t,e=$v()){return e("readonly",n=>P0(n.get(t)))}function Yde(t,e,n=$v()){return n("readwrite",r=>(r.put(e,t),P0(r.transaction)))}function Jde(t,e=$v()){return e("readwrite",n=>(n.delete(t),P0(n.transaction)))}function Zde(t=$v()){return t("readwrite",e=>(e.clear(),P0(e.transaction)))}function Xde(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},P0(t.transaction)}function efe(t=$v()){return t("readonly",e=>{if(e.getAllKeys)return P0(e.getAllKeys());const n=[];return Xde(e,r=>n.push(r.key)).then(()=>n)})}const tfe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),nfe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function o0(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return nfe(t)}catch{return t}}function Ad(t){return typeof t=="string"?t:tfe(t)||""}const rfe="idb-keyval";var sfe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=dV(t.dbName,t.storeName)),{name:rfe,options:t,async hasItem(s){return!(typeof await KD(n(s),r)>"u")},async getItem(s){return await KD(n(s),r)??null},setItem(s,i){return Yde(n(s),i,r)},removeItem(s){return Jde(n(s),r)},getKeys(){return efe(r)},clear(){return Zde(r)}}};const ife="WALLET_CONNECT_V2_INDEXED_DB",ofe="keyvaluestorage";let afe=class{constructor(){this.indexedDb=Qde({driver:sfe({dbName:ife,storeName:ofe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ad(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qA={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof jT<"u"&&jT.localStorage?qA.exports=jT.localStorage:typeof window<"u"&&window.localStorage?qA.exports=window.localStorage:qA.exports=new e})();function cfe(t){var e;return[t[0],o0((e=t[1])!=null?e:"")]}let lfe=class{constructor(){this.localStorage=qA.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(cfe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return o0(n)}async setItem(e,n){this.localStorage.setItem(e,Ad(n))}async removeItem(e){this.localStorage.removeItem(e)}};const ufe="wc_storage_version",WD=1,dfe=async(t,e,n)=>{const r=ufe,s=await e.getItem(r);if(s&&s>=WD){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(r,WD),n(e),ffe(t,o)},ffe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let hfe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new lfe;this.storage=e;try{const n=new afe;dfe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var FT,QD;function pfe(){if(QD)return FT;QD=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}FT=e;function e(n,r,s){var i=s&&s.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var l=new Array(a);l[0]=i(n);for(var c=1;c<a;c++)l[c]=i(r[c]);return l.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var f="",p=1-o,g=-1,b=n&&n.length||0,w=0;w<b;){if(n.charCodeAt(w)===37&&w+1<b){switch(g=g>-1?g:0,n.charCodeAt(w+1)){case 100:case 102:if(p>=d||r[p]==null)break;g<w&&(f+=n.slice(g,w)),f+=Number(r[p]),g=w+2,w++;break;case 105:if(p>=d||r[p]==null)break;g<w&&(f+=n.slice(g,w)),f+=Math.floor(Number(r[p])),g=w+2,w++;break;case 79:case 111:case 106:if(p>=d||r[p]===void 0)break;g<w&&(f+=n.slice(g,w));var m=typeof r[p];if(m==="string"){f+="'"+r[p]+"'",g=w+2,w++;break}if(m==="function"){f+=r[p].name||"<anonymous>",g=w+2,w++;break}f+=i(r[p]),g=w+2,w++;break;case 115:if(p>=d)break;g<w&&(f+=n.slice(g,w)),f+=String(r[p]),g=w+2,w++;break;case 37:g<w&&(f+=n.slice(g,w)),f+="%",g=w+2,w++,p--;break}++p}++w}return g===-1?n:(g<b&&(f+=n.slice(g)),f)}return FT}var $T,YD;function gfe(){if(YD)return $T;YD=1;const t=pfe();$T=s;const e=T().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:b,res:b,err:p};function r(R,_){return Array.isArray(R)?R.filter(function(O){return O!=="!stdSerializers.err"}):R===!0?Object.keys(_):!1}function s(R){R=R||{},R.browser=R.browser||{};const _=R.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const N=R.browser.write||e;R.browser.write&&(R.browser.asObject=!0);const O=R.serializers||{},D=r(R.browser.serialize,O);let k=R.browser.serialize;Array.isArray(R.browser.serialize)&&R.browser.serialize.indexOf("!stdSerializers.err")>-1&&(k=!1);const z=["error","fatal","warn","info","debug","trace"];typeof N=="function"&&(N.error=N.fatal=N.warn=N.info=N.debug=N.trace=N),R.enabled===!1&&(R.level="silent");const K=R.level||"info",q=Object.create(N);q.log||(q.log=m),Object.defineProperty(q,"levelVal",{get:P}),Object.defineProperty(q,"level",{get:M,set:j});const I={transmit:_,serialize:D,asObject:R.browser.asObject,levels:z,timestamp:g(R)};q.levels=s.levels,q.level=K,q.setMaxListeners=q.getMaxListeners=q.emit=q.addListener=q.on=q.prependListener=q.once=q.prependOnceListener=q.removeListener=q.removeAllListeners=q.listeners=q.listenerCount=q.eventNames=q.write=q.flush=m,q.serializers=O,q._serialize=D,q._stdErrSerialize=k,q.child=G,_&&(q._logEvent=f());function P(){return this.level==="silent"?1/0:this.levels.values[this.level]}function M(){return this._level}function j(F){if(F!=="silent"&&!this.levels.values[F])throw Error("unknown level "+F);this._level=F,i(I,q,"error","log"),i(I,q,"fatal","error"),i(I,q,"warn","error"),i(I,q,"info","log"),i(I,q,"debug","log"),i(I,q,"trace","log")}function G(F,H){if(!F)throw new Error("missing bindings for child Pino");H=H||{},D&&F.serializers&&(H.serializers=F.serializers);const $=H.serializers;if(D&&$){var Z=Object.assign({},O,$),X=R.browser.serialize===!0?Object.keys(Z):D;delete F.serializers,l([F],X,Z,this._stdErrSerialize)}function le(de){this._childLevel=(de._childLevel|0)+1,this.error=c(de,F,"error"),this.fatal=c(de,F,"fatal"),this.warn=c(de,F,"warn"),this.info=c(de,F,"info"),this.debug=c(de,F,"debug"),this.trace=c(de,F,"trace"),Z&&(this.serializers=Z,this._serialize=X),_&&(this._logEvent=f([].concat(de._logEvent.bindings,F)))}return le.prototype=this,new le(this)}return q}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:x,unixTime:C,isoTime:S});function i(R,_,N,O){const D=Object.getPrototypeOf(_);_[N]=_.levelVal>_.levels.values[N]?m:D[N]?D[N]:e[N]||e[O]||m,o(R,_,N)}function o(R,_,N){!R.transmit&&_[N]===m||(_[N]=function(O){return function(){const k=R.timestamp(),z=new Array(arguments.length),K=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var q=0;q<z.length;q++)z[q]=arguments[q];if(R.serialize&&!R.asObject&&l(z,this._serialize,this.serializers,this._stdErrSerialize),R.asObject?O.call(K,a(this,N,z,k)):O.apply(K,z),R.transmit){const I=R.transmit.level||_.level,P=s.levels.values[I],M=s.levels.values[N];if(M<P)return;d(this,{ts:k,methodLevel:N,methodValue:M,transmitValue:s.levels.values[R.transmit.level||_.level],send:R.transmit.send,val:_.levelVal},z)}}}(_[N]))}function a(R,_,N,O){R._serialize&&l(N,R._serialize,R.serializers,R._stdErrSerialize);const D=N.slice();let k=D[0];const z={};O&&(z.time=O),z.level=s.levels.values[_];let K=(R._childLevel|0)+1;if(K<1&&(K=1),k!==null&&typeof k=="object"){for(;K--&&typeof D[0]=="object";)Object.assign(z,D.shift());k=D.length?t(D.shift(),D):void 0}else typeof k=="string"&&(k=t(D.shift(),D));return k!==void 0&&(z.msg=k),z}function l(R,_,N,O){for(const D in R)if(O&&R[D]instanceof Error)R[D]=s.stdSerializers.err(R[D]);else if(typeof R[D]=="object"&&!Array.isArray(R[D]))for(const k in R[D])_&&_.indexOf(k)>-1&&k in N&&(R[D][k]=N[k](R[D][k]))}function c(R,_,N){return function(){const O=new Array(1+arguments.length);O[0]=_;for(var D=1;D<O.length;D++)O[D]=arguments[D-1];return R[N].apply(this,O)}}function d(R,_,N){const O=_.send,D=_.ts,k=_.methodLevel,z=_.methodValue,K=_.val,q=R._logEvent.bindings;l(N,R._serialize||Object.keys(R.serializers),R.serializers,R._stdErrSerialize===void 0?!0:R._stdErrSerialize),R._logEvent.ts=D,R._logEvent.messages=N.filter(function(I){return q.indexOf(I)===-1}),R._logEvent.level.label=k,R._logEvent.level.value=z,O(k,R._logEvent,K),R._logEvent=f(q)}function f(R){return{ts:0,messages:[],bindings:R||[],level:{label:"",value:0}}}function p(R){const _={type:R.constructor.name,msg:R.message,stack:R.stack};for(const N in R)_[N]===void 0&&(_[N]=R[N]);return _}function g(R){return typeof R.timestamp=="function"?R.timestamp:R.timestamp===!1?v:x}function b(){return{}}function w(R){return R}function m(){}function v(){return!1}function x(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function S(){return new Date(Date.now()).toISOString()}function T(){function R(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return R(self)||R(window)||R(this)||{}}}return $T}var qg=gfe();const Hv=$m(qg),mfe={level:"info"},zv="custom_context",e4=1e3*1024;let yfe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},JD=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new yfe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},fV=class{constructor(e,n=e4){this.level=e??"error",this.levelValue=qg.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new JD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===qg.levels.values.error?console.error(e):n===qg.levels.values.warn?console.warn(e):n===qg.levels.values.debug?console.debug(e):n===qg.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ad({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new JD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Ad({extraMetadata:e})),new Blob(n,{type:"application/json"})}},bfe=class{constructor(e,n=e4){this.baseChunkLogger=new fV(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},wfe=class{constructor(e,n=e4){this.baseChunkLogger=new fV(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var vfe=Object.defineProperty,xfe=Object.defineProperties,Efe=Object.getOwnPropertyDescriptors,ZD=Object.getOwnPropertySymbols,Afe=Object.prototype.hasOwnProperty,Cfe=Object.prototype.propertyIsEnumerable,XD=(t,e,n)=>e in t?vfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b2=(t,e)=>{for(var n in e||(e={}))Afe.call(e,n)&&XD(t,n,e[n]);if(ZD)for(var n of ZD(e))Cfe.call(e,n)&&XD(t,n,e[n]);return t},w2=(t,e)=>xfe(t,Efe(e));function Wm(t){return w2(b2({},t),{level:t?.level||mfe.level})}function Sfe(t,e=zv){return t[e]||""}function _fe(t,e,n=zv){return t[n]=e,t}function Xo(t,e=zv){let n="";return typeof t.bindings>"u"?n=Sfe(t,e):n=t.bindings().context||"",n}function Nfe(t,e,n=zv){const r=Xo(t,n);return r.trim()?`${r}/${e}`:e}function eo(t,e,n=zv){const r=Nfe(t,e,n),s=t.child({context:r});return _fe(s,r,n)}function Tfe(t){var e,n;const r=new bfe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Hv(w2(b2({},t.opts),{level:"trace",browser:w2(b2({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Rfe(t){var e;const n=new wfe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Hv(w2(b2({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function t4(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Tfe(t):Rfe(t)}var Pfe=Object.defineProperty,Ofe=(t,e,n)=>e in t?Pfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eM=(t,e,n)=>Ofe(t,typeof e!="symbol"?e+"":e,n);let Ife=class extends T0{constructor(e){super(),this.opts=e,eM(this,"protocol","wc"),eM(this,"version",2)}};var kfe=Object.defineProperty,Bfe=(t,e,n)=>e in t?kfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dfe=(t,e,n)=>Bfe(t,e+"",n);let Mfe=class extends T0{constructor(e,n){super(),this.core=e,this.logger=n,Dfe(this,"records",new Map)}},Ufe=class{constructor(e,n){this.logger=e,this.core=n}},Lfe=class extends T0{constructor(e,n){super(),this.relayer=e,this.logger=n}},jfe=class extends T0{constructor(e){super()}},Ffe=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},$fe=class extends T0{constructor(e,n){super(),this.relayer=e,this.logger=n}},Hfe=class extends T0{constructor(e,n){super(),this.core=e,this.logger=n}},zfe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},qfe=class{constructor(e,n){this.projectId=e,this.logger=n}},Vfe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Gfe=Object.defineProperty,Kfe=(t,e,n)=>e in t?Gfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tM=(t,e,n)=>Kfe(t,typeof e!="symbol"?e+"":e,n);let Wfe=class{constructor(e){this.opts=e,tM(this,"protocol","wc"),tM(this,"version",2)}},Qfe=class{constructor(e){this.client=e}};function Yfe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hV(t,...e){if(!Yfe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function nM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Jfe(t,e){hV(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Eg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HT=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Zfe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function pV(t){return typeof t=="string"&&(t=Zfe(t)),hV(t),t}let Xfe=class{clone(){return this._cloneInto()}};function ehe(t){const e=r=>t().update(pV(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function gV(t=32){if(Eg&&typeof Eg.getRandomValues=="function")return Eg.getRandomValues(new Uint8Array(t));if(Eg&&typeof Eg.randomBytes=="function")return Eg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function the(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}let nhe=class extends Xfe{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=HT(this.buffer)}update(e){nM(this);const{view:n,buffer:r,blockLen:s}=this;e=pV(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=HT(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nM(this),Jfe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;the(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=HT(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const KE=BigInt(2**32-1),_P=BigInt(32);function mV(t,e=!1){return e?{h:Number(t&KE),l:Number(t>>_P&KE)}:{h:Number(t>>_P&KE)|0,l:Number(t&KE)|0}}function rhe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=mV(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const she=(t,e)=>BigInt(t>>>0)<<_P|BigInt(e>>>0),ihe=(t,e,n)=>t>>>n,ohe=(t,e,n)=>t<<32-n|e>>>n,ahe=(t,e,n)=>t>>>n|e<<32-n,che=(t,e,n)=>t<<32-n|e>>>n,lhe=(t,e,n)=>t<<64-n|e>>>n-32,uhe=(t,e,n)=>t>>>n-32|e<<64-n,dhe=(t,e)=>e,fhe=(t,e)=>t,hhe=(t,e,n)=>t<<n|e>>>32-n,phe=(t,e,n)=>e<<n|t>>>32-n,ghe=(t,e,n)=>e<<n-32|t>>>64-n,mhe=(t,e,n)=>t<<n-32|e>>>64-n;function yhe(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const bhe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),whe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,vhe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xhe=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Ehe=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Ahe=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Pn={fromBig:mV,split:rhe,toBig:she,shrSH:ihe,shrSL:ohe,rotrSH:ahe,rotrSL:che,rotrBH:lhe,rotrBL:uhe,rotr32H:dhe,rotr32L:fhe,rotlSH:hhe,rotlSL:phe,rotlBH:ghe,rotlBL:mhe,add:yhe,add3L:bhe,add3H:whe,add4L:vhe,add4H:xhe,add5H:Ahe,add5L:Ehe},[Che,She]=Pn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mf=new Uint32Array(80),yf=new Uint32Array(80);let _he=class extends nhe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:g,Gl:b,Hh:w,Hl:m}=this;return[e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m]}set(e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=g|0,this.Gl=b|0,this.Hh=w|0,this.Hl=m|0}process(e,n){for(let C=0;C<16;C++,n+=4)mf[C]=e.getUint32(n),yf[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const S=mf[C-15]|0,T=yf[C-15]|0,R=Pn.rotrSH(S,T,1)^Pn.rotrSH(S,T,8)^Pn.shrSH(S,T,7),_=Pn.rotrSL(S,T,1)^Pn.rotrSL(S,T,8)^Pn.shrSL(S,T,7),N=mf[C-2]|0,O=yf[C-2]|0,D=Pn.rotrSH(N,O,19)^Pn.rotrBH(N,O,61)^Pn.shrSH(N,O,6),k=Pn.rotrSL(N,O,19)^Pn.rotrBL(N,O,61)^Pn.shrSL(N,O,6),z=Pn.add4L(_,k,yf[C-7],yf[C-16]),K=Pn.add4H(z,R,D,mf[C-7],mf[C-16]);mf[C]=K|0,yf[C]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:f,El:p,Fh:g,Fl:b,Gh:w,Gl:m,Hh:v,Hl:x}=this;for(let C=0;C<80;C++){const S=Pn.rotrSH(f,p,14)^Pn.rotrSH(f,p,18)^Pn.rotrBH(f,p,41),T=Pn.rotrSL(f,p,14)^Pn.rotrSL(f,p,18)^Pn.rotrBL(f,p,41),R=f&g^~f&w,_=p&b^~p&m,N=Pn.add5L(x,T,_,She[C],yf[C]),O=Pn.add5H(N,v,S,R,Che[C],mf[C]),D=N|0,k=Pn.rotrSH(r,s,28)^Pn.rotrBH(r,s,34)^Pn.rotrBH(r,s,39),z=Pn.rotrSL(r,s,28)^Pn.rotrBL(r,s,34)^Pn.rotrBL(r,s,39),K=r&i^r&a^i&a,q=s&o^s&l^o&l;v=w|0,x=m|0,w=g|0,m=b|0,g=f|0,b=p|0,{h:f,l:p}=Pn.add(c|0,d|0,O|0,D|0),c=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const I=Pn.add3L(D,z,q);r=Pn.add3H(I,O,k,K),s=I|0}({h:r,l:s}=Pn.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Pn.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Pn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Pn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:p}=Pn.add(this.Eh|0,this.El|0,f|0,p|0),{h:g,l:b}=Pn.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:w,l:m}=Pn.add(this.Gh|0,this.Gl|0,w|0,m|0),{h:v,l:x}=Pn.add(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,s,i,o,a,l,c,d,f,p,g,b,w,m,v,x)}roundClean(){mf.fill(0),yf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Nhe=ehe(()=>new _he);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n4=BigInt(0),yV=BigInt(1),The=BigInt(2);function r4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function s4(t){if(!r4(t))throw new Error("Uint8Array expected")}function zT(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Rhe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function i4(t){s4(t);let e="";for(let n=0;n<t.length;n++)e+=Rhe[t[n]];return e}function bV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?n4:BigInt("0x"+t)}const Lu={_0:48,_9:57,A:65,F:70,a:97,f:102};function rM(t){if(t>=Lu._0&&t<=Lu._9)return t-Lu._0;if(t>=Lu.A&&t<=Lu.F)return t-(Lu.A-10);if(t>=Lu.a&&t<=Lu.f)return t-(Lu.a-10)}function wV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=rM(t.charCodeAt(i)),a=rM(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function Phe(t){return bV(i4(t))}function VA(t){return s4(t),bV(i4(Uint8Array.from(t).reverse()))}function vV(t,e){return wV(t.toString(16).padStart(e*2,"0"))}function NP(t,e){return vV(t,e).reverse()}function ju(t,e,n){let r;if(typeof e=="string")try{r=wV(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(r4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function sM(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];s4(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const qT=t=>typeof t=="bigint"&&n4<=t;function Ohe(t,e,n){return qT(t)&&qT(e)&&qT(n)&&e<=t&&t<n}function mb(t,e,n,r){if(!Ohe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ihe(t){let e;for(e=0;t>n4;t>>=yV,e+=1);return e}const khe=t=>(The<<BigInt(t-1))-yV,Bhe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||r4(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function o4(t,e,n={}){const r=(s,i,o)=>{const a=Bhe[i];if(typeof a!="function")throw new Error("invalid validator function");const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function iM(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const yi=BigInt(0),Os=BigInt(1),Np=BigInt(2),Dhe=BigInt(3),TP=BigInt(4),oM=BigInt(5),aM=BigInt(8);function Ys(t,e){const n=t%e;return n>=yi?n:e+n}function Mhe(t,e,n){if(e<yi)throw new Error("invalid exponent, negatives unsupported");if(n<=yi)throw new Error("invalid modulus");if(n===Os)return yi;let r=Os;for(;e>yi;)e&Os&&(r=r*t%n),t=t*t%n,e>>=Os;return r}function Bl(t,e,n){let r=t;for(;e-- >yi;)r*=r,r%=n;return r}function cM(t,e){if(t===yi)throw new Error("invert: expected non-zero number");if(e<=yi)throw new Error("invert: expected positive modulus, got "+e);let n=Ys(t,e),r=e,s=yi,i=Os;for(;n!==yi;){const o=r/n,a=r%n,l=s-i*o;r=n,n=a,s=i,i=l}if(r!==Os)throw new Error("invert: does not exist");return Ys(s,e)}function Uhe(t){const e=(t-Os)/Np;let n,r,s;for(n=t-Os,r=0;n%Np===yi;n/=Np,r++);for(s=Np;s<t&&Mhe(s,e,t)!==t-Os;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Os)/TP;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const i=(n+Os)/Np;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,c=o.pow(o.mul(o.ONE,s),n),d=o.pow(a,i),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let b=o.sqr(f);p<l&&!o.eql(b,o.ONE);p++)b=o.sqr(b);const g=o.pow(c,Os<<BigInt(l-p-1));c=o.sqr(g),d=o.mul(d,g),f=o.mul(f,c),l=p}return d}}function Lhe(t){if(t%TP===Dhe){const e=(t+Os)/TP;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%aM===oM){const e=(t-oM)/aM;return function(n,r){const s=n.mul(r,Np),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,Np),i),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return Uhe(t)}const jhe=(t,e)=>(Ys(t,e)&Os)===Os,Fhe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $he(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Fhe.reduce((r,s)=>(r[s]="function",r),e);return o4(t,n)}function Hhe(t,e,n){if(n<yi)throw new Error("invalid exponent, negatives unsupported");if(n===yi)return t.ONE;if(n===Os)return e;let r=t.ONE,s=e;for(;n>yi;)n&Os&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Os;return r}function zhe(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function xV(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function EV(t,e,n=!1,r={}){if(t<=yi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=xV(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:khe(s),ZERO:yi,ONE:Os,create:l=>Ys(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return yi<=l&&l<t},is0:l=>l===yi,isOdd:l=>(l&Os)===Os,neg:l=>Ys(-l,t),eql:(l,c)=>l===c,sqr:l=>Ys(l*l,t),add:(l,c)=>Ys(l+c,t),sub:(l,c)=>Ys(l-c,t),mul:(l,c)=>Ys(l*c,t),pow:(l,c)=>Hhe(a,l,c),div:(l,c)=>Ys(l*cM(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>cM(l,t),sqrt:r.sqrt||(l=>(o||(o=Lhe(t)),o(a,l))),invertBatch:l=>zhe(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?NP(l,i):vV(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?VA(l):Phe(l)}});return Object.freeze(a)}const lM=BigInt(0),WE=BigInt(1);function VT(t,e){const n=e.negate();return t?n:e}function AV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function GT(t,e){AV(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function qhe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Vhe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const KT=new WeakMap,CV=new WeakMap;function WT(t){return CV.get(t)||1}function Ghe(t,e){return{constTimeNegate:VT,hasPrecomputes(n){return WT(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>lM;)r&WE&&(s=s.add(i)),i=i.double(),r>>=WE;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=GT(r,e),o=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,o.push(l);for(let d=1;d<i;d++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=GT(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<i;p++){const g=p*o;let b=Number(s&c);s>>=f,b>o&&(b-=d,s+=WE);const w=g,m=g+Math.abs(b)-1,v=p%2!==0,x=b<0;b===0?l=l.add(VT(v,r[w])):a=a.add(VT(x,r[m]))}return{p:a,f:l}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=GT(n,e),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let f=0;f<o;f++){const p=f*a;if(s===lM)break;let g=Number(s&l);if(s>>=d,g>a&&(g-=c,s+=WE),g===0)continue;let b=r[p+Math.abs(g)-1];g<0&&(b=b.negate()),i=i.add(b)}return i},getPrecomputes(n,r,s){let i=KT.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&KT.set(r,s(i))),i},wNAFCached(n,r,s){const i=WT(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=WT(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){AV(r,e),CV.set(n,r),KT.delete(n)}}}function Khe(t,e,n,r){if(qhe(n,t),Vhe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Ihe(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,l=new Array(a+1).fill(s),c=Math.floor((e.BITS-1)/o)*o;let d=s;for(let f=c;f>=0;f-=o){l.fill(s);for(let g=0;g<r.length;g++){const b=r[g],w=Number(b>>BigInt(f)&BigInt(a));l[w]=l[w].add(n[g])}let p=s;for(let g=l.length-1,b=s;g>0;g--)b=b.add(l[g]),p=p.add(b);if(d=d.add(p),f!==0)for(let g=0;g<o;g++)d=d.double()}return d}function Whe(t){return $he(t.Fp),o4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const kc=BigInt(0),Po=BigInt(1),QE=BigInt(2),Qhe=BigInt(8),Yhe={zip215:!0};function Jhe(t){const e=Whe(t);return o4(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Zhe(t){const e=Jhe(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:l}=e,c=QE<<BigInt(a*8)-Po,d=n.create,f=EV(e.n,e.nBitLength),p=e.uvRatio||((I,P)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(P))}}catch{return{isValid:!1,value:kc}}}),g=e.adjustScalarBytes||(I=>I),b=e.domain||((I,P,M)=>{if(zT("phflag",M),P.length||M)throw new Error("Contexts/pre-hash are not supported");return I});function w(I,P){mb("coordinate "+I,P,kc,c)}function m(I){if(!(I instanceof C))throw new Error("ExtendedPoint expected")}const v=iM((I,P)=>{const{ex:M,ey:j,ez:G}=I,F=I.is0();P==null&&(P=F?Qhe:n.inv(G));const H=d(M*P),$=d(j*P),Z=d(G*P);if(F)return{x:kc,y:Po};if(Z!==Po)throw new Error("invZ was invalid");return{x:H,y:$}}),x=iM(I=>{const{a:P,d:M}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:j,ey:G,ez:F,et:H}=I,$=d(j*j),Z=d(G*G),X=d(F*F),le=d(X*X),de=d($*P),pe=d(X*d(de+Z)),ae=d(le+d(M*d($*Z)));if(pe!==ae)throw new Error("bad point: equation left != right (1)");const ce=d(j*G),fe=d(F*H);if(ce!==fe)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(P,M,j,G){this.ex=P,this.ey=M,this.ez=j,this.et=G,w("x",P),w("y",M),w("z",j),w("t",G),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof C)throw new Error("extended point not allowed");const{x:M,y:j}=P||{};return w("x",M),w("y",j),new C(M,j,Po,d(M*j))}static normalizeZ(P){const M=n.invertBatch(P.map(j=>j.ez));return P.map((j,G)=>j.toAffine(M[G])).map(C.fromAffine)}static msm(P,M){return Khe(C,f,P,M)}_setWindowSize(P){R.setWindowSize(this,P)}assertValidity(){x(this)}equals(P){m(P);const{ex:M,ey:j,ez:G}=this,{ex:F,ey:H,ez:$}=P,Z=d(M*$),X=d(F*G),le=d(j*$),de=d(H*G);return Z===X&&le===de}is0(){return this.equals(C.ZERO)}negate(){return new C(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:P}=e,{ex:M,ey:j,ez:G}=this,F=d(M*M),H=d(j*j),$=d(QE*d(G*G)),Z=d(P*F),X=M+j,le=d(d(X*X)-F-H),de=Z+H,pe=de-$,ae=Z-H,ce=d(le*pe),fe=d(de*ae),ve=d(le*ae),Re=d(pe*de);return new C(ce,fe,Re,ve)}add(P){m(P);const{a:M,d:j}=e,{ex:G,ey:F,ez:H,et:$}=this,{ex:Z,ey:X,ez:le,et:de}=P;if(M===BigInt(-1)){const se=d((F-G)*(X+Z)),me=d((F+G)*(X-Z)),_e=d(me-se);if(_e===kc)return this.double();const Te=d(H*QE*de),ot=d($*QE*le),It=ot+Te,Ft=me+se,Ce=ot-Te,ye=d(It*_e),re=d(Ft*Ce),ge=d(It*Ce),ke=d(_e*Ft);return new C(ye,re,ke,ge)}const pe=d(G*Z),ae=d(F*X),ce=d($*j*de),fe=d(H*le),ve=d((G+F)*(Z+X)-pe-ae),Re=fe-ce,Se=fe+ce,xe=d(ae-M*pe),te=d(ve*Re),J=d(Se*xe),V=d(ve*xe),Y=d(Re*Se);return new C(te,J,Y,V)}subtract(P){return this.add(P.negate())}wNAF(P){return R.wNAFCached(this,P,C.normalizeZ)}multiply(P){const M=P;mb("scalar",M,Po,r);const{p:j,f:G}=this.wNAF(M);return C.normalizeZ([j,G])[0]}multiplyUnsafe(P,M=C.ZERO){const j=P;return mb("scalar",j,kc,r),j===kc?T:this.is0()||j===Po?this:R.wNAFCachedUnsafe(this,j,C.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return R.unsafeLadder(this,r).is0()}toAffine(P){return v(this,P)}clearCofactor(){const{h:P}=e;return P===Po?this:this.multiplyUnsafe(P)}static fromHex(P,M=!1){const{d:j,a:G}=e,F=n.BYTES;P=ju("pointHex",P,F),zT("zip215",M);const H=P.slice(),$=P[F-1];H[F-1]=$&-129;const Z=VA(H),X=M?c:n.ORDER;mb("pointHex.y",Z,kc,X);const le=d(Z*Z),de=d(le-Po),pe=d(j*le-G);let{isValid:ae,value:ce}=p(de,pe);if(!ae)throw new Error("Point.fromHex: invalid y coordinate");const fe=(ce&Po)===Po,ve=($&128)!==0;if(!M&&ce===kc&&ve)throw new Error("Point.fromHex: x=0 and x_0=1");return ve!==fe&&(ce=d(-ce)),C.fromAffine({x:ce,y:Z})}static fromPrivateKey(P){return O(P).point}toRawBytes(){const{x:P,y:M}=this.toAffine(),j=NP(M,n.BYTES);return j[j.length-1]|=P&Po?128:0,j}toHex(){return i4(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,Po,d(e.Gx*e.Gy)),C.ZERO=new C(kc,Po,Po,kc);const{BASE:S,ZERO:T}=C,R=Ghe(C,a*8);function _(I){return Ys(I,r)}function N(I){return _(VA(I))}function O(I){const P=n.BYTES;I=ju("private key",I,P);const M=ju("hashed private key",i(I),2*P),j=g(M.slice(0,P)),G=M.slice(P,2*P),F=N(j),H=S.multiply(F),$=H.toRawBytes();return{head:j,prefix:G,scalar:F,point:H,pointBytes:$}}function D(I){return O(I).pointBytes}function k(I=new Uint8Array,...P){const M=sM(...P);return N(i(b(M,ju("context",I),!!s)))}function z(I,P,M={}){I=ju("message",I),s&&(I=s(I));const{prefix:j,scalar:G,pointBytes:F}=O(P),H=k(M.context,j,I),$=S.multiply(H).toRawBytes(),Z=k(M.context,$,F,I),X=_(H+Z*G);mb("signature.s",X,kc,r);const le=sM($,NP(X,n.BYTES));return ju("result",le,n.BYTES*2)}const K=Yhe;function q(I,P,M,j=K){const{context:G,zip215:F}=j,H=n.BYTES;I=ju("signature",I,2*H),P=ju("message",P),M=ju("publicKey",M,H),F!==void 0&&zT("zip215",F),s&&(P=s(P));const $=VA(I.slice(H,2*H));let Z,X,le;try{Z=C.fromHex(M,F),X=C.fromHex(I.slice(0,H),F),le=S.multiplyUnsafe($)}catch{return!1}if(!F&&Z.isSmallOrder())return!1;const de=k(G,X.toRawBytes(),Z.toRawBytes(),P);return X.add(Z.multiplyUnsafe(de)).subtract(le).clearCofactor().equals(C.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:D,sign:z,verify:q,ExtendedPoint:C,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,P=C.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}}}}BigInt(0),BigInt(1);const a4=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),uM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Xhe=BigInt(1),dM=BigInt(2);BigInt(3);const epe=BigInt(5),tpe=BigInt(8);function npe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=a4,o=t*t%i*t%i,a=Bl(o,dM,i)*o%i,l=Bl(a,Xhe,i)*t%i,c=Bl(l,epe,i)*l%i,d=Bl(c,e,i)*c%i,f=Bl(d,n,i)*d%i,p=Bl(f,r,i)*f%i,g=Bl(p,s,i)*p%i,b=Bl(g,s,i)*p%i,w=Bl(b,e,i)*c%i;return{pow_p_5_8:Bl(w,dM,i)*t%i,b2:o}}function rpe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function spe(t,e){const n=a4,r=Ys(e*e*e,n),s=Ys(r*r*e,n),i=npe(t*s).pow_p_5_8;let o=Ys(t*r*i,n);const a=Ys(e*o*o,n),l=o,c=Ys(o*uM,n),d=a===t,f=a===Ys(-t,n),p=a===Ys(-t*uM,n);return d&&(o=l),(f||p)&&(o=c),jhe(o,n)&&(o=Ys(-o,n)),{isValid:d||f,value:o}}const ipe=EV(a4,void 0,!0),ope={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ipe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tpe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Nhe,randomBytes:gV,adjustScalarBytes:rpe,uvRatio:spe},SV=Zhe(ope),ape="EdDSA",cpe="JWT",v2=".",MC="base64url",_V="utf8",NV="utf8",lpe=":",upe="did",dpe="key",fM="base58btc",fpe="z",hpe="K36",ppe=32;function c4(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function TV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?c4(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function RV(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=TV(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return c4(n)}function gpe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,m=0,v=0,x=b.length;v!==x&&b[v]===0;)v++,w++;for(var C=(x-v)*d+1>>>0,S=new Uint8Array(C);v!==x;){for(var T=b[v],R=0,_=C-1;(T!==0||R<m)&&_!==-1;_--,R++)T+=256*S[_]>>>0,S[_]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");m=R,v++}for(var N=C-m;N!==C&&S[N]===0;)N++;for(var O=l.repeat(w);N<C;++N)O+=t.charAt(S[N]);return O}function p(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var m=0,v=0;b[w]===l;)m++,w++;for(var x=(b.length-w)*c+1>>>0,C=new Uint8Array(x);b[w];){var S=n[b.charCodeAt(w)];if(S===255)return;for(var T=0,R=x-1;(S!==0||T<v)&&R!==-1;R--,T++)S+=a*C[R]>>>0,C[R]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=T,w++}if(b[w]!==" "){for(var _=x-v;_!==x&&C[_]===0;)_++;for(var N=new Uint8Array(m+(x-_)),O=m;_!==x;)N[O++]=C[_++];return N}}}function g(b){var w=p(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:g}}var mpe=gpe,ype=mpe;const PV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},bpe=t=>new TextEncoder().encode(t),wpe=t=>new TextDecoder().decode(t);let vpe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},xpe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return OV(this,e)}},Epe=class{constructor(e){this.decoders=e}or(e){return OV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const OV=(t,e)=>new Epe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Ape=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new vpe(e,n,r),this.decoder=new xpe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const UC=({name:t,prefix:e,encode:n,decode:r})=>new Ape(t,e,n,r),qv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=ype(n,e);return UC({prefix:t,name:e,encode:r,decode:i=>PV(s(i))})},Cpe=(t,e,n,r)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let d=0;d<i;++d){const f=s[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|f,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},Spe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},ki=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>UC({prefix:e,name:t,encode(s){return Spe(s,r,n)},decode(s){return Cpe(s,r,n,t)}}),_pe=UC({prefix:"\0",name:"identity",encode:t=>wpe(t),decode:t=>bpe(t)});var Npe=Object.freeze({__proto__:null,identity:_pe});const Tpe=ki({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Rpe=Object.freeze({__proto__:null,base2:Tpe});const Ppe=ki({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ope=Object.freeze({__proto__:null,base8:Ppe});const Ipe=qv({prefix:"9",name:"base10",alphabet:"0123456789"});var kpe=Object.freeze({__proto__:null,base10:Ipe});const Bpe=ki({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Dpe=ki({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Mpe=Object.freeze({__proto__:null,base16:Bpe,base16upper:Dpe});const Upe=ki({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lpe=ki({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jpe=ki({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Fpe=ki({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$pe=ki({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hpe=ki({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zpe=ki({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qpe=ki({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vpe=ki({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gpe=Object.freeze({__proto__:null,base32:Upe,base32upper:Lpe,base32pad:jpe,base32padupper:Fpe,base32hex:$pe,base32hexupper:Hpe,base32hexpad:zpe,base32hexpadupper:qpe,base32z:Vpe});const Kpe=qv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wpe=qv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Qpe=Object.freeze({__proto__:null,base36:Kpe,base36upper:Wpe});const Ype=qv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Jpe=qv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zpe=Object.freeze({__proto__:null,base58btc:Ype,base58flickr:Jpe});const Xpe=ki({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e0e=ki({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t0e=ki({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),n0e=ki({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var r0e=Object.freeze({__proto__:null,base64:Xpe,base64pad:e0e,base64url:t0e,base64urlpad:n0e});const IV=Array.from(""),s0e=IV.reduce((t,e,n)=>(t[n]=e,t),[]),i0e=IV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function o0e(t){return t.reduce((e,n)=>(e+=s0e[n],e),"")}function a0e(t){const e=[];for(const n of t){const r=i0e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const c0e=UC({prefix:"",name:"base256emoji",encode:o0e,decode:a0e});var l0e=Object.freeze({__proto__:null,base256emoji:c0e}),u0e=kV,hM=128,d0e=-128,f0e=Math.pow(2,31);function kV(t,e,n){e=e||[],n=n||0;for(var r=n;t>=f0e;)e[n++]=t&255|hM,t/=128;for(;t&d0e;)e[n++]=t&255|hM,t>>>=7;return e[n]=t|0,kV.bytes=n-r+1,e}var h0e=RP,p0e=128,pM=127;function RP(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw RP.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&pM)<<s:(o&pM)*Math.pow(2,s),s+=7}while(o>=p0e);return RP.bytes=i-r,n}var g0e=Math.pow(2,7),m0e=Math.pow(2,14),y0e=Math.pow(2,21),b0e=Math.pow(2,28),w0e=Math.pow(2,35),v0e=Math.pow(2,42),x0e=Math.pow(2,49),E0e=Math.pow(2,56),A0e=Math.pow(2,63),C0e=function(t){return t<g0e?1:t<m0e?2:t<y0e?3:t<b0e?4:t<w0e?5:t<v0e?6:t<x0e?7:t<E0e?8:t<A0e?9:10},S0e={encode:u0e,decode:h0e,encodingLength:C0e},BV=S0e;const gM=(t,e,n=0)=>(BV.encode(t,e,n),e),mM=t=>BV.encodingLength(t),PP=(t,e)=>{const n=e.byteLength,r=mM(t),s=r+mM(n),i=new Uint8Array(s+n);return gM(t,i,0),gM(n,i,r),i.set(e,s),new _0e(t,n,e,i)};let _0e=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const DV=({name:t,code:e,encode:n})=>new N0e(t,e,n);let N0e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?PP(this.code,n):n.then(r=>PP(this.code,r))}else throw Error("Unknown type, must be binary type")}};const MV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),T0e=DV({name:"sha2-256",code:18,encode:MV("SHA-256")}),R0e=DV({name:"sha2-512",code:19,encode:MV("SHA-512")});var P0e=Object.freeze({__proto__:null,sha256:T0e,sha512:R0e});const UV=0,O0e="identity",LV=PV,I0e=t=>PP(UV,LV(t)),k0e={code:UV,name:O0e,encode:LV,digest:I0e};var B0e=Object.freeze({__proto__:null,identity:k0e});new TextEncoder,new TextDecoder;const yM={...Npe,...Rpe,...Ope,...kpe,...Mpe,...Gpe,...Qpe,...Zpe,...r0e,...l0e};({...P0e,...B0e});function jV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const bM=jV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),QT=jV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=TV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),FV={utf8:bM,"utf-8":bM,hex:yM.base16,latin1:QT,ascii:QT,binary:QT,...yM};function LC(t,e="utf8"){const n=FV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Qm(t,e="utf8"){const n=FV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?c4(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function wM(t){return o0(LC(Qm(t,MC),_V))}function x2(t){return LC(Qm(Ad(t),_V),MC)}function $V(t){const e=Qm(hpe,fM),n=fpe+LC(RV([e,t]),fM);return[upe,dpe,n].join(lpe)}function D0e(t){return LC(t,MC)}function M0e(t){return Qm(t,MC)}function U0e(t){return Qm([x2(t.header),x2(t.payload)].join(v2),NV)}function L0e(t){return[x2(t.header),x2(t.payload),D0e(t.signature)].join(v2)}function OP(t){const e=t.split(v2),n=wM(e[0]),r=wM(e[1]),s=M0e(e[2]),i=Qm(e.slice(0,2).join(v2),NV);return{header:n,payload:r,signature:s,data:i}}function vM(t=gV(ppe)){const e=SV.getPublicKey(t);return{secretKey:RV([t,e]),publicKey:e}}async function j0e(t,e,n,r,s=dt.fromMiliseconds(Date.now())){const i={alg:ape,typ:cpe},o=$V(r.publicKey),a=s+n,l={iss:o,sub:t,aud:e,iat:s,exp:a},c=U0e({header:i,payload:l}),d=SV.sign(c,r.secretKey.slice(0,32));return L0e({header:i,payload:l,signature:d})}var xM=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},F0e=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),$0e=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),H0e=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),z0e=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),q0e=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),V0e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,G0e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,EM=3,K0e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",V0e]],AM=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function W0e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new q0e:typeof navigator<"u"?Y0e(navigator.userAgent):Z0e()}function Q0e(t){return t!==""&&K0e.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function Y0e(t){var e=Q0e(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new z0e;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<EM&&(s=xM(xM([],s,!0),X0e(EM-s.length),!0)):s=[];var i=s.join("."),o=J0e(t),a=G0e.exec(t);return a&&a[1]?new H0e(n,i,o,a[1]):new F0e(n,i,o)}function J0e(t){for(var e=0,n=AM.length;e<n;e++){var r=AM[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function Z0e(){var t=typeof process<"u"&&process.version;return t?new $0e(process.version.slice(1)):null}function X0e(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Mr={},CM;function HV(){if(CM)return Mr;CM=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.getLocalStorage=Mr.getLocalStorageOrThrow=Mr.getCrypto=Mr.getCryptoOrThrow=Mr.getLocation=Mr.getLocationOrThrow=Mr.getNavigator=Mr.getNavigatorOrThrow=Mr.getDocument=Mr.getDocumentOrThrow=Mr.getFromWindowOrThrow=Mr.getFromWindow=void 0;function t(p){let g;return typeof window<"u"&&typeof window[p]<"u"&&(g=window[p]),g}Mr.getFromWindow=t;function e(p){const g=t(p);if(!g)throw new Error(`${p} is not defined in Window`);return g}Mr.getFromWindowOrThrow=e;function n(){return e("document")}Mr.getDocumentOrThrow=n;function r(){return t("document")}Mr.getDocument=r;function s(){return e("navigator")}Mr.getNavigatorOrThrow=s;function i(){return t("navigator")}Mr.getNavigator=i;function o(){return e("location")}Mr.getLocationOrThrow=o;function a(){return t("location")}Mr.getLocation=a;function l(){return e("crypto")}Mr.getCryptoOrThrow=l;function c(){return t("crypto")}Mr.getCrypto=c;function d(){return e("localStorage")}Mr.getLocalStorageOrThrow=d;function f(){return t("localStorage")}return Mr.getLocalStorage=f,Mr}var Cd=HV(),yb={},SM;function ege(){if(SM)return yb;SM=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.getWindowMetadata=void 0;const t=HV();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const g=n.getElementsByTagName("link"),b=[];for(let w=0;w<g.length;w++){const m=g[w],v=m.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){const x=m.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let C=r.protocol+"//"+r.host;if(x.indexOf("/")===0)C+=x;else{const S=r.pathname.split("/");S.pop();const T=S.join("/");C+=T+"/"+x}b.push(C)}else if(x.indexOf("//")===0){const C=r.protocol+x;b.push(C)}else b.push(x)}}return b}function i(...g){const b=n.getElementsByTagName("meta");for(let w=0;w<b.length;w++){const m=b[w],v=["itemprop","property","name"].map(x=>m.getAttribute(x)).filter(x=>x?g.includes(x):!1);if(v.length&&v){const x=m.getAttribute("content");if(x)return x}}return""}function o(){let g=i("name","og:site_name","og:title","twitter:title");return g||(g=n.title),g}function a(){return i("description","og:description","twitter:description","keywords")}const l=o(),c=a(),d=r.origin,f=s();return{description:c,url:d,icons:f,name:l}}return yb.getWindowMetadata=e,yb}var tge=ege();function W1(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function IP(t){return W1(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const zV="2.31.0";let YT={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${zV}`};class a0 extends Error{constructor(e,n={}){const r=n.cause instanceof a0?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof a0&&n.cause.docsPath||n.docsPath,i=YT.getDocsUrl?.({...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...YT.version?[`Version: ${YT.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=zV}walk(e){return qV(this,e)}}function qV(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?qV(t.cause,e):e?null:t}class VV extends a0{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ym(t,{dir:e,size:n=32}={}){return typeof t=="string"?nge(t,{dir:e,size:n}):rge(t,{dir:e,size:n})}function nge(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new VV({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function rge(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new VV({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class sge extends a0{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class ige extends a0{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Jm(t,{size:e}){if(IP(t)>e)throw new ige({givenSize:IP(t),maxSize:e})}function kP(t,e={}){const{signed:n}=e;e.size&&Jm(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function oge(t,e={}){return Number(kP(t,e))}const age=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function BP(t,e={}){return typeof t=="number"||typeof t=="bigint"?KV(t,e):typeof t=="string"?uge(t,e):typeof t=="boolean"?cge(t,e):GV(t,e)}function cge(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Jm(n,{size:e.size}),Ym(n,{size:e.size})):n}function GV(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=age[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Jm(r,{size:e.size}),Ym(r,{dir:"right",size:e.size})):r}function KV(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new sge({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ym(a,{size:r}):a}const lge=new TextEncoder;function uge(t,e={}){const n=lge.encode(t);return GV(n,e)}const dge=new TextEncoder;function fge(t,e={}){return typeof t=="number"||typeof t=="bigint"?pge(t,e):typeof t=="boolean"?hge(t,e):W1(t)?WV(t,e):QV(t,e)}function hge(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Jm(n,{size:e.size}),Ym(n,{size:e.size})):n}const Fu={zero:48,nine:57,A:65,F:70,a:97,f:102};function _M(t){if(t>=Fu.zero&&t<=Fu.nine)return t-Fu.zero;if(t>=Fu.A&&t<=Fu.F)return t-(Fu.A-10);if(t>=Fu.a&&t<=Fu.f)return t-(Fu.a-10)}function WV(t,e={}){let n=t;e.size&&(Jm(n,{size:e.size}),n=Ym(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const l=_M(r.charCodeAt(a++)),c=_M(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new a0(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=l*16+c}return i}function pge(t,e){const n=KV(t,e);return WV(n)}function QV(t,e={}){const n=dge.encode(t);return typeof e.size=="number"?(Jm(n,{size:e.size}),Ym(n,{dir:"right",size:e.size})):n}const YE=BigInt(2**32-1),NM=BigInt(32);function gge(t,e=!1){return e?{h:Number(t&YE),l:Number(t>>NM&YE)}:{h:Number(t>>NM&YE)|0,l:Number(t&YE)|0}}function mge(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=gge(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const yge=(t,e,n)=>t<<n|e>>>32-n,bge=(t,e,n)=>e<<n|t>>>32-n,wge=(t,e,n)=>e<<n-32|t>>>64-n,vge=(t,e,n)=>t<<n-32|e>>>64-n,Ag=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xge(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function E2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Q1(t,...e){if(!xge(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function iFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");E2(t.outputLen),E2(t.blockLen)}function TM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ege(t,e){Q1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Age(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function YV(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function oFe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function aFe(t,e){return t<<32-e|t>>>e}const Cge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Sge(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function _ge(t){for(let e=0;e<t.length;e++)t[e]=Sge(t[e]);return t}const RM=Cge?t=>t:_ge;function Nge(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function JV(t){return typeof t=="string"&&(t=Nge(t)),Q1(t),t}function cFe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Q1(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Tge=class{};function Rge(t){const e=r=>t().update(JV(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uFe(t=32){if(Ag&&typeof Ag.getRandomValues=="function")return Ag.getRandomValues(new Uint8Array(t));if(Ag&&typeof Ag.randomBytes=="function")return Uint8Array.from(Ag.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Pge=BigInt(0),bb=BigInt(1),Oge=BigInt(2),Ige=BigInt(7),kge=BigInt(256),Bge=BigInt(113),ZV=[],XV=[],eG=[];for(let t=0,e=bb,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ZV.push(2*(5*r+n)),XV.push((t+1)*(t+2)/2%64);let s=Pge;for(let i=0;i<7;i++)e=(e<<bb^(e>>Ige)*Bge)%kge,e&Oge&&(s^=bb<<(bb<<BigInt(i))-bb);eG.push(s)}const tG=mge(eG,!0),Dge=tG[0],Mge=tG[1],PM=(t,e,n)=>n>32?wge(t,e,n):yge(t,e,n),OM=(t,e,n)=>n>32?vge(t,e,n):bge(t,e,n);function Uge(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],f=PM(c,d,1)^n[a],p=OM(c,d,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=XV[o],l=PM(s,i,a),c=OM(s,i,a),d=ZV[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Dge[r],t[1]^=Mge[r]}YV(n)}let Lge=class nG extends Tge{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,E2(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Age(this.state)}clone(){return this._cloneInto()}keccak(){RM(this.state32),Uge(this.state32,this.rounds),RM(this.state32),this.posOut=0,this.pos=0}update(e){TM(this),e=JV(e),Q1(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){TM(this,!1),Q1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return E2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ege(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,YV(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new nG(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jge=(t,e,n)=>Rge(()=>new Lge(e,t,n)),Fge=jge(1,136,256/8);function rG(t,e){const n=e||"hex",r=Fge(W1(t,{strict:!1})?fge(t):t);return n==="bytes"?r:BP(r)}class $ge extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const JT=new $ge(8192);function Hge(t,e){if(JT.has(`${t}.${e}`))return JT.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=rG(QV(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return JT.set(`${t}.${e}`,i),i}function zge(t){const e=rG(`0x${t.substring(4)}`).substring(26);return Hge(`0x${e}`)}async function qge({hash:t,signature:e}){const n=W1(t)?t:BP(t),{secp256k1:r}=await Qi(async()=>{const{secp256k1:o}=await import("./secp256k1-DGE7rzah.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:d,v:f,yParity:p}=e,g=Number(p??f),b=IM(g);return new r.Signature(kP(c),kP(d)).addRecoveryBit(b)}const o=W1(e)?e:BP(e);if(IP(o)!==65)throw new Error("invalid signature length");const a=oge(`0x${o.slice(130)}`),l=IM(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function IM(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Vge({hash:t,signature:e}){return zge(await qge({hash:t,signature:e}))}function Gge(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),f=d.charCodeAt(0);if(e[f]!==255)throw new TypeError(d+" is ambiguous");e[f]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,f=0,p=0;const g=c.length;for(;p!==g&&c[p]===0;)p++,d++;const b=(g-p)*i+1>>>0,w=new Uint8Array(b);for(;p!==g;){let x=c[p],C=0;for(let S=b-1;(x!==0||C<f)&&S!==-1;S--,C++)x+=256*w[S]>>>0,w[S]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");f=C,p++}let m=b-f;for(;m!==b&&w[m]===0;)m++;let v=r.repeat(d);for(;m<b;++m)v+=t.charAt(w[m]);return v}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,f=0,p=0;for(;c[d]===r;)f++,d++;const g=(c.length-d)*s+1>>>0,b=new Uint8Array(g);for(;d<c.length;){const x=c.charCodeAt(d);if(x>255)return;let C=e[x];if(C===255)return;let S=0;for(let T=g-1;(C!==0||S<p)&&T!==-1;T--,S++)C+=n*b[T]>>>0,b[T]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");p=S,d++}let w=g-p;for(;w!==g&&b[w]===0;)w++;const m=new Uint8Array(f+(g-w));let v=f;for(;w!==g;)m[v++]=b[w++];return m}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var Kge="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Zm=Gge(Kge);function Wge(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function Qge(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const Yge=new TextEncoder,Jge=50;function Zge(t,e,n){Yge.encodeInto(t,e.subarray(n))}function Xge(t,e,n){t.length>Jge?Zge(t,e,n):Qge(t,e,n)}const eme=4096;function sG(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if((a&128)===0)i.push(a);else if((a&224)===192){const l=t[r++]&63;i.push((a&31)<<6|l)}else if((a&240)===224){const l=t[r++]&63,c=t[r++]&63;i.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[r++]&63,c=t[r++]&63,d=t[r++]&63;let f=(a&7)<<18|l<<12|c<<6|d;f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f)}else i.push(a);i.length>=eme&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const tme=new TextDecoder,nme=200;function rme(t,e,n){const r=t.subarray(e,e+n);return tme.decode(r)}function sme(t,e,n){return n>nme?rme(t,e,n):sG(t,e,n)}class JE{constructor(e,n){this.type=e,this.data=n}}class _a extends Error{constructor(e){super(e);const n=Object.create(_a.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:_a.name})}}const wb=4294967295;function ime(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function iG(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function oG(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function ome(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ame=-1,cme=4294967296-1,lme=17179869184-1;function ume({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=lme)if(e===0&&t<=cme){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),iG(r,4,t),n}}function dme(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function fme(t){if(t instanceof Date){const e=dme(t);return ume(e)}else return null}function hme(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=oG(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new _a(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function pme(t){const e=hme(t);return new Date(e.sec*1e3+e.nsec/1e6)}const gme={type:ame,encode:fme,decode:pme};class A2{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(gme)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new JE(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new JE(o,i)}}}return e instanceof JE?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new JE(n,e)}}A2.defaultCodec=new A2;function mme(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function DP(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):mme(t)?new Uint8Array(t):Uint8Array.from(t)}const yme=100,bme=2048;let wme=class aG{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??A2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??yme,this.initialBufferSize=e?.initialBufferSize??bme,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new aG({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Wge(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Xge(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=DP(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),ime(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),iG(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function vme(t,e){return new wme(e).encodeSharedRef(t)}function ZT(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const xme=16,Eme=16;class Ame{constructor(e=xme,n=Eme){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=sG(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const MP="array",l1="map_key",cG="map_value",Cme=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new _a("The type of key must be string or number but "+typeof t)};class Sme{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=MP,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=l1,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===MP){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===l1||e.type===cG){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const vb=-1,l4=new DataView(new ArrayBuffer(0)),_me=new Uint8Array(l4.buffer);try{l4.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const kM=new RangeError("Insufficient data"),Nme=new Ame;let Tme=class lG{constructor(e){this.totalPos=0,this.pos=0,this.view=l4,this.bytes=_me,this.headByte=vb,this.stack=new Sme,this.entered=!1,this.extensionCodec=e?.extensionCodec??A2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??wb,this.maxBinLength=e?.maxBinLength??wb,this.maxArrayLength=e?.maxArrayLength??wb,this.maxMapLength=e?.maxMapLength??wb,this.maxExtLength=e?.maxExtLength??wb,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:Nme,this.mapKeyConverter=e?.mapKeyConverter??Cme}clone(){return new lG({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=vb,this.stack.reset()}setBuffer(e){const n=DP(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===vb&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=DP(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${ZT(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new _a(`Unrecognized type byte: ${ZT(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===MP)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===l1){if(n==="__proto__")throw new _a("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=cG;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=l1;continue e}}return n}}readHeadByte(){return this.headByte===vb&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=vb}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new _a(`Unrecognized array type byte: ${ZT(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new _a(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new _a(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new _a(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw kM;const r=this.pos+n;let s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?s=this.keyDecoder.decode(this.bytes,r,e):s=sme(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===l1:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new _a(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw kM;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new _a(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=ome(this.view,this.pos);return this.pos+=8,e}readI64(){const e=oG(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Rme(t,e){return new Tme(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pme(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uG(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function C2(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function u4(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function UP(t){if(!Array.isArray(t))throw new Error("array expected")}function S2(t,e){if(!uG(!0,e))throw new Error(`${t}: array of strings expected`)}function Ome(t,e){if(!uG(!1,e))throw new Error(`${t}: array of numbers expected`)}function Ime(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function kme(t){const e=typeof t=="string"?t.split(""):t,n=e.length;S2("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(UP(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(UP(s),s.map(i=>{C2("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Bme(t=""){return C2("join",t),{encode:e=>(S2("join.decode",e),e.join(t)),decode:e=>(C2("join.decode",e),e.split(t))}}function Dme(t,e="="){return u4(t),C2("padding",e),{encode(n){for(S2("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){S2("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const dG=(t,e)=>e===0?t:dG(e,t%e),_2=(t,e)=>t+(e-dG(t,e)),XT=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function BM(t,e,n,r){if(UP(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(_2(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${_2(e,n)}`);let s=0,i=0;const o=XT[e],a=XT[n]-1,l=[];for(const c of t){if(u4(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(s=s<<e|c,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)l.push((s>>i-n&a)>>>0);const d=XT[i];if(d===void 0)throw new Error("invalid carry");s&=d-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&l.push(s>>>0),l}function Mme(t,e=!1){if(u4(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(_2(8,t)>32||_2(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Pme(n))throw new Error("radix2.encode input should be Uint8Array");return BM(Array.from(n),8,t,!e)},decode:n=>(Ome("radix2.decode",n),Uint8Array.from(BM(n,t,8,e)))}}const Ume=Ime(Mme(5),kme("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Dme(5),Bme(""));function d4(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fG(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?d4(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function u1(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=fG(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return d4(n)}function Lme(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,m=0,v=0,x=b.length;v!==x&&b[v]===0;)v++,w++;for(var C=(x-v)*d+1>>>0,S=new Uint8Array(C);v!==x;){for(var T=b[v],R=0,_=C-1;(T!==0||R<m)&&_!==-1;_--,R++)T+=256*S[_]>>>0,S[_]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");m=R,v++}for(var N=C-m;N!==C&&S[N]===0;)N++;for(var O=l.repeat(w);N<C;++N)O+=t.charAt(S[N]);return O}function p(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var m=0,v=0;b[w]===l;)m++,w++;for(var x=(b.length-w)*c+1>>>0,C=new Uint8Array(x);b[w];){var S=n[b.charCodeAt(w)];if(S===255)return;for(var T=0,R=x-1;(S!==0||T<v)&&R!==-1;R--,T++)S+=a*C[R]>>>0,C[R]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=T,w++}if(b[w]!==" "){for(var _=x-v;_!==x&&C[_]===0;)_++;for(var N=new Uint8Array(m+(x-_)),O=m;_!==x;)N[O++]=C[_++];return N}}}function g(b){var w=p(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:g}}var jme=Lme,Fme=jme;const $me=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Hme=t=>new TextEncoder().encode(t),zme=t=>new TextDecoder().decode(t);class qme{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Vme{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hG(this,e)}}class Gme{constructor(e){this.decoders=e}or(e){return hG(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hG=(t,e)=>new Gme({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Kme{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new qme(e,n,r),this.decoder=new Vme(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jC=({name:t,prefix:e,encode:n,decode:r})=>new Kme(t,e,n,r),Vv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Fme(n,e);return jC({prefix:t,name:e,encode:r,decode:i=>$me(s(i))})},Wme=(t,e,n,r)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let d=0;d<i;++d){const f=s[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|f,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},Qme=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Bi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>jC({prefix:e,name:t,encode(s){return Qme(s,r,n)},decode(s){return Wme(s,r,n,t)}}),Yme=jC({prefix:"\0",name:"identity",encode:t=>zme(t),decode:t=>Hme(t)}),Jme=Object.freeze(Object.defineProperty({__proto__:null,identity:Yme},Symbol.toStringTag,{value:"Module"})),Zme=Bi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Xme=Object.freeze(Object.defineProperty({__proto__:null,base2:Zme},Symbol.toStringTag,{value:"Module"})),eye=Bi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tye=Object.freeze(Object.defineProperty({__proto__:null,base8:eye},Symbol.toStringTag,{value:"Module"})),nye=Vv({prefix:"9",name:"base10",alphabet:"0123456789"}),rye=Object.freeze(Object.defineProperty({__proto__:null,base10:nye},Symbol.toStringTag,{value:"Module"})),sye=Bi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iye=Bi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),oye=Object.freeze(Object.defineProperty({__proto__:null,base16:sye,base16upper:iye},Symbol.toStringTag,{value:"Module"})),aye=Bi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cye=Bi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lye=Bi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uye=Bi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dye=Bi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fye=Bi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hye=Bi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pye=Bi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gye=Bi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mye=Object.freeze(Object.defineProperty({__proto__:null,base32:aye,base32hex:dye,base32hexpad:hye,base32hexpadupper:pye,base32hexupper:fye,base32pad:lye,base32padupper:uye,base32upper:cye,base32z:gye},Symbol.toStringTag,{value:"Module"})),yye=Vv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bye=Vv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wye=Object.freeze(Object.defineProperty({__proto__:null,base36:yye,base36upper:bye},Symbol.toStringTag,{value:"Module"})),vye=Vv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xye=Vv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Eye=Object.freeze(Object.defineProperty({__proto__:null,base58btc:vye,base58flickr:xye},Symbol.toStringTag,{value:"Module"})),Aye=Bi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cye=Bi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sye=Bi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_ye=Bi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Nye=Object.freeze(Object.defineProperty({__proto__:null,base64:Aye,base64pad:Cye,base64url:Sye,base64urlpad:_ye},Symbol.toStringTag,{value:"Module"})),pG=Array.from(""),Tye=pG.reduce((t,e,n)=>(t[n]=e,t),[]),Rye=pG.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Pye(t){return t.reduce((e,n)=>(e+=Tye[n],e),"")}function Oye(t){const e=[];for(const n of t){const r=Rye[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Iye=jC({prefix:"",name:"base256emoji",encode:Pye,decode:Oye}),kye=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Iye},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const DM={...Jme,...Xme,...tye,...rye,...oye,...mye,...wye,...Eye,...Nye,...kye};function gG(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const MM=gG("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),e3=gG("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=fG(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),mG={utf8:MM,"utf-8":MM,hex:DM.base16,latin1:e3,ascii:e3,binary:e3,...DM};function gc(t,e="utf8"){const n=mG[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?d4(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Ko(t,e="utf8"){const n=mG[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Bye={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var t3,UM;function yG(){if(UM)return t3;UM=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,l){let c=`
`+o+" = ";for(let d=0;d<a.length;d+=2){if(l===32)c+=r(a[d]).toUpperCase(),c+=" ",c+=r(a[d+1]).toUpperCase();else if(l===64)c+=r(a[d+1]).toUpperCase(),c+=r(a[d]).toUpperCase();else throw new Error("Invalid size "+l);d%6===4?c+=`
`+new Array(o.length+4).join(" "):d<a.length-2&&(c+=" ")}console.log(c)}function i(o,a,l){let c=new Date().getTime();const d=new Uint8Array(a);for(let p=0;p<a;p++)d[p]=p%256;const f=new Date().getTime();console.log("Generated random input in "+(f-c)+"ms"),c=f;for(let p=0;p<l;p++){const g=o(d),b=new Date().getTime(),w=b-c;c=b,console.log("Hashed in "+w+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(w/1e3)*100)/100+" MB PER SECOND")}}return t3={normalizeInput:e,toHex:n,debugPrint:s,testSpeed:i},t3}var n3,LM;function Dye(){if(LM)return n3;LM=1;const t=yG();function e(v,x,C){const S=v[x]+v[C];let T=v[x+1]+v[C+1];S>=4294967296&&T++,v[x]=S,v[x+1]=T}function n(v,x,C,S){let T=v[x]+C;C<0&&(T+=4294967296);let R=v[x+1]+S;T>=4294967296&&R++,v[x]=T,v[x+1]=R}function r(v,x){return v[x]^v[x+1]<<8^v[x+2]<<16^v[x+3]<<24}function s(v,x,C,S,T,R){const _=c[T],N=c[T+1],O=c[R],D=c[R+1];e(l,v,x),n(l,v,_,N);let k=l[S]^l[v],z=l[S+1]^l[v+1];l[S]=z,l[S+1]=k,e(l,C,S),k=l[x]^l[C],z=l[x+1]^l[C+1],l[x]=k>>>24^z<<8,l[x+1]=z>>>24^k<<8,e(l,v,x),n(l,v,O,D),k=l[S]^l[v],z=l[S+1]^l[v+1],l[S]=k>>>16^z<<16,l[S+1]=z>>>16^k<<16,e(l,C,S),k=l[x]^l[C],z=l[x+1]^l[C+1],l[x]=z>>>31^k<<1,l[x+1]=k>>>31^z<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(v){return v*2})),l=new Uint32Array(32),c=new Uint32Array(32);function d(v,x){let C=0;for(C=0;C<16;C++)l[C]=v.h[C],l[C+16]=i[C];for(l[24]=l[24]^v.t,l[25]=l[25]^v.t/4294967296,x&&(l[28]=~l[28],l[29]=~l[29]),C=0;C<32;C++)c[C]=r(v.b,4*C);for(C=0;C<12;C++)s(0,8,16,24,a[C*16+0],a[C*16+1]),s(2,10,18,26,a[C*16+2],a[C*16+3]),s(4,12,20,28,a[C*16+4],a[C*16+5]),s(6,14,22,30,a[C*16+6],a[C*16+7]),s(0,10,20,30,a[C*16+8],a[C*16+9]),s(2,12,22,24,a[C*16+10],a[C*16+11]),s(4,14,16,26,a[C*16+12],a[C*16+13]),s(6,8,18,28,a[C*16+14],a[C*16+15]);for(C=0;C<16;C++)v.h[C]=v.h[C]^l[C]^l[C+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(v,x,C,S){if(v===0||v>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(x&&x.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(C&&C.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(S&&S.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const T={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:v};f.fill(0),f[0]=v,x&&(f[1]=x.length),f[2]=1,f[3]=1,C&&f.set(C,32),S&&f.set(S,48);for(let R=0;R<16;R++)T.h[R]=i[R]^r(f,R*4);return x&&(g(T,x),T.c=128),T}function g(v,x){for(let C=0;C<x.length;C++)v.c===128&&(v.t+=v.c,d(v,!1),v.c=0),v.b[v.c++]=x[C]}function b(v){for(v.t+=v.c;v.c<128;)v.b[v.c++]=0;d(v,!0);const x=new Uint8Array(v.outlen);for(let C=0;C<v.outlen;C++)x[C]=v.h[C>>2]>>8*(C&3);return x}function w(v,x,C,S,T){C=C||64,v=t.normalizeInput(v),S&&(S=t.normalizeInput(S)),T&&(T=t.normalizeInput(T));const R=p(C,x,S,T);return g(R,v),b(R)}function m(v,x,C,S,T){const R=w(v,x,C,S,T);return t.toHex(R)}return n3={blake2b:w,blake2bHex:m,blake2bInit:p,blake2bUpdate:g,blake2bFinal:b},n3}var r3,jM;function Mye(){if(jM)return r3;jM=1;const t=yG();function e(b,w){return b[w]^b[w+1]<<8^b[w+2]<<16^b[w+3]<<24}function n(b,w,m,v,x,C){o[b]=o[b]+o[w]+x,o[v]=r(o[v]^o[b],16),o[m]=o[m]+o[v],o[w]=r(o[w]^o[m],12),o[b]=o[b]+o[w]+C,o[v]=r(o[v]^o[b],8),o[m]=o[m]+o[v],o[w]=r(o[w]^o[m],7)}function r(b,w){return b>>>w^b<<32-w}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function l(b,w){let m=0;for(m=0;m<8;m++)o[m]=b.h[m],o[m+8]=s[m];for(o[12]^=b.t,o[13]^=b.t/4294967296,w&&(o[14]=~o[14]),m=0;m<16;m++)a[m]=e(b.b,4*m);for(m=0;m<10;m++)n(0,4,8,12,a[i[m*16+0]],a[i[m*16+1]]),n(1,5,9,13,a[i[m*16+2]],a[i[m*16+3]]),n(2,6,10,14,a[i[m*16+4]],a[i[m*16+5]]),n(3,7,11,15,a[i[m*16+6]],a[i[m*16+7]]),n(0,5,10,15,a[i[m*16+8]],a[i[m*16+9]]),n(1,6,11,12,a[i[m*16+10]],a[i[m*16+11]]),n(2,7,8,13,a[i[m*16+12]],a[i[m*16+13]]),n(3,4,9,14,a[i[m*16+14]],a[i[m*16+15]]);for(m=0;m<8;m++)b.h[m]^=o[m]^o[m+8]}function c(b,w){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const m=w?w.length:0;if(w&&!(m>0&&m<=32))throw new Error("Incorrect key length, should be in [1, 32]");const v={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:b};return v.h[0]^=16842752^m<<8^b,m>0&&(d(v,w),v.c=64),v}function d(b,w){for(let m=0;m<w.length;m++)b.c===64&&(b.t+=b.c,l(b,!1),b.c=0),b.b[b.c++]=w[m]}function f(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;l(b,!0);const w=new Uint8Array(b.outlen);for(let m=0;m<b.outlen;m++)w[m]=b.h[m>>2]>>8*(m&3)&255;return w}function p(b,w,m){m=m||32,b=t.normalizeInput(b);const v=c(m,w);return d(v,b),f(v)}function g(b,w,m){const v=p(b,w,m);return t.toHex(v)}return r3={blake2s:p,blake2sHex:g,blake2sInit:c,blake2sUpdate:d,blake2sFinal:f},r3}var s3,FM;function Uye(){if(FM)return s3;FM=1;const t=Dye(),e=Mye();return s3={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},s3}var Lye=Uye(),jye={};const Fye=":";function sm(t){const[e,n]=t.split(Fye);return{namespace:e,reference:n}}function bG(t,e){return t.includes(":")?[t]:e.chains||[]}var $ye=Object.defineProperty,Hye=Object.defineProperties,zye=Object.getOwnPropertyDescriptors,$M=Object.getOwnPropertySymbols,qye=Object.prototype.hasOwnProperty,Vye=Object.prototype.propertyIsEnumerable,HM=(t,e,n)=>e in t?$ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zM=(t,e)=>{for(var n in e||(e={}))qye.call(e,n)&&HM(t,n,e[n]);if($M)for(var n of $M(e))Vye.call(e,n)&&HM(t,n,e[n]);return t},Gye=(t,e)=>Hye(t,zye(e));const Kye="ReactNative",Oa={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Wye="js";function N2(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function uh(){return!Cd.getDocument()&&!!Cd.getNavigator()&&navigator.product===Kye}function Qye(){return uh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Yye(){return uh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Xm(){return!N2()&&!!Cd.getNavigator()&&!!Cd.getDocument()}function Gv(){return uh()?Oa.reactNative:N2()?Oa.node:Xm()?Oa.browser:Oa.unknown}function qM(){var t;try{return uh()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Jye(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Zye(t){var e,n;const r=wG();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Gye(zM(zM({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function wG(){return tge.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Xye(){if(Gv()===Oa.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=W0e();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function ebe(){var t;const e=Gv();return e===Oa.browser?[e,((t=Cd.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function vG(t,e,n){const r=Xye(),s=ebe();return[[t,e].join("-"),[Wye,n].join("-"),r,s].join("/")}function tbe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=n.split("?"),d=vG(t,e,r),f={auth:s,ua:d,projectId:i,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},p=Jye(c[1]||"",f);return c[0]+"?"+p}function Dp(t,e){return t.filter(n=>e.includes(n)).length===t.length}function LP(t){return Object.fromEntries(t.entries())}function jP(t){return new Map(Object.entries(t))}function Sp(t=dt.FIVE_MINUTES,e){const n=dt.toMiliseconds(t||dt.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);i=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},n),r=a,s=l})}}function jf(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function xG(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function nbe(t){return xG("topic",t)}function rbe(t){return xG("id",t)}function EG(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Qs(t,e){return dt.fromMiliseconds(Date.now()+dt.toMiliseconds(t))}function Of(t){return Date.now()>=dt.toMiliseconds(t)}function xr(t,e){return`${t}${e?`:${e}`:""}`}function tu(t=[],e=[]){return[...new Set([...t,...e])]}async function sbe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s?.href;if(typeof i!="string")return;const o=ibe(i,t,e),a=Gv();if(a===Oa.browser){if(!((r=Cd.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}obe(o)}else a===Oa.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function ibe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${ube(r,!0)}`}else s=`${s}/wc?${r}`;return s}function obe(t){let e="_self";lbe()?e="_top":(cbe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function abe(t,e){let n="";try{if(Xm()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function VM(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function GM(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function f4(){return typeof process<"u"&&jye.IS_VITEST==="true"}function cbe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function lbe(){try{return window.self!==window.top}catch{return!1}}function ube(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function AG(t){return Buffer.from(t,"base64").toString("utf-8")}function dbe(t){return new Promise(e=>setTimeout(e,t))}const ZE=BigInt(2**32-1),KM=BigInt(32);function CG(t,e=!1){return e?{h:Number(t&ZE),l:Number(t>>KM&ZE)}:{h:Number(t>>KM&ZE)|0,l:Number(t&ZE)|0}}function SG(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=CG(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const WM=(t,e,n)=>t>>>n,QM=(t,e,n)=>t<<32-n|e>>>n,If=(t,e,n)=>t>>>n|e<<32-n,kf=(t,e,n)=>t<<32-n|e>>>n,Jw=(t,e,n)=>t<<64-n|e>>>n-32,Zw=(t,e,n)=>t>>>n-32|e<<64-n,fbe=(t,e)=>e,hbe=(t,e)=>t,pbe=(t,e,n)=>t<<n|e>>>32-n,gbe=(t,e,n)=>e<<n|t>>>32-n,mbe=(t,e,n)=>e<<n-32|t>>>64-n,ybe=(t,e,n)=>t<<n-32|e>>>64-n;function Vc(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const h4=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),p4=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,bbe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),wbe=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,vbe=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),xbe=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Cg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function g4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Sd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function yc(t,...e){if(!g4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function m4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Sd(t.outputLen),Sd(t.blockLen)}function Xf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function y4(t,e){yc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Y1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function bc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function i3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dl(t,e){return t<<32-e|t>>>e}const _G=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function NG(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const rd=_G?t=>t:t=>NG(t);function Ebe(t){for(let e=0;e<t.length;e++)t[e]=NG(t[e]);return t}const Bf=_G?t=>t:Ebe,TG=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Abe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function J1(t){if(yc(t),TG)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Abe[t[n]];return e}const $u={_0:48,_9:57,A:65,F:70,a:97,f:102};function YM(t){if(t>=$u._0&&t<=$u._9)return t-$u._0;if(t>=$u.A&&t<=$u.F)return t-($u.A-10);if(t>=$u.a&&t<=$u.f)return t-($u.a-10)}function b4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(TG)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=YM(t.charCodeAt(i)),a=YM(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function Cbe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function il(t){return typeof t=="string"&&(t=Cbe(t)),yc(t),t}function Mp(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];yc(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let FC=class{};function Kv(t){const e=r=>t().update(il(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Sbe(t){const e=(r,s)=>t(s).update(il(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function ey(t=32){if(Cg&&typeof Cg.getRandomValues=="function")return Cg.getRandomValues(new Uint8Array(t));if(Cg&&typeof Cg.randomBytes=="function")return Uint8Array.from(Cg.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const _be=BigInt(0),xb=BigInt(1),Nbe=BigInt(2),Tbe=BigInt(7),Rbe=BigInt(256),Pbe=BigInt(113),RG=[],PG=[],OG=[];for(let t=0,e=xb,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],RG.push(2*(5*r+n)),PG.push((t+1)*(t+2)/2%64);let s=_be;for(let i=0;i<7;i++)e=(e<<xb^(e>>Tbe)*Pbe)%Rbe,e&Nbe&&(s^=xb<<(xb<<BigInt(i))-xb);OG.push(s)}const IG=SG(OG,!0),Obe=IG[0],Ibe=IG[1],JM=(t,e,n)=>n>32?mbe(t,e,n):pbe(t,e,n),ZM=(t,e,n)=>n>32?ybe(t,e,n):gbe(t,e,n);function kbe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],f=JM(c,d,1)^n[a],p=ZM(c,d,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=PG[o],l=JM(s,i,a),c=ZM(s,i,a),d=RG[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Obe[r],t[1]^=Ibe[r]}bc(n)}let Bbe=class kG extends FC{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Sd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Y1(this.state)}clone(){return this._cloneInto()}keccak(){Bf(this.state32),kbe(this.state32,this.rounds),Bf(this.state32),this.posOut=0,this.pos=0}update(e){Xf(this),e=il(e),yc(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Xf(this,!1),yc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Sd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(y4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,bc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new kG(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Dbe=(t,e,n)=>Kv(()=>new Bbe(e,t,n)),Mbe=Dbe(1,136,256/8);function Ube(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function Lbe(t,e,n){return t&e^~t&n}function jbe(t,e,n){return t&e^t&n^e&n}let BG=class extends FC{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=i3(this.buffer)}update(e){Xf(this),e=il(e),yc(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=i3(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xf(this),y4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,bc(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Ube(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=i3(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const bf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),qi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Fbe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wf=new Uint32Array(64);let $be=class extends BG{constructor(e=32){super(64,e,8,!1),this.A=bf[0]|0,this.B=bf[1]|0,this.C=bf[2]|0,this.D=bf[3]|0,this.E=bf[4]|0,this.F=bf[5]|0,this.G=bf[6]|0,this.H=bf[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)wf[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=wf[f-15],g=wf[f-2],b=Dl(p,7)^Dl(p,18)^p>>>3,w=Dl(g,17)^Dl(g,19)^g>>>10;wf[f]=w+wf[f-7]+b+wf[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:d}=this;for(let f=0;f<64;f++){const p=Dl(a,6)^Dl(a,11)^Dl(a,25),g=d+p+Lbe(a,l,c)+Fbe[f]+wf[f]|0,b=(Dl(r,2)^Dl(r,13)^Dl(r,22))+jbe(r,s,i)|0;d=c,c=l,l=a,a=o+g|0,o=i,i=s,s=r,r=g+b|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,i,o,a,l,c,d)}roundClean(){bc(wf)}destroy(){this.set(0,0,0,0,0,0,0,0),bc(this.buffer)}};const DG=SG(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hbe=DG[0],zbe=DG[1],vf=new Uint32Array(80),xf=new Uint32Array(80);let w4=class extends BG{constructor(e=64){super(128,e,16,!1),this.Ah=qi[0]|0,this.Al=qi[1]|0,this.Bh=qi[2]|0,this.Bl=qi[3]|0,this.Ch=qi[4]|0,this.Cl=qi[5]|0,this.Dh=qi[6]|0,this.Dl=qi[7]|0,this.Eh=qi[8]|0,this.El=qi[9]|0,this.Fh=qi[10]|0,this.Fl=qi[11]|0,this.Gh=qi[12]|0,this.Gl=qi[13]|0,this.Hh=qi[14]|0,this.Hl=qi[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:g,Gl:b,Hh:w,Hl:m}=this;return[e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m]}set(e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=g|0,this.Gl=b|0,this.Hh=w|0,this.Hl=m|0}process(e,n){for(let C=0;C<16;C++,n+=4)vf[C]=e.getUint32(n),xf[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const S=vf[C-15]|0,T=xf[C-15]|0,R=If(S,T,1)^If(S,T,8)^WM(S,T,7),_=kf(S,T,1)^kf(S,T,8)^QM(S,T,7),N=vf[C-2]|0,O=xf[C-2]|0,D=If(N,O,19)^Jw(N,O,61)^WM(N,O,6),k=kf(N,O,19)^Zw(N,O,61)^QM(N,O,6),z=bbe(_,k,xf[C-7],xf[C-16]),K=wbe(z,R,D,vf[C-7],vf[C-16]);vf[C]=K|0,xf[C]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:f,El:p,Fh:g,Fl:b,Gh:w,Gl:m,Hh:v,Hl:x}=this;for(let C=0;C<80;C++){const S=If(f,p,14)^If(f,p,18)^Jw(f,p,41),T=kf(f,p,14)^kf(f,p,18)^Zw(f,p,41),R=f&g^~f&w,_=p&b^~p&m,N=vbe(x,T,_,zbe[C],xf[C]),O=xbe(N,v,S,R,Hbe[C],vf[C]),D=N|0,k=If(r,s,28)^Jw(r,s,34)^Jw(r,s,39),z=kf(r,s,28)^Zw(r,s,34)^Zw(r,s,39),K=r&i^r&a^i&a,q=s&o^s&l^o&l;v=w|0,x=m|0,w=g|0,m=b|0,g=f|0,b=p|0,{h:f,l:p}=Vc(c|0,d|0,O|0,D|0),c=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const I=h4(D,z,q);r=p4(I,O,k,K),s=I|0}({h:r,l:s}=Vc(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Vc(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Vc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Vc(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:p}=Vc(this.Eh|0,this.El|0,f|0,p|0),{h:g,l:b}=Vc(this.Fh|0,this.Fl|0,g|0,b|0),{h:w,l:m}=Vc(this.Gh|0,this.Gl|0,w|0,m|0),{h:v,l:x}=Vc(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,s,i,o,a,l,c,d,f,p,g,b,w,m,v,x)}roundClean(){bc(vf,xf)}destroy(){bc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},qbe=class extends w4{constructor(){super(48),this.Ah=zi[0]|0,this.Al=zi[1]|0,this.Bh=zi[2]|0,this.Bl=zi[3]|0,this.Ch=zi[4]|0,this.Cl=zi[5]|0,this.Dh=zi[6]|0,this.Dl=zi[7]|0,this.Eh=zi[8]|0,this.El=zi[9]|0,this.Fh=zi[10]|0,this.Fl=zi[11]|0,this.Gh=zi[12]|0,this.Gl=zi[13]|0,this.Hh=zi[14]|0,this.Hl=zi[15]|0}};const Vi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Vbe=class extends w4{constructor(){super(32),this.Ah=Vi[0]|0,this.Al=Vi[1]|0,this.Bh=Vi[2]|0,this.Bl=Vi[3]|0,this.Ch=Vi[4]|0,this.Cl=Vi[5]|0,this.Dh=Vi[6]|0,this.Dl=Vi[7]|0,this.Eh=Vi[8]|0,this.El=Vi[9]|0,this.Fh=Vi[10]|0,this.Fl=Vi[11]|0,this.Gh=Vi[12]|0,this.Gl=Vi[13]|0,this.Hh=Vi[14]|0,this.Hl=Vi[15]|0}};const $C=Kv(()=>new $be),Gbe=Kv(()=>new w4),Kbe=Kv(()=>new qbe),Wbe=Kv(()=>new Vbe),Qbe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Gs=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),vt=new Uint32Array(32);function Ef(t,e,n,r,s,i){const o=s[i],a=s[i+1];let l=vt[2*t],c=vt[2*t+1],d=vt[2*e],f=vt[2*e+1],p=vt[2*n],g=vt[2*n+1],b=vt[2*r],w=vt[2*r+1],m=h4(l,d,o);c=p4(m,c,f,a),l=m|0,{Dh:w,Dl:b}={Dh:w^c,Dl:b^l},{Dh:w,Dl:b}={Dh:fbe(w,b),Dl:hbe(w)},{h:g,l:p}=Vc(g,p,w,b),{Bh:f,Bl:d}={Bh:f^g,Bl:d^p},{Bh:f,Bl:d}={Bh:If(f,d,24),Bl:kf(f,d,24)},vt[2*t]=l,vt[2*t+1]=c,vt[2*e]=d,vt[2*e+1]=f,vt[2*n]=p,vt[2*n+1]=g,vt[2*r]=b,vt[2*r+1]=w}function Af(t,e,n,r,s,i){const o=s[i],a=s[i+1];let l=vt[2*t],c=vt[2*t+1],d=vt[2*e],f=vt[2*e+1],p=vt[2*n],g=vt[2*n+1],b=vt[2*r],w=vt[2*r+1],m=h4(l,d,o);c=p4(m,c,f,a),l=m|0,{Dh:w,Dl:b}={Dh:w^c,Dl:b^l},{Dh:w,Dl:b}={Dh:If(w,b,16),Dl:kf(w,b,16)},{h:g,l:p}=Vc(g,p,w,b),{Bh:f,Bl:d}={Bh:f^g,Bl:d^p},{Bh:f,Bl:d}={Bh:Jw(f,d,63),Bl:Zw(f,d,63)},vt[2*t]=l,vt[2*t+1]=c,vt[2*e]=d,vt[2*e+1]=f,vt[2*n]=p,vt[2*n+1]=g,vt[2*r]=b,vt[2*r+1]=w}function Ybe(t,e={},n,r,s){if(Sd(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Jbe extends FC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Sd(e),Sd(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Y1(this.buffer)}update(e){Xf(this),e=il(e),yc(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<i;){this.pos===n&&(Bf(s),this.compress(s,0,!1),Bf(s),this.pos=0);const c=Math.min(n-this.pos,i-l),d=o+l;if(c===n&&!(d%4)&&l+c<i){const f=new Uint32Array(a,d,Math.floor((i-l)/4));Bf(f);for(let p=0;l+n<i;p+=s.length,l+=n)this.length+=n,this.compress(f,p,!1);Bf(f);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){Xf(this),y4(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,bc(this.buffer.subarray(n)),Bf(r),this.compress(r,0,!0),Bf(r);const s=Y1(e);this.get().forEach((i,o)=>s[o]=rd(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Zbe extends Jbe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Gs[0]|0,this.v0h=Gs[1]|0,this.v1l=Gs[2]|0,this.v1h=Gs[3]|0,this.v2l=Gs[4]|0,this.v2h=Gs[5]|0,this.v3l=Gs[6]|0,this.v3h=Gs[7]|0,this.v4l=Gs[8]|0,this.v4h=Gs[9]|0,this.v5l=Gs[10]|0,this.v5h=Gs[11]|0,this.v6l=Gs[12]|0,this.v6h=Gs[13]|0,this.v7l=Gs[14]|0,this.v7h=Gs[15]|0,Ybe(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=il(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=il(i);const a=Y1(i);this.v4l^=rd(a[0]),this.v4h^=rd(a[1]),this.v5l^=rd(a[2]),this.v5h^=rd(a[3])}if(s!==void 0){s=il(s);const a=Y1(s);this.v6l^=rd(a[0]),this.v6h^=rd(a[1]),this.v7l^=rd(a[2]),this.v7h^=rd(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:l,v4l:c,v4h:d,v5l:f,v5h:p,v6l:g,v6h:b,v7l:w,v7h:m}=this;return[e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m]}set(e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=d|0,this.v5l=f|0,this.v5h=p|0,this.v6l=g|0,this.v6h=b|0,this.v7l=w|0,this.v7h=m|0}compress(e,n,r){this.get().forEach((l,c)=>vt[c]=l),vt.set(Gs,16);let{h:s,l:i}=CG(BigInt(this.length));vt[24]=Gs[8]^i,vt[25]=Gs[9]^s,r&&(vt[28]=~vt[28],vt[29]=~vt[29]);let o=0;const a=Qbe;for(let l=0;l<12;l++)Ef(0,4,8,12,e,n+2*a[o++]),Af(0,4,8,12,e,n+2*a[o++]),Ef(1,5,9,13,e,n+2*a[o++]),Af(1,5,9,13,e,n+2*a[o++]),Ef(2,6,10,14,e,n+2*a[o++]),Af(2,6,10,14,e,n+2*a[o++]),Ef(3,7,11,15,e,n+2*a[o++]),Af(3,7,11,15,e,n+2*a[o++]),Ef(0,5,10,15,e,n+2*a[o++]),Af(0,5,10,15,e,n+2*a[o++]),Ef(1,6,11,12,e,n+2*a[o++]),Af(1,6,11,12,e,n+2*a[o++]),Ef(2,7,8,13,e,n+2*a[o++]),Af(2,7,8,13,e,n+2*a[o++]),Ef(3,4,9,14,e,n+2*a[o++]),Af(3,4,9,14,e,n+2*a[o++]);this.v0l^=vt[0]^vt[16],this.v0h^=vt[1]^vt[17],this.v1l^=vt[2]^vt[18],this.v1h^=vt[3]^vt[19],this.v2l^=vt[4]^vt[20],this.v2h^=vt[5]^vt[21],this.v3l^=vt[6]^vt[22],this.v3h^=vt[7]^vt[23],this.v4l^=vt[8]^vt[24],this.v4h^=vt[9]^vt[25],this.v5l^=vt[10]^vt[26],this.v5h^=vt[11]^vt[27],this.v6l^=vt[12]^vt[28],this.v6h^=vt[13]^vt[29],this.v7l^=vt[14]^vt[30],this.v7h^=vt[15]^vt[31],bc(vt)}destroy(){this.destroyed=!0,bc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xbe=Sbe(t=>new Zbe(t)),ewe="https://rpc.walletconnect.org/v1";function MG(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Mbe(n)).toString("hex")}async function twe(t,e,n,r,s,i){switch(n.t){case"eip191":return await nwe(t,e,n.s);case"eip1271":return await rwe(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function nwe(t,e,n){return(await Vge({hash:MG(e),signature:n})).toLowerCase()===t.toLowerCase()}async function rwe(t,e,n,r,s,i){const o=sm(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),d=(c.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:MG(e)).substring(2),p=a+f+l+d+c,g=await fetch(`${i||ewe}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:swe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:p},"latest"]})}),{result:b}=await g.json();return b?b.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function swe(){return Date.now()+Math.floor(Math.random()*1e3)}function iwe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Zm.encode(i)}function owe(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Xbe(r,{dkLen:32});return Zm.encode(s)}function XM(t){const e=new Uint8Array($C(awe(t)));return Zm.encode(e)}function awe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function eU(t){const e=Buffer.from(t,"base64"),n=Rme(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=vme(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Wbe(i);return Ume.encode(o).replace(/=+$/,"")}function o3(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function cwe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(o3(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(o3(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(o3(r.length)),s.push(r);const i=Buffer.concat(s),o=$C(i);return Buffer.from(o).toString("hex").toUpperCase()}var lwe=Object.defineProperty,uwe=Object.defineProperties,dwe=Object.getOwnPropertyDescriptors,tU=Object.getOwnPropertySymbols,fwe=Object.prototype.hasOwnProperty,hwe=Object.prototype.propertyIsEnumerable,nU=(t,e,n)=>e in t?lwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pwe=(t,e)=>{for(var n in e||(e={}))fwe.call(e,n)&&nU(t,n,e[n]);if(tU)for(var n of tU(e))hwe.call(e,n)&&nU(t,n,e[n]);return t},gwe=(t,e)=>uwe(t,dwe(e));const mwe="did:pkh:",v4=t=>t?.split(":"),ywe=t=>{const e=t&&v4(t);if(e)return t.includes(mwe)?e[3]:e[1]},FP=t=>{const e=t&&v4(t);if(e)return e[2]+":"+e[3]},T2=t=>{const e=t&&v4(t);if(e)return e.pop()};async function rU(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=UG(s,s.iss),o=T2(s.iss);return await twe(o,i,r,FP(s.iss),n)}const UG=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=T2(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${ywe(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,b=GA(t.resources);if(b){const w=Z1(b);s=_we(s,w)}return[n,r,"",s,"",i,o,a,l,c,d,f,p,g].filter(w=>w!=null).join(`
`)};function bwe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function wwe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function c0(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function vwe(t,e,n,r={}){return n?.sort((s,i)=>s.localeCompare(i)),{att:{[t]:xwe(e,n,r)}}}function xwe(t,e,n={}){e=e?.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function LG(t){return c0(t),`urn:recap:${bwe(t).replace(/=/g,"")}`}function Z1(t){const e=wwe(t.replace("urn:recap:",""));return c0(e),e}function Ewe(t,e,n){const r=vwe(t,e,n);return LG(r)}function Awe(t){return t&&t.includes("urn:recap:")}function Cwe(t,e){const n=Z1(t),r=Z1(e),s=Swe(n,r);return LG(s)}function Swe(t,e){c0(t),c0(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[s]=gwe(pwe({},r.att[s]),{[a]:((l=t.att[s])==null?void 0:l[a])||((c=e.att[s])==null?void 0:c[a])})})}),r}function _we(t="",e){c0(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));l.sort((f,p)=>f.action.localeCompare(p.action));const c={};l.forEach(f=>{c[f.ability]||(c[f.ability]=[]),c[f.ability].push(f.action)});const d=Object.keys(c).map(f=>(s++,`(${s}) '${f}': '${c[f].join("', '")}' for '${a}'.`));r.push(d.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function sU(t){var e;const n=Z1(t);c0(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function iU(t){const e=Z1(t);c0(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s?.[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function GA(t){if(!t)return;const e=t?.[t.length-1];return Awe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function jG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $P(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function a3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function jo(t,...e){if(!jG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function oU(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Nwe(t,e){jo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zf(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Em(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Twe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Rwe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pwe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function HP(t){if(typeof t=="string")t=Pwe(t);else if(jG(t))t=zP(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Owe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Iwe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const kwe=(t,e)=>{function n(r,...s){if(jo(r),!Rwe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=s[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?jo(c):jo(c,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&jo(s[1]);const o=e(r,...s),a=(c,d)=>{if(d!==void 0){if(c!==2)throw new Error("cipher output not supported");jo(d)}};let l=!1;return{encrypt(c,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,jo(c),a(o.encrypt.length,d),o.encrypt(c,d)},decrypt(c,d){if(jo(c),i&&c.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,d),o.decrypt(c,d)}}}return Object.assign(n,t),n};function aU(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Dwe(e))throw new Error("invalid output, must be aligned");return e}function cU(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Bwe(t,e,n){$P(n);const r=new Uint8Array(16),s=Twe(r);return cU(s,0,BigInt(e),n),cU(s,8,BigInt(t),n),r}function Dwe(t){return t.byteOffset%4===0}function zP(t){return Uint8Array.from(t)}const FG=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Mwe=FG("expand 16-byte k"),Uwe=FG("expand 32-byte k"),Lwe=zf(Mwe),jwe=zf(Uwe);function cr(t,e){return t<<e|t>>>32-e}function qP(t){return t.byteOffset%4===0}const XE=64,Fwe=16,$G=2**32-1,lU=new Uint32Array;function $we(t,e,n,r,s,i,o,a){const l=s.length,c=new Uint8Array(XE),d=zf(c),f=qP(s)&&qP(i),p=f?zf(s):lU,g=f?zf(i):lU;for(let b=0;b<l;o++){if(t(e,n,r,d,o,a),o>=$G)throw new Error("arx: counter overflow");const w=Math.min(XE,l-b);if(f&&w===XE){const m=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let v=0,x;v<Fwe;v++)x=m+v,g[x]=p[x]^d[v];b+=XE;continue}for(let m=0,v;m<w;m++)v=b+m,i[v]=s[v]^c[m];b+=w}}function Hwe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Owe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return a3(s),a3(o),$P(i),$P(n),(a,l,c,d,f=0)=>{jo(a),jo(l),jo(c);const p=c.length;if(d===void 0&&(d=new Uint8Array(p)),jo(d),a3(f),f<0||f>=$G)throw new Error("arx: counter overflow");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const g=[];let b=a.length,w,m;if(b===32)g.push(w=zP(a)),m=jwe;else if(b===16&&n)w=new Uint8Array(32),w.set(a),w.set(a,16),m=Lwe,g.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);qP(l)||g.push(l=zP(l));const v=zf(w);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,v,zf(l.subarray(0,16)),v),l=l.subarray(16)}const x=16-s;if(x!==l.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const S=new Uint8Array(12);S.set(l,i?0:12-l.length),l=S,g.push(l)}const C=zf(l);return $we(t,m,v,C,c,d,f,o),Em(...g),d}}const Ci=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class zwe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=HP(e),jo(e,32);const n=Ci(e,0),r=Ci(e,2),s=Ci(e,4),i=Ci(e,6),o=Ci(e,8),a=Ci(e,10),l=Ci(e,12),c=Ci(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Ci(e,16+2*d)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],l=o[1],c=o[2],d=o[3],f=o[4],p=o[5],g=o[6],b=o[7],w=o[8],m=o[9],v=Ci(e,n+0),x=Ci(e,n+2),C=Ci(e,n+4),S=Ci(e,n+6),T=Ci(e,n+8),R=Ci(e,n+10),_=Ci(e,n+12),N=Ci(e,n+14);let O=i[0]+(v&8191),D=i[1]+((v>>>13|x<<3)&8191),k=i[2]+((x>>>10|C<<6)&8191),z=i[3]+((C>>>7|S<<9)&8191),K=i[4]+((S>>>4|T<<12)&8191),q=i[5]+(T>>>1&8191),I=i[6]+((T>>>14|R<<2)&8191),P=i[7]+((R>>>11|_<<5)&8191),M=i[8]+((_>>>8|N<<8)&8191),j=i[9]+(N>>>5|s),G=0,F=G+O*a+D*(5*m)+k*(5*w)+z*(5*b)+K*(5*g);G=F>>>13,F&=8191,F+=q*(5*p)+I*(5*f)+P*(5*d)+M*(5*c)+j*(5*l),G+=F>>>13,F&=8191;let H=G+O*l+D*a+k*(5*m)+z*(5*w)+K*(5*b);G=H>>>13,H&=8191,H+=q*(5*g)+I*(5*p)+P*(5*f)+M*(5*d)+j*(5*c),G+=H>>>13,H&=8191;let $=G+O*c+D*l+k*a+z*(5*m)+K*(5*w);G=$>>>13,$&=8191,$+=q*(5*b)+I*(5*g)+P*(5*p)+M*(5*f)+j*(5*d),G+=$>>>13,$&=8191;let Z=G+O*d+D*c+k*l+z*a+K*(5*m);G=Z>>>13,Z&=8191,Z+=q*(5*w)+I*(5*b)+P*(5*g)+M*(5*p)+j*(5*f),G+=Z>>>13,Z&=8191;let X=G+O*f+D*d+k*c+z*l+K*a;G=X>>>13,X&=8191,X+=q*(5*m)+I*(5*w)+P*(5*b)+M*(5*g)+j*(5*p),G+=X>>>13,X&=8191;let le=G+O*p+D*f+k*d+z*c+K*l;G=le>>>13,le&=8191,le+=q*a+I*(5*m)+P*(5*w)+M*(5*b)+j*(5*g),G+=le>>>13,le&=8191;let de=G+O*g+D*p+k*f+z*d+K*c;G=de>>>13,de&=8191,de+=q*l+I*a+P*(5*m)+M*(5*w)+j*(5*b),G+=de>>>13,de&=8191;let pe=G+O*b+D*g+k*p+z*f+K*d;G=pe>>>13,pe&=8191,pe+=q*c+I*l+P*a+M*(5*m)+j*(5*w),G+=pe>>>13,pe&=8191;let ae=G+O*w+D*b+k*g+z*p+K*f;G=ae>>>13,ae&=8191,ae+=q*d+I*c+P*l+M*a+j*(5*m),G+=ae>>>13,ae&=8191;let ce=G+O*m+D*w+k*b+z*g+K*p;G=ce>>>13,ce&=8191,ce+=q*f+I*d+P*c+M*l+j*a,G+=ce>>>13,ce&=8191,G=(G<<2)+G|0,G=G+F|0,F=G&8191,G=G>>>13,H+=G,i[0]=F,i[1]=H,i[2]=$,i[3]=Z,i[4]=X,i[5]=le,i[6]=de,i[7]=pe,i[8]=ae,i[9]=ce}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Em(r)}update(e){oU(this),e=HP(e),jo(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Em(this.h,this.r,this.buffer,this.pad)}digestInto(e){oU(this),Nwe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function qwe(t){const e=(r,s)=>t(s).update(HP(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Vwe=qwe(t=>new zwe(t));function Gwe(t,e,n,r,s,i=20){let o=t[0],a=t[1],l=t[2],c=t[3],d=e[0],f=e[1],p=e[2],g=e[3],b=e[4],w=e[5],m=e[6],v=e[7],x=s,C=n[0],S=n[1],T=n[2],R=o,_=a,N=l,O=c,D=d,k=f,z=p,K=g,q=b,I=w,P=m,M=v,j=x,G=C,F=S,H=T;for(let Z=0;Z<i;Z+=2)R=R+D|0,j=cr(j^R,16),q=q+j|0,D=cr(D^q,12),R=R+D|0,j=cr(j^R,8),q=q+j|0,D=cr(D^q,7),_=_+k|0,G=cr(G^_,16),I=I+G|0,k=cr(k^I,12),_=_+k|0,G=cr(G^_,8),I=I+G|0,k=cr(k^I,7),N=N+z|0,F=cr(F^N,16),P=P+F|0,z=cr(z^P,12),N=N+z|0,F=cr(F^N,8),P=P+F|0,z=cr(z^P,7),O=O+K|0,H=cr(H^O,16),M=M+H|0,K=cr(K^M,12),O=O+K|0,H=cr(H^O,8),M=M+H|0,K=cr(K^M,7),R=R+k|0,H=cr(H^R,16),P=P+H|0,k=cr(k^P,12),R=R+k|0,H=cr(H^R,8),P=P+H|0,k=cr(k^P,7),_=_+z|0,j=cr(j^_,16),M=M+j|0,z=cr(z^M,12),_=_+z|0,j=cr(j^_,8),M=M+j|0,z=cr(z^M,7),N=N+K|0,G=cr(G^N,16),q=q+G|0,K=cr(K^q,12),N=N+K|0,G=cr(G^N,8),q=q+G|0,K=cr(K^q,7),O=O+D|0,F=cr(F^O,16),I=I+F|0,D=cr(D^I,12),O=O+D|0,F=cr(F^O,8),I=I+F|0,D=cr(D^I,7);let $=0;r[$++]=o+R|0,r[$++]=a+_|0,r[$++]=l+N|0,r[$++]=c+O|0,r[$++]=d+D|0,r[$++]=f+k|0,r[$++]=p+z|0,r[$++]=g+K|0,r[$++]=b+q|0,r[$++]=w+I|0,r[$++]=m+P|0,r[$++]=v+M|0,r[$++]=x+j|0,r[$++]=C+G|0,r[$++]=S+F|0,r[$++]=T+H|0}const Kwe=Hwe(Gwe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wwe=new Uint8Array(16),uU=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Wwe.subarray(n))},Qwe=new Uint8Array(32);function dU(t,e,n,r,s){const i=t(e,n,Qwe),o=Vwe.create(i);s&&uU(o,s),uU(o,r);const a=Bwe(r.length,s?s.length:0,!0);o.update(a);const l=o.digest();return Em(i,a),l}const Ywe=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=aU(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const l=dU(t,e,n,a,r);return i.set(l,o),Em(l),i},decrypt(s,i){i=aU(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),l=dU(t,e,n,o,r);if(!Iwe(a,l))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Em(l),i}}),HG=kwe({blockSize:64,nonceLength:12,tagLength:16},Ywe(Kwe));let zG=class extends FC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,m4(e);const r=il(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),bc(i)}update(e){return Xf(this),this.iHash.update(e),this}digestInto(e){Xf(this),yc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const HC=(t,e,n)=>new zG(t,e).update(n).digest();HC.create=(t,e)=>new zG(t,e);function Jwe(t,e,n){return m4(t),n===void 0&&(n=new Uint8Array(t.outputLen)),HC(t,il(n),il(e))}const c3=Uint8Array.from([0]),fU=Uint8Array.of();function Zwe(t,e,n,r=32){m4(t),Sd(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=fU);const o=new Uint8Array(i*s),a=HC.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let d=0;d<i;d++)c3[0]=d+1,l.update(d===0?fU:c).update(n).update(c3).digestInto(c),o.set(c,s*d),a._cloneInto(l);return a.destroy(),l.destroy(),bc(c,c3),o.slice(0,r)}const Xwe=(t,e,n,r,s)=>Zwe(t,Jwe(t,e,n),r,s),zC=$C,x4=BigInt(0),VP=BigInt(1);function R2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function eA(t){const e=t.toString(16);return e.length&1?"0"+e:e}function qG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?x4:BigInt("0x"+t)}function qC(t){return qG(J1(t))}function P2(t){return yc(t),qG(J1(Uint8Array.from(t).reverse()))}function E4(t,e){return b4(t.toString(16).padStart(e*2,"0"))}function A4(t,e){return E4(t,e).reverse()}function Uo(t,e,n){let r;if(typeof e=="string")try{r=b4(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(g4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const l3=t=>typeof t=="bigint"&&x4<=t;function e1e(t,e,n){return l3(t)&&l3(e)&&l3(n)&&e<=t&&t<n}function GP(t,e,n,r){if(!e1e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function t1e(t){let e;for(e=0;t>x4;t>>=VP,e+=1);return e}const VC=t=>(VP<<BigInt(t))-VP;function n1e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),s=p=>Uint8Array.of(p);let i=r(t),o=r(t),a=0;const l=()=>{i.fill(1),o.fill(0),a=0},c=(...p)=>n(o,i,...p),d=(p=r(0))=>{o=c(s(0),p),i=c(),p.length!==0&&(o=c(s(1),p),i=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<e;){i=c();const b=i.slice();g.push(b),p+=i.length}return Mp(...g)};return(p,g)=>{l(),d(p);let b;for(;!(b=g(f()));)d();return l(),b}}function GC(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const l=typeof a;if(l!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${l}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function hU(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const zo=BigInt(0),mo=BigInt(1),Up=BigInt(2),r1e=BigInt(3),VG=BigInt(4),GG=BigInt(5),KG=BigInt(8);function pc(t,e){const n=t%e;return n>=zo?n:e+n}function qc(t,e,n){let r=t;for(;e-- >zo;)r*=r,r%=n;return r}function pU(t,e){if(t===zo)throw new Error("invert: expected non-zero number");if(e<=zo)throw new Error("invert: expected positive modulus, got "+e);let n=pc(t,e),r=e,s=zo,i=mo;for(;n!==zo;){const o=r/n,a=r%n,l=s-i*o;r=n,n=a,s=i,i=l}if(r!==mo)throw new Error("invert: does not exist");return pc(s,e)}function WG(t,e){const n=(t.ORDER+mo)/VG,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function s1e(t,e){const n=(t.ORDER-GG)/KG,r=t.mul(e,Up),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Up),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function i1e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-mo,n=0;for(;e%Up===zo;)e/=Up,n++;let r=Up;const s=ty(t);for(;gU(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return WG;let i=s.pow(r,e);const o=(e+mo)/Up;return function(a,l){if(a.is0(l))return l;if(gU(a,l)!==1)throw new Error("Cannot find square root");let c=n,d=a.mul(a.ONE,i),f=a.pow(l,e),p=a.pow(l,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let g=1,b=a.sqr(f);for(;!a.eql(b,a.ONE);)if(g++,b=a.sqr(b),g===c)throw new Error("Cannot find square root");const w=mo<<BigInt(c-g-1),m=a.pow(d,w);c=g,d=a.sqr(m),f=a.mul(f,d),p=a.mul(p,m)}return p}}function o1e(t){return t%VG===r1e?WG:t%KG===GG?s1e:i1e(t)}const a1e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function c1e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=a1e.reduce((r,s)=>(r[s]="function",r),e);return GC(t,n),t}function l1e(t,e,n){if(n<zo)throw new Error("invalid exponent, negatives unsupported");if(n===zo)return t.ONE;if(n===mo)return e;let r=t.ONE,s=e;for(;n>zo;)n&mo&&(r=t.mul(r,s)),s=t.sqr(s),n>>=mo;return r}function QG(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function gU(t,e){const n=(t.ORDER-mo)/Up,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function u1e(t,e){e!==void 0&&Sd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ty(t,e,n=!1,r={}){if(t<=zo)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=e;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=u1e(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:VC(o),ZERO:zo,ONE:mo,create:d=>pc(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return zo<=d&&d<t},is0:d=>d===zo,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&mo)===mo,neg:d=>pc(-d,t),eql:(d,f)=>d===f,sqr:d=>pc(d*d,t),add:(d,f)=>pc(d+f,t),sub:(d,f)=>pc(d-f,t),mul:(d,f)=>pc(d*f,t),pow:(d,f)=>l1e(c,d,f),div:(d,f)=>pc(d*pU(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>pU(d,t),sqrt:i||(d=>(l||(l=o1e(t)),l(c,d))),toBytes:d=>n?A4(d,a):E4(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?P2(d):qC(d)},invertBatch:d=>QG(c,d),cmov:(d,f,p)=>p?f:d});return Object.freeze(c)}function YG(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function JG(t){const e=YG(t);return e+Math.ceil(e/2)}function d1e(t,e,n=!1){const r=t.length,s=YG(e),i=JG(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?P2(t):qC(t),a=pc(o,e-mo)+mo;return n?A4(a,s):E4(a,s)}const Am=BigInt(0),Lp=BigInt(1);function d1(t,e){const n=e.negate();return t?n:e}function f1e(t,e,n){const r=i=>i.pz,s=QG(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function ZG(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function u3(t,e){ZG(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=VC(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function mU(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=Lp);const c=e*r,d=c+Math.abs(a)-1,f=a===0,p=a<0,g=e%2!==0;return{nextN:l,offset:d,isZero:f,isNeg:p,isNegF:g,offsetF:c}}function h1e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function p1e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const d3=new WeakMap,XG=new WeakMap;function f3(t){return XG.get(t)||1}function yU(t){if(t!==Am)throw new Error("invalid wNAF")}function g1e(t,e){return{constTimeNegate:d1,hasPrecomputes(n){return f3(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Am;)r&Lp&&(s=s.add(i)),i=i.double(),r>>=Lp;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=u3(r,e),o=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,o.push(l);for(let d=1;d<i;d++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=u3(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:f,isNeg:p,isNegF:g,offsetF:b}=mU(s,l,a);s=c,f?o=o.add(d1(g,r[b])):i=i.add(d1(p,r[d]))}return yU(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=u3(n,e);for(let a=0;a<o.windows&&s!==Am;a++){const{nextN:l,offset:c,isZero:d,isNeg:f}=mU(s,a,o);if(s=l,!d){const p=r[c];i=i.add(f?p.negate():p)}}return yU(s),i},getPrecomputes(n,r,s){let i=d3.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),d3.set(r,i))),i},wNAFCached(n,r,s){const i=f3(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=f3(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){ZG(r,e),XG.set(n,r),d3.delete(n)}}}function m1e(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Am||r>Am;)n&Lp&&(i=i.add(s)),r&Lp&&(o=o.add(s)),s=s.double(),n>>=Lp,r>>=Lp;return{p1:i,p2:o}}function y1e(t,e,n,r){h1e(n,t),p1e(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=t1e(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=VC(l),d=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let p=o;for(let g=f;g>=0;g-=l){d.fill(o);for(let w=0;w<i;w++){const m=r[w],v=Number(m>>BigInt(g)&c);d[v]=d[v].add(n[w])}let b=o;for(let w=d.length-1,m=o;w>0;w--)m=m.add(d[w]),b=b.add(m);if(p=p.add(b),g!==0)for(let w=0;w<l;w++)p=p.double()}return p}function bU(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return c1e(e),e}else return ty(t)}function b1e(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Am))throw new Error(`CURVE.${o} must be positive bigint`)}const r=bU(e.p,n.Fp),s=bU(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Eb=BigInt(0),Sg=BigInt(1),tA=BigInt(2);function w1e(t){return GC(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function v1e(t){const e=w1e(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=o||ey,c=a?255:448,d=a?32:56,f=BigInt(a?9:5),p=BigInt(a?121665:39081),g=a?tA**BigInt(254):tA**BigInt(447),b=a?BigInt(8)*tA**BigInt(251)-Sg:BigInt(4)*tA**BigInt(445)-Sg,w=g+b+Sg,m=O=>pc(O,n),v=x(f);function x(O){return A4(m(O),d)}function C(O){const D=Uo("u coordinate",O,d);return a&&(D[31]&=127),m(P2(D))}function S(O){return P2(s(Uo("scalar",O,d)))}function T(O,D){const k=N(C(D),S(O));if(k===Eb)throw new Error("invalid private or public key received");return x(k)}function R(O){return T(O,v)}function _(O,D,k){const z=m(O*(D-k));return D=m(D-z),k=m(k+z),{x_2:D,x_3:k}}function N(O,D){GP("u",O,Eb,n),GP("scalar",D,g,w);const k=D,z=O;let K=Sg,q=Eb,I=O,P=Sg,M=Eb;for(let G=BigInt(c-1);G>=Eb;G--){const F=k>>G&Sg;M^=F,{x_2:K,x_3:I}=_(M,K,I),{x_2:q,x_3:P}=_(M,q,P),M=F;const H=K+q,$=m(H*H),Z=K-q,X=m(Z*Z),le=$-X,de=I+P,pe=I-P,ae=m(pe*H),ce=m(de*Z),fe=ae+ce,ve=ae-ce;I=m(fe*fe),P=m(z*m(ve*ve)),K=m($*X),q=m(le*($+m(p*le)))}({x_2:K,x_3:I}=_(M,K,I)),{x_2:q,x_3:P}=_(M,q,P);const j=i(q);return m(K*j)}return{scalarMult:T,scalarMultBase:R,getSharedSecret:(O,D)=>T(O,D),getPublicKey:O=>R(O),utils:{randomPrivateKey:()=>l(d)},GuBytes:v.slice()}}BigInt(0);const x1e=BigInt(1),wU=BigInt(2),E1e=BigInt(3),A1e=BigInt(5);BigInt(8);const eK={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function C1e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=eK.p,o=t*t%i*t%i,a=qc(o,wU,i)*o%i,l=qc(a,x1e,i)*t%i,c=qc(l,A1e,i)*l%i,d=qc(c,e,i)*c%i,f=qc(d,n,i)*d%i,p=qc(f,r,i)*f%i,g=qc(p,s,i)*p%i,b=qc(g,s,i)*p%i,w=qc(b,e,i)*c%i;return{pow_p_5_8:qc(w,wU,i)*t%i,b2:o}}function S1e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const KP=(()=>{const t=eK.p;return v1e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=C1e(e);return pc(qc(n,E1e,t)*r,t)},adjustScalarBytes:S1e})})();function vU(t){t.lowS!==void 0&&R2("lowS",t.lowS),t.prehash!==void 0&&R2("prehash",t.prehash)}class _1e extends Error{constructor(e=""){super(e)}}const cd={Err:_1e,_tlv:{encode:(t,e)=>{const{Err:n}=cd;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=eA(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?eA(s.length/2|128):"";return eA(t)+i+s+e},decode(t,e){const{Err:n}=cd;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)o=o<<8|d;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=cd;if(t<f1)throw new e("integer: negative integers are not allowed");let n=eA(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=cd;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return qC(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=cd,s=Uo("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=cd,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},f1=BigInt(0),h1=BigInt(1),N1e=BigInt(2),nA=BigInt(3),T1e=BigInt(4);function R1e(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function tK(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Uo("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function P1e(t,e={}){const{Fp:n,Fn:r}=b1e("weierstrass",t,e),{h:s,n:i}=t;GC(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(N,O,D){const{x:k,y:z}=O.toAffine(),K=n.toBytes(k);if(R2("isCompressed",D),D){a();const q=!n.isOdd(z);return Mp(nK(q),K)}else return Mp(Uint8Array.of(4),K,n.toBytes(z))}function c(N){yc(N);const O=n.BYTES,D=O+1,k=2*O+1,z=N.length,K=N[0],q=N.subarray(1);if(z===D&&(K===2||K===3)){const I=n.fromBytes(q);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const P=p(I);let M;try{M=n.sqrt(P)}catch(G){const F=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}a();const j=n.isOdd(M);return(K&1)===1!==j&&(M=n.neg(M)),{x:I,y:M}}else if(z===k&&K===4){const I=n.fromBytes(q.subarray(O*0,O*1)),P=n.fromBytes(q.subarray(O*1,O*2));if(!g(I,P))throw new Error("bad point: is not on curve");return{x:I,y:P}}else throw new Error(`bad point: got length ${z}, expected compressed=${D} or uncompressed=${k}`)}const d=e.toBytes||l,f=e.fromBytes||c,p=R1e(n,t.a,t.b);function g(N,O){const D=n.sqr(O),k=p(N);return n.eql(D,k)}if(!g(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(t.a,nA),T1e),w=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(b,w)))throw new Error("bad curve params: a or b");function m(N,O,D=!1){if(!n.isValid(O)||D&&n.is0(O))throw new Error(`bad point coordinate ${N}`);return O}function v(N){if(!(N instanceof T))throw new Error("ProjectivePoint expected")}const x=hU((N,O)=>{const{px:D,py:k,pz:z}=N;if(n.eql(z,n.ONE))return{x:D,y:k};const K=N.is0();O==null&&(O=K?n.ONE:n.inv(z));const q=n.mul(D,O),I=n.mul(k,O),P=n.mul(z,O);if(K)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:q,y:I}}),C=hU(N=>{if(N.is0()){if(e.allowInfinityPoint&&!n.is0(N.py))return;throw new Error("bad point: ZERO")}const{x:O,y:D}=N.toAffine();if(!n.isValid(O)||!n.isValid(D))throw new Error("bad point: x or y not field elements");if(!g(O,D))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(N,O,D,k,z){return D=new T(n.mul(D.px,N),D.py,D.pz),O=d1(k,O),D=d1(z,D),O.add(D)}class T{constructor(O,D,k){this.px=m("x",O),this.py=m("y",D,!0),this.pz=m("z",k),Object.freeze(this)}static fromAffine(O){const{x:D,y:k}=O||{};if(!O||!n.isValid(D)||!n.isValid(k))throw new Error("invalid affine point");if(O instanceof T)throw new Error("projective point not allowed");return n.is0(D)&&n.is0(k)?T.ZERO:new T(D,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){return f1e(T,"pz",O)}static fromBytes(O){return yc(O),T.fromHex(O)}static fromHex(O){const D=T.fromAffine(f(Uo("pointHex",O)));return D.assertValidity(),D}static fromPrivateKey(O){const D=tK(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return T.BASE.multiply(D(O))}static msm(O,D){return y1e(T,r,O,D)}precompute(O=8,D=!0){return _.setWindowSize(this,O),D||this.multiply(nA),this}_setWindowSize(O){this.precompute(O)}assertValidity(){C(this)}hasEvenY(){const{y:O}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(O)}equals(O){v(O);const{px:D,py:k,pz:z}=this,{px:K,py:q,pz:I}=O,P=n.eql(n.mul(D,I),n.mul(K,z)),M=n.eql(n.mul(k,I),n.mul(q,z));return P&&M}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:O,b:D}=t,k=n.mul(D,nA),{px:z,py:K,pz:q}=this;let I=n.ZERO,P=n.ZERO,M=n.ZERO,j=n.mul(z,z),G=n.mul(K,K),F=n.mul(q,q),H=n.mul(z,K);return H=n.add(H,H),M=n.mul(z,q),M=n.add(M,M),I=n.mul(O,M),P=n.mul(k,F),P=n.add(I,P),I=n.sub(G,P),P=n.add(G,P),P=n.mul(I,P),I=n.mul(H,I),M=n.mul(k,M),F=n.mul(O,F),H=n.sub(j,F),H=n.mul(O,H),H=n.add(H,M),M=n.add(j,j),j=n.add(M,j),j=n.add(j,F),j=n.mul(j,H),P=n.add(P,j),F=n.mul(K,q),F=n.add(F,F),j=n.mul(F,H),I=n.sub(I,j),M=n.mul(F,G),M=n.add(M,M),M=n.add(M,M),new T(I,P,M)}add(O){v(O);const{px:D,py:k,pz:z}=this,{px:K,py:q,pz:I}=O;let P=n.ZERO,M=n.ZERO,j=n.ZERO;const G=t.a,F=n.mul(t.b,nA);let H=n.mul(D,K),$=n.mul(k,q),Z=n.mul(z,I),X=n.add(D,k),le=n.add(K,q);X=n.mul(X,le),le=n.add(H,$),X=n.sub(X,le),le=n.add(D,z);let de=n.add(K,I);return le=n.mul(le,de),de=n.add(H,Z),le=n.sub(le,de),de=n.add(k,z),P=n.add(q,I),de=n.mul(de,P),P=n.add($,Z),de=n.sub(de,P),j=n.mul(G,le),P=n.mul(F,Z),j=n.add(P,j),P=n.sub($,j),j=n.add($,j),M=n.mul(P,j),$=n.add(H,H),$=n.add($,H),Z=n.mul(G,Z),le=n.mul(F,le),$=n.add($,Z),Z=n.sub(H,Z),Z=n.mul(G,Z),le=n.add(le,Z),H=n.mul($,le),M=n.add(M,H),H=n.mul(de,le),P=n.mul(X,P),P=n.sub(P,H),H=n.mul(X,$),j=n.mul(de,j),j=n.add(j,H),new T(P,M,j)}subtract(O){return this.add(O.negate())}is0(){return this.equals(T.ZERO)}multiply(O){const{endo:D}=e;if(!r.isValidNot0(O))throw new Error("invalid scalar: out of range");let k,z;const K=q=>_.wNAFCached(this,q,T.normalizeZ);if(D){const{k1neg:q,k1:I,k2neg:P,k2:M}=D.splitScalar(O),{p:j,f:G}=K(I),{p:F,f:H}=K(M);z=G.add(H),k=S(D.beta,j,F,q,P)}else{const{p:q,f:I}=K(O);k=q,z=I}return T.normalizeZ([k,z])[0]}multiplyUnsafe(O){const{endo:D}=e,k=this;if(!r.isValid(O))throw new Error("invalid scalar: out of range");if(O===f1||k.is0())return T.ZERO;if(O===h1)return k;if(_.hasPrecomputes(this))return this.multiply(O);if(D){const{k1neg:z,k1:K,k2neg:q,k2:I}=D.splitScalar(O),{p1:P,p2:M}=m1e(T,k,K,I);return S(D.beta,P,M,z,q)}else return _.wNAFCachedUnsafe(k,O)}multiplyAndAddUnsafe(O,D,k){const z=this.multiplyUnsafe(D).add(O.multiplyUnsafe(k));return z.is0()?void 0:z}toAffine(O){return x(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return s===h1?!0:O?O(T,this):_.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:O}=e;return s===h1?this:O?O(T,this):this.multiplyUnsafe(s)}toBytes(O=!0){return R2("isCompressed",O),this.assertValidity(),d(T,this,O)}toRawBytes(O=!0){return this.toBytes(O)}toHex(O=!0){return J1(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(t.Gx,t.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=r;const R=r.BITS,_=g1e(T,e.endo?Math.ceil(R/2):R);return T}function nK(t){return Uint8Array.of(t?2:3)}function O1e(t,e,n={}){GC(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||ey,s=e.hmac||((k,...z)=>HC(e.hash,k,Mp(...z))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(k){const z=a>>h1;return k>z}function d(k){return c(k)?o.neg(k):k}function f(k,z){if(!o.isValidNot0(z))throw new Error(`invalid signature ${k}: out of range 1..CURVE.n`)}class p{constructor(z,K,q){f("r",z),f("s",K),this.r=z,this.s=K,q!=null&&(this.recovery=q),Object.freeze(this)}static fromCompact(z){const K=o.BYTES,q=Uo("compactSignature",z,K*2);return new p(o.fromBytes(q.subarray(0,K)),o.fromBytes(q.subarray(K,K*2)))}static fromDER(z){const{r:K,s:q}=cd.toSig(Uo("DER",z));return new p(K,q)}assertValidity(){}addRecoveryBit(z){return new p(this.r,this.s,z)}recoverPublicKey(z){const K=i.ORDER,{r:q,s:I,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(a*N1e<K&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=P===2||P===3?q+a:q;if(!i.isValid(M))throw new Error("recovery id 2 or 3 invalid");const j=i.toBytes(M),G=t.fromHex(Mp(nK((P&1)===0),j)),F=o.inv(M),H=C(Uo("msgHash",z)),$=o.create(-H*F),Z=o.create(I*F),X=t.BASE.multiplyUnsafe($).add(G.multiplyUnsafe(Z));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,o.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return Mp(o.toBytes(this.r),o.toBytes(this.s));if(z==="der")return b4(cd.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return J1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return J1(this.toBytes("compact"))}}const g=tK(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),b={isValidPrivateKey(k){try{return g(k),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const k=a;return d1e(r(JG(k)),k)},precompute(k=8,z=t.BASE){return z.precompute(k,!1)}};function w(k,z=!0){return t.fromPrivateKey(k).toBytes(z)}function m(k){if(typeof k=="bigint")return!1;if(k instanceof t)return!0;const z=Uo("key",k).length,K=i.BYTES,q=K+1,I=2*K+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===q))return z===q||z===I}function v(k,z,K=!0){if(m(k)===!0)throw new Error("first arg must be private key");if(m(z)===!1)throw new Error("second arg must be public key");return t.fromHex(z).multiply(g(k)).toBytes(K)}const x=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const z=qC(k),K=k.length*8-l;return K>0?z>>BigInt(K):z},C=e.bits2int_modN||function(k){return o.create(x(k))},S=VC(l);function T(k){return GP("num < 2^"+l,k,f1,S),o.toBytes(k)}function R(k,z,K=_){if(["recovered","canonical"].some(X=>X in K))throw new Error("sign() legacy options not supported");const{hash:q}=e;let{lowS:I,prehash:P,extraEntropy:M}=K;I==null&&(I=!0),k=Uo("msgHash",k),vU(K),P&&(k=Uo("prehashed msgHash",q(k)));const j=C(k),G=g(z),F=[T(G),T(j)];if(M!=null&&M!==!1){const X=M===!0?r(i.BYTES):M;F.push(Uo("extraEntropy",X))}const H=Mp(...F),$=j;function Z(X){const le=x(X);if(!o.isValidNot0(le))return;const de=o.inv(le),pe=t.BASE.multiply(le).toAffine(),ae=o.create(pe.x);if(ae===f1)return;const ce=o.create(de*o.create($+ae*G));if(ce===f1)return;let fe=(pe.x===ae?0:2)|Number(pe.y&h1),ve=ce;return I&&c(ce)&&(ve=d(ce),fe^=1),new p(ae,ve,fe)}return{seed:H,k2sig:Z}}const _={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function O(k,z,K=_){const{seed:q,k2sig:I}=R(k,z,K);return n1e(e.hash.outputLen,o.BYTES,s)(q,I)}t.BASE.precompute(8);function D(k,z,K,q=N){const I=k;z=Uo("msgHash",z),K=Uo("publicKey",K),vU(q);const{lowS:P,prehash:M,format:j}=q;if("strict"in q)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const G=typeof I=="string"||g4(I),F=!G&&!j&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!G&&!F)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let H,$;try{if(F)if(j===void 0||j==="js")H=new p(I.r,I.s);else throw new Error("invalid format");if(G){try{j!=="compact"&&(H=p.fromDER(I))}catch(fe){if(!(fe instanceof cd.Err))throw fe}!H&&j!=="der"&&(H=p.fromCompact(I))}$=t.fromHex(K)}catch{return!1}if(!H||P&&H.hasHighS())return!1;M&&(z=e.hash(z));const{r:Z,s:X}=H,le=C(z),de=o.inv(X),pe=o.create(le*de),ae=o.create(Z*de),ce=t.BASE.multiplyUnsafe(pe).add($.multiplyUnsafe(ae));return ce.is0()?!1:o.create(ce.x)===Z}return Object.freeze({getPublicKey:w,getSharedSecret:v,sign:O,verify:D,utils:b,Point:t,Signature:p})}function I1e(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=ty(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function k1e(t){const{CURVE:e,curveOpts:n}=I1e(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function B1e(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function D1e(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=k1e(t),s=P1e(e,n),i=O1e(s,r,n);return B1e(t,i)}function WP(t,e){const n=r=>D1e({...t,hash:r});return{...n(e),create:n}}const rK={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},sK={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},iK={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},M1e=ty(rK.p),U1e=ty(sK.p),L1e=ty(iK.p),j1e=WP({...rK,Fp:M1e,lowS:!1},$C);WP({...sK,Fp:U1e,lowS:!1},Kbe),WP({...iK,Fp:L1e,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Gbe);const F1e=j1e,oK="base10",yo="base16",el="base64pad",Mf="base64url",Wv="utf8",aK=0,bd=1,Qv=2,$1e=0,xU=1,p1=12,C4=32;function H1e(){const t=KP.utils.randomPrivateKey(),e=KP.getPublicKey(t);return{privateKey:Ko(t,yo),publicKey:Ko(e,yo)}}function QP(){const t=ey(C4);return Ko(t,yo)}function z1e(t,e){const n=KP.getSharedSecret(gc(t,yo),gc(e,yo)),r=Xwe(zC,n,void 0,void 0,C4);return Ko(r,yo)}function KA(t){const e=zC(gc(t,yo));return Ko(e,yo)}function ql(t){const e=zC(gc(t,Wv));return Ko(e,yo)}function cK(t){return gc(`${t}`,oK)}function l0(t){return Number(Ko(t,oK))}function lK(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function uK(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function q1e(t){const e=cK(typeof t.type<"u"?t.type:aK);if(l0(e)===bd&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?gc(t.senderPublicKey,yo):void 0,r=typeof t.iv<"u"?gc(t.iv,yo):ey(p1),s=gc(t.symKey,yo),i=HG(s,r).encrypt(gc(t.message,Wv)),o=dK({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Mf?lK(o):o}function V1e(t){const e=gc(t.symKey,yo),{sealed:n,iv:r}=X1({encoded:t.encoded,encoding:t.encoding}),s=HG(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Ko(s,Wv)}function G1e(t,e){const n=cK(Qv),r=ey(p1),s=gc(t,Wv),i=dK({type:n,sealed:s,iv:r});return e===Mf?lK(i):i}function K1e(t,e){const{sealed:n}=X1({encoded:t,encoding:e});return Ko(n,Wv)}function dK(t){if(l0(t.type)===Qv)return Ko(u1([t.type,t.sealed]),el);if(l0(t.type)===bd){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ko(u1([t.type,t.senderPublicKey,t.iv,t.sealed]),el)}return Ko(u1([t.type,t.iv,t.sealed]),el)}function X1(t){const e=(t.encoding||el)===Mf?uK(t.encoded):t.encoded,n=gc(e,el),r=n.slice($1e,xU),s=xU;if(l0(r)===bd){const l=s+C4,c=l+p1,d=n.slice(s,l),f=n.slice(l,c),p=n.slice(c);return{type:r,sealed:p,iv:f,senderPublicKey:d}}if(l0(r)===Qv){const l=n.slice(s),c=ey(p1);return{type:r,sealed:l,iv:c}}const i=s+p1,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function W1e(t,e){const n=X1({encoded:t,encoding:e?.encoding});return fK({type:l0(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ko(n.senderPublicKey,yo):void 0,receiverPublicKey:e?.receiverPublicKey})}function fK(t){const e=t?.type||aK;if(e===bd){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function EU(t){return t.type===bd&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function AU(t){return t.type===Qv}function Q1e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return u1([new Uint8Array([4]),e,n])}function Y1e(t,e){const[n,r,s]=t.split("."),i=Buffer.from(uK(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),l=`${n}.${r}`,c=zC(l),d=Q1e(e);if(!F1e.verify(u1([o,a]),c,d))throw new Error("Invalid signature");return OP(t).payload}const J1e="irn";function O2(t){return t?.relay||{protocol:J1e}}function Xw(t){const e=Bye[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Z1e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function CU(t){if(!t.includes("wc:")){const c=AG(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((c,d)=>{a[d]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:X1e(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Z1e(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function X1e(t){return t.startsWith("//")?t.substring(2):t}function eve(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function SU(t){const e=new URLSearchParams,n=eve(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function rA(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var tve=Object.defineProperty,nve=Object.defineProperties,rve=Object.getOwnPropertyDescriptors,_U=Object.getOwnPropertySymbols,sve=Object.prototype.hasOwnProperty,ive=Object.prototype.propertyIsEnumerable,NU=(t,e,n)=>e in t?tve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ove=(t,e)=>{for(var n in e||(e={}))sve.call(e,n)&&NU(t,n,e[n]);if(_U)for(var n of _U(e))ive.call(e,n)&&NU(t,n,e[n]);return t},ave=(t,e)=>nve(t,rve(e));function ny(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function cve(t){const e=[];return Object.values(t).forEach(n=>{e.push(...ny(n.accounts))}),e}function lve(t,e){const n=[];return Object.values(t).forEach(r=>{ny(r.accounts).includes(e)&&n.push(...r.methods)}),n}function uve(t,e){const n=[];return Object.values(t).forEach(r=>{ny(r.accounts).includes(e)&&n.push(...r.events)}),n}function KC(t){return t.includes(":")}function Yg(t){return KC(t)?t.split(":")[0]:t}function TU(t){var e,n,r;const s={};if(!qf(t))return s;for(const[i,o]of Object.entries(t)){const a=KC(i)?[i]:o.chains,l=o.methods||[],c=o.events||[],d=Yg(i);s[d]=ave(ove({},s[d]),{chains:tu(a,(e=s[d])==null?void 0:e.chains),methods:tu(l,(n=s[d])==null?void 0:n.methods),events:tu(c,(r=s[d])==null?void 0:r.events)})}return s}function dve(t){const e={};return t?.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function RU(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=dve(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=tu(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function fve(t,e){var n,r,s,i,o,a;const l=TU(t),c=TU(e),d={},f=Object.keys(l).concat(Object.keys(c));for(const p of f)d[p]={chains:tu((n=l[p])==null?void 0:n.chains,(r=c[p])==null?void 0:r.chains),methods:tu((s=l[p])==null?void 0:s.methods,(i=c[p])==null?void 0:i.methods),events:tu((o=l[p])==null?void 0:o.events,(a=c[p])==null?void 0:a.events)};return d}const hve={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},pve={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ft(t,e){const{message:n,code:r}=pve[t];return{message:e?`${n} ${e}`:n,code:r}}function cs(t,e){const{message:n,code:r}=hve[t];return{message:e?`${n} ${e}`:n,code:r}}function wd(t,e){return!!Array.isArray(t)}function qf(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Pi(t){return typeof t>"u"}function Ls(t,e){return e&&Pi(t)?!0:typeof t=="string"&&!!t.trim().length}function S4(t,e){return e&&Pi(t)?!0:typeof t=="number"&&!isNaN(t)}function gve(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Dp(s,r)?(r.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],d=ny(a),f=n[o];(!Dp(bG(o,f),d)||!Dp(f.methods,l)||!Dp(f.events,c))&&(i=!1)}),i):!1}function I2(t){return Ls(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function mve(t){if(Ls(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&I2(n)}}return!1}function yve(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Ls(t,!1)){if(e(t))return!0;const n=AG(t);return e(n)}}catch{}return!1}function bve(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function wve(t){return t?.topic}function vve(t,e){let n=null;return Ls(t?.publicKey,!1)||(n=ft("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function PU(t){let e=!0;return wd(t)?t.length&&(e=t.every(n=>Ls(n,!1))):e=!1,e}function xve(t,e,n){let r=null;return wd(e)&&e.length?e.forEach(s=>{r||I2(s)||(r=cs("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):I2(t)||(r=cs("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Eve(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=xve(s,bG(s,i),`${e} ${n}`);o&&(r=o)}),r}function Ave(t,e){let n=null;return wd(t)?t.forEach(r=>{n||mve(r)||(n=cs("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=cs("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Cve(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Ave(r?.accounts,`${e} namespace`);s&&(n=s)}),n}function Sve(t,e){let n=null;return PU(t?.methods)?PU(t?.events)||(n=cs("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=cs("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function hK(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Sve(r,`${e}, namespace`);s&&(n=s)}),n}function _ve(t,e,n){let r=null;if(t&&qf(t)){const s=hK(t,e);s&&(r=s);const i=Eve(t,e,n);i&&(r=i)}else r=ft("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function h3(t,e){let n=null;if(t&&qf(t)){const r=hK(t,e);r&&(n=r);const s=Cve(t,e);s&&(n=s)}else n=ft("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function pK(t){return Ls(t.protocol,!0)}function Nve(t,e){let n=!1;return t?t&&wd(t)&&t.length&&t.forEach(r=>{n=pK(r)}):n=!0,n}function Tve(t){return typeof t=="number"}function Do(t){return typeof t<"u"&&typeof t!==null}function Rve(t){return!(!t||typeof t!="object"||!t.code||!S4(t.code,!1)||!t.message||!Ls(t.message,!1))}function Pve(t){return!(Pi(t)||!Ls(t.method,!1))}function Ove(t){return!(Pi(t)||Pi(t.result)&&Pi(t.error)||!S4(t.id,!1)||!Ls(t.jsonrpc,!1))}function Ive(t){return!(Pi(t)||!Ls(t.name,!1))}function OU(t,e){return!(!I2(e)||!cve(t).includes(e))}function kve(t,e,n){return Ls(n,!1)?lve(t,e).includes(n):!1}function Bve(t,e,n){return Ls(n,!1)?uve(t,e).includes(n):!1}function IU(t,e,n){let r=null;const s=Dve(t),i=Mve(e),o=Object.keys(s),a=Object.keys(i),l=kU(Object.keys(t)),c=kU(Object.keys(e)),d=l.filter(f=>!c.includes(f));return d.length&&(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),Dp(o,a)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const p=ny(e[f].accounts);p.includes(f)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${p.toString()}`))}),o.forEach(f=>{r||(Dp(s[f].methods,i[f].methods)?Dp(s[f].events,i[f].events)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Dve(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function kU(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Mve(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:ny(t[n].accounts)?.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}),e}function Uve(t,e){return S4(t,!1)&&t<=e.max&&t>=e.min}function BU(){const t=Gv();return new Promise(e=>{switch(t){case Oa.browser:e(Lve());break;case Oa.reactNative:e(jve());break;case Oa.node:e(Fve());break;default:e(!0)}})}function Lve(){return Xm()&&navigator?.onLine}async function jve(){return uh()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Fve(){return!0}function $ve(t){switch(Gv()){case Oa.browser:Hve(t);break;case Oa.reactNative:zve(t);break}}function Hve(t){!uh()&&Xm()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function zve(t){uh()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function qve(){var t;return Xm()&&Cd.getDocument()?((t=Cd.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const p3={};class Ab{static get(e){return p3[e]}static set(e,n){p3[e]=n}static delete(e){delete p3[e]}}function Vve(t){const e=Zm.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Gve({publicKey:t,signature:e,payload:n}){var r;const s=YP(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Qve(n.address),a=n.era==="00"?new Uint8Array([0]):YP(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),d=BigInt(`0x${Wve(n.tip)}`),f=Jve(d),p=new Uint8Array([0,...t,o,...e,...a,...c,...f,...s]),g=Yve(p.length+1);return new Uint8Array([...g,i,...p])}function Kve(t){const e=YP(t),n=Lye.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function YP(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Wve(t){return t.startsWith("0x")?t.slice(2):t}function Qve(t){const e=Zm.decode(t)[0];return e===42?0:e===60?2:1}function Yve(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Jve(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Zve(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Vve(t.transaction.address),r=Gve({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Kve(s)}const Xve="PARSE_ERROR",exe="INVALID_REQUEST",txe="METHOD_NOT_FOUND",nxe="INVALID_PARAMS",gK="INTERNAL_ERROR",_4="SERVER_ERROR",rxe=[-32700,-32600,-32601,-32602,-32603],g1={[Xve]:{code:-32700,message:"Parse error"},[exe]:{code:-32600,message:"Invalid Request"},[txe]:{code:-32601,message:"Method not found"},[nxe]:{code:-32602,message:"Invalid params"},[gK]:{code:-32603,message:"Internal error"},[_4]:{code:-32e3,message:"Server error"}},mK=_4;function sxe(t){return rxe.includes(t)}function DU(t){return Object.keys(g1).includes(t)?g1[t]:g1[mK]}function ixe(t){const e=Object.values(g1).find(n=>n.code===t);return e||g1[mK]}function yK(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var g3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JP=function(t,e){return JP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},JP(t,e)};function oxe(t,e){JP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ZP=function(){return ZP=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZP.apply(this,arguments)};function axe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function cxe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function lxe(t,e){return function(n,r){e(n,r,t)}}function uxe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dxe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function fxe(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function hxe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function pxe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function XP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bK(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function gxe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bK(arguments[e]));return t}function mxe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function ev(t){return this instanceof ev?(this.v=t,this):new ev(t)}function yxe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){r[p]&&(s[p]=function(g){return new Promise(function(b,w){i.push([p,g,b,w])>1||a(p,g)})})}function a(p,g){try{l(r[p](g))}catch(b){f(i[0][3],b)}}function l(p){p.value instanceof ev?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){a("next",p)}function d(p){a("throw",p)}function f(p,g){p(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}function bxe(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:ev(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function wxe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XP=="function"?XP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function vxe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function xxe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Exe(t){return t&&t.__esModule?t:{default:t}}function Axe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Cxe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Sxe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ZP},__asyncDelegator:bxe,__asyncGenerator:yxe,__asyncValues:wxe,__await:ev,__awaiter:dxe,__classPrivateFieldGet:Axe,__classPrivateFieldSet:Cxe,__createBinding:hxe,__decorate:cxe,__exportStar:pxe,__extends:oxe,__generator:fxe,__importDefault:Exe,__importStar:xxe,__makeTemplateObject:vxe,__metadata:uxe,__param:lxe,__read:bK,__rest:axe,__spread:gxe,__spreadArrays:mxe,__values:XP},Symbol.toStringTag,{value:"Module"})),_xe=mC(Sxe);var Hu={},MU;function Nxe(){if(MU)return Hu;MU=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.isBrowserCryptoAvailable=Hu.getSubtleCrypto=Hu.getBrowerCrypto=void 0;function t(){return $o?.crypto||$o?.msCrypto||{}}Hu.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Hu.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Hu.isBrowserCryptoAvailable=n,Hu}var zu={},UU;function Txe(){if(UU)return zu;UU=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.isBrowser=zu.isNode=zu.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}zu.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}zu.isNode=e;function n(){return!t()&&!e()}return zu.isBrowser=n,zu}var LU;function Rxe(){return LU||(LU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_xe;e.__exportStar(Nxe(),t),e.__exportStar(Txe(),t)}(g3)),g3}var Pxe=Rxe();function $l(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function jp(t=6){return BigInt($l(t))}function Ff(t,e,n){return{id:n||$l(),jsonrpc:"2.0",method:t,params:e}}function WC(t,e){return{id:t,jsonrpc:"2.0",result:e}}function QC(t,e,n){return{id:t,jsonrpc:"2.0",error:Oxe(e)}}function Oxe(t,e){return typeof t>"u"?DU(gK):(typeof t=="string"&&(t=Object.assign(Object.assign({},DU(_4)),{message:t})),sxe(t.code)&&(t=ixe(t.code)),t)}let Ixe=class{},kxe=class extends Ixe{constructor(){super()}},Bxe=class extends kxe{constructor(e){super()}};const Dxe="^https?:",Mxe="^wss?:";function Uxe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function wK(t,e){const n=Uxe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function jU(t){return wK(t,Dxe)}function FU(t){return wK(t,Mxe)}function Lxe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function vK(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function N4(t){return vK(t)&&"method"in t}function YC(t){return vK(t)&&(Hl(t)||fc(t))}function Hl(t){return"result"in t}function fc(t){return"error"in t}let Cc=class extends Bxe{constructor(e){super(e),this.events=new Ac.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ff(e.method,e.params||[],e.id||jp().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{fc(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),YC(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const jxe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Fxe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",$U=t=>t.split("?")[0],HU=10,$xe=jxe();let Hxe=class{constructor(e){if(this.url=e,this.events=new Ac.EventEmitter,this.registering=!1,!FU(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ad(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!FU(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=Pxe.isReactNative()?void 0:{rejectUnauthorized:!Lxe(e)},i=new $xe(e,[],s);Fxe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?o0(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=QC(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return yK(e,$U(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>HU&&this.events.setMaxListeners(HU)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${$U(this.url)}`));return this.events.emit("register_error",n),n}};var zxe={};const xK="wc",EK=2,eO="core",iu=`${xK}@2:${eO}:`,qxe={logger:"error"},Vxe={database:":memory:"},Gxe="crypto",zU="client_ed25519_seed",Kxe=dt.ONE_DAY,Wxe="keychain",Qxe="0.3",Yxe="messages",Jxe="0.3",qU=dt.SIX_HOURS,Zxe="publisher",AK="irn",Xxe="error",CK="wss://relay.walletconnect.org",eEe="relayer",hi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},tEe="_subscription",ac={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nEe=.1,tO="2.21.3",ts={link_mode:"link_mode",relay:"relay"},WA={inbound:"inbound",outbound:"outbound"},rEe="0.3",sEe="WALLETCONNECT_CLIENT_ID",VU="WALLETCONNECT_LINK_MODE_APPS",Aa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},iEe="subscription",oEe="0.3",aEe="pairing",cEe="0.3",Cb={wc_pairingDelete:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:0},res:{ttl:dt.ONE_DAY,prompt:!1,tag:0}}},Tp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Bc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},lEe="history",uEe="0.3",dEe="expirer",dc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},fEe="0.3",hEe="verify-api",pEe="https://verify.walletconnect.com",SK="https://verify.walletconnect.org",m1=SK,gEe=`${m1}/v3`,mEe=[pEe,SK],yEe="echo",bEe="https://echo.walletconnect.com",Fl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},sd={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Dc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},jh={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Fh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Sb={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},wEe=.1,vEe="event-client",xEe=86400,EEe="https://pulse.walletconnect.org/batch";function AEe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,m=0,v=0,x=b.length;v!==x&&b[v]===0;)v++,w++;for(var C=(x-v)*d+1>>>0,S=new Uint8Array(C);v!==x;){for(var T=b[v],R=0,_=C-1;(T!==0||R<m)&&_!==-1;_--,R++)T+=256*S[_]>>>0,S[_]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");m=R,v++}for(var N=C-m;N!==C&&S[N]===0;)N++;for(var O=l.repeat(w);N<C;++N)O+=t.charAt(S[N]);return O}function p(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var m=0,v=0;b[w]===l;)m++,w++;for(var x=(b.length-w)*c+1>>>0,C=new Uint8Array(x);b[w];){var S=n[b.charCodeAt(w)];if(S===255)return;for(var T=0,R=x-1;(S!==0||T<v)&&R!==-1;R--,T++)S+=a*C[R]>>>0,C[R]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=T,w++}if(b[w]!==" "){for(var _=x-v;_!==x&&C[_]===0;)_++;for(var N=new Uint8Array(m+(x-_)),O=m;_!==x;)N[O++]=C[_++];return N}}}function g(b){var w=p(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:g}}var CEe=AEe,SEe=CEe;const _K=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},_Ee=t=>new TextEncoder().encode(t),NEe=t=>new TextDecoder().decode(t);class TEe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class REe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return NK(this,e)}}class PEe{constructor(e){this.decoders=e}or(e){return NK(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const NK=(t,e)=>new PEe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class OEe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new TEe(e,n,r),this.decoder=new REe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const JC=({name:t,prefix:e,encode:n,decode:r})=>new OEe(t,e,n,r),Yv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=SEe(n,e);return JC({prefix:t,name:e,encode:r,decode:i=>_K(s(i))})},IEe=(t,e,n,r)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let d=0;d<i;++d){const f=s[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|f,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},kEe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Di=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>JC({prefix:e,name:t,encode(s){return kEe(s,r,n)},decode(s){return IEe(s,r,n,t)}}),BEe=JC({prefix:"\0",name:"identity",encode:t=>NEe(t),decode:t=>_Ee(t)});var DEe=Object.freeze({__proto__:null,identity:BEe});const MEe=Di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var UEe=Object.freeze({__proto__:null,base2:MEe});const LEe=Di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jEe=Object.freeze({__proto__:null,base8:LEe});const FEe=Yv({prefix:"9",name:"base10",alphabet:"0123456789"});var $Ee=Object.freeze({__proto__:null,base10:FEe});const HEe=Di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zEe=Di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var qEe=Object.freeze({__proto__:null,base16:HEe,base16upper:zEe});const VEe=Di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),GEe=Di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),KEe=Di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WEe=Di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),QEe=Di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),YEe=Di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),JEe=Di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ZEe=Di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XEe=Di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eAe=Object.freeze({__proto__:null,base32:VEe,base32upper:GEe,base32pad:KEe,base32padupper:WEe,base32hex:QEe,base32hexupper:YEe,base32hexpad:JEe,base32hexpadupper:ZEe,base32z:XEe});const tAe=Yv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nAe=Yv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rAe=Object.freeze({__proto__:null,base36:tAe,base36upper:nAe});const sAe=Yv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),iAe=Yv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oAe=Object.freeze({__proto__:null,base58btc:sAe,base58flickr:iAe});const aAe=Di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cAe=Di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lAe=Di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uAe=Di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var dAe=Object.freeze({__proto__:null,base64:aAe,base64pad:cAe,base64url:lAe,base64urlpad:uAe});const TK=Array.from(""),fAe=TK.reduce((t,e,n)=>(t[n]=e,t),[]),hAe=TK.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function pAe(t){return t.reduce((e,n)=>(e+=fAe[n],e),"")}function gAe(t){const e=[];for(const n of t){const r=hAe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const mAe=JC({prefix:"",name:"base256emoji",encode:pAe,decode:gAe});var yAe=Object.freeze({__proto__:null,base256emoji:mAe}),bAe=RK,GU=128,wAe=-128,vAe=Math.pow(2,31);function RK(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vAe;)e[n++]=t&255|GU,t/=128;for(;t&wAe;)e[n++]=t&255|GU,t>>>=7;return e[n]=t|0,RK.bytes=n-r+1,e}var xAe=nO,EAe=128,KU=127;function nO(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw nO.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&KU)<<s:(o&KU)*Math.pow(2,s),s+=7}while(o>=EAe);return nO.bytes=i-r,n}var AAe=Math.pow(2,7),CAe=Math.pow(2,14),SAe=Math.pow(2,21),_Ae=Math.pow(2,28),NAe=Math.pow(2,35),TAe=Math.pow(2,42),RAe=Math.pow(2,49),PAe=Math.pow(2,56),OAe=Math.pow(2,63),IAe=function(t){return t<AAe?1:t<CAe?2:t<SAe?3:t<_Ae?4:t<NAe?5:t<TAe?6:t<RAe?7:t<PAe?8:t<OAe?9:10},kAe={encode:bAe,decode:xAe,encodingLength:IAe},PK=kAe;const WU=(t,e,n=0)=>(PK.encode(t,e,n),e),QU=t=>PK.encodingLength(t),rO=(t,e)=>{const n=e.byteLength,r=QU(t),s=r+QU(n),i=new Uint8Array(s+n);return WU(t,i,0),WU(n,i,r),i.set(e,s),new BAe(t,n,e,i)};class BAe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const OK=({name:t,code:e,encode:n})=>new DAe(t,e,n);class DAe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?rO(this.code,n):n.then(r=>rO(this.code,r))}else throw Error("Unknown type, must be binary type")}}const IK=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),MAe=OK({name:"sha2-256",code:18,encode:IK("SHA-256")}),UAe=OK({name:"sha2-512",code:19,encode:IK("SHA-512")});var LAe=Object.freeze({__proto__:null,sha256:MAe,sha512:UAe});const kK=0,jAe="identity",BK=_K,FAe=t=>rO(kK,BK(t)),$Ae={code:kK,name:jAe,encode:BK,digest:FAe};var HAe=Object.freeze({__proto__:null,identity:$Ae});new TextEncoder,new TextDecoder;const YU={...DEe,...UEe,...jEe,...$Ee,...qEe,...eAe,...rAe,...oAe,...dAe,...yAe};({...LAe,...HAe});function DK(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function zAe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?DK(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function MK(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const JU=MK("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),m3=MK("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=zAe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),qAe={utf8:JU,"utf-8":JU,hex:YU.base16,latin1:m3,ascii:m3,binary:m3,...YU};function VAe(t,e="utf8"){const n=qAe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?DK(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var GAe=Object.defineProperty,KAe=(t,e,n)=>e in t?GAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ml=(t,e,n)=>KAe(t,typeof e!="symbol"?e+"":e,n);class WAe{constructor(e,n){this.core=e,this.logger=n,Ml(this,"keychain",new Map),Ml(this,"name",Wxe),Ml(this,"version",Qxe),Ml(this,"initialized",!1),Ml(this,"storagePrefix",iu),Ml(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ml(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ml(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ml(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ft("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Ml(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=eo(n,this.name)}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,LP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?jP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var QAe=Object.defineProperty,YAe=(t,e,n)=>e in t?QAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Si=(t,e,n)=>YAe(t,typeof e!="symbol"?e+"":e,n);class JAe{constructor(e,n,r){this.core=e,this.logger=n,Si(this,"name",Gxe),Si(this,"keychain"),Si(this,"randomSessionIdentifier",QP()),Si(this,"initialized",!1),Si(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Si(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Si(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=vM(s);return $V(i.publicKey)}),Si(this,"generateKeyPair",()=>{this.isInitialized();const s=H1e();return this.setPrivateKey(s.publicKey,s.privateKey)}),Si(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=vM(i),a=this.randomSessionIdentifier;return await j0e(a,s,Kxe,o)}),Si(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),l=z1e(a,i);return this.setSymKey(l,o)}),Si(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||KA(s);return await this.keychain.set(o,s),o}),Si(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Si(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Si(this,"encode",async(s,i,o)=>{this.isInitialized();const a=fK(o),l=Ad(i);if(AU(a))return G1e(l,o?.encoding);if(EU(a)){const p=a.senderPublicKey,g=a.receiverPublicKey;s=await this.generateSharedKey(p,g)}const c=this.getSymKey(s),{type:d,senderPublicKey:f}=a;return q1e({type:d,symKey:c,message:l,senderPublicKey:f,encoding:o?.encoding})}),Si(this,"decode",async(s,i,o)=>{this.isInitialized();const a=W1e(i,o);if(AU(a)){const l=K1e(i,o?.encoding);return o0(l)}if(EU(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;s=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(s),c=V1e({symKey:l,encoded:i,encoding:o?.encoding});return o0(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Si(this,"getPayloadType",(s,i=el)=>{const o=X1({encoded:s,encoding:i});return l0(o.type)}),Si(this,"getPayloadSenderPublicKey",(s,i=el)=>{const o=X1({encoded:s,encoding:i});return o.senderPublicKey?Ko(o.senderPublicKey,yo):void 0}),this.core=e,this.logger=eo(n,this.name),this.keychain=r||new WAe(this.core,this.logger)}get context(){return Xo(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(zU)}catch{e=QP(),await this.keychain.set(zU,e)}return VAe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ZAe=Object.defineProperty,XAe=Object.defineProperties,e2e=Object.getOwnPropertyDescriptors,ZU=Object.getOwnPropertySymbols,t2e=Object.prototype.hasOwnProperty,n2e=Object.prototype.propertyIsEnumerable,sO=(t,e,n)=>e in t?ZAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r2e=(t,e)=>{for(var n in e||(e={}))t2e.call(e,n)&&sO(t,n,e[n]);if(ZU)for(var n of ZU(e))n2e.call(e,n)&&sO(t,n,e[n]);return t},s2e=(t,e)=>XAe(t,e2e(e)),ga=(t,e,n)=>sO(t,typeof e!="symbol"?e+"":e,n);class i2e extends Ufe{constructor(e,n){super(e,n),this.logger=e,this.core=n,ga(this,"messages",new Map),ga(this,"messagesWithoutClientAck",new Map),ga(this,"name",Yxe),ga(this,"version",Jxe),ga(this,"initialized",!1),ga(this,"storagePrefix",iu),ga(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ga(this,"set",async(r,s,i)=>{this.isInitialized();const o=ql(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===WA.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,s2e(r2e({},l),{[o]:s}))}return await this.persist(),o}),ga(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ga(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),ga(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=ql(s);return typeof i[o]<"u"}),ga(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=ql(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),ga(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=eo(e,this.name),this.core=n}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,LP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,LP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?jP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?jP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var o2e=Object.defineProperty,a2e=Object.defineProperties,c2e=Object.getOwnPropertyDescriptors,XU=Object.getOwnPropertySymbols,l2e=Object.prototype.hasOwnProperty,u2e=Object.prototype.propertyIsEnumerable,iO=(t,e,n)=>e in t?o2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sA=(t,e)=>{for(var n in e||(e={}))l2e.call(e,n)&&iO(t,n,e[n]);if(XU)for(var n of XU(e))u2e.call(e,n)&&iO(t,n,e[n]);return t},y3=(t,e)=>a2e(t,c2e(e)),Mc=(t,e,n)=>iO(t,typeof e!="symbol"?e+"":e,n);class d2e extends Lfe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Mc(this,"events",new Ac.EventEmitter),Mc(this,"name",Zxe),Mc(this,"queue",new Map),Mc(this,"publishTimeout",dt.toMiliseconds(dt.ONE_MINUTE)),Mc(this,"initialPublishTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),Mc(this,"needsTransportRestart",!1),Mc(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=i?.ttl||qU,l=O2(i),c=i?.prompt||!1,d=i?.tag||0,f=i?.id||jp().toString(),p={topic:r,message:s,opts:{ttl:a,relay:l,prompt:c,tag:d,id:f,attestation:i?.attestation,tvf:i?.tvf}},g=`Failed to publish payload, please try again. id:${f} tag:${d}`;try{const b=new Promise(async w=>{const m=({id:x})=>{p.opts.id===x&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(hi.publish,m),w(p))};this.relayer.events.on(hi.publish,m);const v=jf(new Promise((x,C)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:c,tag:d,id:f,attestation:i?.attestation,tvf:i?.tvf}).then(x).catch(S=>{this.logger.warn(S,S?.message),C(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${d}`);try{await v,this.events.removeListener(hi.publish,m)}catch(x){this.queue.set(f,y3(sA({},p),{attempt:1})),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:r,message:s,opts:i}}),await jf(b,this.publishTimeout,g)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(o=i?.internal)!=null&&o.throwOnFailedPublish)throw b}finally{this.queue.delete(f)}}),Mc(this,"on",(r,s)=>{this.events.on(r,s)}),Mc(this,"once",(r,s)=>{this.events.once(r,s)}),Mc(this,"off",(r,s)=>{this.events.off(r,s)}),Mc(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=eo(n,this.name),this.registerEventListeners()}get context(){return Xo(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:l=qU,prompt:c,tag:d,id:f,attestation:p,tvf:g}=e,b={method:Xw(O2().protocol).publish,params:sA({topic:o,message:a,ttl:l,prompt:c,tag:d,attestation:p},g),id:f};Pi((n=b.params)==null?void 0:n.prompt)&&((r=b.params)==null||delete r.prompt),Pi((s=b.params)==null?void 0:s.tag)&&((i=b.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b});const w=await this.relayer.request(b);return this.relayer.events.emit(hi.publish,e),this.logger.debug("Successfully Published Payload"),w}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,y3(sA({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(y3(sA({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(R0.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hi.connection_stalled);return}this.checkQueue()}),this.relayer.on(hi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var f2e=Object.defineProperty,h2e=(t,e,n)=>e in t?f2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_g=(t,e,n)=>h2e(t,typeof e!="symbol"?e+"":e,n);class p2e{constructor(){_g(this,"map",new Map),_g(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),_g(this,"get",e=>this.map.get(e)||[]),_g(this,"exists",(e,n)=>this.get(e).includes(n)),_g(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),_g(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var g2e=Object.defineProperty,m2e=Object.defineProperties,y2e=Object.getOwnPropertyDescriptors,eL=Object.getOwnPropertySymbols,b2e=Object.prototype.hasOwnProperty,w2e=Object.prototype.propertyIsEnumerable,oO=(t,e,n)=>e in t?g2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_b=(t,e)=>{for(var n in e||(e={}))b2e.call(e,n)&&oO(t,n,e[n]);if(eL)for(var n of eL(e))w2e.call(e,n)&&oO(t,n,e[n]);return t},b3=(t,e)=>m2e(t,y2e(e)),Ur=(t,e,n)=>oO(t,typeof e!="symbol"?e+"":e,n);class v2e extends $fe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ur(this,"subscriptions",new Map),Ur(this,"topicMap",new p2e),Ur(this,"events",new Ac.EventEmitter),Ur(this,"name",iEe),Ur(this,"version",oEe),Ur(this,"pending",new Map),Ur(this,"cached",[]),Ur(this,"initialized",!1),Ur(this,"storagePrefix",iu),Ur(this,"subscribeTimeout",dt.toMiliseconds(dt.ONE_MINUTE)),Ur(this,"initialSubscribeTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),Ur(this,"clientId"),Ur(this,"batchSubscribeTopicsLimit",500),Ur(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ur(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=O2(s),o={topic:r,relay:i,transportType:s?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Ur(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Ur(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Ur(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Ur(this,"on",(r,s)=>{this.events.on(r,s)}),Ur(this,"once",(r,s)=>{this.events.once(r,s)}),Ur(this,"off",(r,s)=>{this.events.off(r,s)}),Ur(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Ur(this,"start",async()=>{await this.onConnect()}),Ur(this,"stop",async()=>{await this.onDisconnect()}),Ur(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ur(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Ur(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(R0.pulse,async()=>{await this.checkPending()}),this.events.on(Aa.created,async r=>{const s=Aa.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Aa.deleted,async r=>{const s=Aa.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=eo(n,this.name),this.clientId=""}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=O2(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=cs("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||r?.transportType===ts.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Xw(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===ts.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(d=>this.logger.warn(d))},dt.toMiliseconds(dt.ONE_SECOND)),a;const l=new Promise(async d=>{const f=p=>{p.topic===e&&(this.events.removeListener(Aa.created,f),d(p.id))};this.events.on(Aa.created,f);try{const p=await jf(new Promise((g,b)=>{this.relayer.request(i).catch(w=>{this.logger.warn(w,w?.message),b(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Aa.created,f),d(p)}catch{}}),c=await jf(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return c?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hi.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Xw(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await jf(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(hi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Xw(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await jf(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(hi.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Xw(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,b3(_b({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,_b({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,_b({},n)),this.topicMap.set(n.topic,e),this.events.emit(Aa.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Aa.deleted,b3(_b({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Aa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Aa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>b3(_b({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await dbe(dt.toMiliseconds(dt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ql(e+await this.getClientId())}}var x2e=Object.defineProperty,tL=Object.getOwnPropertySymbols,E2e=Object.prototype.hasOwnProperty,A2e=Object.prototype.propertyIsEnumerable,aO=(t,e,n)=>e in t?x2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nL=(t,e)=>{for(var n in e||(e={}))E2e.call(e,n)&&aO(t,n,e[n]);if(tL)for(var n of tL(e))A2e.call(e,n)&&aO(t,n,e[n]);return t},lr=(t,e,n)=>aO(t,typeof e!="symbol"?e+"":e,n);class C2e extends jfe{constructor(e){super(e),lr(this,"protocol","wc"),lr(this,"version",2),lr(this,"core"),lr(this,"logger"),lr(this,"events",new Ac.EventEmitter),lr(this,"provider"),lr(this,"messages"),lr(this,"subscriber"),lr(this,"publisher"),lr(this,"name",eEe),lr(this,"transportExplicitlyClosed",!1),lr(this,"initialized",!1),lr(this,"connectionAttemptInProgress",!1),lr(this,"relayUrl"),lr(this,"projectId"),lr(this,"packageName"),lr(this,"bundleId"),lr(this,"hasExperiencedNetworkDisruption",!1),lr(this,"pingTimeout"),lr(this,"heartBeatTimeout",dt.toMiliseconds(dt.THIRTY_SECONDS+dt.FIVE_SECONDS)),lr(this,"reconnectTimeout"),lr(this,"connectPromise"),lr(this,"reconnectInProgress",!1),lr(this,"requestsInFlight",[]),lr(this,"connectTimeout",dt.toMiliseconds(dt.ONE_SECOND*15)),lr(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||jp().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),lr(this,"resetPingTimeout",()=>{N2()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),lr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),lr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(hi.connect)}),lr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),lr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(hi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),lr(this,"registerProviderListeners",()=>{this.provider.on(ac.payload,this.onPayloadHandler),this.provider.on(ac.connect,this.onConnectHandler),this.provider.on(ac.disconnect,this.onDisconnectHandler),this.provider.on(ac.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?eo(e.logger,this.name):Hv(Wm({level:e.logger||Xxe})),this.messages=new i2e(this.logger,e.core),this.subscriber=new v2e(this,this.logger),this.publisher=new d2e(this,this.logger),this.relayUrl=e?.relayUrl||CK,this.projectId=e.projectId,Qye()?this.packageName=qM():Yye()&&(this.bundleId=qM()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Xo(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:ts.relay},WA.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",l;const c=d=>{d.topic===e&&(this.subscriber.off(Aa.created,c),l())};return await Promise.all([new Promise(d=>{l=d,this.subscriber.on(Aa.created,c)}),new Promise(async(d,f)=>{a=await this.subscriber.subscribe(e,nL({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&f(p)})||a,d()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await jf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await BU())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=Qs(dt.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(hi.message,e),await this.recordMessageEvent(e,WA.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ac.disconnect,i),await jf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ac.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ac.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ac.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,dt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(N2())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Cc(new Hxe(tbe({sdkVersion:tO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),N4(e)){if(!e.method.endsWith(tEe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:ts.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(nL({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else YC(e)&&this.events.emit(hi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,WA.inbound),this.events.emit(hi.message,e))}async acknowledgePayload(e){const n=WC(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ac.payload,this.onPayloadHandler),this.provider.off(ac.connect,this.onConnectHandler),this.provider.off(ac.disconnect,this.onDisconnectHandler),this.provider.off(ac.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await BU();$ve(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(R0.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&qve())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},dt.toMiliseconds(nEe)))))}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function S2e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function rL(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function sL(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _2e="[object RegExp]",N2e="[object String]",T2e="[object Number]",R2e="[object Boolean]",iL="[object Arguments]",P2e="[object Symbol]",O2e="[object Date]",I2e="[object Map]",k2e="[object Set]",B2e="[object Array]",D2e="[object Function]",M2e="[object ArrayBuffer]",w3="[object Object]",U2e="[object Error]",L2e="[object DataView]",j2e="[object Uint8Array]",F2e="[object Uint8ClampedArray]",$2e="[object Uint16Array]",H2e="[object Uint32Array]",z2e="[object BigUint64Array]",q2e="[object Int8Array]",V2e="[object Int16Array]",G2e="[object Int32Array]",K2e="[object BigInt64Array]",W2e="[object Float32Array]",Q2e="[object Float64Array]";function Y2e(){}function oL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function J2e(t,e,n){return e1(t,e,void 0,void 0,void 0,void 0,n)}function e1(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return y1(t,e,i,o)}return y1(t,e,i,o)}function y1(t,e,n,r){if(Object.is(t,e))return!0;let s=sL(t),i=sL(e);if(s===iL&&(s=w3),i===iL&&(i=w3),s!==i)return!1;switch(s){case N2e:return t.toString()===e.toString();case T2e:{const l=t.valueOf(),c=e.valueOf();return S2e(l,c)}case R2e:case O2e:case P2e:return Object.is(t.valueOf(),e.valueOf());case _2e:return t.source===e.source&&t.flags===e.flags;case D2e:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case I2e:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!e1(c,e.get(l),l,t,e,n,r))return!1;return!0}case k2e:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let d=0;d<l.length;d++){const f=l[d],p=c.findIndex(g=>e1(f,g,void 0,t,e,n,r));if(p===-1)return!1;c.splice(p,1)}return!0}case B2e:case j2e:case F2e:case $2e:case H2e:case z2e:case q2e:case V2e:case G2e:case K2e:case W2e:case Q2e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!e1(t[l],e[l],l,t,e,n,r))return!1;return!0}case M2e:return t.byteLength!==e.byteLength?!1:y1(new Uint8Array(t),new Uint8Array(e),n,r);case L2e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:y1(new Uint8Array(t),new Uint8Array(e),n,r);case U2e:return t.name===e.name&&t.message===e.message;case w3:{if(!(y1(t.constructor,e.constructor,n,r)||oL(t)&&oL(e)))return!1;const l=[...Object.keys(t),...rL(t)],c=[...Object.keys(e),...rL(e)];if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++){const f=l[d],p=t[f];if(!Object.hasOwn(e,f))return!1;const g=e[f];if(!e1(p,g,f,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Z2e(t,e){return J2e(t,e,Y2e)}var X2e=Object.defineProperty,aL=Object.getOwnPropertySymbols,eCe=Object.prototype.hasOwnProperty,tCe=Object.prototype.propertyIsEnumerable,cO=(t,e,n)=>e in t?X2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cL=(t,e)=>{for(var n in e||(e={}))eCe.call(e,n)&&cO(t,n,e[n]);if(aL)for(var n of aL(e))tCe.call(e,n)&&cO(t,n,e[n]);return t},Oo=(t,e,n)=>cO(t,typeof e!="symbol"?e+"":e,n);class O0 extends Ffe{constructor(e,n,r,s=iu,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Oo(this,"map",new Map),Oo(this,"version",rEe),Oo(this,"cached",[]),Oo(this,"initialized",!1),Oo(this,"getKey"),Oo(this,"storagePrefix",iu),Oo(this,"recentlyDeleted",[]),Oo(this,"recentlyDeletedLimit",200),Oo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Pi(o)?this.map.set(this.getKey(o),o):bve(o)?this.map.set(o.id,o):wve(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Oo(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Oo(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Oo(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>Z2e(a[l],o[l]))):this.values)),Oo(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=cL(cL({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),Oo(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=eo(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ft("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nCe=Object.defineProperty,rCe=(t,e,n)=>e in t?nCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vn=(t,e,n)=>rCe(t,typeof e!="symbol"?e+"":e,n);class sCe{constructor(e,n){this.core=e,this.logger=n,Vn(this,"name",aEe),Vn(this,"version",cEe),Vn(this,"events",new XI),Vn(this,"pairings"),Vn(this,"initialized",!1),Vn(this,"storagePrefix",iu),Vn(this,"ignoredPayloadTypes",[bd]),Vn(this,"registeredMethods",[]),Vn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Vn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Vn(this,"create",async r=>{this.isInitialized();const s=QP(),i=await this.core.crypto.setSymKey(s),o=Qs(dt.FIVE_MINUTES),a={protocol:AK},l={topic:i,expiry:o,relay:a,active:!1,methods:r?.methods},c=SU({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(Tp.create,l),this.core.expirer.set(i,o),await this.pairings.set(i,l),await this.core.relayer.subscribe(i,{transportType:r?.transportType}),{topic:i,uri:c}}),Vn(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Fl.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:l,methods:c}=CU(r.uri);s.props.properties.topic=i,s.addTrace(Fl.pairing_uri_validation_success),s.addTrace(Fl.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(i)){if(d=this.pairings.get(i),s.addTrace(Fl.existing_pairing),d.active)throw s.setError(sd.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Fl.pairing_not_expired)}const f=l||Qs(dt.FIVE_MINUTES),p={topic:i,relay:a,expiry:f,active:!1,methods:c};this.core.expirer.set(i,f),await this.pairings.set(i,p),s.addTrace(Fl.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Tp.create,p),s.addTrace(Fl.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Fl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(sd.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(g){throw s.setError(sd.subscribe_pairing_topic_failure),g}return s.addTrace(Fl.subscribe_pairing_topic_success),p}),Vn(this,"activate",async({topic:r})=>{this.isInitialized();const s=Qs(dt.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Vn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=Sp();this.events.once(xr("pairing_ping",i),({error:c})=>{c?l(c):a()}),await o()}}),Vn(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Vn(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Vn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Vn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",cs("USER_DISCONNECTED")),await this.deletePairing(s))}),Vn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,l=this.core.crypto.keychain.get(s);return SU({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:l,relay:i,expiryTimestamp:o,methods:a})}),Vn(this,"sendRequest",async(r,s,i)=>{const o=Ff(s,i),a=await this.core.crypto.encode(r,o),l=Cb[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,l),o.id}),Vn(this,"sendResult",async(r,s,i)=>{const o=WC(r,i),a=await this.core.crypto.encode(s,o),l=(await this.core.history.get(s,r)).request.method,c=Cb[l].res;await this.core.relayer.publish(s,a,c),await this.core.history.resolve(o)}),Vn(this,"sendError",async(r,s,i)=>{const o=QC(r,i),a=await this.core.crypto.encode(s,o),l=(await this.core.history.get(s,r)).request.method,c=Cb[l]?Cb[l].res:Cb.unregistered_method.res;await this.core.relayer.publish(s,a,c),await this.core.history.resolve(o)}),Vn(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,cs("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Vn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Of(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Vn(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Vn(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Vn(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Tp.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Vn(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Hl(s)?this.events.emit(xr("pairing_ping",i),{}):fc(s)&&this.events.emit(xr("pairing_ping",i),{error:s.error})},500)}),Vn(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Tp.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Vn(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=cs("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Vn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(cs("WC_METHOD_UNSUPPORTED",r))}),Vn(this,"isValidPair",(r,s)=>{var i;if(!Do(r)){const{message:a}=ft("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(sd.malformed_pairing_uri),new Error(a)}if(!yve(r.uri)){const{message:a}=ft("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(sd.malformed_pairing_uri),new Error(a)}const o=CU(r?.uri);if(!((i=o?.relay)!=null&&i.protocol)){const{message:a}=ft("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(sd.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ft("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(sd.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&dt.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(sd.pairing_expired);const{message:a}=ft("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Vn(this,"isValidPing",async r=>{if(!Do(r)){const{message:i}=ft("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Vn(this,"isValidDisconnect",async r=>{if(!Do(r)){const{message:i}=ft("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Vn(this,"isValidPairingTopic",async r=>{if(!Ls(r,!1)){const{message:s}=ft("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ft("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Of(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ft("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=eo(n,this.name),this.pairings=new O0(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Xo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hi.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==ts.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);N4(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):YC(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(dc.expired,async e=>{const{topic:n}=EG(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Tp.expire,{topic:n}))})}}var iCe=Object.defineProperty,oCe=(t,e,n)=>e in t?iCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_i=(t,e,n)=>oCe(t,typeof e!="symbol"?e+"":e,n);class aCe extends Mfe{constructor(e,n){super(e,n),this.core=e,this.logger=n,_i(this,"records",new Map),_i(this,"events",new Ac.EventEmitter),_i(this,"name",lEe),_i(this,"version",uEe),_i(this,"cached",[]),_i(this,"initialized",!1),_i(this,"storagePrefix",iu),_i(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),_i(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Qs(dt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Bc.created,o)}),_i(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=fc(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Bc.updated,s))}),_i(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),_i(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Bc.deleted,i)}}),this.persist()}),_i(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),_i(this,"on",(r,s)=>{this.events.on(r,s)}),_i(this,"once",(r,s)=>{this.events.once(r,s)}),_i(this,"off",(r,s)=>{this.events.off(r,s)}),_i(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=eo(n,this.name)}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ff(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Bc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Bc.created,e=>{const n=Bc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bc.updated,e=>{const n=Bc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bc.deleted,e=>{const n=Bc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(R0.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{dt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Bc.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cCe=Object.defineProperty,lCe=(t,e,n)=>e in t?cCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gi=(t,e,n)=>lCe(t,typeof e!="symbol"?e+"":e,n);class uCe extends Hfe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Gi(this,"expirations",new Map),Gi(this,"events",new Ac.EventEmitter),Gi(this,"name",dEe),Gi(this,"version",fEe),Gi(this,"cached",[]),Gi(this,"initialized",!1),Gi(this,"storagePrefix",iu),Gi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gi(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Gi(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(dc.created,{target:i,expiration:o})}),Gi(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Gi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(dc.deleted,{target:s,expiration:i})}}),Gi(this,"on",(r,s)=>{this.events.on(r,s)}),Gi(this,"once",(r,s)=>{this.events.once(r,s)}),Gi(this,"off",(r,s)=>{this.events.off(r,s)}),Gi(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=eo(n,this.name)}get context(){return Xo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return nbe(e);if(typeof e=="number")return rbe(e);const{message:n}=ft("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;dt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(dc.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(R0.pulse,()=>this.checkExpirations()),this.events.on(dc.created,e=>{const n=dc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(dc.expired,e=>{const n=dc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(dc.deleted,e=>{const n=dc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dCe=Object.defineProperty,fCe=(t,e,n)=>e in t?dCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Us=(t,e,n)=>fCe(t,typeof e!="symbol"?e+"":e,n);class hCe extends zfe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Us(this,"name",hEe),Us(this,"abortController"),Us(this,"isDevEnv"),Us(this,"verifyUrlV3",gEe),Us(this,"storagePrefix",iu),Us(this,"version",EK),Us(this,"publicKey"),Us(this,"fetchPromise"),Us(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&dt.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Us(this,"register",async s=>{if(!Xm()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const c=Cd.getDocument(),d=this.startAbortTimer(dt.ONE_SECOND*5),f=await new Promise((p,g)=>{const b=()=>{window.removeEventListener("message",m),c.body.removeChild(w),g("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const w=c.createElement("iframe");w.src=l,w.style.display="none",w.addEventListener("error",b,{signal:this.abortController.signal});const m=v=>{if(v.data&&typeof v.data=="string")try{const x=JSON.parse(v.data);if(x.type==="verify_attestation"){if(OP(x.attestation).payload.id!==o)return;clearInterval(d),c.body.removeChild(w),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",m),p(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};c.body.appendChild(w),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(c){this.logger.warn(c)}return""}),Us(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(OP(i).payload.id!==a)return;const c=await this.isValidJwtAttestation(i);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,l)}),Us(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(dt.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Us(this,"getVerifyUrl",s=>{let i=s||m1;return mEe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${m1}`),i=m1),i}),Us(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(dt.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Us(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Us(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Us(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Us(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Us(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Us(this,"validateAttestation",(s,i)=>{const o=Y1e(s,i.publicKey),a={hasExpired:dt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=eo(n,this.name),this.abortController=new AbortController,this.isDevEnv=f4(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Xo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),dt.toMiliseconds(e))}}var pCe=Object.defineProperty,gCe=(t,e,n)=>e in t?pCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lL=(t,e,n)=>gCe(t,typeof e!="symbol"?e+"":e,n);class mCe extends qfe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,lL(this,"context",yEe),lL(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,l=`${bEe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=eo(n,this.context)}}var yCe=Object.defineProperty,uL=Object.getOwnPropertySymbols,bCe=Object.prototype.hasOwnProperty,wCe=Object.prototype.propertyIsEnumerable,lO=(t,e,n)=>e in t?yCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nb=(t,e)=>{for(var n in e||(e={}))bCe.call(e,n)&&lO(t,n,e[n]);if(uL)for(var n of uL(e))wCe.call(e,n)&&lO(t,n,e[n]);return t},ci=(t,e,n)=>lO(t,typeof e!="symbol"?e+"":e,n);class vCe extends Vfe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ci(this,"context",vEe),ci(this,"storagePrefix",iu),ci(this,"storageVersion",wEe),ci(this,"events",new Map),ci(this,"shouldPersist",!1),ci(this,"init",async()=>{if(!f4())try{const s={eventId:GM(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:vG(this.core.relayer.protocol,this.core.relayer.version,tO)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ci(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:l}}=s,c=GM(),d=this.core.projectId||"",f=Date.now(),p=Nb({eventId:c,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:l}},bundleId:d,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,p),this.shouldPersist=!0),p}),ci(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return Nb(Nb({},a),this.setMethods(a.eventId))}),ci(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ci(this,"setEventListeners",()=>{this.core.heartbeat.on(R0.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{dt.fromMiliseconds(Date.now())-dt.fromMiliseconds(s.timestamp)>xEe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ci(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ci(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),ci(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ci(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ci(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Nb(Nb({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ci(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ci(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${EEe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${tO}${i}`,{method:"POST",body:JSON.stringify(s)})}),ci(this,"getAppDomain",()=>wG().url),this.logger=eo(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var xCe=Object.defineProperty,dL=Object.getOwnPropertySymbols,ECe=Object.prototype.hasOwnProperty,ACe=Object.prototype.propertyIsEnumerable,uO=(t,e,n)=>e in t?xCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fL=(t,e)=>{for(var n in e||(e={}))ECe.call(e,n)&&uO(t,n,e[n]);if(dL)for(var n of dL(e))ACe.call(e,n)&&uO(t,n,e[n]);return t},Vr=(t,e,n)=>uO(t,typeof e!="symbol"?e+"":e,n);let CCe=class UK extends Ife{constructor(e){var n;super(e),Vr(this,"protocol",xK),Vr(this,"version",EK),Vr(this,"name",eO),Vr(this,"relayUrl"),Vr(this,"projectId"),Vr(this,"customStoragePrefix"),Vr(this,"events",new Ac.EventEmitter),Vr(this,"logger"),Vr(this,"heartbeat"),Vr(this,"relayer"),Vr(this,"crypto"),Vr(this,"storage"),Vr(this,"history"),Vr(this,"expirer"),Vr(this,"pairing"),Vr(this,"verify"),Vr(this,"echoClient"),Vr(this,"linkModeSupportedApps"),Vr(this,"eventClient"),Vr(this,"initialized",!1),Vr(this,"logChunkController"),Vr(this,"on",(a,l)=>this.events.on(a,l)),Vr(this,"once",(a,l)=>this.events.once(a,l)),Vr(this,"off",(a,l)=>this.events.off(a,l)),Vr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Vr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const d={topic:a,message:l,publishedAt:Date.now(),transportType:ts.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:c})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||CK,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Wm({level:typeof e?.logger=="string"&&e.logger?e.logger:qxe.logger,name:eO}),{logger:i,chunkLoggerController:o}=t4({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=eo(i,this.name),this.heartbeat=new Ode,this.crypto=new JAe(this,this.logger,e?.keychain),this.history=new aCe(this,this.logger),this.expirer=new uCe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new hfe(fL(fL({},Vxe),e?.storageOptions)),this.relayer=new C2e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sCe(this,this.logger),this.verify=new hCe(this,this.logger,this.storage),this.echoClient=new mCe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new vCe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new UK(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(sEe,r),n}get context(){return Xo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(VU,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(VU)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&zxe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const SCe=CCe,LK="wc",jK=2,FK="client",T4=`${LK}@${jK}:${FK}:`,v3={name:FK,logger:"error"},hL="WALLETCONNECT_DEEPLINK_CHOICE",_Ce="proposal",pL="Proposal expired",NCe="session",Ng=dt.SEVEN_DAYS,TCe="engine",li={wc_sessionPropose:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:dt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:dt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:dt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:dt.FIVE_MINUTES,prompt:!1,tag:1119}}},x3={min:dt.FIVE_MINUTES,max:dt.SEVEN_DAYS},Ul={idle:"IDLE",active:"ACTIVE"},RCe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},PCe="request",OCe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ICe="wc",kCe="auth",BCe="authKeys",DCe="pairingTopics",MCe="requests",ZC=`${ICe}@${1.5}:${kCe}:`,QA=`${ZC}:PUB_KEY`;var UCe=Object.defineProperty,LCe=Object.defineProperties,jCe=Object.getOwnPropertyDescriptors,gL=Object.getOwnPropertySymbols,FCe=Object.prototype.hasOwnProperty,$Ce=Object.prototype.propertyIsEnumerable,dO=(t,e,n)=>e in t?UCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zr=(t,e)=>{for(var n in e||(e={}))FCe.call(e,n)&&dO(t,n,e[n]);if(gL)for(var n of gL(e))$Ce.call(e,n)&&dO(t,n,e[n]);return t},Io=(t,e)=>LCe(t,jCe(e)),st=(t,e,n)=>dO(t,typeof e!="symbol"?e+"":e,n);class HCe extends Qfe{constructor(e){super(e),st(this,"name",TCe),st(this,"events",new XI),st(this,"initialized",!1),st(this,"requestQueue",{state:Ul.idle,queue:[]}),st(this,"sessionRequestQueue",{state:Ul.idle,queue:[]}),st(this,"requestQueueDelay",dt.ONE_SECOND),st(this,"expectedPairingMethodMap",new Map),st(this,"recentlyDeletedMap",new Map),st(this,"recentlyDeletedLimit",200),st(this,"relayMessageCache",[]),st(this,"pendingSessions",new Map),st(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(li)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},dt.toMiliseconds(this.requestQueueDelay)))}),st(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Io(Zr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=fve(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=r;let d=s,f,p=!1;try{if(d){const R=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=R.active}}catch(R){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),R}if(!d||!p){const{topic:R,uri:_}=await this.client.core.pairing.create();d=R,f=_}if(!d){const{message:R}=ft("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(R)}const g=await this.client.core.crypto.generateKeyPair(),b=li.wc_sessionPropose.req.ttl||dt.FIVE_MINUTES,w=Qs(b),m=Io(Zr(Zr({requiredNamespaces:i,optionalNamespaces:o,relays:c??[{protocol:AK}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:d},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:$l()}),v=xr("session_connect",m.id),{reject:x,resolve:C,done:S}=Sp(b,pL),T=({id:R})=>{R===m.id&&(this.client.events.off("proposal_expire",T),this.pendingSessions.delete(m.id),this.events.emit(v,{error:{message:pL,code:0}}))};return this.client.events.on("proposal_expire",T),this.events.once(v,({error:R,session:_})=>{this.client.events.off("proposal_expire",T),R?x(R):_&&C(_)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:f,approval:S}}),st(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),st(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Dc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(O){throw o.setError(jh.no_internet_connection),O}try{await this.isValidProposalId(n?.id)}catch(O){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(jh.proposal_not_found),O}try{await this.isValidApprove(n)}catch(O){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(jh.session_approve_namespace_validation_failure),O}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:d,scopedProperties:f,sessionConfig:p}=n,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:b,proposer:w,requiredNamespaces:m,optionalNamespaces:v}=g;let x=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:b});x||(x=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Dc.session_approve_started,properties:{topic:b,trace:[Dc.session_approve_started,Dc.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),S=w.publicKey,T=await this.client.core.crypto.generateSharedKey(C,S),R=Zr(Zr(Zr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:C,metadata:this.client.metadata},expiry:Qs(Ng)},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),_=ts.relay;x.addTrace(Dc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:_})}catch(O){throw x.setError(jh.subscribe_session_topic_failure),O}x.addTrace(Dc.subscribe_session_topic_success);const N=Io(Zr({},R),{topic:T,requiredNamespaces:m,optionalNamespaces:v,pairingTopic:b,acknowledged:!1,self:R.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:C,transportType:ts.relay});await this.client.session.set(T,N),x.addTrace(Dc.store_session);try{x.addTrace(Dc.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:R,throwOnFailedPublish:!0}).catch(O=>{throw x?.setError(jh.session_settle_publish_failure),O}),x.addTrace(Dc.session_settle_publish_success),x.addTrace(Dc.publishing_session_approve),await this.sendResult({id:a,topic:b,result:{relay:{protocol:l??"irn"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(O=>{throw x?.setError(jh.session_approve_publish_failure),O}),x.addTrace(Dc.session_approve_publish_success)}catch(O){throw this.client.logger.error(O),this.client.session.delete(T,cs("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),O}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:w.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(T,Qs(Ng)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),st(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:li.wc_sessionPropose.reject}),await this.deleteProposal(r)}),st(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=Sp(),l=$l(),c=jp().toString(),d=this.client.session.get(r).namespaces;return this.events.once(xr("session_update",l),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:d}),a(f)}),{acknowledged:i}}),st(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,s=$l(),{done:i,resolve:o,reject:a}=Sp();return this.events.once(xr("session_extend",s),({error:l})=>{l?a(l):o()}),await this.setExpiry(r,Qs(Ng)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:i}}),st(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:r,request:s,topic:i,expiry:o=li.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);a?.transportType===ts.relay&&await this.confirmOnlineStateOrThrow();const l=$l(),c=jp().toString(),{done:d,resolve:f,reject:p}=Sp(o,"Request expired. Please try again.");this.events.once(xr("session_request",l),({error:m,result:v})=>{m?p(m):f(v)});const g="wc_sessionRequest",b=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(b)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:i,method:g,params:{request:Io(Zr({},s),{expiryTimestamp:Qs(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:b}).catch(m=>p(m)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:l}),await d();const w={request:Io(Zr({},s),{expiryTimestamp:Qs(o)}),chainId:r};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:i,method:g,params:w,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,w)}).catch(v=>p(v)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:l}),m()}),new Promise(async m=>{var v;if(!((v=a.sessionConfig)!=null&&v.disableDeepLink)){const x=await abe(this.client.core.storage,hL);await sbe({id:l,topic:i,wcDeepLink:x})}m()}),d()]).then(m=>m[2])}),st(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===ts.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Hl(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):fc(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),st(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=$l(),i=jp().toString(),{done:o,resolve:a,reject:l}=Sp();this.events.once(xr("session_ping",s),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),st(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=jp().toString(),a=$l();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),st(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:cs("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ft("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),st(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>gve(r,n)))),st(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),st(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?ts.link_mode:ts.relay;o===ts.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:d,nonce:f,type:p,exp:g,nbf:b,methods:w=[],expiry:m}=n,v=[...n.resources||[]],{topic:x,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:C}});const S=await this.client.core.crypto.generateKeyPair(),T=KA(S);if(await Promise.all([this.client.auth.authKeys.set(QA,{responseTopic:T,publicKey:S}),this.client.auth.pairingTopics.set(T,{topic:T,pairingTopic:x})]),await this.client.core.relayer.subscribe(T,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),w.length>0){const{namespace:G}=sm(a[0]);let F=Ewe(G,"request",w);GA(v)&&(F=Cwe(F,v.pop())),v.push(F)}const R=m&&m>li.wc_sessionAuthenticate.req.ttl?m:li.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:p??"caip122",chains:a,statement:l,aud:c,domain:d,version:"1",nonce:f,iat:new Date().toISOString(),exp:g,nbf:b,resources:v},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Qs(R)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},O={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Qs(li.wc_sessionPropose.req.ttl),id:$l()},{done:D,resolve:k,reject:z}=Sp(R,"Request expired"),K=$l(),q=xr("session_connect",O.id),I=xr("session_request",K),P=async({error:G,session:F})=>{this.events.off(I,M),G?z(G):F&&k({session:F})},M=async G=>{var F,H,$;if(await this.deletePendingAuthRequest(K,{message:"fulfilled",code:0}),G.error){const ce=cs("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return G.error.code===ce.code?void 0:(this.events.off(q,P),z(G.error.message))}await this.deleteProposal(O.id),this.events.off(q,P);const{cacaos:Z,responder:X}=G.result,le=[],de=[];for(const ce of Z){await rU({cacao:ce,projectId:this.client.core.projectId})||(this.client.logger.error(ce,"Signature verification failed"),z(cs("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:fe}=ce,ve=GA(fe.resources),Re=[FP(fe.iss)],Se=T2(fe.iss);if(ve){const xe=sU(ve),te=iU(ve);le.push(...xe),Re.push(...te)}for(const xe of Re)de.push(`${xe}:${Se}`)}const pe=await this.client.core.crypto.generateSharedKey(S,X.publicKey);let ae;le.length>0&&(ae={topic:pe,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:Qs(Ng),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:RU([...new Set(le)],[...new Set(de)]),transportType:o},await this.client.core.relayer.subscribe(pe,{transportType:o}),await this.client.session.set(pe,ae),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:X.metadata}),ae=this.client.session.get(pe)),(F=this.client.metadata.redirect)!=null&&F.linkMode&&(H=X.metadata.redirect)!=null&&H.linkMode&&($=X.metadata.redirect)!=null&&$.universal&&r&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(pe,{transportType:ts.link_mode})),k({auths:Z,session:ae})};this.events.once(q,P),this.events.once(I,M);let j;try{if(i){const G=Ff("wc_sessionAuthenticate",_,K);this.client.core.history.set(x,G);const F=await this.client.core.crypto.encode("",G,{type:Qv,encoding:Mf});j=rA(r,x,F)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:_,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:K}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:O,expiry:li.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:O.id})])}catch(G){throw this.events.off(q,P),this.events.off(I,M),G}return await this.setProposal(O.id,O),await this.setAuthRequest(K,{request:Io(Zr({},_),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:j??C,response:D}}),st(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Fh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(Sb.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Sb.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||ts.relay;a===ts.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),d=KA(l),f={type:bd,receiverPublicKey:l,senderPublicKey:c},p=[],g=[];for(const m of s){if(!await rU({cacao:m,projectId:this.client.core.projectId})){i.setError(Sb.invalid_cacao);const T=cs("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:T,encodeOpts:f}),new Error(T.message)}i.addTrace(Fh.cacaos_verified);const{p:v}=m,x=GA(v.resources),C=[FP(v.iss)],S=T2(v.iss);if(x){const T=sU(x),R=iU(x);p.push(...T),C.push(...R)}for(const T of C)g.push(`${T}:${S}`)}const b=await this.client.core.crypto.generateSharedKey(c,l);i.addTrace(Fh.create_authenticated_session_topic);let w;if(p?.length>0){w={topic:b,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Qs(Ng),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:RU([...new Set(p)],[...new Set(g)]),transportType:a},i.addTrace(Fh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:a})}catch(m){throw i.setError(Sb.subscribe_authenticated_session_topic_failure),m}i.addTrace(Fh.subscribe_authenticated_session_topic_success),await this.client.session.set(b,w),i.addTrace(Fh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Fh.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:s,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw i.setError(Sb.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:w}}),st(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===ts.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=KA(o),c={type:bd,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:l,error:s,encodeOpts:c,rpcOpts:li.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),st(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return UG(r,s)}),st(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),st(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),st(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:l}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,cs("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(hL).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===s&&this.deletePendingSessionRequest(c.id,cs("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ul.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),st(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(jh.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,cs("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),st(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Ul.idle,this.client.events.emit("session_request_expire",{id:n}))}),st(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),st(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),st(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Qs(li.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),st(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=ts.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),st(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Qs(li.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),st(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:d,tvf:f}=n,p=Ff(s,i,l);let g;const b=!!d;try{const v=b?Mf:el;g=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let w;if(OCe.includes(s)){const v=ql(JSON.stringify(p)),x=ql(g);w=await this.client.core.verify.register({id:x,decryptedId:v})}const m=li[s].req;if(m.attestation=w,o&&(m.ttl=o),a&&(m.id=a),this.client.core.history.set(r,p),b){const v=rA(d,r,g);await global.Linking.openURL(v,this.client.name)}else{const v=li[s].req;o&&(v.ttl=o),a&&(v.id=a),v.tvf=Io(Zr({},f),{correlationId:p.id}),c?(v.internal=Io(Zr({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,g,v)):this.client.core.relayer.publish(r,g,v).catch(x=>this.client.logger.error(x))}return p.id}),st(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=n,c=WC(r,i);let d;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const b=f?Mf:el;d=await this.client.core.crypto.encode(s,c,Io(Zr({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),b}let p,g;try{p=await this.client.core.history.get(s,r);const b=p.request;try{g=this.getTVFParams(r,b.params,i)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),b}if(f){const b=rA(l,s,d);await global.Linking.openURL(b,this.client.name)}else{const b=p.request.method,w=li[b].res;w.tvf=Io(Zr({},g),{correlationId:r}),o?(w.internal=Io(Zr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,d,w)):this.client.core.relayer.publish(s,d,w).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(c)}),st(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:l}=n,c=QC(r,i);let d;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const g=f?Mf:el;d=await this.client.core.crypto.encode(s,c,Io(Zr({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),g}let p;try{p=await this.client.core.history.get(s,r)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),g}if(f){const g=rA(l,s,d);await global.Linking.openURL(g,this.client.name)}else{const g=p.request.method,b=a||li[g].res;this.client.core.relayer.publish(s,d,b)}await this.client.core.history.resolve(c)}),st(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Of(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Of(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),st(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),st(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),st(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ul.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ul.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ul.idle}),st(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,l=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),st(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),st(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ft("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),st(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),st(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:l}=s;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c?.setError(sd.proposal_listener_not_found)),this.isValidConnect(Zr({},s.params));const d=a.expiryTimestamp||Qs(li.wc_sessionPropose.req.ttl),f=Zr({id:l,pairingTopic:r,expiryTimestamp:d,attestation:i,encryptedId:o},a);await this.setProposal(l,f);const p=await this.getVerifyContext({attestationId:i,hash:ql(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});c?.addTrace(Fl.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:f,verifyContext:p})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:li.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),st(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Hl(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const d=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(i,{sessionTopic:d,pairingTopic:n,proposalId:i,publicKey:l});const f=await this.client.core.relayer.subscribe(d,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(fc(r)){await this.deleteProposal(i);const o=xr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),st(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:d,scopedProperties:f,sessionConfig:p}=r.params,g=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!g)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(g.proposalId),w=Io(Zr(Zr(Zr({topic:n,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),{transportType:ts.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(xr("session_connect",g.proposalId),{session:w}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),st(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Hl(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(xr("session_approve",s),{})):fc(r)&&(await this.client.session.delete(n,cs("USER_DISCONNECTED")),this.events.emit(xr("session_approve",s),{error:r.error}))}),st(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Ab.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:cs("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Zr({topic:n},s));try{Ab.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(l){throw Ab.delete(o),l}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),st(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),st(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=xr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Hl(r)?this.events.emit(xr("session_update",s),{}):fc(r)&&this.events.emit(xr("session_update",s),{error:r.error})}),st(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Qs(Ng)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),st(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=xr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Hl(r)?this.events.emit(xr("session_extend",s),{}):fc(r)&&this.events.emit(xr("session_extend",s),{error:r.error})}),st(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),st(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=xr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Hl(r)?this.events.emit(xr("session_ping",s),{}):fc(r)&&this.events.emit(xr("session_ping",s),{error:r.error})},500)}),st(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(hi.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:cs("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),st(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:d}=n,{id:f,params:p}=a;try{await this.isValidRequest(Zr({topic:o},p));const g=this.client.session.get(o),b=await this.getVerifyContext({attestationId:l,hash:ql(JSON.stringify(Ff("wc_sessionRequest",p,f))),encryptedId:c,metadata:g.peer.metadata,transportType:d}),w={id:f,topic:o,params:p,verifyContext:b};await this.setPendingSessionRequest(w),d===ts.link_mode&&(r=g.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=g.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(g){await this.sendError({id:f,topic:o,error:g}),this.client.logger.error(g)}}),st(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=xr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Hl(r)?this.events.emit(xr("session_request",s),{result:r.result}):fc(r)&&this.events.emit(xr("session_request",s),{error:r.error})}),st(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Ab.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Zr({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Ab.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),st(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Hl(r)?this.events.emit(xr("session_request",s),{result:r.result}):fc(r)&&this.events.emit(xr("session_request",s),{error:r.error})}),st(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:d,expiryTimestamp:f}=i.params,p=await this.getVerifyContext({attestationId:o,hash:ql(JSON.stringify(i)),encryptedId:a,metadata:c.metadata,transportType:l}),g={requester:c,pairingTopic:s,id:i.id,authPayload:d,verifyContext:p,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:g,pairingTopic:s,transportType:l}),l===ts.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:p})}catch(c){this.client.logger.error(c);const d=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(i.params.requester.metadata,l),g={type:bd,receiverPublicKey:d,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:c,encodeOpts:g,rpcOpts:li.wc_sessionAuthenticate.autoReject,appLink:p})}}),st(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),st(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ul.idle,this.processSessionRequestQueue()},dt.toMiliseconds(this.requestQueueDelay))}),st(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=xr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(xr("session_request",i.request.id),{error:r})})}),st(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ul.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ul.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),st(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),st(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ff("wc_sessionPropose",Io(Zr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),st(this,"isValidConnect",async n=>{if(!Do(n)){const{message:c}=ft("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:l}=n;if(Pi(r)||await this.isValidPairingTopic(r),!Nve(l)){const{message:c}=ft("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!Pi(s)&&qf(s)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(s,"requiredNamespaces")}if(!Pi(i)&&qf(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Pi(o)||this.validateSessionProps(o,"sessionProperties"),!Pi(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(d=>c.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),st(this,"validateNamespaces",(n,r)=>{const s=_ve(n,"connect()",r);if(s)throw new Error(s.message)}),st(this,"isValidApprove",async n=>{if(!Do(n))throw new Error(ft("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=h3(s,"approve()");if(c)throw new Error(c.message);const d=IU(l.requiredNamespaces,s,"approve()");if(d)throw new Error(d.message);if(!Ls(i,!0)){const{message:f}=ft("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(Pi(o)||this.validateSessionProps(o,"sessionProperties"),!Pi(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(s));if(!Object.keys(a).every(p=>f.has(p)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),st(this,"isValidReject",async n=>{if(!Do(n)){const{message:i}=ft("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Rve(s)){const{message:i}=ft("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),st(this,"isValidSessionSettleRequest",n=>{if(!Do(n)){const{message:c}=ft("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!pK(r)){const{message:c}=ft("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=vve(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=h3(i,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Of(o)){const{message:c}=ft("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),st(this,"isValidUpdate",async n=>{if(!Do(n)){const{message:l}=ft("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=h3(s,"update()");if(o)throw new Error(o.message);const a=IU(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),st(this,"isValidExtend",async n=>{if(!Do(n)){const{message:s}=ft("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),st(this,"isValidRequest",async n=>{if(!Do(n)){const{message:l}=ft("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!OU(a,i)){const{message:l}=ft("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(l)}if(!Pve(s)){const{message:l}=ft("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(l)}if(!kve(a,i,s.method)){const{message:l}=ft("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(l)}if(o&&!Uve(o,x3)){const{message:l}=ft("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${x3.min} and ${x3.max}`);throw new Error(l)}}),st(this,"isValidRespond",async n=>{var r;if(!Do(n)){const{message:o}=ft("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Ove(i)){const{message:o}=ft("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),st(this,"isValidPing",async n=>{if(!Do(n)){const{message:s}=ft("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),st(this,"isValidEmit",async n=>{if(!Do(n)){const{message:a}=ft("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!OU(o,i)){const{message:a}=ft("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Ive(s)){const{message:a}=ft("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Bve(o,i,s.name)){const{message:a}=ft("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),st(this,"isValidDisconnect",async n=>{if(!Do(n)){const{message:s}=ft("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),st(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ls(s,!1))throw new Error("uri is required parameter");if(!Ls(i,!1))throw new Error("domain is required parameter");if(!Ls(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>sm(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=sm(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),st(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,l={verified:{verifyUrl:o.verifyUrl||m1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===ts.link_mode){const d=this.getAppLinkIfEnabled(o,a);return l.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),st(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ft("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),st(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),st(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),st(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ft("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),st(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,l,c,d,f,p;return!n||r!==ts.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((d=n?.redirect)==null?void 0:d.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((p=n?.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),st(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),st(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=VM(n,"topic")||"",s=decodeURIComponent(VM(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:ts.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),st(this,"registerLinkModeListeners",async()=>{var n;if(f4()||uh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),st(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,s);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),st(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),st(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=RCe[i];if(i==="sui_signTransaction")return[owe(r.transactionBytes)];if(i==="near_signTransaction")return[XM(r)];if(i==="near_signTransactions")return r.map(l=>XM(l));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Zve({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return wd(r)?r.map(l=>eU(l)):[eU(r)];if(i==="cosmos_signDirect")return[cwe(r)];if(typeof r=="string")return[r];const a=r[o.key];if(wd(a))return i==="solana_signAllTransactions"?a.map(l=>iwe(l)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(QA)?this.client.auth.authKeys.get(QA):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===ts.link_mode?Mf:el});N4(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:ql(r)})):YC(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(dc.expired,async e=>{const{topic:n,id:r}=EG(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ft("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ft("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Tp.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Tp.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Ls(e,!1)){const{message:n}=ft("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ft("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Of(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ft("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Ls(e,!1)){const{message:n}=ft("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ft("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Of(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ft("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ft("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ls(e,!1)){const{message:n}=ft("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ft("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Tve(e)){const{message:n}=ft("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ft("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Of(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ft("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class zCe extends O0{constructor(e,n){super(e,n,_Ce,T4),this.core=e,this.logger=n}}let qCe=class extends O0{constructor(e,n){super(e,n,NCe,T4),this.core=e,this.logger=n}};class VCe extends O0{constructor(e,n){super(e,n,PCe,T4,r=>r.id),this.core=e,this.logger=n}}class GCe extends O0{constructor(e,n){super(e,n,BCe,ZC,()=>QA),this.core=e,this.logger=n}}class KCe extends O0{constructor(e,n){super(e,n,DCe,ZC),this.core=e,this.logger=n}}class WCe extends O0{constructor(e,n){super(e,n,MCe,ZC,r=>r.id),this.core=e,this.logger=n}}var QCe=Object.defineProperty,YCe=(t,e,n)=>e in t?QCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E3=(t,e,n)=>YCe(t,typeof e!="symbol"?e+"":e,n);class JCe{constructor(e,n){this.core=e,this.logger=n,E3(this,"authKeys"),E3(this,"pairingTopics"),E3(this,"requests"),this.authKeys=new GCe(this.core,this.logger),this.pairingTopics=new KCe(this.core,this.logger),this.requests=new WCe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ZCe=Object.defineProperty,XCe=(t,e,n)=>e in t?ZCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gn=(t,e,n)=>XCe(t,typeof e!="symbol"?e+"":e,n);let eSe=class $K extends Wfe{constructor(e){super(e),Gn(this,"protocol",LK),Gn(this,"version",jK),Gn(this,"name",v3.name),Gn(this,"metadata"),Gn(this,"core"),Gn(this,"logger"),Gn(this,"events",new Ac.EventEmitter),Gn(this,"engine"),Gn(this,"session"),Gn(this,"proposal"),Gn(this,"pendingRequest"),Gn(this,"auth"),Gn(this,"signConfig"),Gn(this,"on",(r,s)=>this.events.on(r,s)),Gn(this,"once",(r,s)=>this.events.once(r,s)),Gn(this,"off",(r,s)=>this.events.off(r,s)),Gn(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Gn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Gn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Gn(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Gn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Gn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=e?.name||v3.name,this.metadata=Zye(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Hv(Wm({level:e?.logger||v3.logger}));this.core=e?.core||new SCe(e),this.logger=eo(n,this.name),this.session=new qCe(this.core,this.logger),this.proposal=new zCe(this.core,this.logger),this.pendingRequest=new VCe(this.core,this.logger),this.engine=new HCe(this),this.auth=new JCe(this.core,this.logger)}static async init(e){const n=new $K(e);return await n.initialize(),n}get context(){return Xo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},dt.toMiliseconds(dt.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var iA={exports:{}},mL;function tSe(){return mL||(mL=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof $o<"u"&&$o,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof $o<"u"&&$o||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(I){return I&&DataView.prototype.isPrototypeOf(I)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(I){return I&&d.indexOf(Object.prototype.toString.call(I))>-1};function p(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function g(I){return typeof I!="string"&&(I=String(I)),I}function b(I){var P={next:function(){var M=I.shift();return{done:M===void 0,value:M}}};return l.iterable&&(P[Symbol.iterator]=function(){return P}),P}function w(I){this.map={},I instanceof w?I.forEach(function(P,M){this.append(M,P)},this):Array.isArray(I)?I.forEach(function(P){if(P.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+P.length);this.append(P[0],P[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(P){this.append(P,I[P])},this)}w.prototype.append=function(I,P){I=p(I),P=g(P);var M=this.map[I];this.map[I]=M?M+", "+P:P},w.prototype.delete=function(I){delete this.map[p(I)]},w.prototype.get=function(I){return I=p(I),this.has(I)?this.map[I]:null},w.prototype.has=function(I){return this.map.hasOwnProperty(p(I))},w.prototype.set=function(I,P){this.map[p(I)]=g(P)},w.prototype.forEach=function(I,P){for(var M in this.map)this.map.hasOwnProperty(M)&&I.call(P,this.map[M],M,this)},w.prototype.keys=function(){var I=[];return this.forEach(function(P,M){I.push(M)}),b(I)},w.prototype.values=function(){var I=[];return this.forEach(function(P){I.push(P)}),b(I)},w.prototype.entries=function(){var I=[];return this.forEach(function(P,M){I.push([M,P])}),b(I)},l.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function m(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function v(I){return new Promise(function(P,M){I.onload=function(){P(I.result)},I.onerror=function(){M(I.error)}})}function x(I){var P=new FileReader,M=v(P);return P.readAsArrayBuffer(I),M}function C(I){var P=new FileReader,M=v(P),j=/charset=([A-Za-z0-9_-]+)/.exec(I.type),G=j?j[1]:"utf-8";return P.readAsText(I,G),M}function S(I){for(var P=new Uint8Array(I),M=new Array(P.length),j=0;j<P.length;j++)M[j]=String.fromCharCode(P[j]);return M.join("")}function T(I){if(I.slice)return I.slice(0);var P=new Uint8Array(I.byteLength);return P.set(new Uint8Array(I)),P.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:l.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:l.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():l.arrayBuffer&&l.blob&&c(I)?(this._bodyArrayBuffer=T(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||f(I))?this._bodyArrayBuffer=T(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var I=m(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=m(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=m(this);if(I)return I;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(I){var P=I.toUpperCase();return _.indexOf(P)>-1?P:I}function O(I,P){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var M=P.body;if(I instanceof O){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,P.headers||(this.headers=new w(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!M&&I._bodyInit!=null&&(M=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new w(P.headers)),this.method=N(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||function(){if("AbortController"in a){var F=new AbortController;return F.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function D(I){var P=new FormData;return I.trim().split("&").forEach(function(M){if(M){var j=M.split("="),G=j.shift().replace(/\+/g," "),F=j.join("=").replace(/\+/g," ");P.append(decodeURIComponent(G),decodeURIComponent(F))}}),P}function k(I){var P=new w,M=I.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var G=j.split(":"),F=G.shift().trim();if(F){var H=G.join(":").trim();try{P.append(F,H)}catch($){console.warn("Response "+$.message)}}}),P}R.call(O.prototype);function z(I,P){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new w(P.headers),this.url=P.url||"",this._initBody(I)}R.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},z.error=function(){var I=new z(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var K=[301,302,303,307,308];z.redirect=function(I,P){if(K.indexOf(P)===-1)throw new RangeError("Invalid status code");return new z(null,{status:P,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(P,M){this.message=P,this.name=M;var j=Error(P);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(I,P){return new Promise(function(M,j){var G=new O(I,P);if(G.signal&&G.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function H(){F.abort()}F.onload=function(){var X={statusText:F.statusText,headers:k(F.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(F.status<200||F.status>599)?X.status=200:X.status=F.status,X.url="responseURL"in F?F.responseURL:X.headers.get("X-Request-URL");var le="response"in F?F.response:F.responseText;setTimeout(function(){M(new z(le,X))},0)},F.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},F.onabort=function(){setTimeout(function(){j(new o.DOMException("Aborted","AbortError"))},0)};function $(X){try{return X===""&&a.location.href?a.location.href:X}catch{return X}}if(F.open(G.method,$(G.url),!0),G.credentials==="include"?F.withCredentials=!0:G.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(l.blob?F.responseType="blob":l.arrayBuffer&&(F.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof w||a.Headers&&P.headers instanceof a.Headers)){var Z=[];Object.getOwnPropertyNames(P.headers).forEach(function(X){Z.push(p(X)),F.setRequestHeader(X,g(P.headers[X]))}),G.headers.forEach(function(X,le){Z.indexOf(le)===-1&&F.setRequestHeader(le,X)})}else G.headers.forEach(function(X,le){F.setRequestHeader(le,X)});G.signal&&(G.signal.addEventListener("abort",H),F.onreadystatechange=function(){F.readyState===4&&G.signal.removeEventListener("abort",H)}),F.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return q.polyfill=!0,a.fetch||(a.fetch=q,a.Headers=w,a.Request=O,a.Response=z),o.Headers=w,o.Request=O,o.Response=z,o.fetch=q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(iA,iA.exports)),iA.exports}var nSe=tSe();const yL=$m(nSe);var rSe=Object.defineProperty,sSe=Object.defineProperties,iSe=Object.getOwnPropertyDescriptors,bL=Object.getOwnPropertySymbols,oSe=Object.prototype.hasOwnProperty,aSe=Object.prototype.propertyIsEnumerable,wL=(t,e,n)=>e in t?rSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vL=(t,e)=>{for(var n in e||(e={}))oSe.call(e,n)&&wL(t,n,e[n]);if(bL)for(var n of bL(e))aSe.call(e,n)&&wL(t,n,e[n]);return t},xL=(t,e)=>sSe(t,iSe(e));const cSe={Accept:"application/json","Content-Type":"application/json"},lSe="POST",EL={headers:cSe,method:lSe},AL=10;let yl=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ac.EventEmitter,this.isAvailable=!1,this.registering=!1,!jU(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Ad(e),r=await(await yL(this.url,xL(vL({},EL),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!jU(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Ad({id:1,jsonrpc:"2.0",method:"test",params:[]});await yL(e,xL(vL({},EL),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?o0(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=QC(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return yK(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>AL&&this.events.setMaxListeners(AL)}};const CL="error",uSe="wss://relay.walletconnect.org",dSe="wc",fSe="universal_provider",oA=`${dSe}@2:${fSe}:`,HK="https://rpc.walletconnect.org/v1/",Vg="generic",hSe=`${HK}bundler`,Sc={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function R4(t){return t==null||typeof t!="object"&&typeof t!="function"}function zK(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function qK(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const pSe="[object RegExp]",VK="[object String]",GK="[object Number]",KK="[object Boolean]",WK="[object Arguments]",gSe="[object Symbol]",mSe="[object Date]",ySe="[object Map]",bSe="[object Set]",wSe="[object Array]",vSe="[object ArrayBuffer]",xSe="[object Object]",ESe="[object DataView]",ASe="[object Uint8Array]",CSe="[object Uint8ClampedArray]",SSe="[object Uint16Array]",_Se="[object Uint32Array]",NSe="[object Int8Array]",TSe="[object Int16Array]",RSe="[object Int32Array]",PSe="[object Float32Array]",OSe="[object Float64Array]";function P4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ISe(t,e){return Jg(t,void 0,t,new Map,e)}function Jg(t,e,n,r=new Map,s=void 0){const i=s?.(t,e,n,r);if(i!=null)return i;if(R4(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Jg(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,l]of t)o.set(a,Jg(l,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Jg(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(P4(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Jg(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Rp(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Rp(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Rp(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Rp(o,t,n,r,s),o}if(typeof t=="object"&&kSe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Rp(o,t,n,r,s),o}return t}function Rp(t,e,n=t,r,s){const i=[...Object.keys(e),...zK(e)];for(let o=0;o<i.length;o++){const a=i[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=Jg(e[a],a,n,r,s))}}function kSe(t){switch(qK(t)){case WK:case wSe:case vSe:case ESe:case KK:case mSe:case PSe:case OSe:case NSe:case TSe:case RSe:case ySe:case GK:case xSe:case pSe:case bSe:case VK:case gSe:case ASe:case CSe:case SSe:case _Se:return!0;default:return!1}}function BSe(t,e){return ISe(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case GK:case VK:case KK:{const o=new t.constructor(t?.valueOf());return Rp(o,t),o}case WK:{const o={};return Rp(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function SL(t){return BSe(t)}function _L(t){return t!==null&&typeof t=="object"&&qK(t)==="[object Arguments]"}function NL(t){return typeof t=="object"&&t!==null}function DSe(){}function MSe(t){return P4(t)}function USe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function LSe(t){if(R4(t))return t;if(Array.isArray(t)||P4(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function jSe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=fO(s,o,r,new Map)}return s}function fO(t,e,n,r){if(R4(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return LSe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...zK(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],l=t[o];if(_L(a)&&(a={...a}),_L(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=SL(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const d=[],f=Reflect.ownKeys(l);for(let p=0;p<f.length;p++){const g=f[p];d[g]=l[g]}l=d}else l=[];const c=n(l,a,o,t,e,r);c!=null?t[o]=c:Array.isArray(a)||NL(l)&&NL(a)?t[o]=fO(l,a,n,r):l==null&&USe(a)?t[o]=fO({},a,n,r):l==null&&MSe(a)?t[o]=SL(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function FSe(t,...e){return jSe(t,...e,DSe)}var $Se=Object.defineProperty,HSe=Object.defineProperties,zSe=Object.getOwnPropertyDescriptors,TL=Object.getOwnPropertySymbols,qSe=Object.prototype.hasOwnProperty,VSe=Object.prototype.propertyIsEnumerable,RL=(t,e,n)=>e in t?$Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aA=(t,e)=>{for(var n in e||(e={}))qSe.call(e,n)&&RL(t,n,e[n]);if(TL)for(var n of TL(e))VSe.call(e,n)&&RL(t,n,e[n]);return t},GSe=(t,e)=>HSe(t,zSe(e));function Da(t,e,n){var r;const s=sm(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${HK}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function I0(t){return t.includes(":")?t.split(":")[1]:t}function QK(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function KSe(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function cA(t={},e={}){const n=PL(t),r=PL(e);return FSe(n,r)}function PL(t){var e,n,r,s,i;const o={};if(!qf(t))return o;for(const[a,l]of Object.entries(t)){const c=KC(a)?[a]:l.chains,d=l.methods||[],f=l.events||[],p=l.rpcMap||{},g=Yg(a);o[g]=GSe(aA(aA({},o[g]),l),{chains:tu(c,(e=o[g])==null?void 0:e.chains),methods:tu(d,(n=o[g])==null?void 0:n.methods),events:tu(f,(r=o[g])==null?void 0:r.events)}),(qf(p)||qf(((s=o[g])==null?void 0:s.rpcMap)||{}))&&(o[g].rpcMap=aA(aA({},p),(i=o[g])==null?void 0:i.rpcMap))}return o}function OL(t){return t.includes(":")?t.split(":")[2]:t}function IL(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=KC(n)?[n]:r.chains?r.chains:QK(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function A3(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const YK={},pr=t=>YK[t],C3=(t,e)=>{YK[t]=e};var WSe=Object.defineProperty,QSe=(t,e,n)=>e in t?WSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tg=(t,e,n)=>QSe(t,typeof e!="symbol"?e+"":e,n);class YSe{constructor(e){Tg(this,"name","polkadot"),Tg(this,"client"),Tg(this,"httpProviders"),Tg(this,"events"),Tg(this,"namespace"),Tg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=I0(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var JSe=Object.defineProperty,ZSe=Object.defineProperties,XSe=Object.getOwnPropertyDescriptors,kL=Object.getOwnPropertySymbols,e_e=Object.prototype.hasOwnProperty,t_e=Object.prototype.propertyIsEnumerable,hO=(t,e,n)=>e in t?JSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BL=(t,e)=>{for(var n in e||(e={}))e_e.call(e,n)&&hO(t,n,e[n]);if(kL)for(var n of kL(e))t_e.call(e,n)&&hO(t,n,e[n]);return t},DL=(t,e)=>ZSe(t,XSe(e)),Rg=(t,e,n)=>hO(t,typeof e!="symbol"?e+"":e,n);class n_e{constructor(e){Rg(this,"name","eip155"),Rg(this,"client"),Rg(this,"chainId"),Rg(this,"namespace"),Rg(this,"httpProviders"),Rg(this,"events"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Da(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(I0(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],c=`${a}${l.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(e.topic),f=((o=d?.sessionProperties)==null?void 0:o.capabilities)||{};if(f!=null&&f[c])return f?.[c];const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:DL(BL({},d.sessionProperties||{}),{capabilities:DL(BL({},f||{}),{[c]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ff("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${hSe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var r_e=Object.defineProperty,s_e=(t,e,n)=>e in t?r_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pg=(t,e,n)=>s_e(t,typeof e!="symbol"?e+"":e,n);class i_e{constructor(e){Pg(this,"name","solana"),Pg(this,"client"),Pg(this,"httpProviders"),Pg(this,"events"),Pg(this,"namespace"),Pg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=I0(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var o_e=Object.defineProperty,a_e=(t,e,n)=>e in t?o_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Og=(t,e,n)=>a_e(t,typeof e!="symbol"?e+"":e,n);class c_e{constructor(e){Og(this,"name","cosmos"),Og(this,"client"),Og(this,"httpProviders"),Og(this,"events"),Og(this,"namespace"),Og(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=I0(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var l_e=Object.defineProperty,u_e=(t,e,n)=>e in t?l_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ig=(t,e,n)=>u_e(t,typeof e!="symbol"?e+"":e,n);class d_e{constructor(e){Ig(this,"name","algorand"),Ig(this,"client"),Ig(this,"httpProviders"),Ig(this,"events"),Ig(this,"namespace"),Ig(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Da(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Cc(new yl(r,pr("disableProviderPing")))}}var f_e=Object.defineProperty,h_e=(t,e,n)=>e in t?f_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kg=(t,e,n)=>h_e(t,typeof e!="symbol"?e+"":e,n);class p_e{constructor(e){kg(this,"name","cip34"),kg(this,"client"),kg(this,"httpProviders"),kg(this,"events"),kg(this,"namespace"),kg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=I0(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var g_e=Object.defineProperty,m_e=(t,e,n)=>e in t?g_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bg=(t,e,n)=>m_e(t,typeof e!="symbol"?e+"":e,n);class y_e{constructor(e){Bg(this,"name","elrond"),Bg(this,"client"),Bg(this,"httpProviders"),Bg(this,"events"),Bg(this,"namespace"),Bg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=I0(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var b_e=Object.defineProperty,w_e=(t,e,n)=>e in t?b_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dg=(t,e,n)=>w_e(t,typeof e!="symbol"?e+"":e,n);class v_e{constructor(e){Dg(this,"name","multiversx"),Dg(this,"client"),Dg(this,"httpProviders"),Dg(this,"events"),Dg(this,"namespace"),Dg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=I0(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var x_e=Object.defineProperty,E_e=(t,e,n)=>e in t?x_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mg=(t,e,n)=>E_e(t,typeof e!="symbol"?e+"":e,n);class A_e{constructor(e){Mg(this,"name","near"),Mg(this,"client"),Mg(this,"httpProviders"),Mg(this,"events"),Mg(this,"namespace"),Mg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Da(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace);return typeof r>"u"?void 0:new Cc(new yl(r,pr("disableProviderPing")))}}var C_e=Object.defineProperty,S_e=(t,e,n)=>e in t?C_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ug=(t,e,n)=>S_e(t,typeof e!="symbol"?e+"":e,n);class __e{constructor(e){Ug(this,"name","tezos"),Ug(this,"client"),Ug(this,"httpProviders"),Ug(this,"events"),Ug(this,"namespace"),Ug(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Da(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace);return typeof r>"u"?void 0:new Cc(new yl(r))}}var N_e=Object.defineProperty,T_e=(t,e,n)=>e in t?N_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lg=(t,e,n)=>T_e(t,typeof e!="symbol"?e+"":e,n);class R_e{constructor(e){Lg(this,"name",Vg),Lg(this,"client"),Lg(this,"httpProviders"),Lg(this,"events"),Lg(this,"namespace"),Lg(this,"chainId"),this.namespace=e.namespace,this.events=pr("events"),this.client=pr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Sc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=sm(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Da(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new yl(r,pr("disableProviderPing")))}}var P_e=Object.defineProperty,O_e=Object.defineProperties,I_e=Object.getOwnPropertyDescriptors,ML=Object.getOwnPropertySymbols,k_e=Object.prototype.hasOwnProperty,B_e=Object.prototype.propertyIsEnumerable,pO=(t,e,n)=>e in t?P_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lA=(t,e)=>{for(var n in e||(e={}))k_e.call(e,n)&&pO(t,n,e[n]);if(ML)for(var n of ML(e))B_e.call(e,n)&&pO(t,n,e[n]);return t},S3=(t,e)=>O_e(t,I_e(e)),cc=(t,e,n)=>pO(t,typeof e!="symbol"?e+"":e,n);let D_e=class JK{constructor(e){cc(this,"client"),cc(this,"namespaces"),cc(this,"optionalNamespaces"),cc(this,"sessionProperties"),cc(this,"scopedProperties"),cc(this,"events",new XI),cc(this,"rpcProviders",{}),cc(this,"session"),cc(this,"providerOpts"),cc(this,"logger"),cc(this,"uri"),cc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Hv(Wm({level:e?.logger||CL})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new JK(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:lA({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,WC(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:cs("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=IL(this.session.namespaces);this.namespaces=cA(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=IL(s.namespaces);return this.namespaces=cA(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Vg?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(wd(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await eSe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||CL,relayUrl:this.providerOpts.relayUrl||uSe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Yg(n)))];C3("client",this.client),C3("events",this.events),C3("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=KSe(n,this.session),s=QK(r),i=cA(this.namespaces,this.optionalNamespaces),o=S3(lA({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new n_e({namespace:o});break;case"algorand":this.rpcProviders[n]=new d_e({namespace:o});break;case"solana":this.rpcProviders[n]=new i_e({namespace:o});break;case"cosmos":this.rpcProviders[n]=new c_e({namespace:o});break;case"polkadot":this.rpcProviders[n]=new YSe({namespace:o});break;case"cip34":this.rpcProviders[n]=new p_e({namespace:o});break;case"elrond":this.rpcProviders[n]=new y_e({namespace:o});break;case"multiversx":this.rpcProviders[n]=new v_e({namespace:o});break;case"near":this.rpcProviders[n]=new A_e({namespace:o});break;case"tezos":this.rpcProviders[n]=new __e({namespace:o});break;default:this.rpcProviders[Vg]?this.rpcProviders[Vg].updateNamespace(o):this.rpcProviders[Vg]=new R_e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&wd(o)&&this.events.emit("accountsChanged",o.map(OL))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,l=Yg(o),c=A3(o)!==A3(a)?`${l}:${A3(a)}`:o;this.onChainChanged(c)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=S3(lA({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",S3(lA({},cs("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Sc.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Vg]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=cA(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Yg(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Yg(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${r}:`)).map(OL);if(!wd(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${oA}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${oA}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${oA}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(oA)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}},$h=null;const Na={getSIWX(){return tt.state.siwx},async initializeIfEnabled(){const t=tt.state.siwx,e=he.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(he.checkIfSupportedNetwork(n))try{if($h&&await $h,(await t.getSessions(`${n}:${r}`,s)).length)return;await fr.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await mt._getClient()?.disconnect().catch(console.error),ln.reset("Connect"),Yl.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=tt.state.siwx,e=Nt.getPlainAddress(he.getActiveCaipAddress()),n=he.getActiveCaipNetwork(),r=mt._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();ut.getConnectorId(n.chainNamespace)===Fe.CONNECTOR_ID.AUTH&&ln.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),he.setLastConnectedSIWECaipNetwork(n),fr.close(),_r.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!fr.state.open||ln.state.view==="ApproveTransaction")&&await fr.open({view:"SIWXSignMessage"}),Yl.showError("Error signing message"),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=he.getLastConnectedSIWECaipNetwork();if(n){const r=await t?.getSessions(n?.caipNetworkId,Nt.getPlainAddress(he.getActiveCaipAddress())||"");r&&r.length>0?await he.switchActiveNetwork(n):await mt.disconnect()}else await mt.disconnect()}else fr.close();fr.close(),_r.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=he.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await t?.getSessions(r.caipNetworkId,Nt.getPlainAddress(he.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(t){const e=tt.state.siwx;let n=t?.address;if(!n){const s=he.getActiveCaipAddress();n=Nt.getPlainAddress(s)}let r=t?.caipNetworkId;return r||(r=he.getActiveCaipNetwork()?.caipNetworkId),e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=ln.state.view==="ApproveTransaction",n=ln.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:s}){const i=Na.getSIWX();if(!i||!s.includes(Fe.CHAIN.EVM)){const c=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:c.address,chainId:c.chainId,accounts:c.accounts}}const o=await i.createMessage({chainId:he.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:"<<AccountAddress>>"}),a={accountAddress:o.accountAddress,chainId:o.chainId,domain:o.domain,uri:o.uri,version:o.version,nonce:o.nonce,notBefore:o.notBefore,statement:o.statement,resources:o.resources,requestId:o.requestId,issuedAt:o.issuedAt,expirationTime:o.expirationTime,serializedMessage:o.toString()},l=await t.connect({chainId:e,socialUri:n,siwxMessage:a,preferredAccountType:r});return a.accountAddress=l.address,a.serializedMessage=l.message||"",l.signature&&l.message&&await Na.addEmbeddedWalletSession(a,l.message,l.signature),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(t,e,n){if($h)return $h;const r=Na.getSIWX();return r?($h=r.addSession({data:t,message:e,signature:n}).finally(()=>{$h=null}),$h):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=Na.getSIWX(),s=new Set(e.map(a=>a.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:he.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(a=>a!==i.chainId)]});if(Yl.showLoading("Authenticating...",{autoClose:!1}),Pt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),o?.auths?.length){const a=o.auths.map(l=>{const c=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||i.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:c,signature:l.s.s,cacao:l}});try{await r.setSessions(a),_r.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Na.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),_r.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Na.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Yl.hide()}}return!0},getSIWXEventProperties(){const t=he.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:he.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Ba(t)===ei.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},M_e={},U_e=(t,e)=>{const n=W.useRef(void 0);W.useEffect(()=>{n.current=vle(t,e)}),W.useDebugValue(n.current)},L_e=U_e,j_e=new WeakMap;function k2(t,e){const r=W.useMemo(()=>t&&new WeakMap,[t]),s=W.useRef(void 0);let i=!0;const o=W.useSyncExternalStore(W.useCallback(l=>{const c=wi(t,l);return l(),c},[t,void 0]),()=>{const l=r0(t);try{if(!i&&s.current&&!Hq(s.current,l,r,new WeakMap))return s.current}catch{}return l},()=>r0(t));i=!1,W.useLayoutEffect(()=>{s.current=o}),(M_e?"production":void 0)!=="production"&&L_e(o,r);const a=W.useMemo(()=>new WeakMap,[]);return $q(o,r,a,j_e)}function ZK(){const{activeCaipNetwork:t}=k2(he.state);return{caipNetwork:t,chainId:t?.id,caipNetworkId:t?.caipNetworkId}}function XC(t){const e=k2(he.state),{activeConnectorIds:n}=k2(ut.state),r=e.activeChain;if(!r)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const s=e.chains.get(r)?.accountState,i=ut.getAuthConnector(r),o=n[r];return{allAccounts:mt.getConnections(r).flatMap(c=>c.accounts.map(({address:d})=>Nt.createAccount(r,d,"eoa"))),caipAddress:s?.caipAddress,address:Nt.getPlainAddress(s?.caipAddress),isConnected:!!s?.caipAddress,status:s?.status,embeddedWalletInfo:i&&o===Fe.CONNECTOR_ID.AUTH?{user:s?.user?{...s.user,username:ct.getConnectedSocialUsername()}:void 0,authProvider:s?.socialProvider||"email",accountType:s?.preferredAccountType,isSmartAccountDeployed:!!s?.smartAccountDeployed}:void 0}}const dr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:Fe.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Gl={ConnectorExplorerIds:{[Fe.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Fe.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Fe.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Fe.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Fe.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[dr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[dr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[dr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[dr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[dr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[dr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[dr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[dr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[dr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[dr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[dr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Fe.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Fe.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Fe.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Fe.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Fe.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Fe.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Fe.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Fe.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Fe.CONNECTOR_ID.COINBASE]:"Coinbase",[Fe.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Fe.CONNECTOR_ID.LEDGER]:"Ledger",[Fe.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Fe.CONNECTOR_ID.INJECTED]:"INJECTED",[Fe.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Fe.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Fe.CONNECTOR_ID.AUTH]:"AUTH",[dr.CONNECTOR_TYPE_AUTH]:"AUTH"}},mi={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${dr.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=he.state.activeChain;return Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ut.getConnectorId(e)===Fe.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await t()?s(!0):r>=n?s(!1):(setTimeout(i,e),null)}i()})}},F_e=new AbortController,ao={EmbeddedWalletAbortController:F_e,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found. Please make sure it is included in 'networks' array in createAppKit function."},ORIGIN_NOT_ALLOWED:{shortMessage:"Origin Not Allowed",longMessage:()=>` Origin ${$_e()?window.origin:"unknown"} not found on allow list. Please update your project configurations on dashboard.reown.com.`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Unverified Domain",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider. Please check your time settings and connect again."},INVALID_PROJECT_ID:{shortMessage:"Invalid Project ID",longMessage:"The project ID is invalid. Visit dashboard.reown.com to get a new one."},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured. Please update your project configurations on dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function $_e(){return typeof window<"u"}const H_e={createLogger(t,e="error"){const n=Wm({level:e}),{logger:r}=t4({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},z_e="rpc.walletconnect.org";function UL(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const _3=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Gg={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===z_e}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Fe.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Fe.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return _3.includes(e)?UL(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,i,n),l=t?.rpcUrls?.chainDefault?.http?.[0]||o,c=r?.[i]?.map(p=>p.url)||[],d=[...c,...a?[a]:[]],f=[...c];return l&&!f.includes(l)&&f.push(l),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Gl.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:d},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Gg.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(s=>{r.push(zE(s.url,s.config))}),_3.includes(t.caipNetworkId)&&r.push(zE(UL(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(s=>{r.push(zE(s))}),PD(r)},extendWagmiTransports(t,e,n){if(_3.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return PD([n,zE(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Fe.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=ct.getActiveCaipNetworkId(),n=he.getAllRequestedCaipNetworks(),r=Array.from(he.state.chains?.keys()||[]),s=e?.split(":")[0],i=s?r.includes(s):!1,o=n?.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}},B2={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ko=Wr({providers:{...B2},providerIds:{...B2}}),er={state:ko,subscribeKey(t,e){return Xi(ko,t,e)},subscribe(t){return wi(ko,()=>{t(ko)})},subscribeProviders(t){return wi(ko.providers,()=>t(ko.providers))},setProvider(t,e){t&&e&&(ko.providers[t]=s0(e))},getProvider(t){if(t)return ko.providers[t]},setProviderId(t,e){e&&(ko.providerIds[t]=e)},getProviderId(t){if(t)return ko.providerIds[t]},reset(){ko.providers={...B2},ko.providerIds={...B2}},resetChain(t){ko.providers[t]=void 0,ko.providerIds[t]=void 0}};var Tb={},LL;function q_e(){if(LL)return Tb;LL=1,Tb.byteLength=a,Tb.toByteArray=c,Tb.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=g.indexOf("=");w===-1&&(w=b);var m=w===b?0:4-w%4;return[w,m]}function a(g){var b=o(g),w=b[0],m=b[1];return(w+m)*3/4-m}function l(g,b,w){return(b+w)*3/4-w}function c(g){var b,w=o(g),m=w[0],v=w[1],x=new n(l(g,m,v)),C=0,S=v>0?m-4:m,T;for(T=0;T<S;T+=4)b=e[g.charCodeAt(T)]<<18|e[g.charCodeAt(T+1)]<<12|e[g.charCodeAt(T+2)]<<6|e[g.charCodeAt(T+3)],x[C++]=b>>16&255,x[C++]=b>>8&255,x[C++]=b&255;return v===2&&(b=e[g.charCodeAt(T)]<<2|e[g.charCodeAt(T+1)]>>4,x[C++]=b&255),v===1&&(b=e[g.charCodeAt(T)]<<10|e[g.charCodeAt(T+1)]<<4|e[g.charCodeAt(T+2)]>>2,x[C++]=b>>8&255,x[C++]=b&255),x}function d(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function f(g,b,w){for(var m,v=[],x=b;x<w;x+=3)m=(g[x]<<16&16711680)+(g[x+1]<<8&65280)+(g[x+2]&255),v.push(d(m));return v.join("")}function p(g){for(var b,w=g.length,m=w%3,v=[],x=16383,C=0,S=w-m;C<S;C+=x)v.push(f(g,C,C+x>S?S:C+x));return m===1?(b=g[w-1],v.push(t[b>>2]+t[b<<4&63]+"==")):m===2&&(b=(g[w-2]<<8)+g[w-1],v.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),v.join("")}return Tb}var uA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var jL;function V_e(){return jL||(jL=1,uA.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,f=n?s-1:0,p=n?-1:1,g=t[e+f];for(f+=p,i=g&(1<<-d)-1,g>>=-d,d+=a;d>0;i=i*256+t[e+f],f+=p,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+t[e+f],f+=p,d-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(g?-1:1)*o*Math.pow(2,i-r)},uA.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,d=(1<<c)-1,f=d>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:i-1,b=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(a=0,o=d):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+g]=a&255,g+=b,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+g]=o&255,g+=b,o/=256,c-=8);t[n+g-b]|=w*128}),uA}const FL={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Ti={set(t,e){Ta.isClient&&localStorage.setItem(`${kt.STORAGE_KEY}${t}`,e)},get(t){return Ta.isClient?localStorage.getItem(`${kt.STORAGE_KEY}${t}`):null},delete(t,e){Ta.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${kt.STORAGE_KEY}${t}`))}},dA=30*1e3,Ta={checkIfAllowedToTriggerEmail(){const t=Ti.get(kt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<dA){const n=Math.ceil((dA-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Ti.get(kt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<dA)return Math.ceil((dA-e)/1e3)}return 0},checkIfRequestExists(t){return ei.NOT_SAFE_RPC_METHODS.includes(t.method)||ei.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(FL.transactionHash)||t?.match(FL.signedMessage))?kt.RPC_RESPONSE_TYPE_TX:kt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return ei.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var hr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(hr||(hr={}));var gO;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(gO||(gO={}));const At=hr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uf=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},lt=hr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),G_e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ol extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,hr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ol.create=t=>new ol(t);const tv=(t,e)=>{let n;switch(t.code){case lt.invalid_type:t.received===At.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case lt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,hr.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:n=`Unrecognized key(s) in object: ${hr.joinValues(t.keys,", ")}`;break;case lt.invalid_union:n="Invalid input";break;case lt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hr.joinValues(t.options)}`;break;case lt.invalid_enum_value:n=`Invalid enum value. Expected ${hr.joinValues(t.options)}, received '${t.received}'`;break;case lt.invalid_arguments:n="Invalid function arguments";break;case lt.invalid_return_type:n="Invalid function return type";break;case lt.invalid_date:n="Invalid date";break;case lt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:hr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case lt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case lt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case lt.custom:n="Invalid input";break;case lt.invalid_intersection_types:n="Intersection results could not be merged";break;case lt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case lt.not_finite:n="Number must be finite";break;default:n=e.defaultError,hr.assertNever(t)}return{message:n}};let XK=tv;function K_e(t){XK=t}function D2(){return XK}const M2=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},W_e=[];function Tt(t,e){const n=M2({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,D2(),tv].filter(r=>!!r)});t.common.issues.push(n)}class Zi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return wn;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Zi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return wn;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const wn=Object.freeze({status:"aborted"}),eW=t=>({status:"dirty",value:t}),bo=t=>({status:"valid",value:t}),mO=t=>t.status==="aborted",yO=t=>t.status==="dirty",nv=t=>t.status==="valid",U2=t=>typeof Promise<"u"&&t instanceof Promise;var Wt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Wt||(Wt={}));class ou{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $L=(t,e)=>{if(nv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ol(t.common.issues);return this._error=n,this._error}}};function Sn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class In{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Uf(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Uf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zi,ctx:{common:e.parent.common,data:e.data,parsedType:Uf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(U2(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uf(e)},i=this._parseSync({data:e,path:s.path,parent:s});return $L(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uf(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(U2(s)?s:Promise.resolve(s));return $L(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:lt.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ul({schema:this,typeName:un.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return vd.create(this,this._def)}nullable(){return f0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return al.create(this,this._def)}promise(){return Sm.create(this,this._def)}or(e){return ov.create([this,e],this._def)}and(e){return av.create(this,e,this._def)}transform(e){return new ul({...Sn(this._def),schema:this,typeName:un.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fv({...Sn(this._def),innerType:this,defaultValue:n,typeName:un.ZodDefault})}brand(){return new nW({typeName:un.ZodBranded,type:this,...Sn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new $2({...Sn(this._def),innerType:this,catchValue:n,typeName:un.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Jv.create(this,e)}readonly(){return z2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q_e=/^c[^\s-]{8,}$/i,Y_e=/^[a-z][a-z0-9]*$/,J_e=/^[0-9A-HJKMNP-TV-Z]{26}$/,Z_e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,X_e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eNe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let N3;const tNe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,nNe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rNe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function sNe(t,e){return!!((e==="v4"||!e)&&tNe.test(t)||(e==="v6"||!e)&&nNe.test(t))}class tl extends In{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==At.string){const i=this._getOrReturnCtx(e);return Tt(i,{code:lt.invalid_type,expected:At.string,received:i.parsedType}),wn}const r=new Zi;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Tt(s,{code:lt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Tt(s,{code:lt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")X_e.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"email",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")N3||(N3=new RegExp(eNe,"u")),N3.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"emoji",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Z_e.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"uuid",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Q_e.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"cuid",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Y_e.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"cuid2",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")J_e.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"ulid",code:lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Tt(s,{validation:"url",code:lt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"regex",code:lt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?rNe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?sNe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Tt(s,{validation:"ip",code:lt.invalid_string,message:i.message}),r.dirty()):hr.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:lt.invalid_string,...Wt.errToObj(r)})}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wt.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...Wt.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Wt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Wt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Wt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Wt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Wt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Wt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Wt.errToObj(n)})}nonempty(e){return this.min(1,Wt.errToObj(e))}trim(){return new tl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tl.create=t=>{var e;return new tl({checks:[],typeName:un.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Sn(t)})};function iNe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class eh extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==At.number){const i=this._getOrReturnCtx(e);return Tt(i,{code:lt.invalid_type,expected:At.number,received:i.parsedType}),wn}let r;const s=new Zi;for(const i of this._def.checks)i.kind==="int"?hr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?iNe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.not_finite,message:i.message}),s.dirty()):hr.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Wt.toString(n))}setLimit(e,n,r,s){return new eh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Wt.toString(s)}]})}_addCheck(e){return new eh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Wt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}eh.create=t=>new eh({checks:[],typeName:un.ZodNumber,coerce:t?.coerce||!1,...Sn(t)});class th extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==At.bigint){const i=this._getOrReturnCtx(e);return Tt(i,{code:lt.invalid_type,expected:At.bigint,received:i.parsedType}),wn}let r;const s=new Zi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Tt(r,{code:lt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):hr.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Wt.toString(n))}setLimit(e,n,r,s){return new th({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Wt.toString(s)}]})}_addCheck(e){return new th({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}th.create=t=>{var e;return new th({checks:[],typeName:un.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Sn(t)})};class rv extends In{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==At.boolean){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.boolean,received:r.parsedType}),wn}return bo(e.data)}}rv.create=t=>new rv({typeName:un.ZodBoolean,coerce:t?.coerce||!1,...Sn(t)});class u0 extends In{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==At.date){const i=this._getOrReturnCtx(e);return Tt(i,{code:lt.invalid_type,expected:At.date,received:i.parsedType}),wn}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Tt(i,{code:lt.invalid_date}),wn}const r=new Zi;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Tt(s,{code:lt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):hr.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new u0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Wt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Wt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}u0.create=t=>new u0({checks:[],coerce:t?.coerce||!1,typeName:un.ZodDate,...Sn(t)});class L2 extends In{_parse(e){if(this._getType(e)!==At.symbol){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.symbol,received:r.parsedType}),wn}return bo(e.data)}}L2.create=t=>new L2({typeName:un.ZodSymbol,...Sn(t)});class sv extends In{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.undefined,received:r.parsedType}),wn}return bo(e.data)}}sv.create=t=>new sv({typeName:un.ZodUndefined,...Sn(t)});class iv extends In{_parse(e){if(this._getType(e)!==At.null){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.null,received:r.parsedType}),wn}return bo(e.data)}}iv.create=t=>new iv({typeName:un.ZodNull,...Sn(t)});class Cm extends In{constructor(){super(...arguments),this._any=!0}_parse(e){return bo(e.data)}}Cm.create=t=>new Cm({typeName:un.ZodAny,...Sn(t)});class Qp extends In{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bo(e.data)}}Qp.create=t=>new Qp({typeName:un.ZodUnknown,...Sn(t)});class _d extends In{_parse(e){const n=this._getOrReturnCtx(e);return Tt(n,{code:lt.invalid_type,expected:At.never,received:n.parsedType}),wn}}_d.create=t=>new _d({typeName:un.ZodNever,...Sn(t)});class j2 extends In{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.void,received:r.parsedType}),wn}return bo(e.data)}}j2.create=t=>new j2({typeName:un.ZodVoid,...Sn(t)});class al extends In{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==At.array)return Tt(n,{code:lt.invalid_type,expected:At.array,received:n.parsedType}),wn;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Tt(n,{code:o?lt.too_big:lt.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Tt(n,{code:lt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Tt(n,{code:lt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ou(n,o,n.path,a)))).then(o=>Zi.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ou(n,o,n.path,a)));return Zi.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new al({...this._def,minLength:{value:e,message:Wt.toString(n)}})}max(e,n){return new al({...this._def,maxLength:{value:e,message:Wt.toString(n)}})}length(e,n){return new al({...this._def,exactLength:{value:e,message:Wt.toString(n)}})}nonempty(e){return this.min(1,e)}}al.create=(t,e)=>new al({type:t,minLength:null,maxLength:null,exactLength:null,typeName:un.ZodArray,...Sn(e)});function Kg(t){if(t instanceof ds){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=vd.create(Kg(r))}return new ds({...t._def,shape:()=>e})}else return t instanceof al?new al({...t._def,type:Kg(t.element)}):t instanceof vd?vd.create(Kg(t.unwrap())):t instanceof f0?f0.create(Kg(t.unwrap())):t instanceof au?au.create(t.items.map(e=>Kg(e))):t}class ds extends In{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=hr.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==At.object){const c=this._getOrReturnCtx(e);return Tt(c,{code:lt.invalid_type,expected:At.object,received:c.parsedType}),wn}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof _d&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ou(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof _d){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(Tt(s,{code:lt.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ou(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key;c.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>Zi.mergeObjectSync(r,c)):Zi.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Wt.errToObj,new ds({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Wt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ds({...this._def,unknownKeys:"strip"})}passthrough(){return new ds({...this._def,unknownKeys:"passthrough"})}extend(e){return new ds({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ds({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:un.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ds({...this._def,catchall:e})}pick(e){const n={};return hr.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ds({...this._def,shape:()=>n})}omit(e){const n={};return hr.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ds({...this._def,shape:()=>n})}deepPartial(){return Kg(this)}partial(e){const n={};return hr.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ds({...this._def,shape:()=>n})}required(e){const n={};return hr.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof vd;)i=i._def.innerType;n[r]=i}}),new ds({...this._def,shape:()=>n})}keyof(){return tW(hr.objectKeys(this.shape))}}ds.create=(t,e)=>new ds({shape:()=>t,unknownKeys:"strip",catchall:_d.create(),typeName:un.ZodObject,...Sn(e)});ds.strictCreate=(t,e)=>new ds({shape:()=>t,unknownKeys:"strict",catchall:_d.create(),typeName:un.ZodObject,...Sn(e)});ds.lazycreate=(t,e)=>new ds({shape:t,unknownKeys:"strip",catchall:_d.create(),typeName:un.ZodObject,...Sn(e)});class ov extends In{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ol(a.ctx.common.issues));return Tt(n,{code:lt.invalid_union,unionErrors:o}),wn}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new ol(l));return Tt(n,{code:lt.invalid_union,unionErrors:a}),wn}}get options(){return this._def.options}}ov.create=(t,e)=>new ov({options:t,typeName:un.ZodUnion,...Sn(e)});const YA=t=>t instanceof lv?YA(t.schema):t instanceof ul?YA(t.innerType()):t instanceof uv?[t.value]:t instanceof nh?t.options:t instanceof dv?Object.keys(t.enum):t instanceof fv?YA(t._def.innerType):t instanceof sv?[void 0]:t instanceof iv?[null]:null;class eS extends In{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.object)return Tt(n,{code:lt.invalid_type,expected:At.object,received:n.parsedType}),wn;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Tt(n,{code:lt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),wn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=YA(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new eS({typeName:un.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Sn(r)})}}function bO(t,e){const n=Uf(t),r=Uf(e);if(t===e)return{valid:!0,data:t};if(n===At.object&&r===At.object){const s=hr.objectKeys(e),i=hr.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=bO(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=bO(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===At.date&&r===At.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class av extends In{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(mO(i)||mO(o))return wn;const a=bO(i.value,o.value);return a.valid?((yO(i)||yO(o))&&n.dirty(),{status:n.value,value:a.data}):(Tt(r,{code:lt.invalid_intersection_types}),wn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}av.create=(t,e,n)=>new av({left:t,right:e,typeName:un.ZodIntersection,...Sn(n)});class au extends In{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.array)return Tt(r,{code:lt.invalid_type,expected:At.array,received:r.parsedType}),wn;if(r.data.length<this._def.items.length)return Tt(r,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wn;!this._def.rest&&r.data.length>this._def.items.length&&(Tt(r,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ou(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Zi.mergeArray(n,o)):Zi.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new au({...this._def,rest:e})}}au.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new au({items:t,typeName:un.ZodTuple,rest:null,...Sn(e)})};class cv extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.object)return Tt(r,{code:lt.invalid_type,expected:At.object,received:r.parsedType}),wn;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ou(r,a,r.path,a)),value:o._parse(new ou(r,r.data[a],r.path,a))});return r.common.async?Zi.mergeObjectAsync(n,s):Zi.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof In?new cv({keyType:e,valueType:n,typeName:un.ZodRecord,...Sn(r)}):new cv({keyType:tl.create(),valueType:e,typeName:un.ZodRecord,...Sn(n)})}}class F2 extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.map)return Tt(r,{code:lt.invalid_type,expected:At.map,received:r.parsedType}),wn;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ou(r,a,r.path,[c,"key"])),value:i._parse(new ou(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return wn;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return wn;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}F2.create=(t,e,n)=>new F2({valueType:e,keyType:t,typeName:un.ZodMap,...Sn(n)});class d0 extends In{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.set)return Tt(r,{code:lt.invalid_type,expected:At.set,received:r.parsedType}),wn;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Tt(r,{code:lt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Tt(r,{code:lt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return wn;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ou(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new d0({...this._def,minSize:{value:e,message:Wt.toString(n)}})}max(e,n){return new d0({...this._def,maxSize:{value:e,message:Wt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}d0.create=(t,e)=>new d0({valueType:t,minSize:null,maxSize:null,typeName:un.ZodSet,...Sn(e)});class im extends In{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.function)return Tt(n,{code:lt.invalid_type,expected:At.function,received:n.parsedType}),wn;function r(a,l){return M2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,D2(),tv].filter(c=>!!c),issueData:{code:lt.invalid_arguments,argumentsError:l}})}function s(a,l){return M2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,D2(),tv].filter(c=>!!c),issueData:{code:lt.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Sm){const a=this;return bo(async function(...l){const c=new ol([]),d=await a._def.args.parseAsync(l,i).catch(g=>{throw c.addIssue(r(l,g)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(g=>{throw c.addIssue(s(f,g)),c})})}else{const a=this;return bo(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new ol([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new ol([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new im({...this._def,args:au.create(e).rest(Qp.create())})}returns(e){return new im({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new im({args:e||au.create([]).rest(Qp.create()),returns:n||Qp.create(),typeName:un.ZodFunction,...Sn(r)})}}class lv extends In{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}lv.create=(t,e)=>new lv({getter:t,typeName:un.ZodLazy,...Sn(e)});class uv extends In{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Tt(n,{received:n.data,code:lt.invalid_literal,expected:this._def.value}),wn}return{status:"valid",value:e.data}}get value(){return this._def.value}}uv.create=(t,e)=>new uv({value:t,typeName:un.ZodLiteral,...Sn(e)});function tW(t,e){return new nh({values:t,typeName:un.ZodEnum,...Sn(e)})}class nh extends In{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Tt(n,{expected:hr.joinValues(r),received:n.parsedType,code:lt.invalid_type}),wn}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Tt(n,{received:n.data,code:lt.invalid_enum_value,options:r}),wn}return bo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return nh.create(e)}exclude(e){return nh.create(this.options.filter(n=>!e.includes(n)))}}nh.create=tW;class dv extends In{_parse(e){const n=hr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==At.string&&r.parsedType!==At.number){const s=hr.objectValues(n);return Tt(r,{expected:hr.joinValues(s),received:r.parsedType,code:lt.invalid_type}),wn}if(n.indexOf(e.data)===-1){const s=hr.objectValues(n);return Tt(r,{received:r.data,code:lt.invalid_enum_value,options:s}),wn}return bo(e.data)}get enum(){return this._def.values}}dv.create=(t,e)=>new dv({values:t,typeName:un.ZodNativeEnum,...Sn(e)});class Sm extends In{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.promise&&n.common.async===!1)return Tt(n,{code:lt.invalid_type,expected:At.promise,received:n.parsedType}),wn;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return bo(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sm.create=(t,e)=>new Sm({type:t,typeName:un.ZodPromise,...Sn(e)});class ul extends In{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===un.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Tt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?wn:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?wn:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nv(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>nv(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);hr.assertNever(s)}}ul.create=(t,e,n)=>new ul({schema:t,typeName:un.ZodEffects,effect:e,...Sn(n)});ul.createWithPreprocess=(t,e,n)=>new ul({schema:e,effect:{type:"preprocess",transform:t},typeName:un.ZodEffects,...Sn(n)});class vd extends In{_parse(e){return this._getType(e)===At.undefined?bo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vd.create=(t,e)=>new vd({innerType:t,typeName:un.ZodOptional,...Sn(e)});class f0 extends In{_parse(e){return this._getType(e)===At.null?bo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}f0.create=(t,e)=>new f0({innerType:t,typeName:un.ZodNullable,...Sn(e)});class fv extends In{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fv.create=(t,e)=>new fv({innerType:t,typeName:un.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Sn(e)});class $2 extends In{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return U2(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$2.create=(t,e)=>new $2({innerType:t,typeName:un.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Sn(e)});class H2 extends In{_parse(e){if(this._getType(e)!==At.nan){const r=this._getOrReturnCtx(e);return Tt(r,{code:lt.invalid_type,expected:At.nan,received:r.parsedType}),wn}return{status:"valid",value:e.data}}}H2.create=t=>new H2({typeName:un.ZodNaN,...Sn(t)});const oNe=Symbol("zod_brand");class nW extends In{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Jv extends In{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?wn:i.status==="dirty"?(n.dirty(),eW(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?wn:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Jv({in:e,out:n,typeName:un.ZodPipeline})}}class z2 extends In{_parse(e){const n=this._def.innerType._parse(e);return nv(n)&&(n.value=Object.freeze(n.value)),n}}z2.create=(t,e)=>new z2({innerType:t,typeName:un.ZodReadonly,...Sn(e)});const rW=(t,e={},n)=>t?Cm.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):Cm.create(),aNe={object:ds.lazycreate};var un;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(un||(un={}));const cNe=(t,e={message:`Input not instance of ${t.name}`})=>rW(n=>n instanceof t,e),sW=tl.create,iW=eh.create,lNe=H2.create,uNe=th.create,oW=rv.create,dNe=u0.create,fNe=L2.create,hNe=sv.create,pNe=iv.create,gNe=Cm.create,mNe=Qp.create,yNe=_d.create,bNe=j2.create,wNe=al.create,vNe=ds.create,xNe=ds.strictCreate,ENe=ov.create,ANe=eS.create,CNe=av.create,SNe=au.create,_Ne=cv.create,NNe=F2.create,TNe=d0.create,RNe=im.create,PNe=lv.create,ONe=uv.create,INe=nh.create,kNe=dv.create,BNe=Sm.create,HL=ul.create,DNe=vd.create,MNe=f0.create,UNe=ul.createWithPreprocess,LNe=Jv.create,jNe=()=>sW().optional(),FNe=()=>iW().optional(),$Ne=()=>oW().optional(),HNe={string:t=>tl.create({...t,coerce:!0}),number:t=>eh.create({...t,coerce:!0}),boolean:t=>rv.create({...t,coerce:!0}),bigint:t=>th.create({...t,coerce:!0}),date:t=>u0.create({...t,coerce:!0})},zNe=wn;var ie=Object.freeze({__proto__:null,defaultErrorMap:tv,setErrorMap:K_e,getErrorMap:D2,makeIssue:M2,EMPTY_PATH:W_e,addIssueToContext:Tt,ParseStatus:Zi,INVALID:wn,DIRTY:eW,OK:bo,isAborted:mO,isDirty:yO,isValid:nv,isAsync:U2,get util(){return hr},get objectUtil(){return gO},ZodParsedType:At,getParsedType:Uf,ZodType:In,ZodString:tl,ZodNumber:eh,ZodBigInt:th,ZodBoolean:rv,ZodDate:u0,ZodSymbol:L2,ZodUndefined:sv,ZodNull:iv,ZodAny:Cm,ZodUnknown:Qp,ZodNever:_d,ZodVoid:j2,ZodArray:al,ZodObject:ds,ZodUnion:ov,ZodDiscriminatedUnion:eS,ZodIntersection:av,ZodTuple:au,ZodRecord:cv,ZodMap:F2,ZodSet:d0,ZodFunction:im,ZodLazy:lv,ZodLiteral:uv,ZodEnum:nh,ZodNativeEnum:dv,ZodPromise:Sm,ZodEffects:ul,ZodTransformer:ul,ZodOptional:vd,ZodNullable:f0,ZodDefault:fv,ZodCatch:$2,ZodNaN:H2,BRAND:oNe,ZodBranded:nW,ZodPipeline:Jv,ZodReadonly:z2,custom:rW,Schema:In,ZodSchema:In,late:aNe,get ZodFirstPartyTypeKind(){return un},coerce:HNe,any:gNe,array:wNe,bigint:uNe,boolean:oW,date:dNe,discriminatedUnion:ANe,effect:HL,enum:INe,function:RNe,instanceof:cNe,intersection:CNe,lazy:PNe,literal:ONe,map:NNe,nan:lNe,nativeEnum:kNe,never:yNe,null:pNe,nullable:MNe,number:iW,object:vNe,oboolean:$Ne,onumber:FNe,optional:DNe,ostring:jNe,pipeline:LNe,preprocess:UNe,promise:BNe,record:_Ne,set:TNe,strictObject:xNe,string:sW,symbol:fNe,transformer:HL,tuple:SNe,undefined:hNe,union:ENe,unknown:mNe,void:bNe,NEVER:zNe,ZodIssueCode:lt,quotelessJson:G_e,ZodError:ol});const ws=ie.object({message:ie.string()});function St(t){return ie.literal(kt[t])}const tS=ie.object({serializedMessage:ie.string().optional(),accountAddress:ie.string(),chainId:ie.string(),notBefore:ie.string().optional(),domain:ie.string(),uri:ie.string(),version:ie.string(),nonce:ie.string(),statement:ie.string().optional(),resources:ie.array(ie.string()).optional(),requestId:ie.string().optional(),issuedAt:ie.string().optional(),expirationTime:ie.string().optional()});ie.object({accessList:ie.array(ie.string()),blockHash:ie.string().nullable(),blockNumber:ie.string().nullable(),chainId:ie.string().or(ie.number()),from:ie.string(),gas:ie.string(),hash:ie.string(),input:ie.string().nullable(),maxFeePerGas:ie.string(),maxPriorityFeePerGas:ie.string(),nonce:ie.string(),r:ie.string(),s:ie.string(),to:ie.string(),transactionIndex:ie.string().nullable(),type:ie.string(),v:ie.string(),value:ie.string()});const qNe=ie.object({chainId:ie.string().or(ie.number()),rpcUrl:ie.optional(ie.string())}),VNe=ie.object({email:ie.string().email()}),GNe=ie.object({otp:ie.string()}),KNe=ie.object({uri:ie.string(),preferredAccountType:ie.optional(ie.string()),chainId:ie.optional(ie.string().or(ie.number())),siwxMessage:ie.optional(tS),rpcUrl:ie.optional(ie.string())}),WNe=ie.object({chainId:ie.optional(ie.string().or(ie.number())),preferredAccountType:ie.optional(ie.string()),socialUri:ie.optional(ie.string()),siwxMessage:ie.optional(tS),rpcUrl:ie.optional(ie.string())}),QNe=ie.object({provider:ie.enum(["google","github","apple","facebook","x","discord"])}),YNe=ie.object({email:ie.string().email()}),JNe=ie.object({otp:ie.string()}),ZNe=ie.object({otp:ie.string()}),XNe=ie.object({themeMode:ie.optional(ie.enum(["light","dark"])),themeVariables:ie.optional(ie.record(ie.string(),ie.string().or(ie.number()))),w3mThemeVariables:ie.optional(ie.record(ie.string(),ie.string()))}),eTe=ie.object({metadata:ie.object({name:ie.string(),description:ie.string(),url:ie.string(),icons:ie.array(ie.string())}).optional(),sdkVersion:ie.string().optional(),sdkType:ie.string().optional(),projectId:ie.string()}),tTe=ie.object({type:ie.string()}),nTe=ie.object({action:ie.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),rTe=ie.object({url:ie.string()}),sTe=ie.object({userName:ie.string()}),iTe=ie.object({email:ie.string().optional().nullable(),address:ie.string(),chainId:ie.string().or(ie.number()),accounts:ie.array(ie.object({address:ie.string(),type:ie.enum([ei.ACCOUNT_TYPES.EOA,ei.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:ie.string().optional().nullable(),preferredAccountType:ie.optional(ie.string()),signature:ie.string().optional(),message:ie.string().optional(),siwxMessage:ie.optional(tS)}),oTe=ie.object({action:ie.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),aTe=ie.object({email:ie.string().email().optional().nullable(),address:ie.string(),chainId:ie.string().or(ie.number()),smartAccountDeployed:ie.optional(ie.boolean()),accounts:ie.array(ie.object({address:ie.string(),type:ie.enum([ei.ACCOUNT_TYPES.EOA,ei.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:ie.optional(ie.string()),signature:ie.string().optional(),message:ie.string().optional(),siwxMessage:ie.optional(tS)}),cTe=ie.object({uri:ie.string()}),lTe=ie.object({isConnected:ie.boolean()}),uTe=ie.object({chainId:ie.string().or(ie.number())}),dTe=ie.object({chainId:ie.string().or(ie.number())}),fTe=ie.object({newEmail:ie.string().email()}),hTe=ie.object({smartAccountEnabledNetworks:ie.array(ie.number())});ie.object({address:ie.string(),isDeployed:ie.boolean()});const pTe=ie.object({version:ie.string().optional()}),gTe=ie.object({type:ie.string(),address:ie.string()}),mTe=ie.any(),yTe=ie.object({method:ie.literal("eth_accounts")}),bTe=ie.object({method:ie.literal("eth_blockNumber")}),wTe=ie.object({method:ie.literal("eth_call"),params:ie.array(ie.any())}),vTe=ie.object({method:ie.literal("eth_chainId")}),xTe=ie.object({method:ie.literal("eth_estimateGas"),params:ie.array(ie.any())}),ETe=ie.object({method:ie.literal("eth_feeHistory"),params:ie.array(ie.any())}),ATe=ie.object({method:ie.literal("eth_gasPrice")}),CTe=ie.object({method:ie.literal("eth_getAccount"),params:ie.array(ie.any())}),STe=ie.object({method:ie.literal("eth_getBalance"),params:ie.array(ie.any())}),_Te=ie.object({method:ie.literal("eth_getBlockByHash"),params:ie.array(ie.any())}),NTe=ie.object({method:ie.literal("eth_getBlockByNumber"),params:ie.array(ie.any())}),TTe=ie.object({method:ie.literal("eth_getBlockReceipts"),params:ie.array(ie.any())}),RTe=ie.object({method:ie.literal("eth_getBlockTransactionCountByHash"),params:ie.array(ie.any())}),PTe=ie.object({method:ie.literal("eth_getBlockTransactionCountByNumber"),params:ie.array(ie.any())}),OTe=ie.object({method:ie.literal("eth_getCode"),params:ie.array(ie.any())}),ITe=ie.object({method:ie.literal("eth_getFilterChanges"),params:ie.array(ie.any())}),kTe=ie.object({method:ie.literal("eth_getFilterLogs"),params:ie.array(ie.any())}),BTe=ie.object({method:ie.literal("eth_getLogs"),params:ie.array(ie.any())}),DTe=ie.object({method:ie.literal("eth_getProof"),params:ie.array(ie.any())}),MTe=ie.object({method:ie.literal("eth_getStorageAt"),params:ie.array(ie.any())}),UTe=ie.object({method:ie.literal("eth_getTransactionByBlockHashAndIndex"),params:ie.array(ie.any())}),LTe=ie.object({method:ie.literal("eth_getTransactionByBlockNumberAndIndex"),params:ie.array(ie.any())}),jTe=ie.object({method:ie.literal("eth_getTransactionByHash"),params:ie.array(ie.any())}),FTe=ie.object({method:ie.literal("eth_getTransactionCount"),params:ie.array(ie.any())}),$Te=ie.object({method:ie.literal("eth_getTransactionReceipt"),params:ie.array(ie.any())}),HTe=ie.object({method:ie.literal("eth_getUncleCountByBlockHash"),params:ie.array(ie.any())}),zTe=ie.object({method:ie.literal("eth_getUncleCountByBlockNumber"),params:ie.array(ie.any())}),qTe=ie.object({method:ie.literal("eth_maxPriorityFeePerGas")}),VTe=ie.object({method:ie.literal("eth_newBlockFilter")}),GTe=ie.object({method:ie.literal("eth_newFilter"),params:ie.array(ie.any())}),KTe=ie.object({method:ie.literal("eth_newPendingTransactionFilter")}),WTe=ie.object({method:ie.literal("eth_sendRawTransaction"),params:ie.array(ie.any())}),QTe=ie.object({method:ie.literal("eth_syncing"),params:ie.array(ie.any())}),YTe=ie.object({method:ie.literal("eth_uninstallFilter"),params:ie.array(ie.any())}),zL=ie.object({method:ie.literal("personal_sign"),params:ie.array(ie.any())}),JTe=ie.object({method:ie.literal("eth_signTypedData_v4"),params:ie.array(ie.any())}),ZTe=ie.object({method:ie.literal("eth_sendTransaction"),params:ie.array(ie.any())}),XTe=ie.object({method:ie.literal("solana_signMessage"),params:ie.object({message:ie.string(),pubkey:ie.string()})}),e3e=ie.object({method:ie.literal("solana_signTransaction"),params:ie.object({transaction:ie.string()})}),t3e=ie.object({method:ie.literal("solana_signAllTransactions"),params:ie.object({transactions:ie.array(ie.string())})}),n3e=ie.object({method:ie.literal("solana_signAndSendTransaction"),params:ie.object({transaction:ie.string(),options:ie.object({skipPreflight:ie.boolean().optional(),preflightCommitment:ie.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:ie.number().optional(),minContextSlot:ie.number().optional()}).optional()})}),r3e=ie.object({method:ie.literal("wallet_sendCalls"),params:ie.array(ie.object({chainId:ie.string().or(ie.number()).optional(),from:ie.string().optional(),version:ie.string().optional(),capabilities:ie.any().optional(),calls:ie.array(ie.object({to:ie.string().startsWith("0x"),data:ie.string().startsWith("0x").optional(),value:ie.string().optional()}))}))}),s3e=ie.object({method:ie.literal("wallet_getCallsStatus"),params:ie.array(ie.string())}),i3e=ie.object({method:ie.literal("wallet_getCapabilities"),params:ie.array(ie.string().or(ie.number()).optional()).optional()}),o3e=ie.object({method:ie.literal("wallet_grantPermissions"),params:ie.array(ie.any())}),a3e=ie.object({method:ie.literal("wallet_revokePermissions"),params:ie.any()}),c3e=ie.object({method:ie.literal("wallet_getAssets"),params:ie.any()}),qL=ie.object({token:ie.string()}),_t=ie.object({id:ie.string().optional()}),T3={appEvent:_t.extend({type:St("APP_SWITCH_NETWORK"),payload:qNe}).or(_t.extend({type:St("APP_CONNECT_EMAIL"),payload:VNe})).or(_t.extend({type:St("APP_CONNECT_DEVICE")})).or(_t.extend({type:St("APP_CONNECT_OTP"),payload:GNe})).or(_t.extend({type:St("APP_CONNECT_SOCIAL"),payload:KNe})).or(_t.extend({type:St("APP_GET_FARCASTER_URI")})).or(_t.extend({type:St("APP_CONNECT_FARCASTER")})).or(_t.extend({type:St("APP_GET_USER"),payload:ie.optional(WNe)})).or(_t.extend({type:St("APP_GET_SOCIAL_REDIRECT_URI"),payload:QNe})).or(_t.extend({type:St("APP_SIGN_OUT")})).or(_t.extend({type:St("APP_IS_CONNECTED"),payload:ie.optional(qL)})).or(_t.extend({type:St("APP_GET_CHAIN_ID")})).or(_t.extend({type:St("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(_t.extend({type:St("APP_INIT_SMART_ACCOUNT")})).or(_t.extend({type:St("APP_SET_PREFERRED_ACCOUNT"),payload:tTe})).or(_t.extend({type:St("APP_RPC_REQUEST"),payload:zL.or(c3e).or(yTe).or(bTe).or(wTe).or(vTe).or(xTe).or(ETe).or(ATe).or(CTe).or(STe).or(_Te).or(NTe).or(TTe).or(RTe).or(PTe).or(OTe).or(ITe).or(kTe).or(BTe).or(DTe).or(MTe).or(UTe).or(LTe).or(jTe).or(FTe).or($Te).or(HTe).or(zTe).or(qTe).or(VTe).or(GTe).or(KTe).or(WTe).or(QTe).or(YTe).or(zL).or(JTe).or(ZTe).or(XTe).or(e3e).or(t3e).or(n3e).or(s3e).or(r3e).or(i3e).or(o3e).or(a3e).and(ie.object({chainId:ie.string().or(ie.number()).optional(),chainNamespace:ie.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:ie.string().optional()}))})).or(_t.extend({type:St("APP_UPDATE_EMAIL"),payload:YNe})).or(_t.extend({type:St("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:JNe})).or(_t.extend({type:St("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ZNe})).or(_t.extend({type:St("APP_SYNC_THEME"),payload:XNe})).or(_t.extend({type:St("APP_SYNC_DAPP_DATA"),payload:eTe})).or(_t.extend({type:St("APP_RELOAD")})).or(_t.extend({type:St("APP_RPC_ABORT")})),frameEvent:_t.extend({type:St("FRAME_SWITCH_NETWORK_ERROR"),payload:ws}).or(_t.extend({type:St("FRAME_SWITCH_NETWORK_SUCCESS"),payload:dTe})).or(_t.extend({type:St("FRAME_CONNECT_EMAIL_SUCCESS"),payload:nTe})).or(_t.extend({type:St("FRAME_CONNECT_EMAIL_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:rTe})).or(_t.extend({type:St("FRAME_GET_FARCASTER_URI_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:sTe})).or(_t.extend({type:St("FRAME_CONNECT_FARCASTER_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_CONNECT_OTP_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_CONNECT_OTP_SUCCESS")})).or(_t.extend({type:St("FRAME_CONNECT_DEVICE_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_CONNECT_DEVICE_SUCCESS")})).or(_t.extend({type:St("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:iTe})).or(_t.extend({type:St("FRAME_CONNECT_SOCIAL_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_GET_USER_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_GET_USER_SUCCESS"),payload:aTe})).or(_t.extend({type:St("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:cTe})).or(_t.extend({type:St("FRAME_SIGN_OUT_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_SIGN_OUT_SUCCESS")})).or(_t.extend({type:St("FRAME_IS_CONNECTED_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_IS_CONNECTED_SUCCESS"),payload:lTe})).or(_t.extend({type:St("FRAME_GET_CHAIN_ID_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_GET_CHAIN_ID_SUCCESS"),payload:uTe})).or(_t.extend({type:St("FRAME_RPC_REQUEST_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_RPC_REQUEST_SUCCESS"),payload:mTe})).or(_t.extend({type:St("FRAME_SESSION_UPDATE"),payload:qL})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_SUCCESS"),payload:oTe})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:fTe})).or(_t.extend({type:St("FRAME_SYNC_THEME_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_SYNC_THEME_SUCCESS")})).or(_t.extend({type:St("FRAME_SYNC_DAPP_DATA_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(_t.extend({type:St("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:hTe})).or(_t.extend({type:St("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:gTe})).or(_t.extend({type:St("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_READY"),payload:pTe})).or(_t.extend({type:St("FRAME_RELOAD_ERROR"),payload:ws})).or(_t.extend({type:St("FRAME_RELOAD_SUCCESS")}))};function R3(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function l3e({projectId:t,chainId:e,version:n,enableLogger:r,rpcUrl:s=Fe.BLOCKCHAIN_API_RPC_URL}){const i=new URL(Zle);return i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",n),i.searchParams.set("enableLogger",String(r)),i.searchParams.set("rpcUrl",s),i.toString()}class u3e{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,rpcUrl:i=Fe.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const o=document.getElementById("w3m-iframe");this.iframe&&!o&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(o,a,l)=>{function c({data:d}){if(!R3(kt.FRAME_EVENT_KEY,d))return;const f=T3.frameEvent.safeParse(d);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}f.data?.id===o&&(a(f.data),window.removeEventListener("message",c))}Ta.isClient&&(window.addEventListener("message",c),l.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:o=>{Ta.isClient&&window.addEventListener("message",({data:a})=>{if(!R3(kt.FRAME_EVENT_KEY,a))return;const l=T3.frameEvent.safeParse(a);l.success?o(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:o=>{Ta.isClient&&window.addEventListener("message",({data:a})=>{if(!R3(kt.APP_EVENT_KEY,a))return;const l=T3.appEvent.safeParse(a);l.success||console.warn("W3mFrame: invalid app event",l.error.message),o(a)})},postAppEvent:o=>{if(Ta.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(o,"*")}},postFrameEvent:o=>{if(Ta.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(o,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((o,a)=>{this.frameLoadPromiseResolver={resolve:o,reject:a}}),this.rpcUrl=i,n&&(this.frameLoadPromise=new Promise((o,a)=>{this.frameLoadPromiseResolver={resolve:o,reject:a}}),Ta.isClient)){const o=document.createElement("iframe");o.id="w3m-iframe",o.src=l3e({projectId:e,chainId:r,version:eue,enableLogger:s,rpcUrl:this.rpcUrl}),o.name="w3m-secure-iframe",o.style.position="fixed",o.style.zIndex="999999",o.style.display="none",o.style.border="none",o.style.animationDelay="0s, 50ms",o.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",o.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=o,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(a=>{a.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class d3e{constructor(e){const n=Wm({level:Xle}),{logger:r,chunkLoggerController:s}=t4({opts:n});this.logger=eo(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class f3e{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new d3e(e)),this.abortController=i,this.getActiveCaipNetwork=o;const a=this.getRpcUrl(n);this.w3mFrame=new u3e({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:a}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Ti.get(kt.EMAIL_LOGIN_USED_KEY)}getEmail(){return Ti.get(kt.EMAIL)}getUsername(){return Ti.get(kt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:kt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{Ta.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:kt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:kt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:kt.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:kt.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:kt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:kt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:kt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:kt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:kt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:kt.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:kt.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:kt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:kt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=this.getRpcUrl(e.chainId),r=await this.appEvent({type:kt.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:kt.APP_GET_USER,payload:{...e,chainId:n}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),i=await this.appEvent({type:kt.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:s,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:kt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:kt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const n=this.getRpcUrl(e),r=await this.appEvent({type:kt.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:kt.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const n=e;try{if(ei.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const r=e.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(e);const i=await this.appEvent({type:kt.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(i,n),i}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===kt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===kt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===kt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:ei.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(this.openRpcRequests.map(async({abortController:e,method:n})=>{ei.SAFE_RPC_METHODS.includes(n)||e.abort(),await this.appEvent({type:kt.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(l){return l.replace("@w3m-app/","")}const i=[kt.APP_SYNC_DAPP_DATA,kt.APP_SYNC_THEME,kt.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[kt.APP_CONNECT_EMAIL,kt.APP_CONNECT_DEVICE,kt.APP_CONNECT_OTP,kt.APP_CONNECT_SOCIAL,kt.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((l,c)=>{const d=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:d},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:d});const f=new AbortController;if(o==="RPC_REQUEST"){const g=e;this.openRpcRequests=[...this.openRpcRequests,{...g.payload,abortController:f}]}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?c(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function p(g,b){g.id===d&&(b?.logger.info?.({framEvent:g,id:d},"Received frame response"),g.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in g&&l(g.payload),l(void 0)):g.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in g&&c(new Error(g.payload?.message||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(d,g=>p(g,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Ti.set(kt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Ti.set(kt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Ti.set(kt.EMAIL,e),Ti.set(kt.EMAIL_LOGIN_USED_KEY,"true"),Ti.delete(kt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Ti.delete(kt.EMAIL_LOGIN_USED_KEY),Ti.delete(kt.EMAIL),Ti.delete(kt.LAST_USED_CHAIN_KEY),Ti.delete(kt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Ti.set(kt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Ti.get(kt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Ti.set(kt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let n=e===void 0?void 0:"eip155";return typeof e=="string"&&(e.includes(":")?n=uo.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana"),this.getActiveCaipNetwork(n)?.rpcUrls.default.http?.[0]}}class b1{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o}){return b1.instance||(b1.instance=new f3e({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o})),b1.instance}}var VL={};const h3e={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof VL<"u"?VL.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},wO={filterOutDuplicatesByRDNS(t){const e=tt.state.enableEIP6963?ut.state.connectors:[],n=ct.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Nt.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&i.includes(String(a.rdns))||!a?.rdns&&e.some(c=>c.name===a.name)))},filterOutDuplicatesByIds(t){const e=ut.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ct.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ut.state,{featuredWalletIds:n}=tt.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const l=Number(a.installed)-Number(o.installed);if(l!==0)return l;if(n?.length){const c=n.indexOf(o.id),d=n.indexOf(a.id);if(c!==-1&&d!==-1)return c-d;if(c!==-1)return-1;if(d!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||tt.state.features?.connectMethodsOrder,r=e||ut.state.connectors;if(n)return n;const{injected:s,announced:i}=JA.getConnectorsByType(r,Gt.state.recommended,Gt.state.featured),o=s.filter(JA.showConnector),a=i.filter(JA.showConnector);return o.length||a.length?["wallet","email","social"]:h3e.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Gt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Gt.state.excludedWallets.some(r=>mi.isLowerCaseMatch(r.name,t.name));return e||n}},JA={getConnectorsByType(t,e,n){const{customWallets:r}=tt.state,s=ct.getRecentWallets(),i=wO.filterOutDuplicateWallets(e),o=wO.filterOutDuplicateWallets(n),a=t.filter(f=>f.type==="MULTI_CHAIN"),l=t.filter(f=>f.type==="ANNOUNCED"),c=t.filter(f=>f.type==="INJECTED"),d=t.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:s,external:d,multiChain:a,announced:l,injected:c,recommended:i,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&Gt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Gt.state.excludedWallets.some(s=>mi.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Nt.isMobile()||Nt.isMobile()&&!e&&!mt.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(he.state.chains.values()).some(n=>ut.getConnectorId(n.namespace)===Fe.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:l=tt.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:tt.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),g=l.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),b=f.filter(({type:w})=>!g.some(({type:v})=>v===w));return Array.from(new Set([...g,...b].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Nt.isMobile())return{accounts:[],chainId:void 0};if(t.id===Fe.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZA=globalThis,O4=ZA.ShadowRoot&&(ZA.ShadyCSS===void 0||ZA.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,I4=Symbol(),GL=new WeakMap;let aW=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==I4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(O4&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=GL.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&GL.set(n,e))}return e}toString(){return this.cssText}};const uc=t=>new aW(typeof t=="string"?t:t+"",void 0,I4),om=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new aW(n,t,I4)},p3e=(t,e)=>{if(O4)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=ZA.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},KL=O4?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return uc(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:g3e,defineProperty:m3e,getOwnPropertyDescriptor:y3e,getOwnPropertyNames:b3e,getOwnPropertySymbols:w3e,getPrototypeOf:v3e}=Object,nS=globalThis,WL=nS.trustedTypes,x3e=WL?WL.emptyScript:"",E3e=nS.reactiveElementPolyfillSupport,w1=(t,e)=>t,vO={toAttribute(t,e){switch(e){case Boolean:t=t?x3e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},cW=(t,e)=>!g3e(t,e),QL={attribute:!0,type:String,converter:vO,reflect:!1,useDefault:!1,hasChanged:cW};Symbol.metadata??=Symbol("metadata"),nS.litPropertyMetadata??=new WeakMap;let Wg=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=QL){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&m3e(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=y3e(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s?.call(this);i?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??QL}static _$Ei(){if(this.hasOwnProperty(w1("elementProperties")))return;const e=v3e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(w1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(w1("properties"))){const n=this.properties,r=[...b3e(n),...w3e(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(KL(s))}else e!==void 0&&n.push(KL(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return p3e(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:vO).toAttribute(n,r.type);this._$Em=e,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(e,n){const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),o=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:vO;this._$Em=s;const a=o.fromAttribute(n,i.type);this[s]=a??this._$Ej?.get(s)??a,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const s=this.constructor,i=this[e];if(r??=s.getPropertyOptions(e),!((r.hasChanged??cW)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,i]of this._$Ep)this[s]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,i]of r){const{wrapped:o}=i,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,i,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(e){}firstUpdated(e){}};Wg.elementStyles=[],Wg.shadowRootOptions={mode:"open"},Wg[w1("elementProperties")]=new Map,Wg[w1("finalized")]=new Map,E3e?.({ReactiveElement:Wg}),(nS.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const k4=globalThis,q2=k4.trustedTypes,YL=q2?q2.createPolicy("lit-html",{createHTML:t=>t}):void 0,lW="$lit$",Lf=`lit$${Math.random().toFixed(9).slice(2)}$`,uW="?"+Lf,A3e=`<${uW}>`,h0=document,hv=()=>h0.createComment(""),pv=t=>t===null||typeof t!="object"&&typeof t!="function",B4=Array.isArray,C3e=t=>B4(t)||typeof t?.[Symbol.iterator]=="function",P3=`[ 	
\f\r]`,Rb=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,JL=/-->/g,ZL=/>/g,Hh=RegExp(`>|${P3}(?:([^\\s"'>=/]+)(${P3}*=${P3}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),XL=/'/g,ej=/"/g,dW=/^(?:script|style|textarea|title)$/i,fW=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),NFe=fW(1),TFe=fW(2),_m=Symbol.for("lit-noChange"),pi=Symbol.for("lit-nothing"),tj=new WeakMap,Fp=h0.createTreeWalker(h0,129);function hW(t,e){if(!B4(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return YL!==void 0?YL.createHTML(e):e}const S3e=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Rb;for(let a=0;a<n;a++){const l=t[a];let c,d,f=-1,p=0;for(;p<l.length&&(o.lastIndex=p,d=o.exec(l),d!==null);)p=o.lastIndex,o===Rb?d[1]==="!--"?o=JL:d[1]!==void 0?o=ZL:d[2]!==void 0?(dW.test(d[2])&&(s=RegExp("</"+d[2],"g")),o=Hh):d[3]!==void 0&&(o=Hh):o===Hh?d[0]===">"?(o=s??Rb,f=-1):d[1]===void 0?f=-2:(f=o.lastIndex-d[2].length,c=d[1],o=d[3]===void 0?Hh:d[3]==='"'?ej:XL):o===ej||o===XL?o=Hh:o===JL||o===ZL?o=Rb:(o=Hh,s=void 0);const g=o===Hh&&t[a+1].startsWith("/>")?" ":"";i+=o===Rb?l+A3e:f>=0?(r.push(c),l.slice(0,f)+lW+l.slice(f)+Lf+g):l+Lf+(f===-2?a:g)}return[hW(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class gv{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,l=this.parts,[c,d]=S3e(e,n);if(this.el=gv.createElement(c,r),Fp.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=Fp.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(lW)){const p=d[o++],g=s.getAttribute(f).split(Lf),b=/([.?@])?(.*)/.exec(p);l.push({type:1,index:i,name:b[2],strings:g,ctor:b[1]==="."?N3e:b[1]==="?"?T3e:b[1]==="@"?R3e:rS}),s.removeAttribute(f)}else f.startsWith(Lf)&&(l.push({type:6,index:i}),s.removeAttribute(f));if(dW.test(s.tagName)){const f=s.textContent.split(Lf),p=f.length-1;if(p>0){s.textContent=q2?q2.emptyScript:"";for(let g=0;g<p;g++)s.append(f[g],hv()),Fp.nextNode(),l.push({type:2,index:++i});s.append(f[p],hv())}}}else if(s.nodeType===8)if(s.data===uW)l.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(Lf,f+1))!==-1;)l.push({type:7,index:i}),f+=Lf.length-1}i++}}static createElement(e,n){const r=h0.createElement("template");return r.innerHTML=e,r}}function Nm(t,e,n=t,r){if(e===_m)return e;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const i=pv(e)?void 0:e._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(e=Nm(t,s._$AS(t,e.values),s,r)),e}let _3e=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=(e?.creationScope??h0).importNode(n,!0);Fp.currentNode=s;let i=Fp.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new Zv(i,i.nextSibling,this,e):l.type===1?c=new l.ctor(i,l.name,l.strings,this,e):l.type===6&&(c=new P3e(i,this,e)),this._$AV.push(c),l=r[++a]}o!==l?.index&&(i=Fp.nextNode(),o++)}return Fp.currentNode=h0,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}};class Zv{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=pi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Nm(this,e,n),pv(e)?e===pi||e==null||e===""?(this._$AH!==pi&&this._$AR(),this._$AH=pi):e!==this._$AH&&e!==_m&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):C3e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==pi&&pv(this._$AH)?this._$AA.nextSibling.data=e:this.T(h0.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=gv.createElement(hW(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const i=new _3e(s,this),o=i.u(this.options);i.p(n),this.T(o),this._$AH=i}}_$AC(e){let n=tj.get(e.strings);return n===void 0&&tj.set(e.strings,n=new gv(e)),n}k(e){B4(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new Zv(this.O(hv()),this.O(hv()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class rS{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=pi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=pi}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Nm(this,e,n,0),o=!pv(e)||e!==this._$AH&&e!==_m,o&&(this._$AH=e);else{const a=e;let l,c;for(e=i[0],l=0;l<i.length-1;l++)c=Nm(this,a[r+l],n,l),c===_m&&(c=this._$AH[l]),o||=!pv(c)||c!==this._$AH[l],c===pi?e=pi:e!==pi&&(e+=(c??"")+i[l+1]),this._$AH[l]=c}o&&!s&&this.j(e)}j(e){e===pi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class N3e extends rS{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===pi?void 0:e}}class T3e extends rS{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==pi)}}class R3e extends rS{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Nm(this,e,n,0)??pi)===_m)return;const r=this._$AH,s=e===pi&&r!==pi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==pi&&(r===pi||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}let P3e=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Nm(this,e)}};const O3e=k4.litHtmlPolyfillSupport;O3e?.(gv,Zv),(k4.litHtmlVersions??=[]).push("3.3.1");const I3e=(t,e,n)=>{const r=n?.renderBefore??e;let s=r._$litPart$;if(s===void 0){const i=n?.renderBefore??null;r._$litPart$=s=new Zv(e.insertBefore(hv(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const D4=globalThis;class XA extends Wg{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=I3e(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return _m}}XA._$litElement$=!0,XA.finalized=!0,D4.litElementHydrateSupport?.({LitElement:XA});const k3e=D4.litElementPolyfillSupport;k3e?.({LitElement:XA});(D4.litElementVersions??=[]).push("4.2.1");let v1,Vf,Gf;function OFe(t,e){v1=document.createElement("style"),Vf=document.createElement("style"),Gf=document.createElement("style"),v1.textContent=am(t).core.cssText,Vf.textContent=am(t).dark.cssText,Gf.textContent=am(t).light.cssText,document.head.appendChild(v1),document.head.appendChild(Vf),document.head.appendChild(Gf),pW(e)}function pW(t){Vf&&Gf&&(t==="light"?(Vf.removeAttribute("media"),Gf.media="enabled"):(Gf.removeAttribute("media"),Vf.media="enabled"))}function B3e(t){v1&&Vf&&Gf&&(v1.textContent=am(t).core.cssText,Vf.textContent=am(t).dark.cssText,Gf.textContent=am(t).light.cssText)}function am(t){return{core:om`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${uc(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${uc(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${uc(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${uc(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${uc(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:om`
      :root {
        --w3m-color-mix: ${uc(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${uc(hd(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${uc(hd(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:om`
      :root {
        --w3m-color-mix: ${uc(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${uc(hd(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${uc(hd(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const IFe=om`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,kFe=om`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,BFe=om`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,cm={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([cm.getAddresses(t),cm.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:cm.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Gl.NetworkImageIds[e.id]]}]})}},jg={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},gW=aV({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),mW=aV({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function Xv(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const nj=Xv({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),rj=Xv({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Xv({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Xv({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Xv({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const D3e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},nu={getMethodsByChainNamespace(t){return D3e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,l]=i.split(":");!a||!l||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[l]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,l=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const c=`${o}:${i}`,d=r[o];switch(d.chains.push(c),c){case nj.caipNetworkId:d.chains.push(nj.deprecatedCaipNetworkId);break;case rj.caipNetworkId:d.chains.push(rj.deprecatedCaipNetworkId);break}return d?.rpcMap&&l&&(d.rpcMap[i]=l),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await c1.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&t.on("connect",()=>{const a=nu.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),s&&t.on("session_event",a=>{if(nu.isSessionEventData(a)){const{name:l,data:c}=a.params.event;if(l==="accountsChanged"&&Array.isArray(c)){const d=c.filter(f=>Nt.isCaipAddress(f)).map(f=>uo.parseCaipAddress(f)).filter(f=>f.chainNamespace===e);s(d)}}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const n=new Set,r=t?.session?.namespaces?.[e]?.accounts?.map(s=>uo.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class M3e{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case Fe.CHAIN.EVM:await this.syncEVMConnections(e);break;case Fe.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case Fe.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:l,hasConnected:c}=s(a.id);return!l&&c}).map(async a=>{if(a.id===Fe.CONNECTOR_ID.WALLET_CONNECT){const l=nu.getWalletConnectAccounts(r,this.namespace),c=n.find(d=>d.chainNamespace===this.namespace&&d.id.toString()===l[0]?.chainId?.toString());l.length>0&&i({connectorId:a.id,accounts:l.map(d=>({address:d.address})),caipNetwork:c})}else{const{accounts:l,chainId:c}=await JA.fetchProviderData(a);if(l.length>0&&c){const d=n.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===c.toString());i({connectorId:a.id,accounts:l.map(f=>({address:f})),caipNetwork:d}),a.provider&&a.id!==Fe.CONNECTOR_ID.AUTH&&a.id!==Fe.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:l,hasConnected:c}=s(a.id);return!l&&c}).map(async a=>{if(a.id===Fe.CONNECTOR_ID.WALLET_CONNECT){const l=nu.getWalletConnectAccounts(r,this.namespace);l.length>0&&i({connectorId:a.id,accounts:l.map(c=>({address:c.address})),caipNetwork:n})}else{const l=await a.connect({chainId:n?.id});l&&(i({connectorId:a.id,accounts:[{address:l}],caipNetwork:n}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:l,hasConnected:c}=s(a.id);return!l&&c}).map(async a=>{if(a.id===Fe.CONNECTOR_ID.WALLET_CONNECT){const p=nu.getWalletConnectAccounts(r,this.namespace);p.length>0&&i({connectorId:a.id,accounts:p.map(g=>({address:g.address})),caipNetwork:n});return}const l=await a.connect();let d=(await a.getAccountAddresses())?.map(p=>Nt.createAccount(Fe.CHAIN.BITCOIN,p.address,p.purpose||"payment",p.publicKey,p.path));if(d&&d.length>1&&(d=[{namespace:Fe.CHAIN.BITCOIN,publicKey:d[jg.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:d[jg.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:d[jg.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:Fe.CHAIN.BITCOIN,publicKey:d[jg.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:d[jg.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:d[jg.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(p=>p.id===n?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");l&&(o(a.id,a.provider),i({connectorId:a.id,accounts:d.map(p=>({address:p.address,type:p.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(c=>mi.isLowerCaseMatch(c.connectorId,n));if(!o)return null;const a=s.find(c=>mi.isLowerCaseMatch(c.id,o.connectorId)),l=e?o.accounts.find(c=>mi.isLowerCaseMatch(c.address,e)):o.accounts[0];return{...o,account:l,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>mi.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(l=>mi.isLowerCaseMatch(l.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const pd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class M4{constructor({provider:e,namespace:n}){this.id=Fe.CONNECTOR_ID.WALLET_CONNECT,this.name=Gl.ConnectorNamesMap[Fe.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Gl.ConnectorImageIds[Fe.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=he.getCaipNetworks.bind(he),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=tt.state.universalProviderConfigOverride,s=nu.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Na.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:U3e})}}const U3e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],L3e=[Fe.CONNECTOR_ID.AUTH,Fe.CONNECTOR_ID.WALLET_CONNECT];class yW{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>he.getCaipNetworks(n),this.getConnectorId=n=>ut.getConnectorId(n),e&&this.construct(e),e?.namespace&&(this.connectionManager=new M3e({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());e&&r&&this.addConnection({connectorId:Fe.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:Fe.CONNECTOR_ID.AUTH,type:"AUTH",name:Fe.CONNECTOR_NAMES.AUTH,provider:e,imageId:Gl.ConnectorImageIds[Fe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!mi.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Pt.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=Ba(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof M4);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:s}=Nt.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===s?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:l}=Nt.getAccount(a);return{address:l}}),caipNetwork:i}))}}onAccountsChanged(e,n,r=!0){if(e.length>0){const{address:s}=Nt.getAccount(e[0]),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&mi.isLowerCaseMatch(this.getConnectorId(Fe.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:e.map(o=>{const{address:a}=Nt.getAccount(o);return{address:a}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),mi.isLowerCaseMatch(this.getConnectorId(Fe.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const r=typeof e=="string"&&e.startsWith("0x")?cm.hexStringToNumber(e).toString():e.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),mi.isLowerCaseMatch(this.getConnectorId(Fe.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(L3e.includes(e))return;const r=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[e]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class j3e extends yW{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new M4({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(s=>{const[,,i]=s.split(":");return i}).filter((s,i,o)=>o.indexOf(s)===i)||[];return Promise.resolve({accounts:r.map(s=>Nt.createAccount(e,s,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&wr.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Pt.state.balanceLoading&&e.chainId===he.state.activeCaipNetwork?.id)return{balance:Pt.state.balance||"0.00",symbol:Pt.state.balanceSymbol||""};const s=(await Pt.fetchTokenBalance()).find(i=>i.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&i.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return he.state.activeCaipNetwork?.chainNamespace===Fe.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Zm.encode(new TextEncoder().encode(r)),pubkey:s}},he.state.activeCaipNetwork?.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},he.state.activeCaipNetwork?.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Fe.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:TD(n.id)}]})}catch(s){if(s.code===pd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===pd.ERROR_INVALID_CHAIN_ID||s.code===pd.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===pd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:TD(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const F3e=["email","socials","swaps","onramp","activity","reownBranding","multiWallet"],fA={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?wr.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?wr.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?wr.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?wr.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>wr.DEFAULT_REMOTE_FEATURES.multiWallet}},$3e={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=fA[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=fA[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return fA[t].processApi(e)},processFallbackFeature(t,e){return fA[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Gt.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?wr.DEFAULT_REMOTE_FEATURES:wr.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of F3e){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),wr.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Ws.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class H3e{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const s=he.getCaipNetworks(n)?.find(a=>a.id===r);if(s)return s;const i=he.getNetworkData(n)?.caipNetwork;return i||he.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return he.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>he.getCaipNetworks(n),this.getActiveChainNamespace=()=>he.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{he.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>he.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>he.state.activeChain===n||!n?he.state.activeCaipAddress:he.getAccountProp("caipAddress",n),this.setClientId=n=>{Yt.setClientId(n)},this.getProvider=n=>er.getProvider(n),this.getProviderType=n=>er.getProviderId(n),this.getPreferredAccountType=n=>Ba(n),this.setCaipAddress=(n,r)=>{Pt.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Pt.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Pt.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Pt.setProfileImage(n,r)},this.setUser=(n,r)=>{Pt.setUser(n,r)},this.resetAccount=n=>{Pt.resetAccount(n)},this.setCaipNetwork=n=>{he.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{he.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{Pt.setStatus(n,r),ut.isConnected()?ct.setConnectionStatus("connected"):ct.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>he.getAccountProp("address",n),this.setConnectors=n=>{const r=[...ut.state.allConnectors,...n];ut.setConnectors(r)},this.setConnections=(n,r)=>{ct.setConnections(n,r),mt.setConnections(n,r)},this.fetchIdentity=n=>Yt.fetchIdentity(n),this.getReownName=n=>c1.getNamesForAddress(n),this.getConnectors=()=>ut.getConnectors(),this.getConnectorImage=n=>Wq.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?y2.getConnectionsData(n).connections:(Ws.open(Fe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?y2.getConnectionsData(n).recentConnections:(Ws.open(Fe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Ws.open(Fe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await mt.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Ws.open(Fe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ct.deleteAddressFromConnection(n),mt.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=er.getProviderId(r),i=n?{...n,type:s}:void 0;Pt.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!he.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Pt.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Pt.removeAddressLabel(n,r)},this.getAddress=n=>he.state.activeChain===n||!n?Pt.state.address:he.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>he.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{he.resetNetwork(n)},this.addConnector=n=>{ut.addConnector(n)},this.resetWcConnection=()=>{mt.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Pt.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Pt.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{he.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{tt.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(i=>i.namespace).filter(i=>!!i);if(r?.length)return[...new Set(r)];const s=n?.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),tt.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await $3e.fetchRemoteFeatures(e),tt.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&xP.setOnrampProviders(this.remoteFeatures.onramp),(tt.state.remoteFeatures?.email||Array.isArray(tt.state.remoteFeatures?.socials)&&tt.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Gt.fetchAllowedOrigins();if(!e||!Nt.isClient()){Ws.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;nu.isOriginAllowed(n,e,pd.DEFAULT_ALLOWED_ANCESTORS)||Ws.open(ao.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error)){Ws.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Ws.open(ao.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Ws.open({shortMessage:ao.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:ao.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:Ws.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,_r.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Mo.setThemeMode(e.themeMode),e.themeVariables&&Mo.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");he.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&he.setActiveCaipNetwork(n)}initializeConnectionController(e){mt.initialize(e.adapters??[]),mt.setWcBasic(e.basic??!1)}initializeConnectorController(){ut.initialize(this.chainNamespaces)}initializeProjectSettings(e){tt.setProjectId(e.projectId),tt.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){tt.setDebug(e.debug!==!1),tt.setEnableWalletConnect(e.enableWalletConnect!==!1),tt.setEnableWalletGuide(e.enableWalletGuide!==!1),tt.setEnableWallets(e.enableWallets!==!1),tt.setEIP6963Enabled(e.enableEIP6963!==!1),tt.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),tt.setEnableReconnect(e.enableReconnect!==!1),tt.setEnableAuthLogger(e.enableAuthLogger!==!1),tt.setCustomRpcUrls(e.customRpcUrls),tt.setEnableEmbedded(e.enableEmbedded),tt.setAllWallets(e.allWallets),tt.setIncludeWalletIds(e.includeWalletIds),tt.setExcludeWalletIds(e.excludeWalletIds),tt.setFeaturedWalletIds(e.featuredWalletIds),tt.setTokens(e.tokens),tt.setTermsConditionsUrl(e.termsConditionsUrl),tt.setPrivacyPolicyUrl(e.privacyPolicyUrl),tt.setCustomWallets(e.customWallets),tt.setFeatures(e.features),tt.setAllowUnsupportedChain(e.allowUnsupportedChain),tt.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),tt.setPreferUniversalLinks(e.experimental_preferUniversalLinks),tt.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),tt.setMetadata(e.metadata),tt.setDisableAppend(e.disableAppend),tt.setEnableEmbedded(e.enableEmbedded),tt.setSIWX(e.siwx),!e.projectId){Ws.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(s=>s.namespace===Fe.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");tt.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Nt.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Gg.getUnsupportedNetwork(`${n}:${e}`);he.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Gg.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Gg.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Gg.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>s.id===e.defaultNetwork?.id);return n?Gg.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){try{this.setLoading(!0,e);let r={connections:[]};const s=this.getAdapter(e),{caipAddress:i}=he.getAccountData(e)||{};return(i||!tt.state.enableReconnect)&&s?.disconnect&&(r=await s.disconnect({id:n})),this.setLoading(!1,e),r}catch(r){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=he.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,s=mt.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId(a?.clientId||null),ct.setConnectedNamespaces([...he.state.chains.keys()]),await this.syncWalletConnectAccount(),await Na.initializeIfEnabled()},connectExternal:async({id:e,address:n,info:r,type:s,provider:i,chain:o,caipNetwork:a,socialUri:l})=>{const c=he.state.activeChain,d=o||c,f=this.getAdapter(d);if(o&&o!==c&&!a){const b=this.getCaipNetworks().find(w=>w.chainNamespace===o);b&&this.setCaipNetwork(b)}if(!d)throw new Error("connectExternal: namespace not found");if(!f)throw new Error("connectExternal: adapter not found");const p=this.getCaipNetwork(d),g=await f.connect({id:e,address:n,info:r,type:s,provider:i,socialUri:l,chainId:a?.id||p?.id,rpcUrl:a?.rpcUrls?.default?.http?.[0]||p?.rpcUrls?.default?.http?.[0]});if(g)return ct.addConnectedNamespace(d),this.syncProvider({...g,chainNamespace:d}),this.setStatus("connected",d),this.syncConnectedWalletInfo(d),ct.removeDisconnectedConnectorId(e,d),{address:g.address}},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{const i=he.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:s,chainId:this.getCaipNetwork()?.id}),ct.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async e=>{const{id:n,chainNamespace:r,initialDisconnect:s}=e||{},i=r||he.state.activeChain,o=ut.getConnectorId(i),a=n===Fe.CONNECTOR_ID.AUTH||o===Fe.CONNECTOR_ID.AUTH,l=n===Fe.CONNECTOR_ID.WALLET_CONNECT||o===Fe.CONNECTOR_ID.WALLET_CONNECT;try{const c=Array.from(he.state.chains.keys());let d=r?[r]:c;(l||a)&&(d=c);const f=d.map(async b=>{const w=ut.getConnectorId(b),m=await this.disconnectNamespace(b,n||w);m&&(a&&ct.deleteConnectedSocialProvider(),m.connections.forEach(v=>{ct.addDisconnectedConnectorId(v.connectorId,b)})),s&&this.onDisconnectNamespace({chainNamespace:b,closeModal:!1})}),p=await Promise.allSettled(f);br.resetSend(),mt.resetWcConnection(),Na.getSIWX()?.signOutOnDisconnect&&await Na.clearSessions(),ut.setFilterByNamespace(void 0),mt.syncStorageConnections();const g=p.filter(b=>b.status==="rejected");if(g.length>0)throw new Error(g.map(b=>b.reason.message).join(", "));_r.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(c){throw new Error(`Failed to disconnect chains: ${c.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=he.state.activeChain,r=this.getAdapter(he.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");return(await r?.signMessage({message:e,address:Pt.state.address,provider:er.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(wr.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=er.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===Fe.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=er.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...e,provider:s,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=he.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Pt.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Pt.state.profileImage||!1},getEnsAddress:async e=>await nu.resolveReownName(e),writeContract:async e=>{const n=he.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=er.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}))?.hash},parseUnits:(e,n)=>{const r=this.getAdapter(he.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const r=this.getAdapter(he.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(he.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(he.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(he.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(he.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Pt.state.address||this.updateNativeBalance(Pt.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},mt.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(er.getProviderId(he.state.activeChain)===dr.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=er.getProvider(n),i=er.getProviderId(n);if(e.chainNamespace===he.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:s,providerType:i});else if(this.setCaipNetwork(e),i===dr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=uo.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const s=e?.find(i=>i.namespace===r);return s?(s.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new j3e({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ct.getConnectionStatus();tt.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ct.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(c=>c.id.toString()===i.toString()||c.caipNetworkId.toString()===i.toString()),a=he.state.activeChain===e,l=he.getAccountProp("address",e);if(o){const c=a&&s?s:l;c&&this.syncAccount({address:c,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{this.onDisconnectNamespace({chainNamespace:e})}),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Pt.state.address,i=he.state.activeCaipNetwork;!s||!i?.id||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{const a=he.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e)),a&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):a&&he.state.activeCaipNetwork?.id?this.syncAccount({address:s,chainId:he.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),ct.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>mt.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async syncNamespaceConnection(e){try{e===Fe.CHAIN.EVM&&Nt.isSafeApp()&&ut.setConnectorId(Fe.CONNECTOR_ID.SAFE,e);const n=ut.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Fe.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Fe.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};he.resetAccount(n),he.resetNetwork(n),ct.removeConnectedNamespace(n);const s=Array.from(he.state.chains.keys());(n?[n]:s).forEach(o=>ct.addDisconnectedConnectorId(ut.getConnectorId(o)||"",o)),ut.removeConnectorId(n),er.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&fr.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getCaipAddress(e),r=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(s){const o=ct.getConnections()[e]??[];return{hasDisconnected:ct.isConnectorDisconnected(s,e),hasConnected:o.some(a=>mi.isLowerCaseMatch(a.connectorId,s))}}})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),r=ut.getConnectorId(e),s=this.getCaipNetwork(e),o=ut.getConnectors(e).find(a=>a.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!s?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:s?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e)):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const s=this.getAdapter(r);if(!s)return;const i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=he.state.activeCaipNetwork?.id,a=i.find(l=>{const{chainId:c}=uo.parseCaipAddress(l);return c===o?.toString()})||i[0];if(a){const l=uo.validateCaipAddress(a),{chainId:c,address:d}=uo.parseCaipAddress(l);if(er.setProviderId(r,dr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&he.state.activeCaipNetwork&&s.namespace!==Fe.CHAIN.EVM){const f=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:he.state.activeCaipNetwork});er.setProvider(r,f)}else er.setProvider(r,this.universalProvider);ut.setConnectorId(Fe.CONNECTOR_ID.WALLET_CONNECT,r),ct.addConnectedNamespace(r),await this.syncAccount({address:d,chainId:c,chainNamespace:r})}else e.includes(r)&&this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await he.setApprovedCaipNetworksData(r)});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){er.setProviderId(s,e),er.setProvider(s,n),ut.setConnectorId(r,s)}async syncAccount(e){const n=e.chainNamespace===he.state.activeChain,r=he.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ct.getActiveNetworkProps(),l=i||a,c=he.state.activeCaipNetwork?.name===Fe.UNSUPPORTED_NETWORK_NAME,d=he.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(c&&!d)&&l){let f=this.getCaipNetworks().find(b=>b.id.toString()===l.toString()),p=this.getCaipNetworks().find(b=>b.chainNamespace===o);if(!d&&!f&&!p){const b=this.getApprovedCaipNetworkIds()||[],w=b.find(v=>uo.parseCaipNetworkId(v)?.chainId===l.toString()),m=b.find(v=>uo.parseCaipNetworkId(v)?.chainNamespace===o);f=this.getCaipNetworks().find(v=>v.caipNetworkId===w),p=this.getCaipNetworks().find(v=>v.caipNetworkId===m||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===m)}const g=f||p;g?.chainNamespace===he.state.activeChain?tt.state.enableNetworkSwitch&&!tt.state.allowUnsupportedChain&&he.state.activeCaipNetwork?.name===Fe.UNSUPPORTED_NETWORK_NAME?he.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),mi.isLowerCaseMatch(s,Pt.state.address)||this.syncAccountInfo(s,g?.id,o),n?await this.syncBalance({address:s,chainId:g?.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r?.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||s?.split(":")[1];if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=ut.getConnectorId(e),r=er.getProviderId(e);if(r===dr.CONNECTOR_TYPE_ANNOUNCED||r===dr.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(i=>{const o=i.id===n,a=i.info?.rdns===n,l=i.connectors?.some(c=>c.id===n||c.info?.rdns===n);return o||a||!!l});if(s){const{info:i,name:o,imageUrl:a}=s,l=a||this.getConnectorImage(s);this.setConnectedWalletInfo({name:o,icon:l,...i},e)}}}else if(r===dr.CONNECTOR_TYPE_WALLET_CONNECT){const s=er.getProvider(e);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},e)}else if(n&&n===Fe.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(i=>i.id===Fe.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}}async syncBalance(e){!qq.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=he.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=H_e.createLogger((r,...s)=>{r&&this.handleAlertError(r),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};tt.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await D_e.init(n),tt.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{nu.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{mt.setUri(n)},onConnect:()=>{mt.finalizeWcConnection()},onDisconnect:()=>{he.state.noAdapters&&this.resetAccount(e),mt.resetWcConnection()},onChainChanged:n=>{const r=he.state.activeChain,s=r&&ut.state.activeConnectorIds[r]===Fe.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(he.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}o?.id.toString()!==i?.id.toString()&&o?.chainNamespace===i?.chainNamespace&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=he.state.activeChain,s=r&&ut.state.activeConnectorIds[r]===Fe.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(he.state.noAdapters||s)&&n.length>0){const i=n[0];this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Nt.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){_r.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(ao.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=ao.ALERT_ERRORS[o];a&&(Ws.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e?.uri&&mt.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return fr.open({...e,data:{swap:e.arguments}})}return fr.open(e)}async close(){await this.injectModalUi(),fr.close()}setLoading(e,n){fr.setLoading(e,n)}async disconnect(e){await mt.disconnect({namespace:e})}getSIWX(){return tt.state.siwx}getError(){return""}getChainId(){return he.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Ws.open(ao.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await he.switchActiveNetwork(n)}getWalletProvider(){return he.state.activeChain?er.state.providers[he.state.activeChain]:null}getWalletProviderType(){return er.getProviderId(he.state.activeChain)}subscribeProviders(e){return er.subscribeProviders(e)}getThemeMode(){return Mo.state.themeMode}getThemeVariables(){return Mo.state.themeVariables}setThemeMode(e){Mo.setThemeMode(e),pW(Mo.state.themeMode)}setTermsConditionsUrl(e){tt.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){tt.setPrivacyPolicyUrl(e)}setThemeVariables(e){Mo.setThemeVariables(e),B3e(Mo.state.themeVariables)}subscribeTheme(e){return Mo.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?mt.subscribe(e):(Ws.open(Fe.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?he.getAccountProp("connectedWalletInfo",e):Pt.state.connectedWalletInfo}getAccount(e){const n=e||he.state.activeChain,r=ut.getAuthConnector(n),s=he.getAccountData(n),i=ct.getConnectedConnectorId(he.state.activeChain),o=mt.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(l=>l.accounts.map(({address:c,type:d})=>Nt.createAccount(n,c,d||"eoa")));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:Nt.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===Fe.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ct.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:Ba(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?he.subscribeChainProp("accountState",r,n):he.subscribe(r),ut.subscribe(r)}subscribeNetwork(e){return he.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Pt.subscribeKey("connectedWalletInfo",e,n):Pt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Pt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){he.subscribeKey("activeCaipNetwork",e)}getState(){return eu.state}getRemoteFeatures(){return tt.state.remoteFeatures}subscribeState(e){return eu.subscribe(e)}subscribeRemoteFeatures(e){return tt.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Yl.showError(e)}showSuccessMessage(e){Yl.showSuccess(e)}getEvent(){return{..._r.state}}subscribeEvents(e){return _r.subscribe(e)}replace(e){ln.replace(e)}redirect(e){ln.push(e)}popTransactionStack(e){ln.popTransactionStack(e)}isOpen(){return fr.state.open}isTransactionStackEmpty(){return ln.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){tt.setFeatures(e)}updateRemoteFeatures(e){tt.setRemoteFeatures(e)}updateOptions(e){const r={...tt.state||{},...e};tt.setOptions(r)}setConnectMethodsOrder(e){tt.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){tt.setWalletFeaturesOrder(e)}setCollapseWallets(e){tt.setCollapseWallets(e)}setSocialsOrder(e){tt.setSocialsOrder(e)}getConnectMethodsOrder(){return wO.getConnectOrderMethod(tt.state.features,ut.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||he.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&he.removeNetwork(e,n)}}let sj=!1;class z3e extends H3e{async onAuthProviderConnected(e){e.message&&e.signature&&e.siwxMessage&&await Na.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature);const n=he.state.activeChain;if(!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===Fe.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=tt.state.defaultAccountTypes[n],i=Ba(n),o=e.preferredAccountType||i||s;mi.isLowerCaseMatch(e.address,Pt.state.address)||this.syncIdentity({address:e.address,chainId:e.chainId,chainNamespace:n}),this.setCaipAddress(r,n);const{signature:a,siwxMessage:l,message:c,...d}=e;this.setUser({...Pt.state.user||{},...d},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Ta.checkIfRequestExists(n)?Ta.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(ei.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(ei.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Ta.checkIfRequestIsSafe(r),i=Pt.state.address,o=he.state.activeCaipNetwork;s||(i&&o?.id&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=he.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");ut.getConnectorId(n)===Fe.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const s=he.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,s)})}async syncAuthConnectorTheme(e){if(!e)return;const n=Mo.getSnapshot(),r=tt.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:hd(n.themeVariables,n.themeMode)})])}async syncAuthConnector(e,n){const r=Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===he.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...Pt.state?.user||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:l}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),n&&r&&s){const c=await e.getSmartAccountEnabledNetworks();he.setSmartAccountEnabledNetworks(c?.smartAccountEnabledNetworks||[],n),l&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:Fe.CONNECTOR_ID.AUTH,info:{name:Fe.CONNECTOR_ID.AUTH},type:dr.CONNECTOR_TYPE_AUTH,provider:e,chainId:he.state.activeCaipNetwork?.id,chain:n}),this.setStatus("connected",n)):ut.getConnectorId(n)===Fe.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ct.removeConnectedNamespace(n))}this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!Nt.isTelegram())return;const n=ct.getTelegramSocialProvider();if(!n||!Nt.isClient())return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;Pt.setSocialProvider(n,e),await this.authProvider?.init();const i=ut.getAuthConnector();n&&i&&(this.setLoading(!0,e),await mt.connectExternal({id:i.id,type:i.type,socialUri:s},i.chain),ct.setConnectedSocialProvider(n),ct.removeTelegramSocialProvider(),_r.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n,caipNetworkId:he.getActiveCaipNetwork()?.caipNetworkId}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.remoteFeatures?.email,s=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=mi.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&i&&(this.authProvider=b1.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:ao.EmbeddedWalletAbortController,onTimeout:c=>{c==="iframe_load_failed"?Ws.open(ao.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Ws.open(ao.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Ws.open(ao.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:c=>he.getActiveCaipNetwork(c)}),eu.subscribeOpen(c=>{!c&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const l=e===he.state.activeChain&&tt.state.enableReconnect;tt.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&l&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Gt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=he.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const o=this.getAdapter(r),a=er.getProvider(r),l=er.getProviderId(r);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:l}),this.setCaipNetwork(e)}else{const a=er.getProviderId(n)===dr.CONNECTOR_TYPE_AUTH,l=er.getProviderId(r),c=l===dr.CONNECTOR_TYPE_AUTH,d=Fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&l===void 0||c)&&d)try{he.state.activeChain=e.chainNamespace,s?await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}):await this.connectionControllerClient?.connectExternal?.({id:Fe.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:dr.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l})}else if(l===dr.CONNECTOR_TYPE_WALLET_CONNECT){if(!he.state.noAdapters){const f=this.getAdapter(r),p=er.getProvider(r),g=er.getProviderId(r);await f?.switchNetwork({caipNetwork:e,provider:p,providerType:g})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),eu.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const s=`${r}:${n}`,i=this.caipNetworks?.find(o=>o.caipNetworkId===s);if(r!==Fe.CHAIN.EVM||i?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:o,avatar:a}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(o,r),this.setProfileImage(a,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=er.getProviderId(e);if(n===dr.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ct.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Nt.isClient()&&!sj)try{const e={...wr.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Nt.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!tt.state.disableAppend&&!tt.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}sj=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Nt.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Qi(()=>import("./embedded-wallet-CHfeu7BD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),n.email&&r.push(Qi(()=>import("./email-D6Zy3xAS.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),n.socials&&r.push(Qi(()=>import("./socials-D27QZ3ta.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),n.swaps&&n.swaps.length>0&&r.push(Qi(()=>import("./swaps-rlrNBeJ9.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&r.push(Qi(()=>import("./send-DIqgKtOY.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&r.push(Qi(()=>import("./receive-YRgAkwzS.js"),__vite__mapDeps([28,1,29,3,19]))),n.onramp&&n.onramp.length>0&&r.push(Qi(()=>import("./onramp-RZamXhbK.js"),__vite__mapDeps([30,1,31,3,5,10,15,4,16,32,11,9,18,6]))),n.activity&&r.push(Qi(()=>import("./transactions-B_rc7X4V.js"),__vite__mapDeps([33,1,34,10,11,3,20]))),e.pay&&r.push(Qi(()=>import("./index-Ckk5mp89.js"),__vite__mapDeps([35,1,9,5,36,3,10,7,31,27,18]))),await Promise.all([...r,Qi(()=>import("./index-FBrvz7hj.js"),__vite__mapDeps([37,1,3,5,26,10,38,23,7,31,9,8,36,34,11,20,22,27,4,6,13,15,16,17,2,18,29,19,32])),Qi(()=>import("./w3m-modal-CJwCR0kq.js"),__vite__mapDeps([39,1,7,3,10,8,5,23,38]))])}}let e2;function q3e(t){t&&(e2=t)}function bW(t){const{providers:e,providerIds:n}=k2(er.state),r=e[t],s=n[t];return{walletProvider:r,walletProviderType:s}}function sS(){if(!e2)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await e2?.open(n)}async function e(){await e2?.close()}return{open:t,close:e}}const V3e="1.7.15";let hA;function wW(t){return hA||(hA=new z3e({...t,sdkVersion:Nt.generateSdkVersion(t.adapters??[],"react",V3e)}),q3e(hA)),hA}var zh={},Pb={},qh={},qu={},Ob={},ij;function G3e(){if(ij)return Ob;ij=1,Object.defineProperty(Ob,"__esModule",{value:!0}),Ob.grammar=void 0;function t(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:0,isBkr:!1},this.rules[1]={name:"ex-title",lower:"ex-title",index:1,isBkr:!1},this.rules[2]={name:"nb-title",lower:"nb-title",index:2,isBkr:!1},this.rules[3]={name:"ri-title",lower:"ri-title",index:3,isBkr:!1},this.rules[4]={name:"re-title",lower:"re-title",index:4,isBkr:!1},this.rules[5]={name:"oscheme",lower:"oscheme",index:5,isBkr:!1},this.rules[6]={name:"domain",lower:"domain",index:6,isBkr:!1},this.rules[7]={name:"address",lower:"address",index:7,isBkr:!1},this.rules[8]={name:"statement",lower:"statement",index:8,isBkr:!1},this.rules[9]={name:"empty-statement",lower:"empty-statement",index:9,isBkr:!1},this.rules[10]={name:"version",lower:"version",index:10,isBkr:!1},this.rules[11]={name:"nonce",lower:"nonce",index:11,isBkr:!1},this.rules[12]={name:"issued-at",lower:"issued-at",index:12,isBkr:!1},this.rules[13]={name:"expiration-time",lower:"expiration-time",index:13,isBkr:!1},this.rules[14]={name:"not-before",lower:"not-before",index:14,isBkr:!1},this.rules[15]={name:"request-id",lower:"request-id",index:15,isBkr:!1},this.rules[16]={name:"chain-id",lower:"chain-id",index:16,isBkr:!1},this.rules[17]={name:"resources",lower:"resources",index:17,isBkr:!1},this.rules[18]={name:"resource",lower:"resource",index:18,isBkr:!1},this.rules[19]={name:"URI",lower:"uri",index:19,isBkr:!1},this.rules[20]={name:"hier-part",lower:"hier-part",index:20,isBkr:!1},this.rules[21]={name:"scheme",lower:"scheme",index:21,isBkr:!1},this.rules[22]={name:"authority",lower:"authority",index:22,isBkr:!1},this.rules[23]={name:"path-abempty",lower:"path-abempty",index:23,isBkr:!1},this.rules[24]={name:"path-absolute",lower:"path-absolute",index:24,isBkr:!1},this.rules[25]={name:"path-rootless",lower:"path-rootless",index:25,isBkr:!1},this.rules[26]={name:"path-empty",lower:"path-empty",index:26,isBkr:!1},this.rules[27]={name:"userinfo-at",lower:"userinfo-at",index:27,isBkr:!1},this.rules[28]={name:"userinfo",lower:"userinfo",index:28,isBkr:!1},this.rules[29]={name:"host",lower:"host",index:29,isBkr:!1},this.rules[30]={name:"IP-literal",lower:"ip-literal",index:30,isBkr:!1},this.rules[31]={name:"IPvFuture",lower:"ipvfuture",index:31,isBkr:!1},this.rules[32]={name:"IPv6address",lower:"ipv6address",index:32,isBkr:!1},this.rules[33]={name:"nodcolon",lower:"nodcolon",index:33,isBkr:!1},this.rules[34]={name:"dcolon",lower:"dcolon",index:34,isBkr:!1},this.rules[35]={name:"h16",lower:"h16",index:35,isBkr:!1},this.rules[36]={name:"h16c",lower:"h16c",index:36,isBkr:!1},this.rules[37]={name:"h16n",lower:"h16n",index:37,isBkr:!1},this.rules[38]={name:"h16cn",lower:"h16cn",index:38,isBkr:!1},this.rules[39]={name:"IPv4address",lower:"ipv4address",index:39,isBkr:!1},this.rules[40]={name:"dec-octet",lower:"dec-octet",index:40,isBkr:!1},this.rules[41]={name:"dec-digit",lower:"dec-digit",index:41,isBkr:!1},this.rules[42]={name:"reg-name",lower:"reg-name",index:42,isBkr:!1},this.rules[43]={name:"reg-name-char",lower:"reg-name-char",index:43,isBkr:!1},this.rules[44]={name:"port",lower:"port",index:44,isBkr:!1},this.rules[45]={name:"query",lower:"query",index:45,isBkr:!1},this.rules[46]={name:"fragment",lower:"fragment",index:46,isBkr:!1},this.rules[47]={name:"URI-r",lower:"uri-r",index:47,isBkr:!1},this.rules[48]={name:"hier-part-r",lower:"hier-part-r",index:48,isBkr:!1},this.rules[49]={name:"scheme-r",lower:"scheme-r",index:49,isBkr:!1},this.rules[50]={name:"query-r",lower:"query-r",index:50,isBkr:!1},this.rules[51]={name:"fragment-r",lower:"fragment-r",index:51,isBkr:!1},this.rules[52]={name:"authority-d",lower:"authority-d",index:52,isBkr:!1},this.rules[53]={name:"userinfo-d",lower:"userinfo-d",index:53,isBkr:!1},this.rules[54]={name:"host-d",lower:"host-d",index:54,isBkr:!1},this.rules[55]={name:"port-d",lower:"port-d",index:55,isBkr:!1},this.rules[56]={name:"path-abempty-r",lower:"path-abempty-r",index:56,isBkr:!1},this.rules[57]={name:"path-absolute-r",lower:"path-absolute-r",index:57,isBkr:!1},this.rules[58]={name:"path-rootless-r",lower:"path-rootless-r",index:58,isBkr:!1},this.rules[59]={name:"path-empty-r",lower:"path-empty-r",index:59,isBkr:!1},this.rules[60]={name:"segment",lower:"segment",index:60,isBkr:!1},this.rules[61]={name:"segment-nz",lower:"segment-nz",index:61,isBkr:!1},this.rules[62]={name:"pchar",lower:"pchar",index:62,isBkr:!1},this.rules[63]={name:"pct-encoded",lower:"pct-encoded",index:63,isBkr:!1},this.rules[64]={name:"date-fullyear",lower:"date-fullyear",index:64,isBkr:!1},this.rules[65]={name:"date-month",lower:"date-month",index:65,isBkr:!1},this.rules[66]={name:"date-mday",lower:"date-mday",index:66,isBkr:!1},this.rules[67]={name:"time-hour",lower:"time-hour",index:67,isBkr:!1},this.rules[68]={name:"time-minute",lower:"time-minute",index:68,isBkr:!1},this.rules[69]={name:"time-second",lower:"time-second",index:69,isBkr:!1},this.rules[70]={name:"time-secfrac",lower:"time-secfrac",index:70,isBkr:!1},this.rules[71]={name:"time-numoffset",lower:"time-numoffset",index:71,isBkr:!1},this.rules[72]={name:"time-offset",lower:"time-offset",index:72,isBkr:!1},this.rules[73]={name:"partial-time",lower:"partial-time",index:73,isBkr:!1},this.rules[74]={name:"full-date",lower:"full-date",index:74,isBkr:!1},this.rules[75]={name:"full-time",lower:"full-time",index:75,isBkr:!1},this.rules[76]={name:"date-time",lower:"date-time",index:76,isBkr:!1},this.rules[77]={name:"ALPHA",lower:"alpha",index:77,isBkr:!1},this.rules[78]={name:"LF",lower:"lf",index:78,isBkr:!1},this.rules[79]={name:"DIGIT",lower:"digit",index:79,isBkr:!1},this.rules[80]={name:"HEXDIG",lower:"hexdig",index:80,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,36,41,46]},this.rules[0].opcodes[1]={type:4,index:5},this.rules[0].opcodes[2]={type:4,index:6},this.rules[0].opcodes[3]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},this.rules[0].opcodes[4]={type:4,index:78},this.rules[0].opcodes[5]={type:4,index:7},this.rules[0].opcodes[6]={type:4,index:78},this.rules[0].opcodes[7]={type:1,children:[8,13,14]},this.rules[0].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[0].opcodes[9]={type:4,index:78},this.rules[0].opcodes[10]={type:4,index:8},this.rules[0].opcodes[11]={type:4,index:78},this.rules[0].opcodes[12]={type:4,index:78},this.rules[0].opcodes[13]={type:4,index:9},this.rules[0].opcodes[14]={type:2,children:[15,16]},this.rules[0].opcodes[15]={type:4,index:78},this.rules[0].opcodes[16]={type:4,index:78},this.rules[0].opcodes[17]={type:6,string:[85,82,73,58,32]},this.rules[0].opcodes[18]={type:4,index:19},this.rules[0].opcodes[19]={type:4,index:78},this.rules[0].opcodes[20]={type:6,string:[86,101,114,115,105,111,110,58,32]},this.rules[0].opcodes[21]={type:4,index:10},this.rules[0].opcodes[22]={type:4,index:78},this.rules[0].opcodes[23]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},this.rules[0].opcodes[24]={type:4,index:16},this.rules[0].opcodes[25]={type:4,index:78},this.rules[0].opcodes[26]={type:6,string:[78,111,110,99,101,58,32]},this.rules[0].opcodes[27]={type:4,index:11},this.rules[0].opcodes[28]={type:4,index:78},this.rules[0].opcodes[29]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},this.rules[0].opcodes[30]={type:4,index:12},this.rules[0].opcodes[31]={type:3,min:0,max:1},this.rules[0].opcodes[32]={type:2,children:[33,34,35]},this.rules[0].opcodes[33]={type:4,index:78},this.rules[0].opcodes[34]={type:4,index:1},this.rules[0].opcodes[35]={type:4,index:13},this.rules[0].opcodes[36]={type:3,min:0,max:1},this.rules[0].opcodes[37]={type:2,children:[38,39,40]},this.rules[0].opcodes[38]={type:4,index:78},this.rules[0].opcodes[39]={type:4,index:2},this.rules[0].opcodes[40]={type:4,index:14},this.rules[0].opcodes[41]={type:3,min:0,max:1},this.rules[0].opcodes[42]={type:2,children:[43,44,45]},this.rules[0].opcodes[43]={type:4,index:78},this.rules[0].opcodes[44]={type:4,index:3},this.rules[0].opcodes[45]={type:4,index:15},this.rules[0].opcodes[46]={type:3,min:0,max:1},this.rules[0].opcodes[47]={type:2,children:[48,49,50]},this.rules[0].opcodes[48]={type:4,index:78},this.rules[0].opcodes[49]={type:4,index:4},this.rules[0].opcodes[50]={type:4,index:17},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:3,min:0,max:1},this.rules[5].opcodes[1]={type:2,children:[2,3,9]},this.rules[5].opcodes[2]={type:4,index:77},this.rules[5].opcodes[3]={type:3,min:0,max:1/0},this.rules[5].opcodes[4]={type:1,children:[5,6,7,8]},this.rules[5].opcodes[5]={type:4,index:77},this.rules[5].opcodes[6]={type:4,index:79},this.rules[5].opcodes[7]={type:6,string:[43]},this.rules[5].opcodes[8]={type:5,min:45,max:46},this.rules[5].opcodes[9]={type:7,string:[58,47,47]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:4,index:52},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:2,children:[1,2]},this.rules[7].opcodes[1]={type:7,string:[48,120]},this.rules[7].opcodes[2]={type:3,min:40,max:40},this.rules[7].opcodes[3]={type:4,index:80},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:1/0},this.rules[8].opcodes[1]={type:1,children:[2,3,4,5,6,7,8,9,10,11,12,13]},this.rules[8].opcodes[2]={type:5,min:97,max:122},this.rules[8].opcodes[3]={type:5,min:65,max:90},this.rules[8].opcodes[4]={type:5,min:48,max:57},this.rules[8].opcodes[5]={type:5,min:32,max:33},this.rules[8].opcodes[6]={type:5,min:35,max:36},this.rules[8].opcodes[7]={type:5,min:38,max:59},this.rules[8].opcodes[8]={type:6,string:[61]},this.rules[8].opcodes[9]={type:5,min:63,max:64},this.rules[8].opcodes[10]={type:6,string:[91]},this.rules[8].opcodes[11]={type:6,string:[93]},this.rules[8].opcodes[12]={type:6,string:[95]},this.rules[8].opcodes[13]={type:6,string:[126]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:2,children:[1,2,3]},this.rules[9].opcodes[1]={type:4,index:78},this.rules[9].opcodes[2]={type:4,index:78},this.rules[9].opcodes[3]={type:4,index:78},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:7,string:[49]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:3,min:8,max:1/0},this.rules[11].opcodes[1]={type:1,children:[2,3]},this.rules[11].opcodes[2]={type:4,index:77},this.rules[11].opcodes[3]={type:4,index:79},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:4,index:76},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:4,index:76},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:4,index:76},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:3,min:0,max:1/0},this.rules[15].opcodes[1]={type:4,index:62},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:3,min:1,max:1/0},this.rules[16].opcodes[1]={type:4,index:79},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:3,min:0,max:1/0},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:78},this.rules[17].opcodes[3]={type:4,index:18},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:2,children:[1,2]},this.rules[18].opcodes[1]={type:7,string:[45,32]},this.rules[18].opcodes[2]={type:4,index:47},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:2,children:[1,2,3,4,8]},this.rules[19].opcodes[1]={type:4,index:21},this.rules[19].opcodes[2]={type:7,string:[58]},this.rules[19].opcodes[3]={type:4,index:20},this.rules[19].opcodes[4]={type:3,min:0,max:1},this.rules[19].opcodes[5]={type:2,children:[6,7]},this.rules[19].opcodes[6]={type:7,string:[63]},this.rules[19].opcodes[7]={type:4,index:45},this.rules[19].opcodes[8]={type:3,min:0,max:1},this.rules[19].opcodes[9]={type:2,children:[10,11]},this.rules[19].opcodes[10]={type:7,string:[35]},this.rules[19].opcodes[11]={type:4,index:46},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[20].opcodes[1]={type:2,children:[2,3,4]},this.rules[20].opcodes[2]={type:7,string:[47,47]},this.rules[20].opcodes[3]={type:4,index:22},this.rules[20].opcodes[4]={type:4,index:23},this.rules[20].opcodes[5]={type:4,index:24},this.rules[20].opcodes[6]={type:4,index:25},this.rules[20].opcodes[7]={type:4,index:26},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2]},this.rules[21].opcodes[1]={type:4,index:77},this.rules[21].opcodes[2]={type:3,min:0,max:1/0},this.rules[21].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[21].opcodes[4]={type:4,index:77},this.rules[21].opcodes[5]={type:4,index:79},this.rules[21].opcodes[6]={type:6,string:[43]},this.rules[21].opcodes[7]={type:5,min:45,max:46},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:2,children:[1,3,4]},this.rules[22].opcodes[1]={type:3,min:0,max:1},this.rules[22].opcodes[2]={type:4,index:27},this.rules[22].opcodes[3]={type:4,index:29},this.rules[22].opcodes[4]={type:3,min:0,max:1},this.rules[22].opcodes[5]={type:2,children:[6,7]},this.rules[22].opcodes[6]={type:7,string:[58]},this.rules[22].opcodes[7]={type:4,index:44},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:3,min:0,max:1/0},this.rules[23].opcodes[1]={type:2,children:[2,3]},this.rules[23].opcodes[2]={type:7,string:[47]},this.rules[23].opcodes[3]={type:4,index:60},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:7,string:[47]},this.rules[24].opcodes[2]={type:3,min:0,max:1},this.rules[24].opcodes[3]={type:2,children:[4,5]},this.rules[24].opcodes[4]={type:4,index:61},this.rules[24].opcodes[5]={type:3,min:0,max:1/0},this.rules[24].opcodes[6]={type:2,children:[7,8]},this.rules[24].opcodes[7]={type:7,string:[47]},this.rules[24].opcodes[8]={type:4,index:60},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2]},this.rules[25].opcodes[1]={type:4,index:61},this.rules[25].opcodes[2]={type:3,min:0,max:1/0},this.rules[25].opcodes[3]={type:2,children:[4,5]},this.rules[25].opcodes[4]={type:7,string:[47]},this.rules[25].opcodes[5]={type:4,index:60},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:7,string:[]},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:4,index:28},this.rules[27].opcodes[2]={type:6,string:[64]},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:3,min:0,max:1/0},this.rules[28].opcodes[1]={type:1,children:[2,3,4,5,6,7,8,9,10,11,12]},this.rules[28].opcodes[2]={type:5,min:97,max:122},this.rules[28].opcodes[3]={type:5,min:65,max:90},this.rules[28].opcodes[4]={type:5,min:48,max:57},this.rules[28].opcodes[5]={type:4,index:63},this.rules[28].opcodes[6]={type:6,string:[33]},this.rules[28].opcodes[7]={type:6,string:[36]},this.rules[28].opcodes[8]={type:5,min:38,max:46},this.rules[28].opcodes[9]={type:5,min:58,max:59},this.rules[28].opcodes[10]={type:6,string:[61]},this.rules[28].opcodes[11]={type:6,string:[95]},this.rules[28].opcodes[12]={type:6,string:[126]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:1,children:[1,2,6]},this.rules[29].opcodes[1]={type:4,index:30},this.rules[29].opcodes[2]={type:2,children:[3,4]},this.rules[29].opcodes[3]={type:4,index:39},this.rules[29].opcodes[4]={type:13},this.rules[29].opcodes[5]={type:4,index:43},this.rules[29].opcodes[6]={type:4,index:42},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,5]},this.rules[30].opcodes[1]={type:7,string:[91]},this.rules[30].opcodes[2]={type:1,children:[3,4]},this.rules[30].opcodes[3]={type:4,index:32},this.rules[30].opcodes[4]={type:4,index:31},this.rules[30].opcodes[5]={type:7,string:[93]},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:2,children:[1,2,4,5]},this.rules[31].opcodes[1]={type:7,string:[118]},this.rules[31].opcodes[2]={type:3,min:1,max:1/0},this.rules[31].opcodes[3]={type:4,index:80},this.rules[31].opcodes[4]={type:7,string:[46]},this.rules[31].opcodes[5]={type:3,min:1,max:1/0},this.rules[31].opcodes[6]={type:1,children:[7,8,9,10,11,12,13,14,15,16]},this.rules[31].opcodes[7]={type:5,min:97,max:122},this.rules[31].opcodes[8]={type:5,min:65,max:90},this.rules[31].opcodes[9]={type:5,min:48,max:57},this.rules[31].opcodes[10]={type:6,string:[33]},this.rules[31].opcodes[11]={type:6,string:[36]},this.rules[31].opcodes[12]={type:5,min:38,max:46},this.rules[31].opcodes[13]={type:5,min:58,max:59},this.rules[31].opcodes[14]={type:6,string:[61]},this.rules[31].opcodes[15]={type:6,string:[95]},this.rules[31].opcodes[16]={type:6,string:[126]},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:1,children:[1,2]},this.rules[32].opcodes[1]={type:4,index:33},this.rules[32].opcodes[2]={type:4,index:34},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:2,children:[1,5]},this.rules[33].opcodes[1]={type:2,children:[2,3]},this.rules[33].opcodes[2]={type:4,index:37},this.rules[33].opcodes[3]={type:3,min:0,max:1/0},this.rules[33].opcodes[4]={type:4,index:38},this.rules[33].opcodes[5]={type:3,min:0,max:1},this.rules[33].opcodes[6]={type:2,children:[7,8]},this.rules[33].opcodes[7]={type:6,string:[58]},this.rules[33].opcodes[8]={type:4,index:39},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:2,children:[1,6,7]},this.rules[34].opcodes[1]={type:3,min:0,max:1},this.rules[34].opcodes[2]={type:2,children:[3,4]},this.rules[34].opcodes[3]={type:4,index:35},this.rules[34].opcodes[4]={type:3,min:0,max:1/0},this.rules[34].opcodes[5]={type:4,index:36},this.rules[34].opcodes[6]={type:6,string:[58,58]},this.rules[34].opcodes[7]={type:1,children:[8,17]},this.rules[34].opcodes[8]={type:2,children:[9,13]},this.rules[34].opcodes[9]={type:2,children:[10,11]},this.rules[34].opcodes[10]={type:4,index:37},this.rules[34].opcodes[11]={type:3,min:0,max:1/0},this.rules[34].opcodes[12]={type:4,index:38},this.rules[34].opcodes[13]={type:3,min:0,max:1},this.rules[34].opcodes[14]={type:2,children:[15,16]},this.rules[34].opcodes[15]={type:6,string:[58]},this.rules[34].opcodes[16]={type:4,index:39},this.rules[34].opcodes[17]={type:3,min:0,max:1},this.rules[34].opcodes[18]={type:4,index:39},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:3,min:1,max:4},this.rules[35].opcodes[1]={type:4,index:80},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:2,children:[1,2]},this.rules[36].opcodes[1]={type:6,string:[58]},this.rules[36].opcodes[2]={type:3,min:1,max:4},this.rules[36].opcodes[3]={type:4,index:80},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:2,children:[1,3]},this.rules[37].opcodes[1]={type:3,min:1,max:4},this.rules[37].opcodes[2]={type:4,index:80},this.rules[37].opcodes[3]={type:13},this.rules[37].opcodes[4]={type:6,string:[46]},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2,4]},this.rules[38].opcodes[1]={type:6,string:[58]},this.rules[38].opcodes[2]={type:3,min:1,max:4},this.rules[38].opcodes[3]={type:4,index:80},this.rules[38].opcodes[4]={type:13},this.rules[38].opcodes[5]={type:6,string:[46]},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},this.rules[39].opcodes[1]={type:4,index:40},this.rules[39].opcodes[2]={type:7,string:[46]},this.rules[39].opcodes[3]={type:4,index:40},this.rules[39].opcodes[4]={type:7,string:[46]},this.rules[39].opcodes[5]={type:4,index:40},this.rules[39].opcodes[6]={type:7,string:[46]},this.rules[39].opcodes[7]={type:4,index:40},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:3,min:0,max:3},this.rules[40].opcodes[1]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:5,min:48,max:57},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:3,min:0,max:1/0},this.rules[42].opcodes[1]={type:4,index:43},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[43].opcodes[1]={type:5,min:97,max:122},this.rules[43].opcodes[2]={type:5,min:65,max:90},this.rules[43].opcodes[3]={type:5,min:48,max:57},this.rules[43].opcodes[4]={type:4,index:63},this.rules[43].opcodes[5]={type:6,string:[33]},this.rules[43].opcodes[6]={type:6,string:[36]},this.rules[43].opcodes[7]={type:5,min:38,max:46},this.rules[43].opcodes[8]={type:6,string:[59]},this.rules[43].opcodes[9]={type:6,string:[61]},this.rules[43].opcodes[10]={type:6,string:[95]},this.rules[43].opcodes[11]={type:6,string:[126]},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:3,min:0,max:1/0},this.rules[44].opcodes[1]={type:4,index:79},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:3,min:0,max:1/0},this.rules[45].opcodes[1]={type:1,children:[2,3,4]},this.rules[45].opcodes[2]={type:4,index:62},this.rules[45].opcodes[3]={type:6,string:[47]},this.rules[45].opcodes[4]={type:6,string:[63]},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:3,min:0,max:1/0},this.rules[46].opcodes[1]={type:1,children:[2,3,4]},this.rules[46].opcodes[2]={type:4,index:62},this.rules[46].opcodes[3]={type:6,string:[47]},this.rules[46].opcodes[4]={type:6,string:[63]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:2,children:[1,2,3,4,8]},this.rules[47].opcodes[1]={type:4,index:49},this.rules[47].opcodes[2]={type:7,string:[58]},this.rules[47].opcodes[3]={type:4,index:48},this.rules[47].opcodes[4]={type:3,min:0,max:1},this.rules[47].opcodes[5]={type:2,children:[6,7]},this.rules[47].opcodes[6]={type:7,string:[63]},this.rules[47].opcodes[7]={type:4,index:50},this.rules[47].opcodes[8]={type:3,min:0,max:1},this.rules[47].opcodes[9]={type:2,children:[10,11]},this.rules[47].opcodes[10]={type:7,string:[35]},this.rules[47].opcodes[11]={type:4,index:51},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[48].opcodes[1]={type:2,children:[2,3,4]},this.rules[48].opcodes[2]={type:7,string:[47,47]},this.rules[48].opcodes[3]={type:4,index:52},this.rules[48].opcodes[4]={type:4,index:56},this.rules[48].opcodes[5]={type:4,index:57},this.rules[48].opcodes[6]={type:4,index:58},this.rules[48].opcodes[7]={type:4,index:59},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:2,children:[1,2]},this.rules[49].opcodes[1]={type:4,index:77},this.rules[49].opcodes[2]={type:3,min:0,max:1/0},this.rules[49].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[49].opcodes[4]={type:4,index:77},this.rules[49].opcodes[5]={type:4,index:79},this.rules[49].opcodes[6]={type:6,string:[43]},this.rules[49].opcodes[7]={type:5,min:45,max:46},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:3,min:0,max:1/0},this.rules[50].opcodes[1]={type:1,children:[2,3,4]},this.rules[50].opcodes[2]={type:4,index:62},this.rules[50].opcodes[3]={type:6,string:[47]},this.rules[50].opcodes[4]={type:6,string:[63]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:3,min:0,max:1/0},this.rules[51].opcodes[1]={type:1,children:[2,3,4]},this.rules[51].opcodes[2]={type:4,index:62},this.rules[51].opcodes[3]={type:6,string:[47]},this.rules[51].opcodes[4]={type:6,string:[63]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:2,children:[1,5,6]},this.rules[52].opcodes[1]={type:3,min:0,max:1},this.rules[52].opcodes[2]={type:2,children:[3,4]},this.rules[52].opcodes[3]={type:4,index:53},this.rules[52].opcodes[4]={type:6,string:[64]},this.rules[52].opcodes[5]={type:4,index:54},this.rules[52].opcodes[6]={type:3,min:0,max:1},this.rules[52].opcodes[7]={type:2,children:[8,9]},this.rules[52].opcodes[8]={type:7,string:[58]},this.rules[52].opcodes[9]={type:4,index:55},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:3,min:0,max:1/0},this.rules[53].opcodes[1]={type:1,children:[2,3,4,5,6,7,8,9,10,11,12]},this.rules[53].opcodes[2]={type:5,min:97,max:122},this.rules[53].opcodes[3]={type:5,min:65,max:90},this.rules[53].opcodes[4]={type:5,min:48,max:57},this.rules[53].opcodes[5]={type:4,index:63},this.rules[53].opcodes[6]={type:6,string:[33]},this.rules[53].opcodes[7]={type:6,string:[36]},this.rules[53].opcodes[8]={type:5,min:38,max:46},this.rules[53].opcodes[9]={type:5,min:58,max:59},this.rules[53].opcodes[10]={type:6,string:[61]},this.rules[53].opcodes[11]={type:6,string:[95]},this.rules[53].opcodes[12]={type:6,string:[126]},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:1,children:[1,2,6]},this.rules[54].opcodes[1]={type:4,index:30},this.rules[54].opcodes[2]={type:2,children:[3,4]},this.rules[54].opcodes[3]={type:4,index:39},this.rules[54].opcodes[4]={type:13},this.rules[54].opcodes[5]={type:4,index:43},this.rules[54].opcodes[6]={type:4,index:42},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:3,min:0,max:1/0},this.rules[55].opcodes[1]={type:4,index:79},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1/0},this.rules[56].opcodes[1]={type:2,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[47]},this.rules[56].opcodes[3]={type:4,index:60},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:2,children:[1,2]},this.rules[57].opcodes[1]={type:7,string:[47]},this.rules[57].opcodes[2]={type:3,min:0,max:1},this.rules[57].opcodes[3]={type:2,children:[4,5]},this.rules[57].opcodes[4]={type:4,index:61},this.rules[57].opcodes[5]={type:3,min:0,max:1/0},this.rules[57].opcodes[6]={type:2,children:[7,8]},this.rules[57].opcodes[7]={type:7,string:[47]},this.rules[57].opcodes[8]={type:4,index:60},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:2,children:[1,2]},this.rules[58].opcodes[1]={type:4,index:61},this.rules[58].opcodes[2]={type:3,min:0,max:1/0},this.rules[58].opcodes[3]={type:2,children:[4,5]},this.rules[58].opcodes[4]={type:7,string:[47]},this.rules[58].opcodes[5]={type:4,index:60},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:7,string:[]},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:3,min:0,max:1/0},this.rules[60].opcodes[1]={type:4,index:62},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:3,min:1,max:1/0},this.rules[61].opcodes[1]={type:4,index:62},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11,12]},this.rules[62].opcodes[1]={type:5,min:97,max:122},this.rules[62].opcodes[2]={type:5,min:65,max:90},this.rules[62].opcodes[3]={type:5,min:48,max:57},this.rules[62].opcodes[4]={type:4,index:63},this.rules[62].opcodes[5]={type:6,string:[33]},this.rules[62].opcodes[6]={type:6,string:[36]},this.rules[62].opcodes[7]={type:5,min:38,max:46},this.rules[62].opcodes[8]={type:5,min:58,max:59},this.rules[62].opcodes[9]={type:6,string:[61]},this.rules[62].opcodes[10]={type:6,string:[64]},this.rules[62].opcodes[11]={type:6,string:[95]},this.rules[62].opcodes[12]={type:6,string:[126]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:2,children:[1,2,3]},this.rules[63].opcodes[1]={type:6,string:[37]},this.rules[63].opcodes[2]={type:4,index:80},this.rules[63].opcodes[3]={type:4,index:80},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:4,max:4},this.rules[64].opcodes[1]={type:4,index:79},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:3,min:2,max:2},this.rules[65].opcodes[1]={type:4,index:79},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:3,min:2,max:2},this.rules[66].opcodes[1]={type:4,index:79},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:2,max:2},this.rules[67].opcodes[1]={type:4,index:79},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:3,min:2,max:2},this.rules[68].opcodes[1]={type:4,index:79},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:3,min:2,max:2},this.rules[69].opcodes[1]={type:4,index:79},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:2,children:[1,2]},this.rules[70].opcodes[1]={type:7,string:[46]},this.rules[70].opcodes[2]={type:3,min:1,max:1/0},this.rules[70].opcodes[3]={type:4,index:79},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:2,children:[1,4,5,6]},this.rules[71].opcodes[1]={type:1,children:[2,3]},this.rules[71].opcodes[2]={type:7,string:[43]},this.rules[71].opcodes[3]={type:7,string:[45]},this.rules[71].opcodes[4]={type:4,index:67},this.rules[71].opcodes[5]={type:7,string:[58]},this.rules[71].opcodes[6]={type:4,index:68},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:1,children:[1,2]},this.rules[72].opcodes[1]={type:7,string:[122]},this.rules[72].opcodes[2]={type:4,index:71},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:2,children:[1,2,3,4,5,6]},this.rules[73].opcodes[1]={type:4,index:67},this.rules[73].opcodes[2]={type:7,string:[58]},this.rules[73].opcodes[3]={type:4,index:68},this.rules[73].opcodes[4]={type:7,string:[58]},this.rules[73].opcodes[5]={type:4,index:69},this.rules[73].opcodes[6]={type:3,min:0,max:1},this.rules[73].opcodes[7]={type:4,index:70},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:2,children:[1,2,3,4,5]},this.rules[74].opcodes[1]={type:4,index:64},this.rules[74].opcodes[2]={type:7,string:[45]},this.rules[74].opcodes[3]={type:4,index:65},this.rules[74].opcodes[4]={type:7,string:[45]},this.rules[74].opcodes[5]={type:4,index:66},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:2,children:[1,2]},this.rules[75].opcodes[1]={type:4,index:73},this.rules[75].opcodes[2]={type:4,index:72},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:2,children:[1,2,3]},this.rules[76].opcodes[1]={type:4,index:74},this.rules[76].opcodes[2]={type:7,string:[116]},this.rules[76].opcodes[3]={type:4,index:75},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:5,min:65,max:90},this.rules[77].opcodes[2]={type:5,min:97,max:122},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:6,string:[10]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:5,min:48,max:57},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:1,children:[1,2,3]},this.rules[80].opcodes[1]={type:5,min:48,max:57},this.rules[80].opcodes[2]={type:5,min:65,max:70},this.rules[80].opcodes[3]={type:5,min:97,max:102},this.toString=function(){let n="";return n+=`; LDT 05/06/2024 
`,n+=`; modified in several significant ways
`,n+=`; 1) Literal strings are replaced with numbers and ranges (%d32 & %d32-126, etc.) when possible.
`,n+=`;    TRB and especially TRG operators are much more efficient than TLS operators.
`,n+=`; 2) Two rules, authority and URI, are used multiple times in different contexts. These rules will be reproduced and renamed
`,n+=`;    in order to a) recognize the context and b) remove unneccary callback functions for certain contexts.
`,n+=`;    This will simiplify recognizing contexts AND remove unneccesary callbacks
`,n+=`; 2.a) domain is defined as authority-d which is identical to authority except that there will be no
`,n+=`;      callback functions defined on authority-d or any of its *-d components.
`,n+=`; 2.b) The resource URI is defined as URI-r and its components defined as *-r.
`,n+=`;      In this way, callback functions can be defined on URI and is components while
`,n+=`;      leaving URI-r to be parsed identically with no unnecessary callback functions to slow it down.
`,n+=`; 3) IPv6address does not work because of APG's "first-success disambiguation" and "greedy" repetitions.
`,n+=`;    IPv6address redefined and validations moved to callback functions (semantic vs syntactic validation)
`,n+=`;    Redefinition requires negative look-ahead operators, https://en.wikipedia.org/wiki/Syntactic_predicate
`,n+=`;    That is SABNF instead of simple ABNF.
`,n+=`; 4) IPv4address fails because of "first-success disambiguation".
`,n+=`;    This could be fixed with rearrangement of the alternative terms. However, it would still not
`,n+=`;    accept zero-padded (leading zeros) decimal octets.
`,n+=`;    Therefore, IPv4address is also done with callback functions and semantic validation.
`,n+=`; 5) The negative look-ahead operator is also needed in the definition of host to
`,n+=`;    prevent failure with a reg-name that begins with an IPv4 address.
`,n+=`; 6) NOTE: host = 1.1.1.256 is a valid host name even though it is an invalid IPv4address.
`,n+=`;          The IPv4address alternative fails but the reg-name alternative succeeds.
`,n+=`; 7) The Ethereum spec (https://eips.ethereum.org/EIPS/eip-4361) message format ABNF
`,n+=`;    allows for empty statements. Because of the "first success disambiguation" of APG
`,n+=`;    the an explicit "empty-statement" rule is required to match the spec's intent.
`,n+=`
`,n+=`
`,n+=`sign-in-with-ethereum =
`,n+=`    oscheme domain %s" wants you to sign in with your Ethereum account:" LF
`,n+=`    address LF
`,n+=`    ((LF statement LF LF) / empty-statement / (LF LF))
`,n+=`    %s"URI: " URI LF
`,n+=`    %s"Version: " version LF
`,n+=`    %s"Chain ID: " chain-id LF
`,n+=`    %s"Nonce: " nonce LF
`,n+=`    %s"Issued At: " issued-at
`,n+=`    [ LF ex-title expiration-time ]
`,n+=`    [ LF nb-title not-before ]
`,n+=`    [ LF ri-title request-id ]
`,n+=`    [ LF re-title resources ]
`,n+=`ex-title        = %s"Expiration Time: "
`,n+=`nb-title        = %s"Not Before: "
`,n+=`ri-title        = %s"Request ID: "
`,n+=`re-title        = %s"Resources:"
`,n+=`oscheme         = [ ALPHA *( ALPHA / DIGIT / %d43 / %d45-46 ) "://" ]
`,n+=`domain          = authority-d
`,n+=`address         = "0x" 40*40HEXDIG
`,n+=`    ; Must also conform to captilization
`,n+=`    ; checksum encoding specified in EIP-55
`,n+=`    ; where applicable (EOAs).
`,n+=`
`,n+=`statement       = 1*( %d97-122 / %d65-90 / %d48-57 / %d32-33 / %d35-36 / %d38-59 / %d61 / %d63-64 / %d91 / %d93 / %d95 / %d126)
`,n+=`    ; The purpose is to exclude LF (line breaks).
`,n+=`    ; LDT 10/04/2023: Do you mean %d32-126? All printing characters
`,n+=`empty-statement = LF LF LF
`,n+=`version         = "1"
`,n+=`nonce           = 8*( ALPHA / DIGIT )
`,n+=`issued-at       = date-time
`,n+=`expiration-time = date-time
`,n+=`not-before      = date-time
`,n+=`request-id      = *pchar
`,n+=`chain-id        = 1*DIGIT
`,n+=`    ; See EIP-155 for valid CHAIN_IDs.
`,n+=`resources       = *( LF resource )
`,n+=`resource        = "- " URI-r
`,n+=`
`,n+=`; ------------------------------------------------------------------------------
`,n+=`; RFC 3986
`,n+=`
`,n+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,n+=`hier-part     = "//" authority path-abempty
`,n+=`              / path-absolute
`,n+=`              / path-rootless
`,n+=`              / path-empty
`,n+=`scheme        = ALPHA *( ALPHA / DIGIT / %d43 / %d45-46 )
`,n+=`authority     = [ userinfo-at ] host [ ":" port ]
`,n+=`path-abempty  = *( "/" segment )
`,n+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,n+=`path-rootless = segment-nz *( "/" segment )
`,n+=`path-empty    = ""
`,n+=`userinfo-at   = userinfo %d64
`,n+=`                ; userinfo redefined to include the "@" so that it will fail without it
`,n+=`                ; otherwise userinfo can match host and then the parser will backtrack
`,n+=`                ; incorrectly keeping the captured userinfo phrase
`,n+=`userinfo      = *(%d97-122 / %d65-90 / %d48-57 / pct-encoded / %d33 / %d36 / %d38-46 / %d58-59 / %d61 / %d95 / %d126)
`,n+=`host          = IP-literal / (IPv4address !reg-name-char) / reg-name
`,n+=`                ; negative look-ahead required to prevent IPv4address from being recognized as first part of reg-name
`,n+=`                ; same fix as https://github.com/garycourt/uri-js/issues/4
`,n+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,n+=`IPvFuture     = "v" 1*HEXDIG "." 1*( %d97-122 / %d65-90 / %d48-57 / %d33 / %d36 /%d38-46 / %d58-59 /%d61 /%d95 / %d126 )
`,n+=`IPv6address   = nodcolon / dcolon
`,n+=`nodcolon      = (h16n *h16cn) [%d58 IPv4address]
`,n+=`dcolon        = [h16 *h16c] %d58.58 (((h16n *h16cn) [%d58 IPv4address]) / [IPv4address])
`,n+=`h16           = 1*4HEXDIG
`,n+=`h16c          = %d58 1*4HEXDIG
`,n+=`h16n          = 1*4HEXDIG !%d46
`,n+=`h16cn         = %d58 1*4HEXDIG !%d46
`,n+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,n+=`; Here we will will use callback functions to evaluate and validate the (possibly zero-padded) dec-octet.
`,n+=`dec-octet     =  *3dec-digit
`,n+=`dec-digit     = %d48-57
`,n+=`reg-name      = *reg-name-char
`,n+=`reg-name-char = %d97-122 / %d65-90 / %d48-57 / pct-encoded / %d33 / %d36 / %d38-46 / %d59 / %d61 /%d95 / %d126
`,n+=`port          = *DIGIT
`,n+=`query         = *(pchar / %d47 / %d63)
`,n+=`fragment      = *(pchar / %d47 / %d63)
`,n+=`
`,n+=`; URI-r is a redefiniton of URI but without the callback functions attached to it
`,n+=`; it reuses athority-d from domain 
`,n+=`URI-r         = scheme-r ":" hier-part-r [ "?" query-r ] [ "#" fragment-r ]
`,n+=`hier-part-r   = "//" authority-d path-abempty-r
`,n+=`              / path-absolute-r
`,n+=`              / path-rootless-r
`,n+=`              / path-empty-r
`,n+=`scheme-r      = ALPHA *( ALPHA / DIGIT / %d43 / %d45-46 )
`,n+=`query-r       = *(pchar / %d47 / %d63)
`,n+=`fragment-r    = *(pchar / %d47 / %d63)
`,n+=`
`,n+=`; authority-d is a redefinition of authority for capturing the domian phrase
`,n+=`; but without callback functions 
`,n+=`; it is reused for URI- for the same reason               
`,n+=`authority-d   = [ userinfo-d %d64 ] host-d [ ":" port-d ]
`,n+=`userinfo-d    = *(%d97-122 / %d65-90 / %d48-57 / pct-encoded / %d33 / %d36 / %d38-46 / %d58-59 / %d61 / %d95 / %d126)
`,n+=`host-d        = IP-literal / (IPv4address !reg-name-char) / reg-name
`,n+=`port-d        = *DIGIT
`,n+=`
`,n+=`; for use with URI-r
`,n+=`path-abempty-r  = *( "/" segment )
`,n+=`path-absolute-r = "/" [ segment-nz *( "/" segment ) ]
`,n+=`path-rootless-r = segment-nz *( "/" segment )
`,n+=`path-empty-r    = ""
`,n+=`segment       = *pchar
`,n+=`segment-nz    = 1*pchar
`,n+=`pchar         = (%d97-122 / %d65-90 / %d48-57 / pct-encoded / %d33 / %d36 / %d38-46 /%d58-59 / %d61 / %d64 / %d95 / %d126)
`,n+=`pct-encoded   = %d37 HEXDIG HEXDIG
`,n+=`
`,n+=`; no longer needed - expanded for all usage for fewer branches in the parse there
`,n+=`; and more efficient use of the TBS & TRG operators in place of TLS and rule names
`,n+=`; does not work with APG probably because of "first-success disambiguation" and greedy repetitions.
`,n+=`; will replace with semantic checking of valid number of h16s
`,n+=`;IPv6address   =                            6( h16 ":" ) ls32
`,n+=`;              /                       "::" 5( h16 ":" ) ls32
`,n+=`;              / [               h16 ] "::" 4( h16 ":" ) ls32
`,n+=`;              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,n+=`;              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,n+=`;              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,n+=`;              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,n+=`;              / [ *5( h16 ":" ) h16 ] "::"              h16
`,n+=`;              / [ *6( h16 ":" ) h16 ] "::"
`,n+=`;ls32          = ( h16 ":" h16 ) / IPv4address
`,n+=`; dec-octet does not work because of "first-success disambiguation".
`,n+=`; Must have the longest (3-digit) numbers first.
`,n+=`; Even so, this form does not accept leading zeros.
`,n+=`; There does not seem to be a clear standard for this (https://en.wikipedia.org/wiki/Dot-decimal_notation)
`,n+=`; however and early RFC 790 did show leading-zero padding of the three digits.
`,n+=`;dec-octet     = DIGIT                 ; 0-9
`,n+=`;                 / %x31-39 DIGIT         ; 10-99
`,n+=`;                 / "1" 2DIGIT            ; 100-199
`,n+=`;                 / "2" %x30-34 DIGIT     ; 200-249
`,n+=`;                 / "25" %x30-35          ; 250-255
`,n+=`;statement = 1*( reserved / unreserved / " " )
`,n+=`;scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,n+=`;authority     = [ userinfo "@" ] host [ ":" port ]
`,n+=`;userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,n+=`;query         = *( pchar / "/" / "?" )
`,n+=`;fragment      = *( pchar / "/" / "?" )
`,n+=`;IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,n+=`;reg-name      = *( unreserved / pct-encoded / sub-delims )
`,n+=`;pct-encoded   = "%" HEXDIG HEXDIG
`,n+=`;pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,n+=`;path-empty    = 0pchar; deprecated - empty literal string, "", is more efficient 
`,n+=`;unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,n+=`;reserved      = gen-delims / sub-delims
`,n+=`;gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,n+=`;sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,n+=`;              / "*" / "+" / "," / ";" / "="
`,n+=`;HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,n+=`
`,n+=`; ------------------------------------------------------------------------------
`,n+=`; RFC 3339
`,n+=`
`,n+=`date-fullyear   = 4DIGIT
`,n+=`date-month      = 2DIGIT  ; 01-12
`,n+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,n+=`                          ; month/year
`,n+=`time-hour       = 2DIGIT  ; 00-23
`,n+=`time-minute     = 2DIGIT  ; 00-59
`,n+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,n+=`                          ; rules
`,n+=`time-secfrac    = "." 1*DIGIT
`,n+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,n+=`time-offset     = "Z" / time-numoffset
`,n+=`
`,n+=`partial-time    = time-hour ":" time-minute ":" time-second
`,n+=`                  [time-secfrac]
`,n+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,n+=`full-time       = partial-time time-offset
`,n+=`
`,n+=`date-time       = full-date "T" full-time
`,n+=`
`,n+=`; ------------------------------------------------------------------------------
`,n+=`; RFC 5234
`,n+=`
`,n+=`ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
`,n+=`LF             =  %x0A
`,n+=`                  ; linefeed
`,n+=`DIGIT          =  %x30-39
`,n+=`                  ; 0-9
`,n+=`HEXDIG         = %d48-57 / %d65-70 / %d97-102
`,n+=`
`,n}}return Ob.grammar=t,Ob}var Vh={},O3,oj;function ry(){return oj||(oj=1,O3={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}),O3}var I3={},k3,aj;function iS(){return aj||(aj=1,k3={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}),k3}var B3={},D3={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var cj;function vW(){return cj||(cj=1,function(t){var e=q_e(),n=V_e(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var J=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(J,V),J.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(J){if(J>s)throw new RangeError('The value "'+J+'" is invalid for option "size"');var V=new Uint8Array(J);return Object.setPrototypeOf(V,a.prototype),V}function a(J,V,Y){if(typeof J=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(J)}return l(J,V,Y)}a.poolSize=8192;function l(J,V,Y){if(typeof J=="string")return p(J,V);if(ArrayBuffer.isView(J))return b(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(Se(J,ArrayBuffer)||J&&Se(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(J,SharedArrayBuffer)||J&&Se(J.buffer,SharedArrayBuffer)))return w(J,V,Y);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var se=J.valueOf&&J.valueOf();if(se!=null&&se!==J)return a.from(se,V,Y);var me=m(J);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return a.from(J[Symbol.toPrimitive]("string"),V,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}a.from=function(J,V,Y){return l(J,V,Y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function d(J,V,Y){return c(J),J<=0?o(J):V!==void 0?typeof Y=="string"?o(J).fill(V,Y):o(J).fill(V):o(J)}a.alloc=function(J,V,Y){return d(J,V,Y)};function f(J){return c(J),o(J<0?0:v(J)|0)}a.allocUnsafe=function(J){return f(J)},a.allocUnsafeSlow=function(J){return f(J)};function p(J,V){if((typeof V!="string"||V==="")&&(V="utf8"),!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);var Y=C(J,V)|0,se=o(Y),me=se.write(J,V);return me!==Y&&(se=se.slice(0,me)),se}function g(J){for(var V=J.length<0?0:v(J.length)|0,Y=o(V),se=0;se<V;se+=1)Y[se]=J[se]&255;return Y}function b(J){if(Se(J,Uint8Array)){var V=new Uint8Array(J);return w(V.buffer,V.byteOffset,V.byteLength)}return g(J)}function w(J,V,Y){if(V<0||J.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<V+(Y||0))throw new RangeError('"length" is outside of buffer bounds');var se;return V===void 0&&Y===void 0?se=new Uint8Array(J):Y===void 0?se=new Uint8Array(J,V):se=new Uint8Array(J,V,Y),Object.setPrototypeOf(se,a.prototype),se}function m(J){if(a.isBuffer(J)){var V=v(J.length)|0,Y=o(V);return Y.length===0||J.copy(Y,0,0,V),Y}if(J.length!==void 0)return typeof J.length!="number"||xe(J.length)?o(0):g(J);if(J.type==="Buffer"&&Array.isArray(J.data))return g(J.data)}function v(J){if(J>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return J|0}function x(J){return+J!=J&&(J=0),a.alloc(+J)}a.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==a.prototype},a.compare=function(V,Y){if(Se(V,Uint8Array)&&(V=a.from(V,V.offset,V.byteLength)),Se(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(V)||!a.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===Y)return 0;for(var se=V.length,me=Y.length,_e=0,Te=Math.min(se,me);_e<Te;++_e)if(V[_e]!==Y[_e]){se=V[_e],me=Y[_e];break}return se<me?-1:me<se?1:0},a.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(V,Y){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return a.alloc(0);var se;if(Y===void 0)for(Y=0,se=0;se<V.length;++se)Y+=V[se].length;var me=a.allocUnsafe(Y),_e=0;for(se=0;se<V.length;++se){var Te=V[se];if(Se(Te,Uint8Array))_e+Te.length>me.length?a.from(Te).copy(me,_e):Uint8Array.prototype.set.call(me,Te,_e);else if(a.isBuffer(Te))Te.copy(me,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Te.length}return me};function C(J,V){if(a.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||Se(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);var Y=J.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&Y===0)return 0;for(var me=!1;;)switch(V){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return ae(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return ve(J).length;default:if(me)return se?-1:ae(J).length;V=(""+V).toLowerCase(),me=!0}}a.byteLength=C;function S(J,V,Y){var se=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,V>>>=0,Y<=V))return"";for(J||(J="utf8");;)switch(J){case"hex":return G(this,V,Y);case"utf8":case"utf-8":return q(this,V,Y);case"ascii":return M(this,V,Y);case"latin1":case"binary":return j(this,V,Y);case"base64":return K(this,V,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,V,Y);default:if(se)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),se=!0}}a.prototype._isBuffer=!0;function T(J,V,Y){var se=J[V];J[V]=J[Y],J[Y]=se}a.prototype.swap16=function(){var V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Y=0;Y<V;Y+=2)T(this,Y,Y+1);return this},a.prototype.swap32=function(){var V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Y=0;Y<V;Y+=4)T(this,Y,Y+3),T(this,Y+1,Y+2);return this},a.prototype.swap64=function(){var V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Y=0;Y<V;Y+=8)T(this,Y,Y+7),T(this,Y+1,Y+6),T(this,Y+2,Y+5),T(this,Y+3,Y+4);return this},a.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?q(this,0,V):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(V){if(!a.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:a.compare(this,V)===0},a.prototype.inspect=function(){var V="",Y=t.INSPECT_MAX_BYTES;return V=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(V+=" ... "),"<Buffer "+V+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(V,Y,se,me,_e){if(Se(V,Uint8Array)&&(V=a.from(V,V.offset,V.byteLength)),!a.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(Y===void 0&&(Y=0),se===void 0&&(se=V?V.length:0),me===void 0&&(me=0),_e===void 0&&(_e=this.length),Y<0||se>V.length||me<0||_e>this.length)throw new RangeError("out of range index");if(me>=_e&&Y>=se)return 0;if(me>=_e)return-1;if(Y>=se)return 1;if(Y>>>=0,se>>>=0,me>>>=0,_e>>>=0,this===V)return 0;for(var Te=_e-me,ot=se-Y,It=Math.min(Te,ot),Ft=this.slice(me,_e),Ce=V.slice(Y,se),ye=0;ye<It;++ye)if(Ft[ye]!==Ce[ye]){Te=Ft[ye],ot=Ce[ye];break}return Te<ot?-1:ot<Te?1:0};function R(J,V,Y,se,me){if(J.length===0)return-1;if(typeof Y=="string"?(se=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,xe(Y)&&(Y=me?0:J.length-1),Y<0&&(Y=J.length+Y),Y>=J.length){if(me)return-1;Y=J.length-1}else if(Y<0)if(me)Y=0;else return-1;if(typeof V=="string"&&(V=a.from(V,se)),a.isBuffer(V))return V.length===0?-1:_(J,V,Y,se,me);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(J,V,Y):Uint8Array.prototype.lastIndexOf.call(J,V,Y):_(J,[V],Y,se,me);throw new TypeError("val must be string, number or Buffer")}function _(J,V,Y,se,me){var _e=1,Te=J.length,ot=V.length;if(se!==void 0&&(se=String(se).toLowerCase(),se==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(J.length<2||V.length<2)return-1;_e=2,Te/=2,ot/=2,Y/=2}function It(ge,ke){return _e===1?ge[ke]:ge.readUInt16BE(ke*_e)}var Ft;if(me){var Ce=-1;for(Ft=Y;Ft<Te;Ft++)if(It(J,Ft)===It(V,Ce===-1?0:Ft-Ce)){if(Ce===-1&&(Ce=Ft),Ft-Ce+1===ot)return Ce*_e}else Ce!==-1&&(Ft-=Ft-Ce),Ce=-1}else for(Y+ot>Te&&(Y=Te-ot),Ft=Y;Ft>=0;Ft--){for(var ye=!0,re=0;re<ot;re++)if(It(J,Ft+re)!==It(V,re)){ye=!1;break}if(ye)return Ft}return-1}a.prototype.includes=function(V,Y,se){return this.indexOf(V,Y,se)!==-1},a.prototype.indexOf=function(V,Y,se){return R(this,V,Y,se,!0)},a.prototype.lastIndexOf=function(V,Y,se){return R(this,V,Y,se,!1)};function N(J,V,Y,se){Y=Number(Y)||0;var me=J.length-Y;se?(se=Number(se),se>me&&(se=me)):se=me;var _e=V.length;se>_e/2&&(se=_e/2);for(var Te=0;Te<se;++Te){var ot=parseInt(V.substr(Te*2,2),16);if(xe(ot))return Te;J[Y+Te]=ot}return Te}function O(J,V,Y,se){return Re(ae(V,J.length-Y),J,Y,se)}function D(J,V,Y,se){return Re(ce(V),J,Y,se)}function k(J,V,Y,se){return Re(ve(V),J,Y,se)}function z(J,V,Y,se){return Re(fe(V,J.length-Y),J,Y,se)}a.prototype.write=function(V,Y,se,me){if(Y===void 0)me="utf8",se=this.length,Y=0;else if(se===void 0&&typeof Y=="string")me=Y,se=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(se)?(se=se>>>0,me===void 0&&(me="utf8")):(me=se,se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _e=this.length-Y;if((se===void 0||se>_e)&&(se=_e),V.length>0&&(se<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");for(var Te=!1;;)switch(me){case"hex":return N(this,V,Y,se);case"utf8":case"utf-8":return O(this,V,Y,se);case"ascii":case"latin1":case"binary":return D(this,V,Y,se);case"base64":return k(this,V,Y,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,V,Y,se);default:if(Te)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(J,V,Y){return V===0&&Y===J.length?e.fromByteArray(J):e.fromByteArray(J.slice(V,Y))}function q(J,V,Y){Y=Math.min(J.length,Y);for(var se=[],me=V;me<Y;){var _e=J[me],Te=null,ot=_e>239?4:_e>223?3:_e>191?2:1;if(me+ot<=Y){var It,Ft,Ce,ye;switch(ot){case 1:_e<128&&(Te=_e);break;case 2:It=J[me+1],(It&192)===128&&(ye=(_e&31)<<6|It&63,ye>127&&(Te=ye));break;case 3:It=J[me+1],Ft=J[me+2],(It&192)===128&&(Ft&192)===128&&(ye=(_e&15)<<12|(It&63)<<6|Ft&63,ye>2047&&(ye<55296||ye>57343)&&(Te=ye));break;case 4:It=J[me+1],Ft=J[me+2],Ce=J[me+3],(It&192)===128&&(Ft&192)===128&&(Ce&192)===128&&(ye=(_e&15)<<18|(It&63)<<12|(Ft&63)<<6|Ce&63,ye>65535&&ye<1114112&&(Te=ye))}}Te===null?(Te=65533,ot=1):Te>65535&&(Te-=65536,se.push(Te>>>10&1023|55296),Te=56320|Te&1023),se.push(Te),me+=ot}return P(se)}var I=4096;function P(J){var V=J.length;if(V<=I)return String.fromCharCode.apply(String,J);for(var Y="",se=0;se<V;)Y+=String.fromCharCode.apply(String,J.slice(se,se+=I));return Y}function M(J,V,Y){var se="";Y=Math.min(J.length,Y);for(var me=V;me<Y;++me)se+=String.fromCharCode(J[me]&127);return se}function j(J,V,Y){var se="";Y=Math.min(J.length,Y);for(var me=V;me<Y;++me)se+=String.fromCharCode(J[me]);return se}function G(J,V,Y){var se=J.length;(!V||V<0)&&(V=0),(!Y||Y<0||Y>se)&&(Y=se);for(var me="",_e=V;_e<Y;++_e)me+=te[J[_e]];return me}function F(J,V,Y){for(var se=J.slice(V,Y),me="",_e=0;_e<se.length-1;_e+=2)me+=String.fromCharCode(se[_e]+se[_e+1]*256);return me}a.prototype.slice=function(V,Y){var se=this.length;V=~~V,Y=Y===void 0?se:~~Y,V<0?(V+=se,V<0&&(V=0)):V>se&&(V=se),Y<0?(Y+=se,Y<0&&(Y=0)):Y>se&&(Y=se),Y<V&&(Y=V);var me=this.subarray(V,Y);return Object.setPrototypeOf(me,a.prototype),me};function H(J,V,Y){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+V>Y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(V,Y,se){V=V>>>0,Y=Y>>>0,se||H(V,Y,this.length);for(var me=this[V],_e=1,Te=0;++Te<Y&&(_e*=256);)me+=this[V+Te]*_e;return me},a.prototype.readUintBE=a.prototype.readUIntBE=function(V,Y,se){V=V>>>0,Y=Y>>>0,se||H(V,Y,this.length);for(var me=this[V+--Y],_e=1;Y>0&&(_e*=256);)me+=this[V+--Y]*_e;return me},a.prototype.readUint8=a.prototype.readUInt8=function(V,Y){return V=V>>>0,Y||H(V,1,this.length),this[V]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(V,Y){return V=V>>>0,Y||H(V,2,this.length),this[V]|this[V+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(V,Y){return V=V>>>0,Y||H(V,2,this.length),this[V]<<8|this[V+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},a.prototype.readIntLE=function(V,Y,se){V=V>>>0,Y=Y>>>0,se||H(V,Y,this.length);for(var me=this[V],_e=1,Te=0;++Te<Y&&(_e*=256);)me+=this[V+Te]*_e;return _e*=128,me>=_e&&(me-=Math.pow(2,8*Y)),me},a.prototype.readIntBE=function(V,Y,se){V=V>>>0,Y=Y>>>0,se||H(V,Y,this.length);for(var me=Y,_e=1,Te=this[V+--me];me>0&&(_e*=256);)Te+=this[V+--me]*_e;return _e*=128,Te>=_e&&(Te-=Math.pow(2,8*Y)),Te},a.prototype.readInt8=function(V,Y){return V=V>>>0,Y||H(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},a.prototype.readInt16LE=function(V,Y){V=V>>>0,Y||H(V,2,this.length);var se=this[V]|this[V+1]<<8;return se&32768?se|4294901760:se},a.prototype.readInt16BE=function(V,Y){V=V>>>0,Y||H(V,2,this.length);var se=this[V+1]|this[V]<<8;return se&32768?se|4294901760:se},a.prototype.readInt32LE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},a.prototype.readInt32BE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},a.prototype.readFloatLE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),n.read(this,V,!0,23,4)},a.prototype.readFloatBE=function(V,Y){return V=V>>>0,Y||H(V,4,this.length),n.read(this,V,!1,23,4)},a.prototype.readDoubleLE=function(V,Y){return V=V>>>0,Y||H(V,8,this.length),n.read(this,V,!0,52,8)},a.prototype.readDoubleBE=function(V,Y){return V=V>>>0,Y||H(V,8,this.length),n.read(this,V,!1,52,8)};function $(J,V,Y,se,me,_e){if(!a.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>me||V<_e)throw new RangeError('"value" argument is out of bounds');if(Y+se>J.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(V,Y,se,me){if(V=+V,Y=Y>>>0,se=se>>>0,!me){var _e=Math.pow(2,8*se)-1;$(this,V,Y,se,_e,0)}var Te=1,ot=0;for(this[Y]=V&255;++ot<se&&(Te*=256);)this[Y+ot]=V/Te&255;return Y+se},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(V,Y,se,me){if(V=+V,Y=Y>>>0,se=se>>>0,!me){var _e=Math.pow(2,8*se)-1;$(this,V,Y,se,_e,0)}var Te=se-1,ot=1;for(this[Y+Te]=V&255;--Te>=0&&(ot*=256);)this[Y+Te]=V/ot&255;return Y+se},a.prototype.writeUint8=a.prototype.writeUInt8=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,1,255,0),this[Y]=V&255,Y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,2,65535,0),this[Y]=V&255,this[Y+1]=V>>>8,Y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,2,65535,0),this[Y]=V>>>8,this[Y+1]=V&255,Y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,4,4294967295,0),this[Y+3]=V>>>24,this[Y+2]=V>>>16,this[Y+1]=V>>>8,this[Y]=V&255,Y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,4,4294967295,0),this[Y]=V>>>24,this[Y+1]=V>>>16,this[Y+2]=V>>>8,this[Y+3]=V&255,Y+4},a.prototype.writeIntLE=function(V,Y,se,me){if(V=+V,Y=Y>>>0,!me){var _e=Math.pow(2,8*se-1);$(this,V,Y,se,_e-1,-_e)}var Te=0,ot=1,It=0;for(this[Y]=V&255;++Te<se&&(ot*=256);)V<0&&It===0&&this[Y+Te-1]!==0&&(It=1),this[Y+Te]=(V/ot>>0)-It&255;return Y+se},a.prototype.writeIntBE=function(V,Y,se,me){if(V=+V,Y=Y>>>0,!me){var _e=Math.pow(2,8*se-1);$(this,V,Y,se,_e-1,-_e)}var Te=se-1,ot=1,It=0;for(this[Y+Te]=V&255;--Te>=0&&(ot*=256);)V<0&&It===0&&this[Y+Te+1]!==0&&(It=1),this[Y+Te]=(V/ot>>0)-It&255;return Y+se},a.prototype.writeInt8=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,1,127,-128),V<0&&(V=255+V+1),this[Y]=V&255,Y+1},a.prototype.writeInt16LE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,2,32767,-32768),this[Y]=V&255,this[Y+1]=V>>>8,Y+2},a.prototype.writeInt16BE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,2,32767,-32768),this[Y]=V>>>8,this[Y+1]=V&255,Y+2},a.prototype.writeInt32LE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,4,2147483647,-2147483648),this[Y]=V&255,this[Y+1]=V>>>8,this[Y+2]=V>>>16,this[Y+3]=V>>>24,Y+4},a.prototype.writeInt32BE=function(V,Y,se){return V=+V,Y=Y>>>0,se||$(this,V,Y,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[Y]=V>>>24,this[Y+1]=V>>>16,this[Y+2]=V>>>8,this[Y+3]=V&255,Y+4};function Z(J,V,Y,se,me,_e){if(Y+se>J.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function X(J,V,Y,se,me){return V=+V,Y=Y>>>0,me||Z(J,V,Y,4),n.write(J,V,Y,se,23,4),Y+4}a.prototype.writeFloatLE=function(V,Y,se){return X(this,V,Y,!0,se)},a.prototype.writeFloatBE=function(V,Y,se){return X(this,V,Y,!1,se)};function le(J,V,Y,se,me){return V=+V,Y=Y>>>0,me||Z(J,V,Y,8),n.write(J,V,Y,se,52,8),Y+8}a.prototype.writeDoubleLE=function(V,Y,se){return le(this,V,Y,!0,se)},a.prototype.writeDoubleBE=function(V,Y,se){return le(this,V,Y,!1,se)},a.prototype.copy=function(V,Y,se,me){if(!a.isBuffer(V))throw new TypeError("argument should be a Buffer");if(se||(se=0),!me&&me!==0&&(me=this.length),Y>=V.length&&(Y=V.length),Y||(Y=0),me>0&&me<se&&(me=se),me===se||V.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),V.length-Y<me-se&&(me=V.length-Y+se);var _e=me-se;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,se,me):Uint8Array.prototype.set.call(V,this.subarray(se,me),Y),_e},a.prototype.fill=function(V,Y,se,me){if(typeof V=="string"){if(typeof Y=="string"?(me=Y,Y=0,se=this.length):typeof se=="string"&&(me=se,se=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!a.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(V.length===1){var _e=V.charCodeAt(0);(me==="utf8"&&_e<128||me==="latin1")&&(V=_e)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(Y<0||this.length<Y||this.length<se)throw new RangeError("Out of range index");if(se<=Y)return this;Y=Y>>>0,se=se===void 0?this.length:se>>>0,V||(V=0);var Te;if(typeof V=="number")for(Te=Y;Te<se;++Te)this[Te]=V;else{var ot=a.isBuffer(V)?V:a.from(V,me),It=ot.length;if(It===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Te=0;Te<se-Y;++Te)this[Te+Y]=ot[Te%It]}return this};var de=/[^+/0-9A-Za-z-_]/g;function pe(J){if(J=J.split("=")[0],J=J.trim().replace(de,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function ae(J,V){V=V||1/0;for(var Y,se=J.length,me=null,_e=[],Te=0;Te<se;++Te){if(Y=J.charCodeAt(Te),Y>55295&&Y<57344){if(!me){if(Y>56319){(V-=3)>-1&&_e.push(239,191,189);continue}else if(Te+1===se){(V-=3)>-1&&_e.push(239,191,189);continue}me=Y;continue}if(Y<56320){(V-=3)>-1&&_e.push(239,191,189),me=Y;continue}Y=(me-55296<<10|Y-56320)+65536}else me&&(V-=3)>-1&&_e.push(239,191,189);if(me=null,Y<128){if((V-=1)<0)break;_e.push(Y)}else if(Y<2048){if((V-=2)<0)break;_e.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((V-=3)<0)break;_e.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((V-=4)<0)break;_e.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return _e}function ce(J){for(var V=[],Y=0;Y<J.length;++Y)V.push(J.charCodeAt(Y)&255);return V}function fe(J,V){for(var Y,se,me,_e=[],Te=0;Te<J.length&&!((V-=2)<0);++Te)Y=J.charCodeAt(Te),se=Y>>8,me=Y%256,_e.push(me),_e.push(se);return _e}function ve(J){return e.toByteArray(pe(J))}function Re(J,V,Y,se){for(var me=0;me<se&&!(me+Y>=V.length||me>=J.length);++me)V[me+Y]=J[me];return me}function Se(J,V){return J instanceof V||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===V.name}function xe(J){return J!==J}var te=function(){for(var J="0123456789abcdef",V=new Array(256),Y=0;Y<16;++Y)for(var se=Y*16,me=0;me<16;++me)V[se+me]=J[Y]+J[me];return V}()}(D3)),D3}var M3={},lj;function K3e(){return lj||(lj=1,function(t){"use strict;";const{Buffer:e}=vW(),n=4294967292,r=4294967293,s=4294967294,i=4294967295,o=[0,1,3,7,15,31,63,127,255,511,1023],a=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),c=[];l.forEach(p=>{c.push(p.charCodeAt(0))}),t.utf8={encode(p){const g=[];return p.forEach(b=>{if(b>=0&&b<=127)g.push(b);else if(b<=2047)g.push(192+(b>>6&o[5])),g.push(128+(b&o[6]));else if(b<55296||b>57343&&b<=65535)g.push(224+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]));else if(b>=65536&&b<=1114111){const w=b>>16&o[5];g.push(240+(w>>2)),g.push(128+((w&o[2])<<4)+(b>>12&o[4])),g.push(128+(b>>6&o[6])),g.push(128+(b&o[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${b}`)}),e.from(g)},decode(p,g){function b(D,k){if((k&192)!==128)return r;const z=((D&o[5])<<6)+(k&o[6]);return z<128?n:z}function w(D,k,z){if((z&192)!==128||(k&192)!==128)return r;const K=((D&o[4])<<12)+((k&o[6])<<6)+(z&o[6]);return K<2048?n:K>=55296&&K<=57343?s:K}function m(D,k,z,K){if((K&192)!==128||(z&192)!==128||(k&192)!==128)return r;const q=(((D&o[3])<<2)+(k>>4&o[2])<<16)+((k&o[4])<<12)+((z&o[6])<<6)+(K&o[6]);return q<65536?n:q>1114111?s:q}let v,x,C,S,T,R;const _=p.length;let N=g?3:0;const O=[];for(;N<_;){x=p[N],v=i;const D=!0;for(;D;){if(x>=0&&x<=127){v=x,R=1;break}if(C=N+1,C<_&&x>=194&&x<=223){v=b(x,p[C]),R=2;break}if(S=N+2,S<_&&x>=224&&x<=239){v=w(x,p[C],p[S]),R=3;break}if(T=N+3,T<_&&x>=240&&x<=244){v=m(x,p[C],p[S],p[T]),R=4;break}break}if(v>1114111){const k=`byte[${N}]`;throw v===i?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${k}`):v===r?new RangeError(`utf8.decode: illegal trailing byte found at: ${k}`):v===s?new RangeError(`utf8.decode: code point out of range found at: ${k}`):v===n?new RangeError(`utf8.decode: non-shortest form found at: ${k}`):new RangeError(`utf8.decode: unrecognized error found at: ${k}`)}O.push(v),N+=R}return O}},t.utf16be={encode(p){const g=[];let b,w,m;for(let v=0;v<p.length;v+=1)if(b=p[v],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b>>8&o[8]),g.push(b&o[8]);else if(b>=65536&&b<=1114111)m=b-65536,w=55296+(m>>10),m=56320+(m&o[10]),g.push(w>>8&o[8]),g.push(w&o[8]),g.push(m>>8&o[8]),g.push(m&o[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${v}]: ${b}`);return e.from(g)},decode(p,g){if(p.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${p.length}`);const b=[],w=p.length;let m=g?2:0,v=0,x,C,S,T,R,_;for(;m<w;){for(;;){if(S=m+1,S<w){if(R=(p[m]<<8)+p[S],R<55296||R>57343){x=R,C=2;break}if(T=m+3,T<w&&(_=(p[m+2]<<8)+p[T],R<=56319&&_>=56320&&_<=57343)){x=65536+(R-55296<<10)+(_-56320),C=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${m}]`)}b[v++]=x,m+=C}return b}},t.utf16le={encode(p){const g=[];let b,w,m;for(let v=0;v<p.length;v+=1)if(b=p[v],b>=0&&b<=55295||b>=57344&&b<=65535)g.push(b&o[8]),g.push(b>>8&o[8]);else if(b>=65536&&b<=1114111)m=b-65536,w=55296+(m>>10),m=56320+(m&o[10]),g.push(w&o[8]),g.push(w>>8&o[8]),g.push(m&o[8]),g.push(m>>8&o[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${v}]: ${b}`);return e.from(g)},decode(p,g){if(p.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${p.length}`);const b=[],w=p.length;let m=g?2:0,v=0,x,C,S,T,R,_;for(;m<w;){for(;;){if(S=m+1,S<w){if(R=(p[S]<<8)+p[m],R<55296||R>57343){x=R,C=2;break}if(T=m+3,T<w&&(_=(p[T]<<8)+p[m+2],R<=56319&&_>=56320&&_<=57343)){x=65536+(R-55296<<10)+(_-56320),C=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${m}]`)}b[v++]=x,m+=C}return b}},t.utf32be={encode(p){const g=e.alloc(p.length*4);let b=0;return p.forEach(w=>{if(w>=55296&&w<=57343||w>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${b/4}]: ${w}`);g[b++]=w>>24&o[8],g[b++]=w>>16&o[8],g[b++]=w>>8&o[8],g[b++]=w&o[8]}),g},decode(p,g){if(p.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${p.length}`);const b=[];let w=g?4:0;for(;w<p.length;w+=4){const m=(p[w]<<24)+(p[w+1]<<16)+(p[w+2]<<8)+p[w+3];if(m>=55296&&m<=57343||m>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${w/4}]: ${m}`);b.push(m)}return b}},t.utf32le={encode(p){const g=e.alloc(p.length*4);let b=0;return p.forEach(w=>{if(w>=55296&&w<=57343||w>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${b/4}]: ${w}`);g[b++]=w&o[8],g[b++]=w>>8&o[8],g[b++]=w>>16&o[8],g[b++]=w>>24&o[8]}),g},decode(p,g){if(p.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${p.length}`);const b=[];let w=g?4:0;for(;w<p.length;w+=4){const m=(p[w+3]<<24)+(p[w+2]<<16)+(p[w+1]<<8)+p[w];if(m>=55296&&m<=57343||m>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${w/4}]: ${m}`);b.push(m)}return b}},t.uint7={encode(p){const g=e.alloc(p.length);for(let b=0;b<p.length;b+=1){if(p[b]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${b}]: ${p[b]}`);g[b]=p[b]}return g},decode(p){const g=[];for(let b=0;b<p.length;b+=1){if(p[b]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${b}]: ${p[b]}`);g[b]=p[b]}return g}},t.uint8={encode(p){const g=e.alloc(p.length);for(let b=0;b<p.length;b+=1){if(p[b]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${b}]: ${p[b]}`);g[b]=p[b]}return g},decode(p){const g=[];for(let b=0;b<p.length;b+=1)g[b]=p[b];return g}},t.uint16be={encode(p){const g=e.alloc(p.length*2);let b=0;return p.forEach(w=>{if(w>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${b/2}]: ${w}`);g[b++]=w>>8&o[8],g[b++]=w&o[8]}),g},decode(p){if(p.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${p.length}`);const g=[];for(let b=0;b<p.length;b+=2)g.push((p[b]<<8)+p[b+1]);return g}},t.uint16le={encode(p){const g=e.alloc(p.length*2);let b=0;return p.forEach(w=>{if(w>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${b/2}]: ${w}`);g[b++]=w&o[8],g[b++]=w>>8&o[8]}),g},decode(p){if(p.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${p.length}`);const g=[];for(let b=0;b<p.length;b+=2)g.push((p[b+1]<<8)+p[b]);return g}},t.uint32be={encode(p){const g=e.alloc(p.length*4);let b=0;return p.forEach(w=>{g[b++]=w>>24&o[8],g[b++]=w>>16&o[8],g[b++]=w>>8&o[8],g[b++]=w&o[8]}),g},decode(p){if(p.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${p.length}`);const g=[];for(let b=0;b<p.length;b+=4)g.push((p[b]<<24)+(p[b+1]<<16)+(p[b+2]<<8)+p[b+3]);return g}},t.uint32le={encode(p){const g=e.alloc(p.length*4);let b=0;return p.forEach(w=>{g[b++]=w&o[8],g[b++]=w>>8&o[8],g[b++]=w>>16&o[8],g[b++]=w>>24&o[8]}),g},decode(p){if(p.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${p.length}`);const g=[];for(let b=0;b<p.length;b+=4)g.push((p[b+3]<<24)+(p[b+2]<<16)+(p[b+1]<<8)+p[b]);return g}},t.string={encode(p){return t.utf16le.encode(p).toString("utf16le")},decode(p){return t.utf16le.decode(e.from(p,"utf16le"),0)}},t.escaped={encode(p){const g=[];for(let b=0;b<p.length;b+=1){const w=p[b];if(w===96)g.push(w),g.push(w);else if(w===10)g.push(w);else if(w>=32&&w<=126)g.push(w);else{let m="";if(w>=0&&w<=31)m+=`\`x${a[w]}`;else if(w>=127&&w<=255)m+=`\`x${a[w]}`;else if(w>=256&&w<=65535)m+=`\`u${a[w>>8&o[8]]}${a[w&o[8]]}`;else if(w>=65536&&w<=4294967295){m+="`u{";const x=w>>24&o[8];x>0&&(m+=a[x]),m+=`${a[w>>16&o[8]]+a[w>>8&o[8]]+a[w&o[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");e.from(m).forEach(x=>{g.push(x)})}}return e.from(g)},decode(p){function g(_){return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function b(_,N,O){const D={char:null,nexti:_+2,error:!0};if(_+1<N&&g(O[_])&&g(O[_+1])){const k=String.fromCodePoint(O[_],O[_+1]);D.char=parseInt(k,16),Number.isNaN(D.char)||(D.error=!1)}return D}function w(_,N,O){const D={char:null,nexti:_+4,error:!0};if(_+3<N&&g(O[_])&&g(O[_+1])&&g(O[_+2])&&g(O[_+3])){const k=String.fromCodePoint(O[_],O[_+1],O[_+2],O[_+3]);D.char=parseInt(k,16),Number.isNaN(D.char)||(D.error=!1)}return D}function m(_,N,O){const D={char:null,nexti:_+4,error:!0};let k="";for(;_<N&&g(O[_]);)k+=String.fromCodePoint(O[_]),_+=1;return D.char=parseInt(k,16),O[_]===125&&!Number.isNaN(D.char)&&(D.error=!1),D.nexti=_+1,D}const v=[],x=p.length;let C,S,T,R=0;for(;R<x;){for(;;){if(T=!0,p[R]!==96){v.push(p[R]),R+=1,T=!1;break}if(C=R+1,C>=x)break;if(p[C]===96){v.push(96),R+=2,T=!1;break}if(p[C]===120){if(S=b(C+1,x,p),S.error)break;v.push(S.char),R=S.nexti,T=!1;break}if(p[C]===117){if(p[C+1]===123){if(S=m(C+2,x,p),S.error)break;v.push(S.char),R=S.nexti,T=!1;break}if(S=w(C+1,x,p),S.error)break;v.push(S.char),R=S.nexti,T=!1;break}break}if(T)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${R}]`)}return v}};const d=13,f=10;t.lineEnds={crlf(p){const g=[];let b=0;for(;b<p.length;)switch(p[b]){case d:b+1<p.length&&p[b+1]===f?b+=2:b+=1,g.push(d),g.push(f);break;case f:g.push(d),g.push(f),b+=1;break;default:g.push(p[b]),b+=1;break}return g.length>0&&g[g.length-1]!==f&&(g.push(d),g.push(f)),g},lf(p){const g=[];let b=0;for(;b<p.length;)switch(p[b]){case d:b+1<p.length&&p[b+1]===f?b+=2:b+=1,g.push(f);break;case f:g.push(f),b+=1;break;default:g.push(p[b]),b+=1;break}return g.length>0&&g[g.length-1]!==f&&g.push(f),g}},t.base64={encode(p){if(p.length===0)return e.alloc(0);let g,b,w,m=p.length%3;m=m>0?3-m:0;let v=(p.length+m)/3;const x=e.alloc(v*4);m>0&&(v-=1),g=0,b=0;for(let C=0;C<v;C+=1)w=p[g++]<<16,w+=p[g++]<<8,w+=p[g++],x[b++]=c[w>>18&o[6]],x[b++]=c[w>>12&o[6]],x[b++]=c[w>>6&o[6]],x[b++]=c[w&o[6]];if(m===0)return x;if(m===1)return w=p[g++]<<16,w+=p[g]<<8,x[b++]=c[w>>18&o[6]],x[b++]=c[w>>12&o[6]],x[b++]=c[w>>6&o[6]],x[b]=c[64],x;if(m===2)return w=p[g]<<16,x[b++]=c[w>>18&o[6]],x[b++]=c[w>>12&o[6]],x[b++]=c[64],x[b]=c[64],x},decode(p){function g(R){const _=[];let N=0;for(let O=0;O<R.length;O+=1){const D=R[O],k=!0;for(;k&&!(D===32||D===9||D===10||D===13);){if(D>=65&&D<=90){_.push(D-65);break}if(D>=97&&D<=122){_.push(D-71);break}if(D>=48&&D<=57){_.push(D+4);break}if(D===43){_.push(62);break}if(D===47){_.push(63);break}if(D===61){_.push(64),N+=1;break}throw new RangeError(`base64.decode: invalid character buf[${O}]: ${D}`)}}if(_.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${_.length}`);switch(N){case 0:break;case 1:if(_[_.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(_[_.length-1]!==64||_[_.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${N}`)}return{tail:N,buf:e.from(_)}}if(p.length===0)return e.alloc(0);const b=g(p),{tail:w}=b,m=b.buf;let v,x,C,S=m.length/4;const T=e.alloc(S*3-w);w>0&&(S-=1),x=0,v=0;for(let R=0;R<S;R+=1)C=m[v++]<<18,C+=m[v++]<<12,C+=m[v++]<<6,C+=m[v++],T[x++]=C>>16&o[8],T[x++]=C>>8&o[8],T[x++]=C&o[8];return w===1&&(C=m[v++]<<18,C+=m[v++]<<12,C+=m[v]<<6,T[x++]=C>>16&o[8],T[x]=C>>8&o[8]),w===2&&(C=m[v++]<<18,C+=m[v++]<<12,T[x]=C>>16&o[8]),T},toString(p){if(p.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${p.length}`);let g="",b=0;function w(v,x,C,S){switch(b){case 76:g+=`\r
${v}${x}${C}${S}`,b=4;break;case 75:g+=`${v}\r
${x}${C}${S}`,b=3;break;case 74:g+=`${v+x}\r
${C}${S}`,b=2;break;case 73:g+=`${v+x+C}\r
${S}`,b=1;break;default:g+=v+x+C+S,b+=4;break}}function m(v){return v>=65&&v<=90||v>=97&&v<=122||v>=48&&v<=57||v===43||v===47||v===61}for(let v=0;v<p.length;v+=4){for(let x=v;x<v+4;x+=1)if(!m(p[x]))throw new RangeError(`base64.toString: buf[${x}]: ${p[x]} : not valid base64 character code`);w(String.fromCharCode(p[v]),String.fromCharCode(p[v+1]),String.fromCharCode(p[v+2]),String.fromCharCode(p[v+3]))}return g}}}(M3)),M3}var uj;function W3e(){return uj||(uj=1,function(t){"use strict;";const{Buffer:e}=vW(),n=K3e(),r="UTF8",s="UTF16",i="UTF16BE",o="UTF16LE",a="UTF32",l="UTF32BE",c="UTF32LE",d="UINT7",f="ASCII",p="BINARY",g="UINT8",b="UINT16",w="UINT16LE",m="UINT16BE",v="UINT32",x="UINT32LE",C="UINT32BE",S="ESCAPED",T="STRING",R=function(I){I.type=r;const P=I.data;I.bom=0,P.length>=3&&P[0]===239&&P[1]===187&&P[2]===191&&(I.bom=3)},_=function(I){const P=I.data;switch(I.bom=0,I.type){case s:I.type=i,P.length>=2&&(P[0]===254&&P[1]===255?I.bom=2:P[0]===255&&P[1]===254&&(I.type=o,I.bom=2));break;case i:if(I.type=i,P.length>=2){if(P[0]===254&&P[1]===255)I.bom=2;else if(P[0]===255&&P[1]===254)throw new TypeError(`src type: "${i}" specified but BOM is for "${o}"`)}break;case o:if(I.type=o,P.length>=0){if(P[0]===254&&P[1]===255)throw new TypeError(`src type: "${o}" specified but BOM is for "${i}"`);P[0]===255&&P[1]===254&&(I.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${I.type}" unrecognized`)}},N=function(I){const P=I.data;switch(I.bom=0,I.type){case a:I.type=l,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(I.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(I.type=c,I.bom=4));break;case l:if(I.type=l,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(I.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0))throw new TypeError(`src type: ${l} specified but BOM is for ${c}"`);break;case c:if(I.type=c,P.length>=4){if(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255)throw new TypeError(`src type: "${c}" specified but BOM is for "${l}"`);P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(I.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${I.type}" unrecognized`)}},O=function(I,P){function M(G){const F={type:"",base64:!1},$=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(G);return $&&($[2]&&(F.type=$[2].toUpperCase()),$[1]&&(F.base64=!0)),F}const j=M(I.toUpperCase());if(j.base64){if(j.type===T)throw new TypeError(`type: "${I} "BASE64:" prefix not allowed with type ${T}`);if(e.isBuffer(P))j.data=n.base64.decode(P);else if(typeof P=="string"){const G=e.from(P,"ascii");j.data=n.base64.decode(G)}else throw new TypeError(`type: "${I} unrecognized data type: typeof(data): ${typeof P}`)}else j.data=P;switch(j.type){case r:R(j);break;case s:case i:case o:_(j);break;case a:case l:case c:N(j);break;case b:j.type=m;break;case v:j.type=C;break;case f:j.type=d;break;case p:j.type=g;break;case d:case g:case w:case m:case x:case C:case T:case S:break;default:throw new TypeError(`type: "${I}" not recognized`)}if(j.type===T){if(typeof j.data!="string")throw new TypeError(`type: "${I}" but data is not a string`)}else if(!e.isBuffer(j.data))throw new TypeError(`type: "${I}" but data is not a Buffer`);return j},D=function(I,P){function M(G){let F,H;const $={crlf:!1,lf:!1,base64:!1,type:""},Z=!0;for(;Z;){if(H=G,F=G.slice(0,5),F==="CRLF:"){$.crlf=!0,H=G.slice(5);break}if(F=G.slice(0,3),F==="LF:"){$.lf=!0,H=G.slice(3);break}break}return F=H.split(":"),F.length===1?$.type=F[0]:F.length===2&&F[1]==="BASE64"&&($.base64=!0,$.type=F[0]),$}if(!Array.isArray(P))throw new TypeError(`dst chars: not array: "${typeof P}`);if(typeof I!="string")throw new TypeError(`dst type: not string: "${typeof I}`);const j=M(I.toUpperCase());switch(j.type){case r:case i:case o:case l:case c:case d:case g:case w:case m:case x:case C:case S:break;case T:if(j.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${T}`);break;case f:j.type=d;break;case p:j.type=g;break;case s:j.type=i;break;case a:j.type=l;break;case b:j.type=m;break;case v:j.type=C;break;default:throw new TypeError(`dst type unrecognized: "${I}" : must have form [crlf:|lf:]type[:base64]`)}return j},k=function(I,P){switch(I){case r:return n.utf8.encode(P);case i:return n.utf16be.encode(P);case o:return n.utf16le.encode(P);case l:return n.utf32be.encode(P);case c:return n.utf32le.encode(P);case d:return n.uint7.encode(P);case g:return n.uint8.encode(P);case m:return n.uint16be.encode(P);case w:return n.uint16le.encode(P);case C:return n.uint32be.encode(P);case x:return n.uint32le.encode(P);case T:return n.string.encode(P);case S:return n.escaped.encode(P);default:throw new TypeError(`encode type "${I}" not recognized`)}},z=function(I){switch(I.type){case r:return n.utf8.decode(I.data,I.bom);case o:return n.utf16le.decode(I.data,I.bom);case i:return n.utf16be.decode(I.data,I.bom);case l:return n.utf32be.decode(I.data,I.bom);case c:return n.utf32le.decode(I.data,I.bom);case d:return n.uint7.decode(I.data);case g:return n.uint8.decode(I.data);case m:return n.uint16be.decode(I.data);case w:return n.uint16le.decode(I.data);case C:return n.uint32be.decode(I.data);case x:return n.uint32le.decode(I.data);case T:return n.string.decode(I.data);case S:return n.escaped.decode(I.data);default:throw new TypeError(`decode type "${I.type}" not recognized`)}};t.decode=function(I,P){const M=O(I,P);return z(M)},t.encode=function(I,P){let M,j;const G=D(I,P);return G.crlf?(M=n.lineEnds.crlf(P),j=k(G.type,M)):G.lf?(M=n.lineEnds.lf(P),j=k(G.type,M)):j=k(G.type,P),G.base64&&(j=n.base64.encode(j)),j};const K=function(I,P,M){return t.encode(M,t.decode(I,P))};t.convert=K}(B3)),B3}var U3,dj;function xW(){return dj||(dj=1,U3=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}),U3}var fj;function ex(){return fj||(fj=1,function(t){const e=iS(),n=W3e(),r=xW(),s=ry(),i="utilities.js: ",o=function(l,c,d){let f,p=c;const g=!0;for(;g;){if(l<=0){p=0,f=0;break}if(typeof p!="number"){p=0,f=l;break}if(p>=l){p=l,f=l;break}if(typeof d!="number"){f=l;break}if(f=p+d,f>l){f=l;break}break}return{beg:p,end:f}};t.htmlToPage=function(l,c){let d;if(typeof l!="string")throw new Error(`${i}htmlToPage: input HTML is not a string`);typeof c!="string"?d="htmlToPage":d=c;let f="";return f+=`<!DOCTYPE html>
`,f+=`<html lang="en">
`,f+=`<head>
`,f+=`<meta charset="utf-8">
`,f+=`<title>${d}</title>
`,f+=`<style>
`,f+=r(),f+=`</style>
`,f+=`</head>
<body>
`,f+=`<p>${new Date}</p>
`,f+=l,f+=`</body>
</html>
`,f},t.parserResultToHtml=function(l,c){let d=null;typeof c=="string"&&c!==""&&(d=c);let f,p;l.success===!0?f=`<span class="${e.CLASS_MATCH}">true</span>`:f=`<span class="${e.CLASS_NOMATCH}">false</span>`,l.state===s.EMPTY?p=`<span class="${e.CLASS_EMPTY}">EMPTY</span>`:l.state===s.MATCH?p=`<span class="${e.CLASS_MATCH}">MATCH</span>`:l.state===s.NOMATCH?p=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span>`:p=`<span class="${e.CLASS_NOMATCH}">unrecognized</span>`;let g="";return g+=`<table class="${e.CLASS_STATE}">
`,d&&(g+=`<caption>${d}</caption>
`),g+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,g+=`<tr><td>parser success</td><td>${f}</td>
`,g+=`<td><span class="${e.CLASS_MATCH}">true</span> if the parse succeeded,
`,g+=` <span class="${e.CLASS_NOMATCH}">false</span> otherwise`,g+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,g+=`<tr><td>parser state</td><td>${p}</td>
`,g+=`<td><span class="${e.CLASS_EMPTY}">EMPTY</span>, `,g+=`<span class="${e.CLASS_MATCH}">MATCH</span> or 
`,g+=`<span class="${e.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,g+=`<tr><td>string length</td><td>${l.length}</td><td>length of the input (sub)string</td></tr>
`,g+=`<tr><td>matched length</td><td>${l.matched}</td><td>number of input string characters matched</td></tr>
`,g+=`<tr><td>max matched</td><td>${l.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,g+=`<tr><td>max tree depth</td><td>${l.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,g+=`<tr><td>node hits</td><td>${l.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,g+=`<tr><td>input length</td><td>${l.inputLength}</td><td>length of full input string</td></tr>
`,g+=`<tr><td>sub-string begin</td><td>${l.subBegin}</td><td>sub-string first character index</td></tr>
`,g+=`<tr><td>sub-string end</td><td>${l.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,g+=`<tr><td>sub-string length</td><td>${l.subLength}</td><td>sub-string length</td></tr>
`,g+=`</table>
`,g},t.charsToString=function(l,c,d){let f,p;if(typeof c=="number"){if(c>=l.length)return"";f=c<0?0:c}else f=0;if(typeof d=="number"){if(d<=0)return"";p=d>l.length-f?l.length:f+d}else p=l.length;return f<p?n.encode("UTF16LE",l.slice(f,p)).toString("utf16le"):""},t.stringToChars=function(l){return n.decode("STRING",l)},t.opcodeToString=function(l){let c="unknown";switch(l){case s.ALT:c="ALT";break;case s.CAT:c="CAT";break;case s.RNM:c="RNM";break;case s.UDT:c="UDT";break;case s.AND:c="AND";break;case s.NOT:c="NOT";break;case s.REP:c="REP";break;case s.TRG:c="TRG";break;case s.TBS:c="TBS";break;case s.TLS:c="TLS";break;case s.BKR:c="BKR";break;case s.BKA:c="BKA";break;case s.BKN:c="BKN";break;case s.ABG:c="ABG";break;case s.AEN:c="AEN";break;default:throw new Error("unrecognized opcode")}return c},t.stateToString=function(l){let c="unknown";switch(l){case s.ACTIVE:c="ACTIVE";break;case s.MATCH:c="MATCH";break;case s.EMPTY:c="EMPTY";break;case s.NOMATCH:c="NOMATCH";break;default:throw new Error("unrecognized state")}return c},t.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],t.charToHex=function(l){let c=l.toString(16).toUpperCase();switch(c.length){case 1:case 3:case 7:c=`0${c}`;break;case 2:case 6:c=`00${c}`;break;case 4:break;case 5:c=`000${c}`;break;default:throw new Error("unrecognized option")}return c},t.charsToDec=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToDec: input must be an array of integers`);const p=o(l.length,c,d);if(p.end>p.beg){f+=l[p.beg];for(let g=p.beg+1;g<p.end;g+=1)f+=`,${l[g]}`}return f},t.charsToHex=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToHex: input must be an array of integers`);const p=o(l.length,c,d);if(p.end>p.beg){f+=`\\x${t.charToHex(l[p.beg])}`;for(let g=p.beg+1;g<p.end;g+=1)f+=`,\\x${t.charToHex(l[g])}`}return f},t.charsToHtmlEntities=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToHex: input must be an array of integers`);const p=o(l.length,c,d);if(p.end>p.beg)for(let g=p.beg;g<p.end;g+=1)f+=`&#x${l[g].toString(16)};`;return f};function a(l){return!(l>=55296&&l<=57343||l>1114111)}t.charsToUnicode=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToUnicode: input must be an array of integers`);const p=o(l.length,c,d);if(p.end>p.beg)for(let g=p.beg;g<p.end;g+=1)a(l[g])?f+=`&#${l[g]};`:f+=` U+${t.charToHex(l[g])}`;return f},t.charsToJsUnicode=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToJsUnicode: input must be an array of integers`);const p=o(l.length,c,d);if(p.end>p.beg){f+=`\\u${t.charToHex(l[p.beg])}`;for(let g=p.beg+1;g<p.end;g+=1)f+=`,\\u${t.charToHex(l[g])}`}return f},t.charsToAscii=function(l,c,d){let f="";if(!Array.isArray(l))throw new Error(`${i}charsToAscii: input must be an array of integers`);const p=o(l.length,c,d);for(let g=p.beg;g<p.end;g+=1){const b=l[g];b>=32&&b<=126?f+=String.fromCharCode(b):f+=`\\x${t.charToHex(b)}`}return f},t.charsToAsciiHtml=function(l,c,d){if(!Array.isArray(l))throw new Error(`${i}charsToAsciiHtml: input must be an array of integers`);let f="",p;const g=o(l.length,c,d);for(let b=g.beg;b<g.end;b+=1)p=l[b],p<32||p===127?f+=`<span class="${e.CLASS_CTRLCHAR}">${t.asciiChars[p]}</span>`:p>127?f+=`<span class="${e.CLASS_CTRLCHAR}">U+${t.charToHex(p)}</span>`:f+=t.asciiChars[p];return f},t.stringToAsciiHtml=function(l){const c=n.decode("STRING",l);return this.charsToAsciiHtml(c)}}(I3)),I3}var L3,hj;function Q3e(){return hj||(hj=1,L3=function(){const e=ry(),n=ex(),r="ast.js: ",s=this;let i=null,o=null,a=null,l=0;const c=[],d=[],f=[],p=[];this.callbacks=[],this.astObject="astObject",this.init=function(w,m,v){f.length=0,p.length=0,c.length=0,l=0,i=w,o=m,a=v;let x;const C=[];for(x=0;x<i.length;x+=1)C.push(i[x].lower);for(x=0;x<o.length;x+=1)C.push(o[x].lower);for(l=i.length+o.length,x=0;x<l;x+=1)c[x]=!1,d[x]=null;for(const S in s.callbacks){const T=S.toLowerCase();if(x=C.indexOf(T),x<0)throw new Error(`${r}init: node '${S}' not a rule or udt name`);typeof s.callbacks[S]=="function"&&(c[x]=!0,d[x]=s.callbacks[S]),s.callbacks[S]===!0&&(c[x]=!0)}},this.ruleDefined=function(w){return c[w]!==!1},this.udtDefined=function(w){return c[i.length+w]!==!1},this.down=function(w,m){const v=p.length;return f.push(v),p.push({name:m,thisIndex:v,thatIndex:null,state:e.SEM_PRE,callbackIndex:w,phraseIndex:null,phraseLength:null,stack:f.length}),v},this.up=function(w,m,v,x){const C=p.length,S=f.pop();return p.push({name:m,thisIndex:C,thatIndex:S,state:e.SEM_POST,callbackIndex:w,phraseIndex:v,phraseLength:x,stack:f.length}),p[S].thatIndex=C,p[S].phraseIndex=v,p[S].phraseLength=x,C},this.translate=function(w){let m,v,x;for(let C=0;C<p.length;C+=1)x=p[C],v=d[x.callbackIndex],x.state===e.SEM_PRE?v!==null&&(m=v(e.SEM_PRE,a,x.phraseIndex,x.phraseLength,w),m===e.SEM_SKIP&&(C=x.thatIndex)):v!==null&&v(e.SEM_POST,a,x.phraseIndex,x.phraseLength,w)},this.setLength=function(w){p.length=w,w>0?f.length=p[w-1].stack:f.length=0},this.getLength=function(){return p.length};function g(b){let w="";for(let m=0;m<b;m+=1)w+=" ";return w}this.toXml=function(w){let m=n.charsToDec,v="decimal integer character codes";if(typeof w=="string"&&w.length>=3){const S=w.slice(0,3).toLowerCase();S==="asc"?(m=n.charsToAscii,v="ASCII for printing characters, hex for non-printing"):S==="hex"?(m=n.charsToHex,v="hexadecimal integer character codes"):S==="uni"&&(m=n.charsToUnicode,v="Unicode UTF-32 integer character codes")}let x="",C=0;return x+=`<?xml version="1.0" encoding="utf-8"?>
`,x+=`<root nodes="${p.length/2}" characters="${a.length}">
`,x+=`<!-- input string, ${v} -->
`,x+=g(C+2),x+=m(a),x+=`
`,p.forEach(S=>{S.state===e.SEM_PRE?(C+=1,x+=g(C),x+=`<node name="${S.name}" index="${S.phraseIndex}" length="${S.phraseLength}">
`,x+=g(C+2),x+=m(a,S.phraseIndex,S.phraseLength),x+=`
`):(x+=g(C),x+=`</node><!-- name="${S.name}" -->
`,C-=1)}),x+=`</root>
`,x},this.phrases=function(){const w={};let m,v;for(m=0;m<p.length;m+=1)v=p[m],v.state===e.SEM_PRE&&(Array.isArray(w[v.name])||(w[v.name]=[]),w[v.name].push({index:v.phraseIndex,length:v.phraseLength}));return w}}),L3}var j3,pj;function EW(){return pj||(pj=1,j3=function(){"use strict;";const e="circular-buffer.js: ";let n=-1,r=0;this.init=function(i){if(typeof i!="number"||i<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);r=Math.ceil(i),n=-1},this.increment=function(){return n+=1,(n+r)%r},this.maxSize=function(){return r},this.items=function(){return n+1},this.getListIndex=function(i){return n===-1||i<0||i>n||n-i>=r?-1:(i+r)%r},this.forEach=function(i){if(n!==-1){if(n<r){for(let o=0;o<=n;o+=1)i(o,o);return}for(let o=n-r+1;o<=n;o+=1){const a=(o+r)%r;i(a,o)}}}}),j3}var F3,gj;function Y3e(){return gj||(gj=1,F3=function(){const e=ry(),n=ex(),r="parser.js: ",s=this;let i;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let o=null,a=null,l,c,d,f,p=0,g=0,b=0,w=null,m=null,v=null,x=null,C=null,S=0,T=1/0,R=1/0;const _=function(ye,re,ge){const ke=`${r}evaluateRule(): `;if(ye>=v.length)throw new Error(`${ke}rule index: ${ye} out of range`);if(re>=d)throw new Error(`${ke}phrase index: ${re} out of range`);const{length:$e}=o;o.push({type:e.RNM,index:ye}),i($e,re,ge),o.pop()},N=function(Ce,ye,re){const ge=`${r}evaluateUdt(): `;if(Ce>=x.length)throw new Error(`${ge}udt index: ${Ce} out of range`);if(ye>=d)throw new Error(`${ge}phrase index: ${ye} out of range`);const{length:ke}=o;o.push({type:e.UDT,empty:x[Ce].empty,index:Ce}),i(ke,ye,re),o.pop()},O=function(){p=0,g=0,b=0,S=0,f=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],v=null,x=null,a=null,l=0,c=0,d=0,w=null,m=null,C=null,o=null},D=function(){const Ce=[],ye=function(){const ge={};v.forEach(ke=>{ke.isBkr&&(ge[ke.lower]=null)}),x.length>0&&x.forEach(ke=>{ke.isBkr&&(ge[ke.lower]=null)}),Ce.push(ge)},re=function(){const ge=Ce[Ce.length-1],ke={};for(const $e in ge)ke[$e]=ge[$e];return ke};this.push=function(){Ce.push(re())},this.pop=function(ke){let $e=ke;if($e||($e=Ce.length-1),$e<1||$e>Ce.length)throw new Error(`${r}backRef.pop(): bad length: ${$e}`);return Ce.length=$e,Ce[Ce.length-1]},this.length=function(){return Ce.length},this.savePhrase=function(ke,$e,et){Ce[Ce.length-1][ke]={phraseIndex:$e,phraseLength:et}},this.getPhrase=function(ge){return Ce[Ce.length-1][ge]},ye()},k=function(){const ye=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=f[f.length-1],this.uFrame=new D,this.pFrame=new D,this.evaluateRule=_,this.evaluateUdt=N,this.refresh=function(){ye.state=e.ACTIVE,ye.phraseLength=0,ye.lookAround=f[f.length-1]}},z=function(){return f[f.length-1]},K=function(){return f.length>1},q=function(){return f[f.length-1].lookAround===e.LOOKAROUND_BEHIND},I=function(){const Ce=`${r}initializeAst(): `,ye=!0;for(;ye;){if(s.ast===void 0){s.ast=null;break}if(s.ast===null)break;if(s.ast.astObject!=="astObject")throw new Error(`${Ce}ast object not recognized`);break}s.ast!==null&&s.ast.init(v,x,a)},P=function(){const Ce=`${r}initializeTrace(): `,ye=!0;for(;ye;){if(s.trace===void 0){s.trace=null;break}if(s.trace===null)break;if(s.trace.traceObject!=="traceObject")throw new Error(`${Ce}trace object not recognized`);break}s.trace!==null&&s.trace.init(v,x,a)},M=function(){const Ce=`${r}initializeStats(): `,ye=!0;for(;ye;){if(s.stats===void 0){s.stats=null;break}if(s.stats===null)break;if(s.stats.statsObject!=="statsObject")throw new Error(`${Ce}stats object not recognized`);break}s.stats!==null&&s.stats.init(v,x)},j=function(Ce){const ye=`${r}initializeGrammar(): `;if(!Ce)throw new Error(`${ye}grammar object undefined`);if(Ce.grammarObject!=="grammarObject")throw new Error(`${ye}bad grammar object`);v=Ce.rules,x=Ce.udts},G=function(Ce){const ye=`${r}initializeStartRule(): `;let re=null;if(typeof Ce=="number"){if(Ce>=v.length)throw new Error(`${ye}start rule index too large: max: ${v.length}: index: ${Ce}`);re=Ce}else if(typeof Ce=="string"){const ge=Ce.toLowerCase();for(let ke=0;ke<v.length;ke+=1)if(ge===v[ke].lower){re=v[ke].index;break}if(re===null)throw new Error(`${ye}start rule name '${Ce}' not recognized`)}else throw new Error(`${ye}type of start rule '${typeof Ce}' not recognized`);return re},F=function(ye,re,ge){const ke=`${r}initializeInputChars(): `;let $e=ye,et=re,xt=ge;if($e===void 0)throw new Error(`${ke}input string is undefined`);if($e===null)throw new Error(`${ke}input string is null`);if(typeof $e=="string")$e=n.stringToChars($e);else if(!Array.isArray($e))throw new Error(`${ke}input string is not a string or array`);if($e.length>0&&typeof $e[0]!="number")throw new Error(`${ke}input string not an array of integers`);if(typeof et!="number")et=0;else if(et=Math.floor(et),et<0||et>$e.length)throw new Error(`${ke}input beginning index out of range: ${et}`);if(typeof xt!="number")xt=$e.length-et;else if(xt=Math.floor(xt),xt<0||xt>$e.length-et)throw new Error(`${ke}input length out of range: ${xt}`);a=$e,l=et,c=xt,d=l+c},H=function(){const Ce=`${r}initializeCallbacks(): `;let ye;for(w=[],m=[],ye=0;ye<v.length;ye+=1)w[ye]=null;for(ye=0;ye<x.length;ye+=1)m[ye]=null;let re;const ge=[];for(ye=0;ye<v.length;ye+=1)ge.push(v[ye].lower);for(ye=0;ye<x.length;ye+=1)ge.push(x[ye].lower);for(const ke in s.callbacks){if(ye=ge.indexOf(ke.toLowerCase()),ye<0)throw new Error(`${Ce}syntax callback '${ke}' not a rule or udt name`);if(re=s.callbacks[ke],re||(re=null),typeof re=="function"||re===null)ye<v.length?w[ye]=re:m[ye-v.length]=re;else throw new Error(`${Ce}syntax callback[${ke}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(ye=0;ye<x.length;ye+=1)if(m[ye]===null)throw new Error(`${Ce}all UDT callbacks must be defined. UDT callback[${x[ye].lower}] not a function reference`)};this.setMaxTreeDepth=function(Ce){if(typeof Ce!="number")throw new Error(`parser: max tree depth must be integer > 0: ${Ce}`);if(T=Math.floor(Ce),T<=0)throw new Error(`parser: max tree depth must be integer > 0: ${Ce}`)},this.setMaxNodeHits=function(Ce){if(typeof Ce!="number")throw new Error(`parser: max node hits must be integer > 0: ${Ce}`);if(R=Math.floor(Ce),R<=0)throw new Error(`parser: max node hits must be integer > 0: ${Ce}`)};const $=function(Ce,ye,re){let ge;const ke=`${r}parse(): `;j(Ce);const $e=G(ye);H(),P(),M(),I();const et=new k;switch(re!=null&&(C=re),o=[{type:e.RNM,index:$e}],i(0,l,et),o=null,et.state){case e.ACTIVE:throw new Error(`${ke}final state should never be 'ACTIVE'`);case e.NOMATCH:ge=!1;break;case e.EMPTY:case e.MATCH:et.phraseLength===c?ge=!0:ge=!1;break;default:throw new Error("unrecognized state")}return{success:ge,state:et.state,length:c,matched:et.phraseLength,maxMatched:S,maxTreeDepth:g,nodeHits:b,inputLength:a.length,subBegin:l,subEnd:d,subLength:c}};this.parseSubstring=function(ye,re,ge,ke,$e,et){return O(),F(ge,ke,$e),$(ye,re,et)},this.parse=function(ye,re,ge,ke){return O(),F(ge,0,ge.length),$(ye,re,ke)};const Z=function(Ce,ye,re){const ge=o[Ce];for(let ke=0;ke<ge.children.length&&(i(ge.children[ke],ye,re),re.state===e.NOMATCH);ke+=1);},X=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce],gt=re.uFrame.length(),Rn=re.pFrame.length();s.ast&&(ke=s.ast.getLength()),ge=!0,$e=ye,et=0;for(let Jt=0;Jt<xt.children.length;Jt+=1)if(i(xt.children[Jt],$e,re),re.state===e.NOMATCH){ge=!1;break}else $e+=re.phraseLength,et+=re.phraseLength;ge?(re.state=et===0?e.EMPTY:e.MATCH,re.phraseLength=et):(re.state=e.NOMATCH,re.phraseLength=0,re.uFrame.pop(gt),re.pFrame.pop(Rn),s.ast&&s.ast.setLength(ke))},le=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce];if(xt.max===0){re.state=e.EMPTY,re.phraseLength=0;return}ke=ye,$e=0,et=0;const gt=re.uFrame.length(),Rn=re.pFrame.length();s.ast&&(ge=s.ast.getLength());const Jt=!0;for(;Jt&&!(ke>=d||(i(Ce+1,ke,re),re.state===e.NOMATCH)||re.state===e.EMPTY||(et+=1,$e+=re.phraseLength,ke+=re.phraseLength,et===xt.max)););re.state===e.EMPTY||et>=xt.min?(re.state=$e===0?e.EMPTY:e.MATCH,re.phraseLength=$e):(re.state=e.NOMATCH,re.phraseLength=0,re.uFrame.pop(gt),re.pFrame.pop(Rn),s.ast&&s.ast.setLength(ge))},de=function(Ce,ye,re,ge){if(ye.phraseLength>re){let ke=`${r}opRNM(${Ce.name}): callback function error: `;throw ke+=`sysData.phraseLength: ${ye.phraseLength}`,ke+=` must be <= remaining chars: ${re}`,new Error(ke)}switch(ye.state){case e.ACTIVE:if(ge!==!0)throw new Error(`${r}opRNM(${Ce.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:ye.phraseLength=0;break;case e.MATCH:ye.phraseLength===0&&(ye.state=e.EMPTY);break;case e.NOMATCH:ye.phraseLength=0;break;default:throw new Error(`${r}opRNM(${Ce.name}): callback function return error. Unrecognized return state: ${ye.state}`)}},pe=function(Ce,ye,re){let ge,ke,$e,et,xt,gt;const Rn=o[Ce],Jt=v[Rn.index],Yn=w[Jt.index],ls=!K();if(ls&&(ke=s.ast&&s.ast.ruleDefined(Rn.index),ke&&(ge=s.ast.getLength(),s.ast.down(Rn.index,v[Rn.index].name)),et=re.uFrame.length(),xt=re.pFrame.length(),re.uFrame.push(),re.pFrame.push(),gt=re.pFrame,re.pFrame=new D),Yn===null)$e=o,o=Jt.opcodes,i(0,ye,re),o=$e;else{const ms=d-ye;re.ruleIndex=Jt.index,Yn(re,a,ye,C),de(Jt,re,ms,!0),re.state===e.ACTIVE&&($e=o,o=Jt.opcodes,i(0,ye,re),o=$e,re.ruleIndex=Jt.index,Yn(re,a,ye,C),de(Jt,re,ms,!1))}ls&&(ke&&(re.state===e.NOMATCH?s.ast.setLength(ge):s.ast.up(Rn.index,Jt.name,ye,re.phraseLength)),re.pFrame=gt,re.state===e.NOMATCH?(re.uFrame.pop(et),re.pFrame.pop(xt)):Jt.isBkr&&(re.pFrame.savePhrase(Jt.lower,ye,re.phraseLength),re.uFrame.savePhrase(Jt.lower,ye,re.phraseLength)))},ae=function(Ce,ye,re){if(ye.phraseLength>re){let ge=`${r}opUDT(${Ce.name}): callback function error: `;throw ge+=`sysData.phraseLength: ${ye.phraseLength}`,ge+=` must be <= remaining chars: ${re}`,new Error(ge)}switch(ye.state){case e.ACTIVE:throw new Error(`${r}opUDT(${Ce.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(Ce.empty===!1)throw new Error(`${r}opUDT(${Ce.name}): callback function return error. May not return EMPTY.`);ye.phraseLength=0;break;case e.MATCH:if(ye.phraseLength===0){if(Ce.empty===!1)throw new Error(`${r}opUDT(${Ce.name}): callback function return error. May not return EMPTY.`);ye.state=e.EMPTY}break;case e.NOMATCH:ye.phraseLength=0;break;default:throw new Error(`${r}opUDT(${Ce.name}): callback function return error. Unrecognized return state: ${ye.state}`)}},ce=function(Ce,ye,re){let ge,ke,$e,et,xt,gt;const Rn=o[Ce],Jt=x[Rn.index];re.UdtIndex=Jt.index;const Yn=!K();Yn&&($e=s.ast&&s.ast.udtDefined(Rn.index),$e&&(ke=v.length+Rn.index,ge=s.ast.getLength(),s.ast.down(ke,Jt.name)),et=re.uFrame.length(),xt=re.pFrame.length(),re.uFrame.push(),re.pFrame.push(),gt=re.pFrame,re.pFrame=new D);const ls=d-ye;m[Rn.index](re,a,ye,C),ae(Jt,re,ls),Yn&&($e&&(re.state===e.NOMATCH?s.ast.setLength(ge):s.ast.up(ke,Jt.name,ye,re.phraseLength)),re.pFrame=gt,re.state===e.NOMATCH?(re.uFrame.pop(et),re.pFrame.pop(xt)):Jt.isBkr&&(re.pFrame.savePhrase(Jt.lower,ye,re.phraseLength),re.uFrame.savePhrase(Jt.lower,ye,re.phraseLength)))},fe=function(Ce,ye,re){f.push({lookAround:e.LOOKAROUND_AHEAD,anchor:ye,charsEnd:d,charsLength:c}),d=a.length,c=a.length-l,i(Ce+1,ye,re);const ge=f.pop();switch(d=ge.charsEnd,c=ge.charsLength,re.phraseLength=0,re.state){case e.EMPTY:re.state=e.EMPTY;break;case e.MATCH:re.state=e.EMPTY;break;case e.NOMATCH:re.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${re.state}`)}},ve=function(Ce,ye,re){f.push({lookAround:e.LOOKAROUND_AHEAD,anchor:ye,charsEnd:d,charsLength:c}),d=a.length,c=a.length-l,i(Ce+1,ye,re);const ge=f.pop();switch(d=ge.charsEnd,c=ge.charsLength,re.phraseLength=0,re.state){case e.EMPTY:case e.MATCH:re.state=e.NOMATCH;break;case e.NOMATCH:re.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${re.state}`)}},Re=function(Ce,ye,re){const ge=o[Ce];re.state=e.NOMATCH,ye<d&&ge.min<=a[ye]&&a[ye]<=ge.max&&(re.state=e.MATCH,re.phraseLength=1)},Se=function(Ce,ye,re){let ge;const ke=o[Ce],$e=ke.string.length;if(re.state=e.NOMATCH,ye+$e<=d){for(ge=0;ge<$e;ge+=1)if(a[ye+ge]!==ke.string[ge])return;re.state=e.MATCH,re.phraseLength=$e}},xe=function(Ce,ye,re){let ge,ke;const $e=o[Ce];re.state=e.NOMATCH;const et=$e.string.length;if(et===0){re.state=e.EMPTY;return}if(ye+et<=d){for(ge=0;ge<et;ge+=1)if(ke=a[ye+ge],ke>=65&&ke<=90&&(ke+=32),ke!==$e.string[ge])return;re.state=e.MATCH,re.phraseLength=et}},te=function(Ce,ye,re){re.state=e.NOMATCH,re.phraseLength=0,re.state=ye===0?e.EMPTY:e.NOMATCH},J=function(Ce,ye,re){re.state=e.NOMATCH,re.phraseLength=0,re.state=ye===a.length?e.EMPTY:e.NOMATCH},V=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce];re.state=e.NOMATCH,xt.index<v.length?et=v[xt.index].lower:et=x[xt.index-v.length].lower;const gt=xt.bkrMode===e.BKR_MODE_PM?re.pFrame.getPhrase(et):re.uFrame.getPhrase(et),Rn=xt.bkrCase===e.BKR_MODE_CI;if(gt===null)return;const Jt=gt.phraseIndex,Yn=gt.phraseLength;if(Yn===0){re.state=e.EMPTY;return}if(ye+Yn<=d){if(Rn){for(ge=0;ge<Yn;ge+=1)if(ke=a[ye+ge],$e=a[Jt+ge],ke>=65&&ke<=90&&(ke+=32),$e>=65&&$e<=90&&($e+=32),ke!==$e)return;re.state=e.MATCH,re.phraseLength=Yn}else for(ge=0;ge<Yn;ge+=1)if(ke=a[ye+ge],$e=a[Jt+ge],ke!==$e)return;re.state=e.MATCH,re.phraseLength=Yn}},Y=function(Ce,ye,re){switch(f.push({lookAround:e.LOOKAROUND_BEHIND,anchor:ye}),i(Ce+1,ye,re),f.pop(),re.phraseLength=0,re.state){case e.EMPTY:re.state=e.EMPTY;break;case e.MATCH:re.state=e.EMPTY;break;case e.NOMATCH:re.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${re.state}`)}},se=function(Ce,ye,re){switch(f.push({lookAround:e.LOOKAROUND_BEHIND,anchor:ye}),i(Ce+1,ye,re),f.pop(),re.phraseLength=0,re.state){case e.EMPTY:case e.MATCH:re.state=e.NOMATCH;break;case e.NOMATCH:re.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${re.state}`)}},me=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce],gt=re.uFrame.length(),Rn=re.pFrame.length();s.ast&&(ke=s.ast.getLength()),ge=!0,$e=ye,et=0;for(let Jt=xt.children.length-1;Jt>=0;Jt-=1)if(i(xt.children[Jt],$e,re),$e-=re.phraseLength,et+=re.phraseLength,re.state===e.NOMATCH){ge=!1;break}ge?(re.state=et===0?e.EMPTY:e.MATCH,re.phraseLength=et):(re.state=e.NOMATCH,re.phraseLength=0,re.uFrame.pop(gt),re.pFrame.pop(Rn),s.ast&&s.ast.setLength(ke))},_e=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce];ke=ye,$e=0,et=0;const gt=re.uFrame.length(),Rn=re.pFrame.length();s.ast&&(ge=s.ast.getLength());const Jt=!0;for(;Jt&&!(ke<=0||(i(Ce+1,ke,re),re.state===e.NOMATCH)||re.state===e.EMPTY||(et+=1,$e+=re.phraseLength,ke-=re.phraseLength,et===xt.max)););re.state===e.EMPTY||et>=xt.min?(re.state=$e===0?e.EMPTY:e.MATCH,re.phraseLength=$e):(re.state=e.NOMATCH,re.phraseLength=0,re.uFrame.pop(gt),re.pFrame.pop(Rn),s.ast&&s.ast.setLength(ge))},Te=function(Ce,ye,re){const ge=o[Ce];if(re.state=e.NOMATCH,re.phraseLength=0,ye>0){const ke=a[ye-1];ge.min<=ke&&ke<=ge.max&&(re.state=e.MATCH,re.phraseLength=1)}},ot=function(Ce,ye,re){let ge;const ke=o[Ce];re.state=e.NOMATCH;const $e=ke.string.length,et=ye-$e;if(et>=0){for(ge=0;ge<$e;ge+=1)if(a[et+ge]!==ke.string[ge])return;re.state=e.MATCH,re.phraseLength=$e}},It=function(Ce,ye,re){let ge;const ke=o[Ce];re.state=e.NOMATCH;const $e=ke.string.length;if($e===0){re.state=e.EMPTY;return}const et=ye-$e;if(et>=0){for(let xt=0;xt<$e;xt+=1)if(ge=a[et+xt],ge>=65&&ge<=90&&(ge+=32),ge!==ke.string[xt])return;re.state=e.MATCH,re.phraseLength=$e}},Ft=function(Ce,ye,re){let ge,ke,$e,et;const xt=o[Ce];re.state=e.NOMATCH,re.phraseLength=0,xt.index<v.length?et=v[xt.index].lower:et=x[xt.index-v.length].lower;const gt=xt.bkrMode===e.BKR_MODE_PM?re.pFrame.getPhrase(et):re.uFrame.getPhrase(et),Rn=xt.bkrCase===e.BKR_MODE_CI;if(gt===null)return;const Jt=gt.phraseIndex,Yn=gt.phraseLength;if(Yn===0){re.state=e.EMPTY,re.phraseLength=0;return}const ls=ye-Yn;if(ls>=0){if(Rn){for(ge=0;ge<Yn;ge+=1)if(ke=a[ls+ge],$e=a[Jt+ge],ke>=65&&ke<=90&&(ke+=32),$e>=65&&$e<=90&&($e+=32),ke!==$e)return;re.state=e.MATCH,re.phraseLength=Yn}else for(ge=0;ge<Yn;ge+=1)if(ke=a[ls+ge],$e=a[Jt+ge],ke!==$e)return;re.state=e.MATCH,re.phraseLength=Yn}};i=function(ye,re,ge){let ke=!0;const $e=o[ye];if(b+=1,b>R)throw new Error(`parser: maximum number of node hits exceeded: ${R}`);if(p+=1,p>g&&(g=p,g>T))throw new Error(`parser: maximum parse tree depth exceeded: ${T}`);if(ge.refresh(),s.trace!==null){const et=z();s.trace.down($e,ge.state,re,ge.phraseLength,et.anchor,et.lookAround)}if(q())switch($e.type){case e.ALT:Z(ye,re,ge);break;case e.CAT:me(ye,re,ge);break;case e.REP:_e(ye,re,ge);break;case e.RNM:pe(ye,re,ge);break;case e.UDT:ce(ye,re,ge);break;case e.AND:fe(ye,re,ge);break;case e.NOT:ve(ye,re,ge);break;case e.TRG:Te(ye,re,ge);break;case e.TBS:ot(ye,re,ge);break;case e.TLS:It(ye,re,ge);break;case e.BKR:Ft(ye,re,ge);break;case e.BKA:Y(ye,re,ge);break;case e.BKN:se(ye,re,ge);break;case e.ABG:te(ye,re,ge);break;case e.AEN:J(ye,re,ge);break;default:ke=!1;break}else switch($e.type){case e.ALT:Z(ye,re,ge);break;case e.CAT:X(ye,re,ge);break;case e.REP:le(ye,re,ge);break;case e.RNM:pe(ye,re,ge);break;case e.UDT:ce(ye,re,ge);break;case e.AND:fe(ye,re,ge);break;case e.NOT:ve(ye,re,ge);break;case e.TRG:Re(ye,re,ge);break;case e.TBS:Se(ye,re,ge);break;case e.TLS:xe(ye,re,ge);break;case e.BKR:V(ye,re,ge);break;case e.BKA:Y(ye,re,ge);break;case e.BKN:se(ye,re,ge);break;case e.ABG:te(ye,re,ge);break;case e.AEN:J(ye,re,ge);break;default:ke=!1;break}if(!K()&&re+ge.phraseLength>S&&(S=re+ge.phraseLength),s.stats!==null&&s.stats.collect($e,ge),s.trace!==null){const et=z();s.trace.up($e,ge.state,re,ge.phraseLength,et.anchor,et.lookAround)}return p-=1,ke}}),F3}var $3,mj;function J3e(){return mj||(mj=1,$3=function(){const e=ry(),n=ex(),r=iS(),s="stats.js: ";let i=[],o=[];const a=[];let l;const c=[],d=[];this.statsObject="statsObject";const f="stats",p=function(R,_){return R.lower<_.lower?-1:R.lower>_.lower?1:0},g=function(R,_){return R.total<_.total?1:R.total>_.total?-1:p(R,_)},b=function(R,_){return R.index<_.index?-1:R.index>_.index?1:0},w=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},m=function(){a.length=0,l=new w,a[e.ALT]=new w,a[e.CAT]=new w,a[e.REP]=new w,a[e.RNM]=new w,a[e.TRG]=new w,a[e.TBS]=new w,a[e.TLS]=new w,a[e.UDT]=new w,a[e.AND]=new w,a[e.NOT]=new w,a[e.BKR]=new w,a[e.BKA]=new w,a[e.BKN]=new w,a[e.ABG]=new w,a[e.AEN]=new w,c.length=0;for(let R=0;R<i.length;R+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:i[R].name,lower:i[R].lower,index:i[R].index});if(o.length>0){d.length=0;for(let R=0;R<o.length;R+=1)d.push({empty:0,match:0,nomatch:0,total:0,name:o[R].name,lower:o[R].lower,index:o[R].index})}},v=function(R,_){switch(R.total+=1,_){case e.EMPTY:R.empty+=1;break;case e.MATCH:R.match+=1;break;case e.NOMATCH:R.nomatch+=1;break;default:throw new Error(`${s}collect(): incStat(): unrecognized state: ${_}`)}},x=function(R,_){let N="";return N+="<tr>",N+=`<td class="${r.CLASS_ACTIVE}">${R}</td>`,N+=`<td class="${r.CLASS_EMPTY}">${_.empty}</td>`,N+=`<td class="${r.CLASS_MATCH}">${_.match}</td>`,N+=`<td class="${r.CLASS_NOMATCH}">${_.nomatch}</td>`,N+=`<td class="${r.CLASS_ACTIVE}">${_.total}</td>`,N+=`</tr>
`,N},C=function(){let R="";return R+=x("ALT",a[e.ALT]),R+=x("CAT",a[e.CAT]),R+=x("REP",a[e.REP]),R+=x("RNM",a[e.RNM]),R+=x("TRG",a[e.TRG]),R+=x("TBS",a[e.TBS]),R+=x("TLS",a[e.TLS]),R+=x("UDT",a[e.UDT]),R+=x("AND",a[e.AND]),R+=x("NOT",a[e.NOT]),R+=x("BKR",a[e.BKR]),R+=x("BKA",a[e.BKA]),R+=x("BKN",a[e.BKN]),R+=x("ABG",a[e.ABG]),R+=x("AEN",a[e.AEN]),R+=x("totals",l),R},S=function(){let R="";R+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,R+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let _=0;_<i.length;_+=1)c[_].total>0&&(R+="<tr>",R+=`<td class="${r.CLASS_ACTIVE}">${c[_].name}</td>`,R+=`<td class="${r.CLASS_EMPTY}">${c[_].empty}</td>`,R+=`<td class="${r.CLASS_MATCH}">${c[_].match}</td>`,R+=`<td class="${r.CLASS_NOMATCH}">${c[_].nomatch}</td>`,R+=`<td class="${r.CLASS_ACTIVE}">${c[_].total}</td>`,R+=`</tr>
`);if(o.length>0){R+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,R+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let _=0;_<o.length;_+=1)d[_].total>0&&(R+="<tr>",R+=`<td class="${r.CLASS_ACTIVE}">${d[_].name}</td>`,R+=`<td class="${r.CLASS_EMPTY}">${d[_].empty}</td>`,R+=`<td class="${r.CLASS_MATCH}">${d[_].match}</td>`,R+=`<td class="${r.CLASS_NOMATCH}">${d[_].nomatch}</td>`,R+=`<td class="${r.CLASS_ACTIVE}">${d[_].total}</td>`,R+=`</tr>
`)}return R};this.validate=function(R){let _=!1;return typeof R=="string"&&f===R&&(_=!0),_},this.init=function(R,_){i=R,o=_,m()},this.collect=function(R,_){v(l,_.state,_.phraseLength),v(a[R.type],_.state,_.phraseLength),R.type===e.RNM&&v(c[R.index],_.state,_.phraseLength),R.type===e.UDT&&v(d[R.index],_.state,_.phraseLength)},this.toHtml=function(R,_){let N="";N+=`<table class="${r.CLASS_STATS}">
`,typeof _=="string"&&(N+=`<caption>${_}</caption>
`),N+=`<tr><th class="${r.CLASS_ACTIVE}">ops</th>
`,N+=`<th class="${r.CLASS_EMPTY}">EMPTY</th>
`,N+=`<th class="${r.CLASS_MATCH}">MATCH</th>
`,N+=`<th class="${r.CLASS_NOMATCH}">NOMATCH</th>
`,N+=`<th class="${r.CLASS_ACTIVE}">totals</th></tr>
`;const O=!0;for(;O;){if(R===void 0){N+=C();break}if(R===null){N+=C();break}if(R==="ops"){N+=C();break}if(R==="index"){c.sort(b),d.length>0&&d.sort(b),N+=C(),N+=S();break}if(R==="hits"){c.sort(g),d.length>0&&d.sort(b),N+=C(),N+=S();break}if(R==="alpha"){c.sort(p),d.length>0&&d.sort(p),N+=C(),N+=S();break}break}return N+=`</table>
`,N},this.toHtmlPage=function(R,_,N){return n.htmlToPage(this.toHtml(R,_),N)}}),$3}var H3,yj;function Z3e(){return yj||(yj=1,H3=function(){const e=ex(),n=iS(),r=new(EW()),s=ry(),i="trace.js: ",o=this,a=16,l=10,c=8,d=32,f=80,p=5,g=[];let b=5e3,w=-1,m=0,v=0;const x=[];let C=null,S=null,T=null;const R=[],_=[],N=`<span class="${n.CLASS_LINEEND}">&bull;</span>`,O=`<span class="${n.CLASS_LINEEND}">&hellip;</span>`,D=`<span class="${n.CLASS_EMPTY}">&#120634;</span>`,k=function(){const ae=function(fe){R[s.ALT]=fe,R[s.CAT]=fe,R[s.REP]=fe,R[s.TLS]=fe,R[s.TBS]=fe,R[s.TRG]=fe,R[s.AND]=fe,R[s.NOT]=fe,R[s.BKR]=fe,R[s.BKA]=fe,R[s.BKN]=fe,R[s.ABG]=fe,R[s.AEN]=fe};let ce=0;for(const fe in o.filter.operators)ce+=1;if(ce===0){ae(!1);return}for(const fe in o.filter.operators){const ve=fe.toUpperCase();if(ve==="<ALL>"){ae(!0);return}if(ve==="<NONE>"){ae(!1);return}}ae(!1);for(const fe in o.filter.operators){const ve=fe.toUpperCase();if(ve==="ALT")R[s.ALT]=o.filter.operators[fe]===!0;else if(ve==="CAT")R[s.CAT]=o.filter.operators[fe]===!0;else if(ve==="REP")R[s.REP]=o.filter.operators[fe]===!0;else if(ve==="AND")R[s.AND]=o.filter.operators[fe]===!0;else if(ve==="NOT")R[s.NOT]=o.filter.operators[fe]===!0;else if(ve==="TLS")R[s.TLS]=o.filter.operators[fe]===!0;else if(ve==="TBS")R[s.TBS]=o.filter.operators[fe]===!0;else if(ve==="TRG")R[s.TRG]=o.filter.operators[fe]===!0;else if(ve==="BKR")R[s.BKR]=o.filter.operators[fe]===!0;else if(ve==="BKA")R[s.BKA]=o.filter.operators[fe]===!0;else if(ve==="BKN")R[s.BKN]=o.filter.operators[fe]===!0;else if(ve==="ABG")R[s.ABG]=o.filter.operators[fe]===!0;else if(ve==="AEN")R[s.AEN]=o.filter.operators[fe]===!0;else throw new Error(`${i}initOpratorFilter: '${fe}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},z=function(){const ae=function(Re){R[s.RNM]=Re,R[s.UDT]=Re;const Se=S.length+T.length;_.length=0;for(let xe=0;xe<Se;xe+=1)_.push(Re)};let ce,fe;const ve=[];for(fe=0;fe<S.length;fe+=1)ve.push(S[fe].lower);for(fe=0;fe<T.length;fe+=1)ve.push(T[fe].lower);_.length=0,ce=0;for(const Re in o.filter.rules)ce+=1;if(ce===0){ae(!0);return}for(const Re in o.filter.rules){const Se=Re.toLowerCase();if(Se==="<all>"){ae(!0);return}if(Se==="<none>"){ae(!1);return}}ae(!1),R[s.RNM]=!0,R[s.UDT]=!0;for(const Re in o.filter.rules){const Se=Re.toLowerCase();if(fe=ve.indexOf(Se),fe<0)throw new Error(`${i}initRuleFilter: '${Re}' not a valid rule or udt name`);_[fe]=o.filter.rules[Re]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(ae,ce){if(w=-1,typeof ae=="number"&&ae>0)b=Math.ceil(ae);else{b=0;return}typeof ce=="number"&&(w=Math.floor(ce),w<0&&(w=-1))},this.getMaxRecords=function(){return b},this.getLastRecord=function(){return w},this.init=function(ae,ce,fe){g.length=0,x.length=0,m=0,v=0,C=fe,S=ae,T=ce,k(),z(),r.init(b)};const K=function(ae){let ce=!1;return ae.type===s.RNM?R[ae.type]&&_[ae.index]?ce=!0:ce=!1:ae.type===s.UDT?R[ae.type]&&_[S.length+ae.index]?ce=!0:ce=!1:ce=R[ae.type],ce},q=function(ae){return w===-1||ae<=w};this.down=function(ae,ce,fe,ve,Re,Se){q(m)&&K(ae)&&(x.push(m),g[r.increment()]={dirUp:!1,depth:v,thisLine:m,thatLine:void 0,opcode:ae,state:ce,phraseIndex:fe,phraseLength:ve,lookAnchor:Re,lookAround:Se},m+=1,v+=1)},this.up=function(ae,ce,fe,ve,Re,Se){if(q(m)&&K(ae)){const xe=m,te=x.pop(),J=r.getListIndex(te);J!==-1&&(g[J].thatLine=xe),v-=1,g[r.increment()]={dirUp:!0,depth:v,thisLine:xe,thatLine:te,opcode:ae,state:ce,phraseIndex:fe,phraseLength:ve,lookAnchor:Re,lookAround:Se},m+=1}};const I=function(){function ae(re,ge){let ke,$e,et;if(ge)switch(re.op={id:ge.type,name:e.opcodeToString(ge.type)},re.opData=void 0,ge.type){case s.RNM:re.opData=S[ge.index].name;break;case s.UDT:re.opData=T[ge.index].name;break;case s.BKR:ge.index<S.length?ke=S[ge.index].name:ke=T[ge.index-S.length].name,$e=ge.bkrCase===s.BKR_MODE_CI?"%i":"%s",et=ge.bkrMode===s.BKR_MODE_UM?"%u":"%p",re.opData=`\\\\${$e}${et}${ke}`;break;case s.TLS:re.opData=[];for(let xt=0;xt<ge.string.length;xt+=1)re.opData.push(ge.string[xt]);break;case s.TBS:re.opData=[];for(let xt=0;xt<ge.string.length;xt+=1)re.opData.push(ge.string[xt]);break;case s.TRG:re.opData=[ge.min,ge.max];break;case s.REP:re.opData=[ge.min,ge.max];break;default:throw new Error("unrecognized opcode")}else re.op={id:void 0,name:void 0},re.opData=void 0}function ce(re,ge,ke){return re===s.MATCH?{index:ge,length:ke}:re===s.NOMATCH?{index:ge,length:0}:re===s.EMPTY?{index:ge,length:0}:null}let fe=-1;function ve(re,ge,ke){const $e={id:fe++,branch:-1,parent:re,up:!1,down:!1,depth:ke,children:[]};return ge?($e.down=!0,$e.state={id:ge.state,name:e.stateToString(ge.state)},$e.phrase=null,ae($e,ge.opcode)):($e.state={id:void 0,name:void 0},$e.phrase=ce(),ae($e,void 0)),$e}function Re(re,ge){ge&&(re.up=!0,re.state={id:ge.state,name:e.stateToString(ge.state)},re.phrase=ce(ge.state,ge.phraseIndex,ge.phraseLength),re.down||ae(re,ge.opcode))}let Se=0,xe=-1,te=1;function J(re){if(xe+=1,re.branch=te,xe>v&&(v=xe),re.children.length===0)Se+=1;else for(let ge=0;ge<re.children.length;ge+=1)ge>0&&(te+=1),re.children[ge].leftMost=!1,re.children[ge].rightMost=!1,re.leftMost&&(re.children[ge].leftMost=ge===0),re.rightMost&&(re.children[ge].rightMost=ge===re.children.length-1),J(re.children[ge]);xe-=1}function V(re,ge){let ke;const $e={};if($e.id=re.id,$e.branch=re.branch,$e.leftMost=re.leftMost,$e.rightMost=re.rightMost,ke=re.state.name?re.state.name:"ACTIVE",$e.state={id:re.state.id,name:ke},ke=re.op.name?re.op.name:"?",$e.op={id:re.op.id,name:ke},typeof re.opData=="string")$e.opData=re.opData;else if(Array.isArray(re.opData)){$e.opData=[];for(let et=0;et<re.opData.length;et+=1)$e.opData[et]=re.opData[et]}else $e.opData=void 0;re.phrase?$e.phrase={index:re.phrase.index,length:re.phrase.length}:$e.phrase=null,$e.depth=re.depth,$e.children=[];for(let et=0;et<re.children.length;et+=1)re.children.length-1,$e.children[et]=V(re.children[et]);return $e}const Y=[];let se,me,_e,Te,ot=!0;const It=ve(null,null,-1);for(Y.push(It),me=It,r.forEach(re=>{if(Te=g[re],ot&&(ot=!1,Te.depth>0)){const ge=Te.dirUp?Te.depth+1:Te.depth;for(let ke=0;ke<ge;ke+=1)_e=me,me=ve(me,null,ke),Y.push(me),_e.children.push(me)}Te.dirUp?(me=Y.pop(),Re(me,Te),me=Y[Y.length-1]):(_e=me,me=ve(me,Te,Te.depth),Y.push(me),_e.children.push(me))});Y.length>1;)me=Y.pop(),Re(me,null);if(It.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(Y.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");se=It.children[0];let Ft=se;for(;se&&!se.down&&!se.up;)Ft=se,se=se.children[0];se=Ft,se.leftMost=!0,se.rightMost=!0,J(se),se.branch=0;const Ce={};Ce.string=[];for(let re=0;re<C.length;re+=1)Ce.string[re]=C[re];Ce.rules=[];for(let re=0;re<S.length;re+=1)Ce.rules[re]=S[re].name;Ce.udts=[];for(let re=0;re<T.length;re+=1)Ce.udts[re]=T[re].name;Ce.id={},Ce.id.ALT={id:s.ALT,name:"ALT"},Ce.id.CAT={id:s.CAT,name:"CAT"},Ce.id.REP={id:s.REP,name:"REP"},Ce.id.RNM={id:s.RNM,name:"RNM"},Ce.id.TLS={id:s.TLS,name:"TLS"},Ce.id.TBS={id:s.TBS,name:"TBS"},Ce.id.TRG={id:s.TRG,name:"TRG"},Ce.id.UDT={id:s.UDT,name:"UDT"},Ce.id.AND={id:s.AND,name:"AND"},Ce.id.NOT={id:s.NOT,name:"NOT"},Ce.id.BKR={id:s.BKR,name:"BKR"},Ce.id.BKA={id:s.BKA,name:"BKA"},Ce.id.BKN={id:s.BKN,name:"BKN"},Ce.id.ABG={id:s.ABG,name:"ABG"},Ce.id.AEN={id:s.AEN,name:"AEN"},Ce.id.ACTIVE={id:s.ACTIVE,name:"ACTIVE"},Ce.id.MATCH={id:s.MATCH,name:"MATCH"},Ce.id.EMPTY={id:s.EMPTY,name:"EMPTY"},Ce.id.NOMATCH={id:s.NOMATCH,name:"NOMATCH"},Ce.treeDepth=v,Ce.leafNodes=Se;let ye;return se.down?se.up?ye="none":ye="right":se.up?ye="left":ye="both",Ce.branchesIncomplete=ye,Ce.tree=V(se,se.depth),Ce};this.toTree=function(ae){const ce=I();return ae?JSON.stringify(ce):ce},this.toHtmlPage=function(ae,ce,fe){return e.htmlToPage(this.toHtml(ae,ce),fe)};const P=function(ae,ce){let fe;switch(ae){case a:fe="hexadecimal";break;case l:fe="decimal";break;case c:fe="ASCII";break;case d:fe="UNICODE";break;default:throw new Error(`${i}htmlHeader: unrecognized mode: ${ae}`)}let ve="";return ve+=`<p>display mode: ${fe}</p>
`,ve+=`<table class="${n.CLASS_TRACE}">
`,typeof ce=="string"&&(ve+=`<caption>${ce}</caption>`),ve},M=function(){let ae="";return ae+=`</table>
`,ae+=`<p class="${n.CLASS_MONOSPACE}">legend:<br>
`,ae+=`(a)&nbsp;-&nbsp;line number<br>
`,ae+=`(b)&nbsp;-&nbsp;matching line number<br>
`,ae+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,ae+=`(d)&nbsp;-&nbsp;phrase length<br>
`,ae+=`(e)&nbsp;-&nbsp;tree depth<br>
`,ae+=`(f)&nbsp;-&nbsp;operator state<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,ae+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,ae+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${f} characters of the phrase being matched<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">matched characters</span><br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${D} empty string<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${N} end of input string<br>
`,ae+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${O} input string display truncated<br>
`,ae+=`</p>
`,ae+=`<p class="${n.CLASS_MONOSPACE}">
`,ae+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,ae+=`ALT - alternation<br>
`,ae+=`CAT - concatenation<br>
`,ae+=`REP - repetition<br>
`,ae+=`RNM - rule name<br>
`,ae+=`TRG - terminal range<br>
`,ae+=`TLS - terminal literal string (case insensitive)<br>
`,ae+=`TBS - terminal binary string (case sensitive)<br>
`,ae+=`<br>
`,ae+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,ae+=`UDT - user-defined terminal<br>
`,ae+=`AND - positive look ahead<br>
`,ae+=`NOT - negative look ahead<br>
`,ae+=`BKA - positive look behind<br>
`,ae+=`BKN - negative look behind<br>
`,ae+=`BKR - back reference<br>
`,ae+=`ABG - anchor - begin of input string<br>
`,ae+=`AEN - anchor - end of input string<br>
`,ae+=`</p>
`,ae};this.indent=function(ae){let ce="";for(let fe=0;fe<ae;fe+=1)ce+=".";return ce};const j=function(ae,ce){let fe="";if(ce.type===s.TRG)if(ae===a||ae===d){let ve=ce.min.toString(16).toUpperCase();ve.length%2!==0&&(ve=`0${ve}`),fe+=ae===a?"%x":"U+",fe+=ve,ve=ce.max.toString(16).toUpperCase(),ve.length%2!==0&&(ve=`0${ve}`),fe+=`&ndash;${ve}`}else fe=`%d${ce.min.toString(10)}&ndash;${ce.max.toString(10)}`;return fe},G=function(ae,ce){let fe="";if(ce.type===s.REP)if(ae===a){let ve=ce.min.toString(16).toUpperCase();ve.length%2!==0&&(ve=`0${ve}`),fe=`x${ve}`,ce.max<1/0?(ve=ce.max.toString(16).toUpperCase(),ve.length%2!==0&&(ve=`0${ve}`)):ve="inf",fe+=`&ndash;${ve}`}else ce.max<1/0?fe=`${ce.min.toString(10)}&ndash;${ce.max.toString(10)}`:fe=`${ce.min.toString(10)}&ndash;inf`;return fe},F=function(ae,ce){let fe="";if(ce.type===s.TBS){const ve=Math.min(ce.string.length,p*2);if(ae===a||ae===d){fe+=ae===a?"%x":"U+";for(let Re=0;Re<ve;Re+=1){let Se;Re>0&&(fe+="."),Se=ce.string[Re].toString(16).toUpperCase(),Se.length%2!==0&&(Se=`0${Se}`),fe+=Se}}else{fe="%d";for(let Re=0;Re<ve;Re+=1)Re>0&&(fe+="."),fe+=ce.string[Re].toString(10)}ve<ce.string.length&&(fe+=O)}return fe},H=function(ae,ce){let fe="";if(ce.type===s.TLS){const ve=Math.min(ce.string.length,p);if(ae===a||ae===l){let Re,Se,xe;ae===a?(fe="%x",xe=16):(fe="%d",xe=10);for(let te=0;te<ve;te+=1)te>0&&(fe+="."),Se=ce.string[te],Se>=97&&Se<=122?(Re=Se-32,fe+=`${Re.toString(xe)}/${Se.toString(xe)}`.toUpperCase()):Se>=65&&Se<=90?(Re=Se,Se+=32,fe+=`${Re.toString(xe)}/${Se.toString(xe)}`.toUpperCase()):fe+=Se.toString(xe).toUpperCase();ve<ce.string.length&&(fe+=O)}else{fe='"';for(let Re=0;Re<ve;Re+=1)fe+=e.asciiChars[ce.string[Re]];ve<ce.string.length&&(fe+=O),fe+='"'}}return fe},$=function(ae,ce,fe,ve,Re){if(ve===0)return"";let Se="";const xe=Re?",":"";switch(ae){case a:Se=xe+e.charsToHex(ce,fe,ve);break;case l:if(Re)return`,${e.charsToDec(ce,fe,ve)}`;Se=xe+e.charsToDec(ce,fe,ve);break;case d:Se=e.charsToUnicode(ce,fe,ve);break;case c:default:Se=e.charsToAsciiHtml(ce,fe,ve);break}return Se},Z=function(ae,ce,fe,ve,Re,Se){let xe="",te,J,V,Y,se=N;const me=`<span class="${n.CLASS_LOOKBEHIND}">`,_e=`<span class="${n.CLASS_REMAINDER}">`,Te="</span>";let ot=!1;switch(fe){case s.EMPTY:xe+=D;case s.NOMATCH:case s.MATCH:case s.ACTIVE:te=ve-Re,J=Se-te,V=Se,Y=ce.length-V;break;default:throw new Error("unrecognized state")}return se=N,J>f?(J=f,se=O,Y=0):J+Y>f&&(se=O,Y=f-J),J>0&&(xe+=me,xe+=$(ae,ce,te,J,ot),xe+=Te,ot=!0),Y>0&&(xe+=_e,xe+=$(ae,ce,V,Y,ot),xe+=Te),xe+se},X=function(ae,ce,fe,ve,Re,Se){let xe="",te,J,V,Y,se=N;const me=`<span class="${n.CLASS_REMAINDER}">`,_e="</span>";let Te=!1;switch(fe){case s.EMPTY:xe+=D;case s.NOMATCH:case s.ACTIVE:te=ve,J=0,V=ve,Y=ce.length-V;break;case s.MATCH:te=ve,J=Re,V=ve+J,Y=ce.length-V;break;default:throw new Error("unrecognized state")}return se=N,J>f?(J=f,se=O,Y=0):J+Y>f&&(se=O,Y=f-J),J>0&&(xe+=Se,xe+=$(ae,ce,te,J,Te),xe+=_e,Te=!0),Y>0&&(xe+=me,xe+=$(ae,ce,V,Y,Te),xe+=_e),xe+se},le=function(ae,ce,fe,ve,Re){const Se=`<span class="${n.CLASS_LOOKAHEAD}">`;return X(ae,ce,fe,ve,Re,Se)},de=function(ae,ce,fe,ve,Re){const Se=`<span class="${n.CLASS_MATCH}">`;return X(ae,ce,fe,ve,Re,Se)},pe=function(ae){if(S===null)return"";let ce="",fe,ve,Re,Se,xe,te;return ce+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",ce+=`<th>operator</th><th>phrase</th></tr>
`,r.forEach(J=>{const V=g[J];switch(fe=V.thisLine,ve=V.thatLine!==void 0?V.thatLine:"--",Re=!1,Se=!1,xe=!1,V.lookAround===s.LOOKAROUND_AHEAD&&(Re=!0,xe=!0,te=V.lookAnchor),(V.opcode.type===s.AND||V.opcode.type===s.NOT)&&(Re=!0,xe=!0,te=V.phraseIndex),V.lookAround===s.LOOKAROUND_BEHIND&&(Se=!0,xe=!0,te=V.lookAnchor),(V.opcode.type===s.BKA||V.opcode.type===s.BKN)&&(Se=!0,xe=!0,te=V.phraseIndex),ce+="<tr>",ce+=`<td>${fe}</td><td>${ve}</td>`,ce+=`<td>${V.phraseIndex}</td>`,ce+=`<td>${V.phraseLength}</td>`,ce+=`<td>${V.depth}</td>`,ce+="<td>",V.state){case s.ACTIVE:ce+=`<span class="${n.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case s.MATCH:ce+=`<span class="${n.CLASS_MATCH}">&uarr;M</span>`;break;case s.NOMATCH:ce+=`<span class="${n.CLASS_NOMATCH}">&uarr;N</span>`;break;case s.EMPTY:ce+=`<span class="${n.CLASS_EMPTY}">&uarr;E</span>`;break;default:ce+=`<span class="${n.CLASS_ACTIVE}">--</span>`;break}if(ce+="</td>",ce+="<td>",ce+=o.indent(V.depth),Re?ce+=`<span class="${n.CLASS_LOOKAHEAD}">`:Se&&(ce+=`<span class="${n.CLASS_LOOKBEHIND}">`),ce+=e.opcodeToString(V.opcode.type),V.opcode.type===s.RNM&&(ce+=`(${S[V.opcode.index].name}) `),V.opcode.type===s.BKR){const Y=V.opcode.bkrCase===s.BKR_MODE_CI?"%i":"%s",se=V.opcode.bkrMode===s.BKR_MODE_UM?"%u":"%p";ce+=`(\\${Y}${se}${S[V.opcode.index].name}) `}V.opcode.type===s.UDT&&(ce+=`(${T[V.opcode.index].name}) `),V.opcode.type===s.TRG&&(ce+=`(${j(ae,V.opcode)}) `),V.opcode.type===s.TBS&&(ce+=`(${F(ae,V.opcode)}) `),V.opcode.type===s.TLS&&(ce+=`(${H(ae,V.opcode)}) `),V.opcode.type===s.REP&&(ce+=`(${G(ae,V.opcode)}) `),xe&&(ce+="</span>"),ce+="</td>",ce+="<td>",Se?ce+=Z(ae,C,V.state,V.phraseIndex,V.phraseLength,te):Re?ce+=le(ae,C,V.state,V.phraseIndex,V.phraseLength):ce+=de(ae,C,V.state,V.phraseIndex,V.phraseLength),ce+=`</td></tr>
`}),ce+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",ce+=`<th>operator</th><th>phrase</th></tr>
`,ce+=`</table>
`,ce};this.toHtml=function(ae,ce){let fe=c;if(typeof ae=="string"&&ae.length>=3){const Re=ae.toLowerCase().slice(0,3);Re==="hex"?fe=a:Re==="dec"?fe=l:Re==="uni"&&(fe=d)}let ve="";return ve+=P(fe,ce),ve+=pe(fe),ve+=M(),ve}}),H3}var z3,bj;function AW(){return bj||(bj=1,z3={ast:Q3e(),circular:EW(),ids:ry(),parser:Y3e(),stats:J3e(),trace:Z3e(),utils:ex(),emitcss:xW(),style:iS()}),z3}var Gh={},Gr={},Cf={},wj;function CW(){if(wj)return Cf;wj=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.anumber=t,Cf.abytes=n,Cf.ahash=r,Cf.aexists=s,Cf.aoutput=i;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...a){if(!e(o))throw new Error("Uint8Array expected");if(a.length>0&&!a.includes(o.length))throw new Error("Uint8Array expected of length "+a+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function s(o,a=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(a&&o.finished)throw new Error("Hash#digest() has already been called")}function i(o,a){n(o);const l=a.outputLen;if(o.length<l)throw new Error("digestInto() expects output buffer of length at least "+l)}return Cf}var bn={},vj;function X3e(){if(vj)return bn;vj=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.add5L=bn.add5H=bn.add4H=bn.add4L=bn.add3H=bn.add3L=bn.rotlBL=bn.rotlBH=bn.rotlSL=bn.rotlSH=bn.rotr32L=bn.rotr32H=bn.rotrBL=bn.rotrBH=bn.rotrSL=bn.rotrSH=bn.shrSL=bn.shrSH=bn.toBig=void 0,bn.fromBig=n,bn.split=r,bn.add=v;const t=BigInt(2**32-1),e=BigInt(32);function n(O,D=!1){return D?{h:Number(O&t),l:Number(O>>e&t)}:{h:Number(O>>e&t)|0,l:Number(O&t)|0}}function r(O,D=!1){let k=new Uint32Array(O.length),z=new Uint32Array(O.length);for(let K=0;K<O.length;K++){const{h:q,l:I}=n(O[K],D);[k[K],z[K]]=[q,I]}return[k,z]}const s=(O,D)=>BigInt(O>>>0)<<e|BigInt(D>>>0);bn.toBig=s;const i=(O,D,k)=>O>>>k;bn.shrSH=i;const o=(O,D,k)=>O<<32-k|D>>>k;bn.shrSL=o;const a=(O,D,k)=>O>>>k|D<<32-k;bn.rotrSH=a;const l=(O,D,k)=>O<<32-k|D>>>k;bn.rotrSL=l;const c=(O,D,k)=>O<<64-k|D>>>k-32;bn.rotrBH=c;const d=(O,D,k)=>O>>>k-32|D<<64-k;bn.rotrBL=d;const f=(O,D)=>D;bn.rotr32H=f;const p=(O,D)=>O;bn.rotr32L=p;const g=(O,D,k)=>O<<k|D>>>32-k;bn.rotlSH=g;const b=(O,D,k)=>D<<k|O>>>32-k;bn.rotlSL=b;const w=(O,D,k)=>D<<k-32|O>>>64-k;bn.rotlBH=w;const m=(O,D,k)=>O<<k-32|D>>>64-k;bn.rotlBL=m;function v(O,D,k,z){const K=(D>>>0)+(z>>>0);return{h:O+k+(K/2**32|0)|0,l:K|0}}const x=(O,D,k)=>(O>>>0)+(D>>>0)+(k>>>0);bn.add3L=x;const C=(O,D,k,z)=>D+k+z+(O/2**32|0)|0;bn.add3H=C;const S=(O,D,k,z)=>(O>>>0)+(D>>>0)+(k>>>0)+(z>>>0);bn.add4L=S;const T=(O,D,k,z,K)=>D+k+z+K+(O/2**32|0)|0;bn.add4H=T;const R=(O,D,k,z,K)=>(O>>>0)+(D>>>0)+(k>>>0)+(z>>>0)+(K>>>0);bn.add5L=R;const _=(O,D,k,z,K,q)=>D+k+z+K+q+(O/2**32|0)|0;bn.add5H=_;const N={fromBig:n,split:r,toBig:s,shrSH:i,shrSL:o,rotrSH:a,rotrSL:l,rotrBH:c,rotrBL:d,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:b,rotlBH:w,rotlBL:m,add:v,add3L:x,add3H:C,add4L:S,add4H:T,add5H:_,add5L:R};return bn.default=N,bn}var q3={},Ib={},xj;function eRe(){return xj||(xj=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.crypto=void 0,Ib.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ib}var Ej;function SW(){return Ej||(Ej=1,function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=d,t.bytesToHex=p,t.hexToBytes=w,t.asyncLoop=v,t.utf8ToBytes=x,t.toBytes=C,t.concatBytes=S,t.checkOpts=R,t.wrapConstructor=_,t.wrapConstructorWithOpts=N,t.wrapXOFConstructorWithOpts=O,t.randomBytes=D;const e=eRe(),n=CW();function r(k){return k instanceof Uint8Array||ArrayBuffer.isView(k)&&k.constructor.name==="Uint8Array"}const s=k=>new Uint8Array(k.buffer,k.byteOffset,k.byteLength);t.u8=s;const i=k=>new Uint32Array(k.buffer,k.byteOffset,Math.floor(k.byteLength/4));t.u32=i;const o=k=>new DataView(k.buffer,k.byteOffset,k.byteLength);t.createView=o;const a=(k,z)=>k<<32-z|k>>>z;t.rotr=a;const l=(k,z)=>k<<z|k>>>32-z>>>0;t.rotl=l,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const c=k=>k<<24&4278190080|k<<8&16711680|k>>>8&65280|k>>>24&255;t.byteSwap=c,t.byteSwapIfBE=t.isLE?k=>k:k=>(0,t.byteSwap)(k);function d(k){for(let z=0;z<k.length;z++)k[z]=(0,t.byteSwap)(k[z])}const f=Array.from({length:256},(k,z)=>z.toString(16).padStart(2,"0"));function p(k){(0,n.abytes)(k);let z="";for(let K=0;K<k.length;K++)z+=f[k[K]];return z}const g={_0:48,_9:57,A:65,F:70,a:97,f:102};function b(k){if(k>=g._0&&k<=g._9)return k-g._0;if(k>=g.A&&k<=g.F)return k-(g.A-10);if(k>=g.a&&k<=g.f)return k-(g.a-10)}function w(k){if(typeof k!="string")throw new Error("hex string expected, got "+typeof k);const z=k.length,K=z/2;if(z%2)throw new Error("hex string expected, got unpadded hex of length "+z);const q=new Uint8Array(K);for(let I=0,P=0;I<K;I++,P+=2){const M=b(k.charCodeAt(P)),j=b(k.charCodeAt(P+1));if(M===void 0||j===void 0){const G=k[P]+k[P+1];throw new Error('hex string expected, got non-hex character "'+G+'" at index '+P)}q[I]=M*16+j}return q}const m=async()=>{};t.nextTick=m;async function v(k,z,K){let q=Date.now();for(let I=0;I<k;I++){K(I);const P=Date.now()-q;P>=0&&P<z||(await(0,t.nextTick)(),q+=P)}}function x(k){if(typeof k!="string")throw new Error("utf8ToBytes expected string, got "+typeof k);return new Uint8Array(new TextEncoder().encode(k))}function C(k){return typeof k=="string"&&(k=x(k)),(0,n.abytes)(k),k}function S(...k){let z=0;for(let q=0;q<k.length;q++){const I=k[q];(0,n.abytes)(I),z+=I.length}const K=new Uint8Array(z);for(let q=0,I=0;q<k.length;q++){const P=k[q];K.set(P,I),I+=P.length}return K}class T{clone(){return this._cloneInto()}}t.Hash=T;function R(k,z){if(z!==void 0&&{}.toString.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(k,z)}function _(k){const z=q=>k().update(C(q)).digest(),K=k();return z.outputLen=K.outputLen,z.blockLen=K.blockLen,z.create=()=>k(),z}function N(k){const z=(q,I)=>k(I).update(C(q)).digest(),K=k({});return z.outputLen=K.outputLen,z.blockLen=K.blockLen,z.create=q=>k(q),z}function O(k){const z=(q,I)=>k(I).update(C(q)).digest(),K=k({});return z.outputLen=K.outputLen,z.blockLen=K.blockLen,z.create=q=>k(q),z}function D(k=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(k));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(k);throw new Error("crypto.getRandomValues must be defined")}}(q3)),q3}var Aj;function tRe(){if(Aj)return Gr;Aj=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.shake256=Gr.shake128=Gr.keccak_512=Gr.keccak_384=Gr.keccak_256=Gr.keccak_224=Gr.sha3_512=Gr.sha3_384=Gr.sha3_256=Gr.sha3_224=Gr.Keccak=void 0,Gr.keccakP=m;const t=CW(),e=X3e(),n=SW(),r=[],s=[],i=[],o=BigInt(0),a=BigInt(1),l=BigInt(2),c=BigInt(7),d=BigInt(256),f=BigInt(113);for(let S=0,T=a,R=1,_=0;S<24;S++){[R,_]=[_,(2*R+3*_)%5],r.push(2*(5*_+R)),s.push((S+1)*(S+2)/2%64);let N=o;for(let O=0;O<7;O++)T=(T<<a^(T>>c)*f)%d,T&l&&(N^=a<<(a<<BigInt(O))-a);i.push(N)}const[p,g]=(0,e.split)(i,!0),b=(S,T,R)=>R>32?(0,e.rotlBH)(S,T,R):(0,e.rotlSH)(S,T,R),w=(S,T,R)=>R>32?(0,e.rotlBL)(S,T,R):(0,e.rotlSL)(S,T,R);function m(S,T=24){const R=new Uint32Array(10);for(let _=24-T;_<24;_++){for(let D=0;D<10;D++)R[D]=S[D]^S[D+10]^S[D+20]^S[D+30]^S[D+40];for(let D=0;D<10;D+=2){const k=(D+8)%10,z=(D+2)%10,K=R[z],q=R[z+1],I=b(K,q,1)^R[k],P=w(K,q,1)^R[k+1];for(let M=0;M<50;M+=10)S[D+M]^=I,S[D+M+1]^=P}let N=S[2],O=S[3];for(let D=0;D<24;D++){const k=s[D],z=b(N,O,k),K=w(N,O,k),q=r[D];N=S[q],O=S[q+1],S[q]=z,S[q+1]=K}for(let D=0;D<50;D+=10){for(let k=0;k<10;k++)R[k]=S[D+k];for(let k=0;k<10;k++)S[D+k]^=~R[(k+2)%10]&R[(k+4)%10]}S[0]^=p[_],S[1]^=g[_]}R.fill(0)}class v extends n.Hash{constructor(T,R,_,N=!1,O=24){if(super(),this.blockLen=T,this.suffix=R,this.outputLen=_,this.enableXOF=N,this.rounds=O,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(_),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),m(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(T){(0,t.aexists)(this);const{blockLen:R,state:_}=this;T=(0,n.toBytes)(T);const N=T.length;for(let O=0;O<N;){const D=Math.min(R-this.pos,N-O);for(let k=0;k<D;k++)_[this.pos++]^=T[O++];this.pos===R&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:T,suffix:R,pos:_,blockLen:N}=this;T[_]^=R,(R&128)!==0&&_===N-1&&this.keccak(),T[N-1]^=128,this.keccak()}writeInto(T){(0,t.aexists)(this,!1),(0,t.abytes)(T),this.finish();const R=this.state,{blockLen:_}=this;for(let N=0,O=T.length;N<O;){this.posOut>=_&&this.keccak();const D=Math.min(_-this.posOut,O-N);T.set(R.subarray(this.posOut,this.posOut+D),N),this.posOut+=D,N+=D}return T}xofInto(T){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(T)}xof(T){return(0,t.anumber)(T),this.xofInto(new Uint8Array(T))}digestInto(T){if((0,t.aoutput)(T,this),this.finished)throw new Error("digest() was already called");return this.writeInto(T),this.destroy(),T}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(T){const{blockLen:R,suffix:_,outputLen:N,rounds:O,enableXOF:D}=this;return T||(T=new v(R,_,N,D,O)),T.state32.set(this.state32),T.pos=this.pos,T.posOut=this.posOut,T.finished=this.finished,T.rounds=O,T.suffix=_,T.outputLen=N,T.enableXOF=D,T.destroyed=this.destroyed,T}}Gr.Keccak=v;const x=(S,T,R)=>(0,n.wrapConstructor)(()=>new v(T,S,R));Gr.sha3_224=x(6,144,224/8),Gr.sha3_256=x(6,136,256/8),Gr.sha3_384=x(6,104,384/8),Gr.sha3_512=x(6,72,512/8),Gr.keccak_224=x(1,144,224/8),Gr.keccak_256=x(1,136,256/8),Gr.keccak_384=x(1,104,384/8),Gr.keccak_512=x(1,72,512/8);const C=(S,T,R)=>(0,n.wrapXOFConstructorWithOpts)((_={})=>new v(T,S,_.dkLen===void 0?R:_.dkLen,!0));return Gr.shake128=C(31,168,128/8),Gr.shake256=C(31,136,256/8),Gr}var Cj;function _W(){if(Cj)return Gh;Cj=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.parseIntegerNumber=Gh.isEIP55Address=void 0;const t=tRe(),e=SW(),n=s=>{if(s.length!=42)return!1;const i=`${s}`.toLowerCase().replace("0x",""),o=(0,e.bytesToHex)((0,t.keccak_256)(i));let a="0x";for(let l=0;l<i.length;l++)parseInt(o[l],16)>=8?a+=i[l].toUpperCase():a+=i[l];return s===a};Gh.isEIP55Address=n;const r=s=>{const i=parseInt(s);if(isNaN(i))throw new Error("Invalid number.");if(i===1/0)throw new Error("Invalid number.");return i};return Gh.parseIntegerNumber=r,Gh}var Sj;function nRe(){if(Sj)return Vh;Sj=1;var t=Vh&&Vh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.cb=void 0;const e=t(AW()),n=e.default.utils,r=e.default.ids,s=_W(),i=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,o=a=>{const l=i.exec(a);if(!l)return!1;const c=new Date(l.groups.date).toISOString(),d=i.exec(c);return l.groups.date===d.groups.date};return Vh.cb={signInWithEtherium:function(a,l,c,d){switch(a.state){case r.ACTIVE:if(typeof d!="object"||d===null)throw new Error("data must be an object");break;case r.NOMATCH:d.errors.push(`invalid message: max line number was ${d.lineno}`)}},lineno:function(l,c,d,f){l.state===r.MATCH&&(f.lineno+=1)},exTitle:function(l,c,d,f){l.state===r.NOMATCH&&(f.lineno-=1)},nbTitle:function(l,c,d,f){l.state===r.NOMATCH&&(f.lineno-=1)},riTitle:function(l,c,d,f){l.state===r.NOMATCH&&(f.lineno-=1)},reTitle:function(l,c,d,f){l.state===r.MATCH?f.resources=[]:l.state===r.NOMATCH&&(f.lineno-=1)},oscheme:function(l,c,d,f){l.state===r.MATCH&&(f.scheme=n.charsToString(c,d,l.phraseLength-3))},domain:function(l,c,d,f){switch(l.state){case r.MATCH:f.domain=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.errors.push(`line ${f.lineno}: domain cannot be empty`);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid domain`)}},address:function(l,c,d,f){switch(l.state){case r.MATCH:f.address=n.charsToString(c,d,l.phraseLength),(0,s.isEIP55Address)(f.address)||f.errors.push(`line ${f.lineno}: invalid EIP-55 address - ${f.address}`);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid address`);break}},statement:function(l,c,d,f){l.state===r.MATCH&&(f.statement=n.charsToString(c,d,l.phraseLength))},emptyStatement:function(l,c,d,f){l.state===r.MATCH&&(f.statement="")},version:function(l,c,d,f){switch(l.state){case r.MATCH:f.version=n.charsToString(c,d,l.phraseLength);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid version`);break}},nonce:function(l,c,d,f){switch(l.state){case r.MATCH:f.nonce=n.charsToString(c,d,l.phraseLength);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid nonce`);break}},issuedAt:function(l,c,d,f){switch(l.state){case r.MATCH:f.issuedAt=n.charsToString(c,d,l.phraseLength),o(f.issuedAt)||f.errors.push(`line ${f.lineno}: invalid issued-at date time semantics`);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid issued-at date time syntax`);break}},expirationTime:function(l,c,d,f){switch(l.state){case r.MATCH:f.expirationTime=n.charsToString(c,d,l.phraseLength),o(f.expirationTime)||f.errors.push(`line ${f.lineno}: invalid expiration-time date time semantics`);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid expiration-time date time syntax`);break}},notBefore:function(l,c,d,f){switch(l.state){case r.MATCH:f.notBefore=n.charsToString(c,d,l.phraseLength),o(f.notBefore)||f.errors.push(`line ${f.lineno}: invalid not-before date time semantics`);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid not-before date time syntax`);break}},requestId:function(l,c,d,f){switch(l.state){case r.MATCH:f.requestId=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.requestId="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid requestID`);break}},chainId:function(l,c,d,f){switch(l.state){case r.MATCH:f.chainId=(0,s.parseIntegerNumber)(n.charsToString(c,d,l.phraseLength));break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid chain-id`);break}},uriR:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriR=n.charsToString(c,d,l.phraseLength);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid resource URI`);break}},resource:function(l,c,d,f){switch(l.state){case r.MATCH:f.resources.push(f.uriR),delete f.uriR;break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid resource`);break}},scheme:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.scheme=n.charsToString(c,d,l.phraseLength);break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI scheme`);break}},userinfo:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.userinfo=n.charsToString(c,d,l.phraseLength-1);break}},host:function(l,c,d,f){switch(l.state){case r.ACTIVE:f.iplit=!1;break;case r.MATCH:f.iplit?f.uriElements.host=n.charsToString(c,d+1,l.phraseLength-2):f.uriElements.host=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.uriElements.host="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI host`);break}},ipLiteral:function(l,c,d,f){l.state===r.MATCH&&(f.iplit=!0)},port:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.port=(0,s.parseIntegerNumber)(n.charsToString(c,d,l.phraseLength));break;case r.EMPTY:f.uriElements.port="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI port`);break}},pathAbempty:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.path=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.uriElements.path="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI path-abempty`);break}},pathAbsolute:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.path=n.charsToString(c,d,l.phraseLength);break}},pathRootless:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.path=n.charsToString(c,d,l.phraseLength);break}},pathEmpty:function(l,c,d,f){switch(l.state){case r.MATCH:case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI - path-empty must be empty`);break;case r.EMPTY:f.uriElements.path="";break}},query:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.query=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.uriElements.query="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI query`);break}},fragment:function(l,c,d,f){switch(l.state){case r.MATCH:f.uriElements.fragment=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:f.uriElements.fragment="";break;case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI fragment`);break}},uri:function(l,c,d,f){switch(l.state){case r.MATCH:f.uri=n.charsToString(c,d,l.phraseLength);break;case r.EMPTY:case r.NOMATCH:f.errors.push(`line ${f.lineno}: invalid URI`);break}},ipv4:function(l,c,d,f){l.state===r.MATCH&&(f.ipv4=!0)},h16:function(l,c,d,f){l.state===r.MATCH&&(f.h16count+=1)},nodcolon:function(l,c,d,f){switch(l.state){case r.ACTIVE:f.h16count=0,f.ipv4=!1;break;case r.MATCH:f.ipv4?f.h16count===6?l.state=r.MATCH:(l.state=r.NOMATCH,l.phraseLength=0):f.h16count===8?l.state=r.MATCH:(l.state=r.NOMATCH,l.phraseLength=0);break}},dcolon:function(l,c,d,f){switch(l.state){case r.ACTIVE:f.h16count=0,f.ipv4=!1;break;case r.MATCH:f.ipv4?f.h16count<6?l.state=r.MATCH:(l.state=r.NOMATCH,l.phraseLength=0):f.h16count<8?l.state=r.MATCH:(l.state=r.NOMATCH,l.phraseLength=0);break}},decOctet:function(l,c,d,f){switch(l.state){case r.ACTIVE:f.octet=0;break;case r.MATCH:f.octet>255?(l.state=r.NOMATCH,l.phraseLength=0):l.state=r.MATCH;break}},decDigit:function(l,c,d,f){switch(l.state){case r.MATCH:f.octet=10*f.octet+c[d]-48;break}}},Vh}var _j;function Nj(){if(_j)return qu;_j=1;var t=qu&&qu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qu,"__esModule",{value:!0}),qu.isUri=qu.ParsedMessage=void 0;const e=G3e(),n=nRe(),r=t(AW()),s=new e.grammar;class i{constructor(l){const c=new r.default.parser;c.callbacks["sign-in-with-ethereum"]=n.cb.signInWithEtherium,c.callbacks.oscheme=n.cb.oscheme,c.callbacks.domain=n.cb.domain,c.callbacks.LF=n.cb.lineno,c.callbacks["ex-title"]=n.cb.exTitle,c.callbacks["nb-title"]=n.cb.nbTitle,c.callbacks["ri-title"]=n.cb.riTitle,c.callbacks["re-title"]=n.cb.reTitle,c.callbacks.address=n.cb.address,c.callbacks.statement=n.cb.statement,c.callbacks["empty-statement"]=n.cb.emptyStatement,c.callbacks.version=n.cb.version,c.callbacks["chain-id"]=n.cb.chainId,c.callbacks.nonce=n.cb.nonce,c.callbacks["issued-at"]=n.cb.issuedAt,c.callbacks["expiration-time"]=n.cb.expirationTime,c.callbacks["not-before"]=n.cb.notBefore,c.callbacks["request-id"]=n.cb.requestId,c.callbacks.uri=n.cb.uri,c.callbacks["uri-r"]=n.cb.uriR,c.callbacks.resource=n.cb.resource,c.callbacks.scheme=n.cb.scheme,c.callbacks["userinfo-at"]=n.cb.userinfo,c.callbacks.host=n.cb.host,c.callbacks["IP-literal"]=n.cb.ipLiteral,c.callbacks.port=n.cb.port,c.callbacks["path-abempty"]=n.cb.pathAbempty,c.callbacks["path-absolute"]=n.cb.pathAbsolute,c.callbacks["path-rootless"]=n.cb.pathRootless,c.callbacks["path-empty"]=n.cb.pathEmpty,c.callbacks.query=n.cb.query,c.callbacks.fragment=n.cb.fragment,c.callbacks.IPv4address=n.cb.ipv4,c.callbacks.nodcolon=n.cb.nodcolon,c.callbacks.dcolon=n.cb.dcolon,c.callbacks.h16=n.cb.h16,c.callbacks.h16c=n.cb.h16,c.callbacks.h16n=n.cb.h16,c.callbacks.h16cn=n.cb.h16,c.callbacks["dec-octet"]=n.cb.decOctet,c.callbacks["dec-digit"]=n.cb.decDigit;const d={errors:[],lineno:1,scheme:void 0,domain:void 0,address:void 0,statement:void 0,uri:void 0,version:void 0,chainId:void 0,nonce:void 0,issuedAt:void 0,expirationTime:void 0,notBefore:void 0,requestId:void 0,resources:void 0,uriElements:{scheme:void 0,userinfo:void 0,host:void 0,port:void 0,path:void 0,query:void 0,fragment:void 0}},f=c.parse(s,0,l,d);let p="";for(let g=0;g<d.errors.length;g+=1)p+=d.errors[g]+`
`;if(f.success||(p+=`Invalid message: ${JSON.stringify(f)}`),p!=="")throw new Error(p);this.scheme=d.scheme,this.domain=d.domain,this.address=d.address,this.statement=d.statement,this.uri=d.uri,this.version=d.version,this.chainId=d.chainId,this.nonce=d.nonce,this.issuedAt=d.issuedAt,this.expirationTime=d.expirationTime,this.notBefore=d.notBefore,this.requestId=d.requestId,this.resources=d.resources,this.uriElements=d.uriElements}}qu.ParsedMessage=i;const o=a=>{const l=new r.default.parser;l.callbacks["IP-literal"]=n.cb.ipLiteral,l.callbacks.IPv4address=n.cb.ipv4,l.callbacks.nodcolon=n.cb.nodcolon,l.callbacks.dcolon=n.cb.dcolon,l.callbacks.h16=n.cb.h16,l.callbacks.h16c=n.cb.h16,l.callbacks.h16n=n.cb.h16,l.callbacks.h16cn=n.cb.h16,l.callbacks["dec-octet"]=n.cb.decOctet,l.callbacks["dec-digit"]=n.cb.decDigit;const c={errors:[]};return l.parse(s,"uri-r",a,c).success};return qu.isUri=o,qu}var Tj;function rRe(){return Tj||(Tj=1,function(t){var e=qh&&qh.__createBinding||(Object.create?function(i,o,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(o,a);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,l,c)}:function(i,o,a,l){l===void 0&&(l=a),i[l]=o[a]}),n=qh&&qh.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.isUri=t.ParsedMessage=void 0;const r=Nj();Object.defineProperty(t,"ParsedMessage",{enumerable:!0,get:function(){return r.ParsedMessage}});const s=Nj();Object.defineProperty(t,"isUri",{enumerable:!0,get:function(){return s.isUri}}),n(_W(),t)}(qh)),qh}var Vu={},V3={},xO=function(t,e){return xO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xO(t,e)};function NW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var V2=function(){return V2=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V2.apply(this,arguments)};function TW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function RW(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function PW(t,e){return function(n,r){e(n,r,t)}}function sRe(t,e,n,r,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,g=n.length-1;g>=0;g--){var b={};for(var w in r)b[w]=w==="access"?{}:r[w];for(var w in r.access)b.access[w]=r.access[w];b.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var m=(0,n[g])(a==="accessor"?{get:d.get,set:d.set}:d[l],b);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(f=o(m.get))&&(d.get=f),(f=o(m.set))&&(d.set=f),(f=o(m.init))&&s.unshift(f)}else(f=o(m))&&(a==="field"?s.unshift(f):d[l]=f)}c&&Object.defineProperty(c,r.name,d),p=!0}function iRe(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function oRe(t){return typeof t=="symbol"?t:"".concat(t)}function aRe(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function OW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function IW(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function kW(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var oS=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function BW(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&oS(e,t,n)}function G2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function U4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function DW(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U4(arguments[e]));return t}function MW(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function UW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Tm(t){return this instanceof Tm?(this.v=t,this):new Tm(t)}function LW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(b){return Promise.resolve(b).then(g,f)}}function a(g,b){r[g]&&(s[g]=function(w){return new Promise(function(m,v){i.push([g,w,m,v])>1||l(g,w)})},b&&(s[g]=b(s[g])))}function l(g,b){try{c(r[g](b))}catch(w){p(i[0][3],w)}}function c(g){g.value instanceof Tm?Promise.resolve(g.value.v).then(d,f):p(i[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function p(g,b){g(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function jW(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Tm(t[s](o)),done:!1}:i?i(o):o}:i}}function FW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof G2=="function"?G2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function $W(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var cRe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function HW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&oS(e,t,n);return cRe(e,t),e}function zW(t){return t&&t.__esModule?t:{default:t}}function qW(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function VW(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function GW(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function KW(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var lRe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function WW(t){function e(i){t.error=t.hasError?new lRe(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}const uRe={__extends:NW,__assign:V2,__rest:TW,__decorate:RW,__param:PW,__metadata:OW,__awaiter:IW,__generator:kW,__createBinding:oS,__exportStar:BW,__values:G2,__read:U4,__spread:DW,__spreadArrays:MW,__spreadArray:UW,__await:Tm,__asyncGenerator:LW,__asyncDelegator:jW,__asyncValues:FW,__makeTemplateObject:$W,__importStar:HW,__importDefault:zW,__classPrivateFieldGet:qW,__classPrivateFieldSet:VW,__classPrivateFieldIn:GW,__addDisposableResource:KW,__disposeResources:WW},dRe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:KW,get __assign(){return V2},__asyncDelegator:jW,__asyncGenerator:LW,__asyncValues:FW,__await:Tm,__awaiter:IW,__classPrivateFieldGet:qW,__classPrivateFieldIn:GW,__classPrivateFieldSet:VW,__createBinding:oS,__decorate:RW,__disposeResources:WW,__esDecorate:sRe,__exportStar:BW,__extends:NW,__generator:kW,__importDefault:zW,__importStar:HW,__makeTemplateObject:$W,__metadata:OW,__param:PW,__propKey:oRe,__read:U4,__rest:TW,__runInitializers:iRe,__setFunctionName:aRe,__spread:DW,__spreadArray:UW,__spreadArrays:MW,__values:G2,default:uRe},Symbol.toStringTag,{value:"Module"})),fRe=mC(dRe);var G3={},kb={},Rj;function L4(){return Rj||(Rj=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.version=void 0,kb.version="6.15.0"),kb}var K3={},Bb={},W3={},Kh={},Xr={},Ks={},Wh={},Pj;function k0(){if(Pj)return Wh;Pj=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.defineProperties=Wh.resolveProperties=void 0;function t(r,s,i){const o=s.split("|").map(l=>l.trim());for(let l=0;l<o.length;l++)switch(s){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===s)return}const a=new Error(`invalid value for type ${s}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${i}`,a.value=r,a}async function e(r){const s=Object.keys(r);return(await Promise.all(s.map(o=>Promise.resolve(r[o])))).reduce((o,a,l)=>(o[s[l]]=a,o),{})}Wh.resolveProperties=e;function n(r,s,i){for(let o in s){let a=s[o];const l=i?i[o]:null;l&&t(a,l,o),Object.defineProperty(r,o,{enumerable:!0,value:a,writable:!1})}}return Wh.defineProperties=n,Wh}var Oj;function fu(){if(Oj)return Ks;Oj=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.assertPrivate=Ks.assertNormalize=Ks.assertArgumentCount=Ks.assertArgument=Ks.assert=Ks.makeError=Ks.isCallException=Ks.isError=void 0;const t=L4(),e=k0();function n(p,g){if(p==null)return"null";if(g==null&&(g=new Set),typeof p=="object"){if(g.has(p))return"[Circular]";g.add(p)}if(Array.isArray(p))return"[ "+p.map(b=>n(b,g)).join(", ")+" ]";if(p instanceof Uint8Array){const b="0123456789abcdef";let w="0x";for(let m=0;m<p.length;m++)w+=b[p[m]>>4],w+=b[p[m]&15];return w}if(typeof p=="object"&&typeof p.toJSON=="function")return n(p.toJSON(),g);switch(typeof p){case"boolean":case"number":case"symbol":return p.toString();case"bigint":return BigInt(p).toString();case"string":return JSON.stringify(p);case"object":{const b=Object.keys(p);return b.sort(),"{ "+b.map(w=>`${n(w,g)}: ${n(p[w],g)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function r(p,g){return p&&p.code===g}Ks.isError=r;function s(p){return r(p,"CALL_EXCEPTION")}Ks.isCallException=s;function i(p,g,b){let w=p;{const v=[];if(b){if("message"in b||"code"in b||"name"in b)throw new Error(`value will overwrite populated values: ${n(b)}`);for(const x in b){if(x==="shortMessage")continue;const C=b[x];v.push(x+"="+n(C))}}v.push(`code=${g}`),v.push(`version=${t.version}`),v.length&&(p+=" ("+v.join(", ")+")")}let m;switch(g){case"INVALID_ARGUMENT":m=new TypeError(p);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":m=new RangeError(p);break;default:m=new Error(p)}return(0,e.defineProperties)(m,{code:g}),b&&Object.assign(m,b),m.shortMessage==null&&(0,e.defineProperties)(m,{shortMessage:w}),m}Ks.makeError=i;function o(p,g,b,w){if(!p)throw i(g,b,w)}Ks.assert=o;function a(p,g,b,w){o(p,g,"INVALID_ARGUMENT",{argument:b,value:w})}Ks.assertArgument=a;function l(p,g,b){b==null&&(b=""),b&&(b=": "+b),o(p>=g,"missing argument"+b,"MISSING_ARGUMENT",{count:p,expectedCount:g}),o(p<=g,"too many arguments"+b,"UNEXPECTED_ARGUMENT",{count:p,expectedCount:g})}Ks.assertArgumentCount=l;const c=["NFD","NFC","NFKD","NFKC"].reduce((p,g)=>{try{if("test".normalize(g)!=="test")throw new Error("bad");if(g==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");p.push(g)}catch{}return p},[]);function d(p){o(c.indexOf(p)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:p}})}Ks.assertNormalize=d;function f(p,g,b){if(b==null&&(b=""),p!==g){let w=b,m="new";b&&(w+=".",m+=" "+b),o(!1,`private constructor; use ${w}from* methods`,"UNSUPPORTED_OPERATION",{operation:m})}}return Ks.assertPrivate=f,Ks}var Ij;function dl(){if(Ij)return Xr;Ij=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.zeroPadBytes=Xr.zeroPadValue=Xr.stripZerosLeft=Xr.dataSlice=Xr.dataLength=Xr.concat=Xr.hexlify=Xr.isBytesLike=Xr.isHexString=Xr.getBytesCopy=Xr.getBytes=void 0;const t=fu();function e(w,m,v){if(w instanceof Uint8Array)return v?new Uint8Array(w):w;if(typeof w=="string"&&w.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const x=new Uint8Array((w.length-2)/2);let C=2;for(let S=0;S<x.length;S++)x[S]=parseInt(w.substring(C,C+2),16),C+=2;return x}(0,t.assertArgument)(!1,"invalid BytesLike value",m||"value",w)}function n(w,m){return e(w,m,!1)}Xr.getBytes=n;function r(w,m){return e(w,m,!0)}Xr.getBytesCopy=r;function s(w,m){return!(typeof w!="string"||!w.match(/^0x[0-9A-Fa-f]*$/)||typeof m=="number"&&w.length!==2+2*m||m===!0&&w.length%2!==0)}Xr.isHexString=s;function i(w){return s(w,!0)||w instanceof Uint8Array}Xr.isBytesLike=i;const o="0123456789abcdef";function a(w){const m=n(w);let v="0x";for(let x=0;x<m.length;x++){const C=m[x];v+=o[(C&240)>>4]+o[C&15]}return v}Xr.hexlify=a;function l(w){return"0x"+w.map(m=>a(m).substring(2)).join("")}Xr.concat=l;function c(w){return s(w,!0)?(w.length-2)/2:n(w).length}Xr.dataLength=c;function d(w,m,v){const x=n(w);return v!=null&&v>x.length&&(0,t.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:x,length:x.length,offset:v}),a(x.slice(m??0,v??x.length))}Xr.dataSlice=d;function f(w){let m=a(w).substring(2);for(;m.startsWith("00");)m=m.substring(2);return"0x"+m}Xr.stripZerosLeft=f;function p(w,m,v){const x=n(w);(0,t.assert)(m>=x.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(x),length:m,offset:m+1});const C=new Uint8Array(m);return C.fill(0),v?C.set(x,m-x.length):C.set(x,0),a(C)}function g(w,m){return p(w,m,!0)}Xr.zeroPadValue=g;function b(w,m){return p(w,m,!1)}return Xr.zeroPadBytes=b,Xr}var es={},kj;function tx(){if(kj)return es;kj=1,Object.defineProperty(es,"__esModule",{value:!0}),es.toQuantity=es.toBeArray=es.toBeHex=es.toNumber=es.getNumber=es.toBigInt=es.getUint=es.getBigInt=es.mask=es.toTwos=es.fromTwos=void 0;const t=dl(),e=fu(),n=BigInt(0),r=BigInt(1),s=9007199254740991;function i(v,x){const C=c(v,"value"),S=BigInt(p(x,"width"));if((0,e.assert)(C>>S===n,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:v}),C>>S-r){const T=(r<<S)-r;return-((~C&T)+r)}return C}es.fromTwos=i;function o(v,x){let C=l(v,"value");const S=BigInt(p(x,"width")),T=r<<S-r;if(C<n){C=-C,(0,e.assert)(C<=T,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:v});const R=(r<<S)-r;return(~C&R)+r}else(0,e.assert)(C<T,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:v});return C}es.toTwos=o;function a(v,x){const C=c(v,"value"),S=BigInt(p(x,"bits"));return C&(r<<S)-r}es.mask=a;function l(v,x){switch(typeof v){case"bigint":return v;case"number":return(0,e.assertArgument)(Number.isInteger(v),"underflow",x||"value",v),(0,e.assertArgument)(v>=-s&&v<=s,"overflow",x||"value",v),BigInt(v);case"string":try{if(v==="")throw new Error("empty string");return v[0]==="-"&&v[1]!=="-"?-BigInt(v.substring(1)):BigInt(v)}catch(C){(0,e.assertArgument)(!1,`invalid BigNumberish string: ${C.message}`,x||"value",v)}}(0,e.assertArgument)(!1,"invalid BigNumberish value",x||"value",v)}es.getBigInt=l;function c(v,x){const C=l(v,x);return(0,e.assert)(C>=n,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:v}),C}es.getUint=c;const d="0123456789abcdef";function f(v){if(v instanceof Uint8Array){let x="0x0";for(const C of v)x+=d[C>>4],x+=d[C&15];return BigInt(x)}return l(v)}es.toBigInt=f;function p(v,x){switch(typeof v){case"bigint":return(0,e.assertArgument)(v>=-s&&v<=s,"overflow",x||"value",v),Number(v);case"number":return(0,e.assertArgument)(Number.isInteger(v),"underflow",x||"value",v),(0,e.assertArgument)(v>=-s&&v<=s,"overflow",x||"value",v),v;case"string":try{if(v==="")throw new Error("empty string");return p(BigInt(v),x)}catch(C){(0,e.assertArgument)(!1,`invalid numeric string: ${C.message}`,x||"value",v)}}(0,e.assertArgument)(!1,"invalid numeric value",x||"value",v)}es.getNumber=p;function g(v){return p(f(v))}es.toNumber=g;function b(v,x){let S=c(v,"value").toString(16);if(x==null)S.length%2&&(S="0"+S);else{const T=p(x,"width");for((0,e.assert)(T*2>=S.length,`value exceeds width (${T} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:v});S.length<T*2;)S="0"+S}return"0x"+S}es.toBeHex=b;function w(v){const x=c(v,"value");if(x===n)return new Uint8Array([]);let C=x.toString(16);C.length%2&&(C="0"+C);const S=new Uint8Array(C.length/2);for(let T=0;T<S.length;T++){const R=T*2;S[T]=parseInt(C.substring(R,R+2),16)}return S}es.toBeArray=w;function m(v){let x=(0,t.hexlify)((0,t.isBytesLike)(v)?v:w(v)).substring(2);for(;x.startsWith("0");)x=x.substring(1);return x===""&&(x="0"),"0x"+x}return es.toQuantity=m,es}var Bj;function hRe(){if(Bj)return Kh;Bj=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.decodeBase58=Kh.encodeBase58=void 0;const t=dl(),e=fu(),n=tx(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let s=null;function i(d){if(s==null){s={};for(let p=0;p<r.length;p++)s[r[p]]=BigInt(p)}const f=s[d];return(0,e.assertArgument)(f!=null,"invalid base58 value","letter",d),f}const o=BigInt(0),a=BigInt(58);function l(d){const f=(0,t.getBytes)(d);let p=(0,n.toBigInt)(f),g="";for(;p;)g=r[Number(p%a)]+g,p/=a;for(let b=0;b<f.length&&!f[b];b++)g=r[0]+g;return g}Kh.encodeBase58=l;function c(d){let f=o;for(let p=0;p<d.length;p++)f*=a,f+=i(d[p]);return f}return Kh.decodeBase58=c,Kh}var Qh={},Dj;function QW(){if(Dj)return Qh;Dj=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.encodeBase64=Qh.decodeBase64=void 0;const t=dl();function e(r){r=atob(r);const s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return(0,t.getBytes)(s)}Qh.decodeBase64=e;function n(r){const s=(0,t.getBytes)(r);let i="";for(let o=0;o<s.length;o++)i+=String.fromCharCode(s[o]);return btoa(i)}return Qh.encodeBase64=n,Qh}var Db={},Mj;function pRe(){if(Mj)return Db;Mj=1,Object.defineProperty(Db,"__esModule",{value:!0}),Db.EventPayload=void 0;const t=k0();class e{filter;emitter;#e;constructor(r,s,i){this.#e=s,(0,t.defineProperties)(this,{emitter:r,filter:i})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}return Db.EventPayload=e,Db}var Gu={},Q3={},Uj;function j4(){return Uj||(Uj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8CodePoints=t.toUtf8String=t.toUtf8Bytes=t.Utf8ErrorFuncs=void 0;const e=dl(),n=fu();function r(f,p,g,b,w){(0,n.assertArgument)(!1,`invalid codepoint at offset ${p}; ${f}`,"bytes",g)}function s(f,p,g,b,w){if(f==="BAD_PREFIX"||f==="UNEXPECTED_CONTINUE"){let m=0;for(let v=p+1;v<g.length&&g[v]>>6===2;v++)m++;return m}return f==="OVERRUN"?g.length-p-1:0}function i(f,p,g,b,w){return f==="OVERLONG"?((0,n.assertArgument)(typeof w=="number","invalid bad code point for replacement","badCodepoint",w),b.push(w),0):(b.push(65533),s(f,p,g))}t.Utf8ErrorFuncs=Object.freeze({error:r,ignore:s,replace:i});function o(f,p){p==null&&(p=t.Utf8ErrorFuncs.error);const g=(0,e.getBytes)(f,"bytes"),b=[];let w=0;for(;w<g.length;){const m=g[w++];if(m>>7===0){b.push(m);continue}let v=null,x=null;if((m&224)===192)v=1,x=127;else if((m&240)===224)v=2,x=2047;else if((m&248)===240)v=3,x=65535;else{(m&192)===128?w+=p("UNEXPECTED_CONTINUE",w-1,g,b):w+=p("BAD_PREFIX",w-1,g,b);continue}if(w-1+v>=g.length){w+=p("OVERRUN",w-1,g,b);continue}let C=m&(1<<8-v-1)-1;for(let S=0;S<v;S++){let T=g[w];if((T&192)!=128){w+=p("MISSING_CONTINUE",w,g,b),C=null;break}C=C<<6|T&63,w++}if(C!==null){if(C>1114111){w+=p("OUT_OF_RANGE",w-1-v,g,b,C);continue}if(C>=55296&&C<=57343){w+=p("UTF16_SURROGATE",w-1-v,g,b,C);continue}if(C<=x){w+=p("OVERLONG",w-1-v,g,b,C);continue}b.push(C)}}return b}function a(f,p){(0,n.assertArgument)(typeof f=="string","invalid string value","str",f),p!=null&&((0,n.assertNormalize)(p),f=f.normalize(p));let g=[];for(let b=0;b<f.length;b++){const w=f.charCodeAt(b);if(w<128)g.push(w);else if(w<2048)g.push(w>>6|192),g.push(w&63|128);else if((w&64512)==55296){b++;const m=f.charCodeAt(b);(0,n.assertArgument)(b<f.length&&(m&64512)===56320,"invalid surrogate pair","str",f);const v=65536+((w&1023)<<10)+(m&1023);g.push(v>>18|240),g.push(v>>12&63|128),g.push(v>>6&63|128),g.push(v&63|128)}else g.push(w>>12|224),g.push(w>>6&63|128),g.push(w&63|128)}return new Uint8Array(g)}t.toUtf8Bytes=a;function l(f){return f.map(p=>p<=65535?String.fromCharCode(p):(p-=65536,String.fromCharCode((p>>10&1023)+55296,(p&1023)+56320))).join("")}function c(f,p){return l(o(f,p))}t.toUtf8String=c;function d(f,p){return o(a(f,p))}t.toUtf8CodePoints=d}(Q3)),Q3}var Yh={},Lj;function gRe(){if(Lj)return Yh;Lj=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.getUrl=Yh.createGetUrl=void 0;const t=fu();function e(s){async function i(o,a){(0,t.assert)(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");const l=o.url.split(":")[0].toLowerCase();(0,t.assert)(l==="http"||l==="https",`unsupported protocol ${l}`,"UNSUPPORTED_OPERATION",{info:{protocol:l},operation:"request"}),(0,t.assert)(l==="https"||!o.credentials||o.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let c=null;const d=new AbortController,f=setTimeout(()=>{c=(0,t.makeError)("request timeout","TIMEOUT"),d.abort()},o.timeout);a&&a.addListener(()=>{c=(0,t.makeError)("request cancelled","CANCELLED"),d.abort()});const p=Object.assign({},s,{method:o.method,headers:new Headers(Array.from(o)),body:o.body||void 0,signal:d.signal});let g;try{g=await fetch(o.url,p)}catch(v){throw clearTimeout(f),c||v}clearTimeout(f);const b={};g.headers.forEach((v,x)=>{b[x.toLowerCase()]=v});const w=await g.arrayBuffer(),m=w==null?null:new Uint8Array(w);return{statusCode:g.status,statusMessage:g.statusText,headers:b,body:m}}return i}Yh.createGetUrl=e;const n=e({});async function r(s,i){return n(s,i)}return Yh.getUrl=r,Yh}var jj;function mRe(){if(jj)return Gu;jj=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.FetchResponse=Gu.FetchRequest=Gu.FetchCancelSignal=void 0;const t=QW(),e=dl(),n=fu(),r=k0(),s=j4(),i=gRe(),o=12,a=250;let l=(0,i.createGetUrl)();const c=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let f=!1;async function p(_,N){try{const O=_.match(c);if(!O)throw new Error("invalid data");return new C(200,"OK",{"content-type":O[1]||"text/plain"},O[2]?(0,t.decodeBase64)(O[3]):T(O[3]))}catch{return new C(599,"BAD REQUEST (invalid data: URI)",{},null,new x(_))}}function g(_){async function N(O,D){try{const k=O.match(d);if(!k)throw new Error("invalid link");return new x(`${_}${k[2]}`)}catch{return new C(599,"BAD REQUEST (invalid IPFS URI)",{},null,new x(O))}}return N}const b={data:p,ipfs:g("https://gateway.ipfs.io/ipfs/")},w=new WeakMap;class m{#e;#t;constructor(N){this.#e=[],this.#t=!1,w.set(N,()=>{if(!this.#t){this.#t=!0;for(const O of this.#e)setTimeout(()=>{O()},0);this.#e=[]}})}addListener(N){(0,n.assert)(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(N)}get cancelled(){return this.#t}checkSignal(){(0,n.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}Gu.FetchCancelSignal=m;function v(_){if(_==null)throw new Error("missing signal; should not happen");return _.checkSignal(),_}class x{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;#c;#u;#f;get url(){return this.#o}set url(N){this.#o=String(N)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(N){if(N==null)this.#i=void 0,this.#a=void 0;else if(typeof N=="string")this.#i=(0,s.toUtf8Bytes)(N),this.#a="text/plain";else if(N instanceof Uint8Array)this.#i=N,this.#a="application/octet-stream";else if(typeof N=="object")this.#i=(0,s.toUtf8Bytes)(JSON.stringify(N)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(N){N==null&&(N=""),this.#r=String(N).toUpperCase()}get headers(){const N=Object.assign({},this.#n);return this.#d&&(N.authorization=`Basic ${(0,t.encodeBase64)((0,s.toUtf8Bytes)(this.#d))}`),this.allowGzip&&(N["accept-encoding"]="gzip"),N["content-type"]==null&&this.#a&&(N["content-type"]=this.#a),this.body&&(N["content-length"]=String(this.body.length)),N}getHeader(N){return this.headers[N.toLowerCase()]}setHeader(N,O){this.#n[String(N).toLowerCase()]=String(O)}clearHeaders(){this.#n={}}[Symbol.iterator](){const N=this.headers,O=Object.keys(N);let D=0;return{next:()=>{if(D<O.length){const k=O[D++];return{value:[k,N[k]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(N,O){(0,n.assertArgument)(!N.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${N}:${O}`}get allowGzip(){return this.#t}set allowGzip(N){this.#t=!!N}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(N){this.#e=!!N}get timeout(){return this.#s}set timeout(N){(0,n.assertArgument)(N>=0,"timeout must be non-zero","timeout",N),this.#s=N}get preflightFunc(){return this.#l||null}set preflightFunc(N){this.#l=N}get processFunc(){return this.#p||null}set processFunc(N){this.#p=N}get retryFunc(){return this.#g||null}set retryFunc(N){this.#g=N}get getUrlFunc(){return this.#f||l}set getUrlFunc(N){this.#f=N}constructor(N){this.#o=String(N),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#s=3e5,this.#u={slotInterval:a,maxAttempts:o},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?(0,e.hexlify)(this.#i):"null"}>`}setThrottleParams(N){N.slotInterval!=null&&(this.#u.slotInterval=N.slotInterval),N.maxAttempts!=null&&(this.#u.maxAttempts=N.maxAttempts)}async#h(N,O,D,k,z){if(N>=this.#u.maxAttempts)return z.makeServerError("exceeded maximum retry limit");(0,n.assert)(S()<=O,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:k}),D>0&&await R(D);let K=this.clone();const q=(K.url.split(":")[0]||"").toLowerCase();if(q in b){const M=await b[q](K.url,v(k.#c));if(M instanceof C){let j=M;if(this.processFunc){v(k.#c);try{j=await this.processFunc(K,j)}catch(G){(G.throttle==null||typeof G.stall!="number")&&j.makeServerError("error in post-processing function",G).assertOk()}}return j}K=M}this.preflightFunc&&(K=await this.preflightFunc(K));const I=await this.getUrlFunc(K,v(k.#c));let P=new C(I.statusCode,I.statusMessage,I.headers,I.body,k);if(P.statusCode===301||P.statusCode===302){try{const M=P.headers.location||"";return K.redirect(M).#h(N+1,O,0,k,P)}catch{}return P}else if(P.statusCode===429&&(this.retryFunc==null||await this.retryFunc(K,P,N))){const M=P.headers["retry-after"];let j=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,N));return typeof M=="string"&&M.match(/^[1-9][0-9]*$/)&&(j=parseInt(M)),K.clone().#h(N+1,O,j,k,P)}if(this.processFunc){v(k.#c);try{P=await this.processFunc(K,P)}catch(M){(M.throttle==null||typeof M.stall!="number")&&P.makeServerError("error in post-processing function",M).assertOk();let j=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,N));return M.stall>=0&&(j=M.stall),K.clone().#h(N+1,O,j,k,P)}}return P}send(){return(0,n.assert)(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new m(this),this.#h(0,S()+this.timeout,0,this,new C(0,"",{},null,this))}cancel(){(0,n.assert)(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const N=w.get(this);if(!N)throw new Error("missing signal; should not happen");N()}redirect(N){const O=this.url.split(":")[0].toLowerCase(),D=N.split(":")[0].toLowerCase();(0,n.assert)(this.method==="GET"&&(O!=="https"||D!=="http")&&N.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(N)})`});const k=new x(N);return k.method="GET",k.allowGzip=this.allowGzip,k.timeout=this.timeout,k.#n=Object.assign({},this.#n),this.#i&&(k.#i=new Uint8Array(this.#i)),k.#a=this.#a,k}clone(){const N=new x(this.url);return N.#r=this.#r,this.#i&&(N.#i=this.#i),N.#a=this.#a,N.#n=Object.assign({},this.#n),N.#d=this.#d,this.allowGzip&&(N.allowGzip=!0),N.timeout=this.timeout,this.allowInsecureAuthentication&&(N.allowInsecureAuthentication=!0),N.#l=this.#l,N.#p=this.#p,N.#g=this.#g,N.#u=Object.assign({},this.#u),N.#f=this.#f,N}static lockConfig(){f=!0}static getGateway(N){return b[N.toLowerCase()]||null}static registerGateway(N,O){if(N=N.toLowerCase(),N==="http"||N==="https")throw new Error(`cannot intercept ${N}; use registerGetUrl`);if(f)throw new Error("gateways locked");b[N]=O}static registerGetUrl(N){if(f)throw new Error("gateways locked");l=N}static createGetUrlFunc(N){return(0,i.createGetUrl)(N)}static createDataGateway(){return p}static createIpfsGatewayFunc(N){return g(N)}}Gu.FetchRequest=x;class C{#e;#t;#n;#r;#s;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?(0,e.hexlify)(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":(0,s.toUtf8String)(this.#r)}catch{(0,n.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,n.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const N=this.headers,O=Object.keys(N);let D=0;return{next:()=>{if(D<O.length){const k=O[D++];return{value:[k,N[k]],done:!1}}return{value:void 0,done:!0}}}}constructor(N,O,D,k,z){this.#e=N,this.#t=O,this.#n=Object.keys(D).reduce((K,q)=>(K[q.toLowerCase()]=String(D[q]),K),{}),this.#r=k==null?null:new Uint8Array(k),this.#s=z||null,this.#o={message:""}}makeServerError(N,O){let D;N?D=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${N})`:(N=`${this.statusCode} ${this.statusMessage}`,D=`CLIENT ESCALATED SERVER ERROR (${N})`);const k=new C(599,D,this.headers,this.body,this.#s||void 0);return k.#o={message:N,error:O},k}throwThrottleError(N,O){O==null?O=-1:(0,n.assertArgument)(Number.isInteger(O)&&O>=0,"invalid stall timeout","stall",O);const D=new Error(N||"throttling requests");throw(0,r.defineProperties)(D,{stall:O,throttle:!0}),D}getHeader(N){return this.headers[N.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#s}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:N,error:O}=this.#o;N===""&&(N=`server response ${this.statusCode} ${this.statusMessage}`);let D=null;this.request&&(D=this.request.url);let k=null;try{this.#r&&(k=(0,s.toUtf8String)(this.#r))}catch{}(0,n.assert)(!1,N,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:O,info:{requestUrl:D,responseBody:k,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}Gu.FetchResponse=C;function S(){return new Date().getTime()}function T(_){return(0,s.toUtf8Bytes)(_.replace(/%([0-9a-f][0-9a-f])/gi,(N,O)=>String.fromCharCode(parseInt(O,16))))}function R(_){return new Promise(N=>setTimeout(N,_))}return Gu}var Mb={},Fj;function YW(){if(Fj)return Mb;Fj=1,Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.FixedNumber=void 0;const t=dl(),e=fu(),n=tx(),r=k0(),s=BigInt(-1),i=BigInt(0),o=BigInt(1),a=BigInt(5),l={};let c="0000";for(;c.length<80;)c+=c;function d(w){let m=c;for(;m.length<w;)m+=m;return BigInt("1"+m.substring(0,w))}function f(w,m,v){const x=BigInt(m.width);if(m.signed){const C=o<<x-o;(0,e.assert)(v==null||w>=-C&&w<C,"overflow","NUMERIC_FAULT",{operation:v,fault:"overflow",value:w}),w>i?w=(0,n.fromTwos)((0,n.mask)(w,x),x):w=-(0,n.fromTwos)((0,n.mask)(-w,x),x)}else{const C=o<<x;(0,e.assert)(v==null||w>=0&&w<C,"overflow","NUMERIC_FAULT",{operation:v,fault:"overflow",value:w}),w=(w%C+C)%C&C-o}return w}function p(w){typeof w=="number"&&(w=`fixed128x${w}`);let m=!0,v=128,x=18;if(typeof w=="string"){if(w!=="fixed")if(w==="ufixed")m=!1;else{const S=w.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,e.assertArgument)(S,"invalid fixed format","format",w),m=S[1]!=="u",v=parseInt(S[2]),x=parseInt(S[3])}}else if(w){const S=w,T=(R,_,N)=>S[R]==null?N:((0,e.assertArgument)(typeof S[R]===_,"invalid fixed format ("+R+" not "+_+")","format."+R,S[R]),S[R]);m=T("signed","boolean",m),v=T("width","number",v),x=T("decimals","number",x)}(0,e.assertArgument)(v%8===0,"invalid FixedNumber width (not byte aligned)","format.width",v),(0,e.assertArgument)(x<=80,"invalid FixedNumber decimals (too large)","format.decimals",x);const C=(m?"":"u")+"fixed"+String(v)+"x"+String(x);return{signed:m,width:v,decimals:x,name:C}}function g(w,m){let v="";w<i&&(v="-",w*=s);let x=w.toString();if(m===0)return v+x;for(;x.length<=m;)x=c+x;const C=x.length-m;for(x=x.substring(0,C)+"."+x.substring(C);x[0]==="0"&&x[1]!==".";)x=x.substring(1);for(;x[x.length-1]==="0"&&x[x.length-2]!==".";)x=x.substring(0,x.length-1);return v+x}class b{format;#e;#t;#n;_value;constructor(m,v,x){(0,e.assertPrivate)(m,l,"FixedNumber"),this.#t=v,this.#e=x;const C=g(v,x.decimals);(0,r.defineProperties)(this,{format:x.name,_value:C}),this.#n=d(x.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(m){(0,e.assertArgument)(this.format===m.format,"incompatible format; use fixedNumber.toFormat","other",m)}#s(m,v){return m=f(m,this.#e,v),new b(l,m,this.#e)}#o(m,v){return this.#r(m),this.#s(this.#t+m.#t,v)}addUnsafe(m){return this.#o(m)}add(m){return this.#o(m,"add")}#i(m,v){return this.#r(m),this.#s(this.#t-m.#t,v)}subUnsafe(m){return this.#i(m)}sub(m){return this.#i(m,"sub")}#a(m,v){return this.#r(m),this.#s(this.#t*m.#t/this.#n,v)}mulUnsafe(m){return this.#a(m)}mul(m){return this.#a(m,"mul")}mulSignal(m){this.#r(m);const v=this.#t*m.#t;return(0,e.assert)(v%this.#n===i,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(v/this.#n,"mulSignal")}#d(m,v){return(0,e.assert)(m.#t!==i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(m),this.#s(this.#t*this.#n/m.#t,v)}divUnsafe(m){return this.#d(m)}div(m){return this.#d(m,"div")}divSignal(m){(0,e.assert)(m.#t!==i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(m);const v=this.#t*this.#n;return(0,e.assert)(v%m.#t===i,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(v/m.#t,"divSignal")}cmp(m){let v=this.value,x=m.value;const C=this.decimals-m.decimals;return C>0?x*=d(C):C<0&&(v*=d(-C)),v<x?-1:v>x?1:0}eq(m){return this.cmp(m)===0}lt(m){return this.cmp(m)<0}lte(m){return this.cmp(m)<=0}gt(m){return this.cmp(m)>0}gte(m){return this.cmp(m)>=0}floor(){let m=this.#t;return this.#t<i&&(m-=this.#n-o),m=this.#t/this.#n*this.#n,this.#s(m,"floor")}ceiling(){let m=this.#t;return this.#t>i&&(m+=this.#n-o),m=this.#t/this.#n*this.#n,this.#s(m,"ceiling")}round(m){if(m==null&&(m=0),m>=this.decimals)return this;const v=this.decimals-m,x=a*d(v-1);let C=this.value+x;const S=d(v);return C=C/S*S,f(C,this.#e,"round"),new b(l,C,this.#e)}isZero(){return this.#t===i}isNegative(){return this.#t<i}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(m){return b.fromString(this.toString(),m)}static fromValue(m,v,x){const C=v==null?0:(0,n.getNumber)(v),S=p(x);let T=(0,n.getBigInt)(m,"value");const R=C-S.decimals;if(R>0){const _=d(R);(0,e.assert)(T%_===i,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:m}),T/=_}else R<0&&(T*=d(-R));return f(T,S,"fromValue"),new b(l,T,S)}static fromString(m,v){const x=m.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,e.assertArgument)(x&&x[2].length+x[3].length>0,"invalid FixedNumber string value","value",m);const C=p(v);let S=x[2]||"0",T=x[3]||"";for(;T.length<C.decimals;)T+=c;(0,e.assert)(T.substring(C.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:m}),T=T.substring(0,C.decimals);const R=BigInt(x[1]+S+T);return f(R,C,"fromString"),new b(l,R,C)}static fromBytes(m,v){let x=(0,n.toBigInt)((0,t.getBytes)(m,"value"));const C=p(v);return C.signed&&(x=(0,n.fromTwos)(x,C.width)),f(x,C,"fromBytes"),new b(l,x,C)}}return Mb.FixedNumber=b,Mb}var Ub={},$j;function yRe(){if($j)return Ub;$j=1,Object.defineProperty(Ub,"__esModule",{value:!0}),Ub.decodeRlp=void 0;const t=dl(),e=fu(),n=dl();function r(l){let c=l.toString(16);for(;c.length<2;)c="0"+c;return"0x"+c}function s(l,c,d){let f=0;for(let p=0;p<d;p++)f=f*256+l[c+p];return f}function i(l,c,d,f){const p=[];for(;d<c+1+f;){const g=o(l,d);p.push(g.result),d+=g.consumed,(0,e.assert)(d<=c+1+f,"child data too short","BUFFER_OVERRUN",{buffer:l,length:f,offset:c})}return{consumed:1+f,result:p}}function o(l,c){(0,e.assert)(l.length!==0,"data too short","BUFFER_OVERRUN",{buffer:l,length:0,offset:1});const d=f=>{(0,e.assert)(f<=l.length,"data short segment too short","BUFFER_OVERRUN",{buffer:l,length:l.length,offset:f})};if(l[c]>=248){const f=l[c]-247;d(c+1+f);const p=s(l,c+1,f);return d(c+1+f+p),i(l,c,c+1+f,f+p)}else if(l[c]>=192){const f=l[c]-192;return d(c+1+f),i(l,c,c+1,f)}else if(l[c]>=184){const f=l[c]-183;d(c+1+f);const p=s(l,c+1,f);d(c+1+f+p);const g=(0,t.hexlify)(l.slice(c+1+f,c+1+f+p));return{consumed:1+f+p,result:g}}else if(l[c]>=128){const f=l[c]-128;d(c+1+f);const p=(0,t.hexlify)(l.slice(c+1,c+1+f));return{consumed:1+f,result:p}}return{consumed:1,result:r(l[c])}}function a(l){const c=(0,n.getBytes)(l,"data"),d=o(c,0);return(0,e.assertArgument)(d.consumed===c.length,"unexpected junk after rlp payload","data",l),d.result}return Ub.decodeRlp=a,Ub}var Lb={},Hj;function bRe(){if(Hj)return Lb;Hj=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.encodeRlp=void 0;const t=dl();function e(i){const o=[];for(;i;)o.unshift(i&255),i>>=8;return o}function n(i){if(Array.isArray(i)){let l=[];if(i.forEach(function(d){l=l.concat(n(d))}),l.length<=55)return l.unshift(192+l.length),l;const c=e(l.length);return c.unshift(247+c.length),c.concat(l)}const o=Array.prototype.slice.call((0,t.getBytes)(i,"object"));if(o.length===1&&o[0]<=127)return o;if(o.length<=55)return o.unshift(128+o.length),o;const a=e(o.length);return a.unshift(183+a.length),a.concat(o)}const r="0123456789abcdef";function s(i){let o="0x";for(const a of n(i))o+=r[a>>4],o+=r[a&15];return o}return Lb.encodeRlp=s,Lb}var Uc={},zj;function wRe(){if(zj)return Uc;zj=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.parseEther=Uc.formatEther=Uc.parseUnits=Uc.formatUnits=void 0;const t=fu(),e=YW(),n=tx(),r=["wei","kwei","mwei","gwei","szabo","finney","ether"];function s(l,c){let d=18;if(typeof c=="string"){const f=r.indexOf(c);(0,t.assertArgument)(f>=0,"invalid unit","unit",c),d=3*f}else c!=null&&(d=(0,n.getNumber)(c,"unit"));return e.FixedNumber.fromValue(l,d,{decimals:d,width:512}).toString()}Uc.formatUnits=s;function i(l,c){(0,t.assertArgument)(typeof l=="string","value must be a string","value",l);let d=18;if(typeof c=="string"){const f=r.indexOf(c);(0,t.assertArgument)(f>=0,"invalid unit","unit",c),d=3*f}else c!=null&&(d=(0,n.getNumber)(c,"unit"));return e.FixedNumber.fromString(l,{decimals:d,width:512}).value}Uc.parseUnits=i;function o(l){return s(l,18)}Uc.formatEther=o;function a(l){return i(l,18)}return Uc.parseEther=a,Uc}var jb={},qj;function vRe(){if(qj)return jb;qj=1,Object.defineProperty(jb,"__esModule",{value:!0}),jb.uuidV4=void 0;const t=dl();function e(n){const r=(0,t.getBytes)(n,"randomBytes");r[6]=r[6]&15|64,r[8]=r[8]&63|128;const s=(0,t.hexlify)(r);return[s.substring(2,10),s.substring(10,14),s.substring(14,18),s.substring(18,22),s.substring(22,34)].join("-")}return jb.uuidV4=e,jb}var Vj;function Et(){return Vj||(Vj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.encodeRlp=t.decodeRlp=t.defineProperties=t.resolveProperties=t.toQuantity=t.toBeArray=t.toBeHex=t.toNumber=t.toBigInt=t.getUint=t.getNumber=t.getBigInt=t.mask=t.toTwos=t.fromTwos=t.FixedNumber=t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.makeError=t.assertNormalize=t.assertPrivate=t.assertArgumentCount=t.assertArgument=t.assert=t.isError=t.isCallException=t.zeroPadBytes=t.zeroPadValue=t.stripZerosLeft=t.dataSlice=t.dataLength=t.concat=t.hexlify=t.isBytesLike=t.isHexString=t.getBytesCopy=t.getBytes=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=void 0,t.uuidV4=t.Utf8ErrorFuncs=void 0;var e=hRe();Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return e.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return e.encodeBase58}});var n=QW();Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return n.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return n.encodeBase64}});var r=dl();Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return r.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return r.getBytesCopy}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return r.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return r.isBytesLike}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return r.hexlify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return r.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return r.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return r.dataSlice}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return r.stripZerosLeft}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return r.zeroPadValue}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return r.zeroPadBytes}});var s=fu();Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return s.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return s.isError}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return s.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return s.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return s.assertArgumentCount}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return s.assertPrivate}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return s.assertNormalize}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return s.makeError}});var i=pRe();Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return i.EventPayload}});var o=mRe();Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return o.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return o.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return o.FetchCancelSignal}});var a=YW();Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}});var l=tx();Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return l.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return l.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return l.mask}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return l.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return l.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return l.getUint}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return l.toBigInt}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return l.toNumber}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return l.toBeHex}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return l.toBeArray}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return l.toQuantity}});var c=k0();Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return c.resolveProperties}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return c.defineProperties}});var d=yRe();Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return d.decodeRlp}});var f=bRe();Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return f.encodeRlp}});var p=wRe();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return p.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return p.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return p.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return p.parseUnits}});var g=j4();Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return g.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return g.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return g.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return g.Utf8ErrorFuncs}});var b=vRe();Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return b.uuidV4}})}(W3)),W3}var Y3={},Gj;function bl(){return Gj||(Gj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=t.Writer=t.Coder=t.checkResultErrors=t.Result=t.WordSize=void 0;const e=Et();t.WordSize=32;const n=new Uint8Array(t.WordSize),r=["then"],s={},i=new WeakMap;function o(m){return i.get(m)}function a(m,v){i.set(m,v)}function l(m,v){const x=new Error(`deferred error during ABI decoding triggered accessing ${m}`);throw x.error=v,x}function c(m,v,x){return m.indexOf(null)>=0?v.map((C,S)=>C instanceof d?c(o(C),C,x):C):m.reduce((C,S,T)=>{let R=v.getValue(S);return S in C||(x&&R instanceof d&&(R=c(o(R),R,x)),C[S]=R),C},{})}class d extends Array{#e;constructor(...v){const x=v[0];let C=v[1],S=(v[2]||[]).slice(),T=!0;x!==s&&(C=v,S=[],T=!1),super(C.length),C.forEach((N,O)=>{this[O]=N});const R=S.reduce((N,O)=>(typeof O=="string"&&N.set(O,(N.get(O)||0)+1),N),new Map);if(a(this,Object.freeze(C.map((N,O)=>{const D=S[O];return D!=null&&R.get(D)===1?D:null}))),this.#e=[],this.#e==null&&this.#e,!T)return;Object.freeze(this);const _=new Proxy(this,{get:(N,O,D)=>{if(typeof O=="string"){if(O.match(/^[0-9]+$/)){const z=(0,e.getNumber)(O,"%index");if(z<0||z>=this.length)throw new RangeError("out of result range");const K=N[z];return K instanceof Error&&l(`index ${z}`,K),K}if(r.indexOf(O)>=0)return Reflect.get(N,O,D);const k=N[O];if(k instanceof Function)return function(...z){return k.apply(this===D?N:this,z)};if(!(O in N))return N.getValue.apply(this===D?N:this,[O])}return Reflect.get(N,O,D)}});return a(_,o(this)),_}toArray(v){const x=[];return this.forEach((C,S)=>{C instanceof Error&&l(`index ${S}`,C),v&&C instanceof d&&(C=C.toArray(v)),x.push(C)}),x}toObject(v){const x=o(this);return x.reduce((C,S,T)=>((0,e.assert)(S!=null,`value at index ${T} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),c(x,this,v)),{})}slice(v,x){v==null&&(v=0),v<0&&(v+=this.length,v<0&&(v=0)),x==null&&(x=this.length),x<0&&(x+=this.length,x<0&&(x=0)),x>this.length&&(x=this.length);const C=o(this),S=[],T=[];for(let R=v;R<x;R++)S.push(this[R]),T.push(C[R]);return new d(s,S,T)}filter(v,x){const C=o(this),S=[],T=[];for(let R=0;R<this.length;R++){const _=this[R];_ instanceof Error&&l(`index ${R}`,_),v.call(x,_,R,this)&&(S.push(_),T.push(C[R]))}return new d(s,S,T)}map(v,x){const C=[];for(let S=0;S<this.length;S++){const T=this[S];T instanceof Error&&l(`index ${S}`,T),C.push(v.call(x,T,S,this))}return C}getValue(v){const x=o(this).indexOf(v);if(x===-1)return;const C=this[x];return C instanceof Error&&l(`property ${JSON.stringify(v)}`,C.error),C}static fromItems(v,x){return new d(s,v,x)}}t.Result=d;function f(m){const v=[],x=function(C,S){if(Array.isArray(S))for(let T in S){const R=C.slice();R.push(T);try{x(R,S[T])}catch(_){v.push({path:R,error:_})}}};return x([],m),v}t.checkResultErrors=f;function p(m){let v=(0,e.toBeArray)(m);return(0,e.assert)(v.length<=t.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:v,length:t.WordSize,offset:v.length}),v.length!==t.WordSize&&(v=(0,e.getBytesCopy)((0,e.concat)([n.slice(v.length%t.WordSize),v]))),v}class g{name;type;localName;dynamic;constructor(v,x,C,S){(0,e.defineProperties)(this,{name:v,type:x,localName:C,dynamic:S},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(v,x){(0,e.assertArgument)(!1,v,this.localName,x)}}t.Coder=g;class b{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return(0,e.concat)(this.#e)}get length(){return this.#t}#n(v){return this.#e.push(v),this.#t+=v.length,v.length}appendWriter(v){return this.#n((0,e.getBytesCopy)(v.data))}writeBytes(v){let x=(0,e.getBytesCopy)(v);const C=x.length%t.WordSize;return C&&(x=(0,e.getBytesCopy)((0,e.concat)([x,n.slice(C)]))),this.#n(x)}writeValue(v){return this.#n(p(v))}writeUpdatableValue(){const v=this.#e.length;return this.#e.push(n),this.#t+=t.WordSize,x=>{this.#e[v]=p(x)}}}t.Writer=b;class w{allowLoose;#e;#t;#n;#r;#s;constructor(v,x,C){(0,e.defineProperties)(this,{allowLoose:!!x}),this.#e=(0,e.getBytesCopy)(v),this.#n=0,this.#r=null,this.#s=C??1024,this.#t=0}get data(){return(0,e.hexlify)(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(v){if(this.#r)return this.#r.#o(v);this.#n+=v,(0,e.assert)(this.#s<1||this.#n<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,e.getBytesCopy)(this.#e),offset:this.#t,length:v,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#i(v,x,C){let S=Math.ceil(x/t.WordSize)*t.WordSize;return this.#t+S>this.#e.length&&(this.allowLoose&&C&&this.#t+x<=this.#e.length?S=x:(0,e.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,e.getBytesCopy)(this.#e),length:this.#e.length,offset:this.#t+S})),this.#e.slice(this.#t,this.#t+S)}subReader(v){const x=new w(this.#e.slice(this.#t+v),this.allowLoose,this.#s);return x.#r=this,x}readBytes(v,x){let C=this.#i(0,v,!!x);return this.#o(v),this.#t+=C.length,C.slice(0,v)}readValue(){return(0,e.toBigInt)(this.readBytes(t.WordSize))}readIndex(){return(0,e.toNumber)(this.readBytes(t.WordSize))}}t.Reader=w}(Y3)),Y3}var Fb={},J3={},Jh={},Z3={},$b={},Lc={},X3={},Ki={},Kj;function nx(){if(Kj)return Ki;Kj=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.output=Ki.exists=Ki.hash=Ki.bytes=Ki.bool=Ki.number=void 0;function t(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}Ki.number=t;function e(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}Ki.bool=e;function n(a,...l){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(l.length>0&&!l.includes(a.length))throw new Error(`Expected Uint8Array of length ${l}, not of length=${a.length}`)}Ki.bytes=n;function r(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(a.outputLen),t(a.blockLen)}Ki.hash=r;function s(a,l=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(l&&a.finished)throw new Error("Hash#digest() has already been called")}Ki.exists=s;function i(a,l){n(a);const c=l.outputLen;if(a.length<c)throw new Error(`digestInto() expects output buffer of length at least ${c}`)}Ki.output=i;const o={number:t,bool:e,bytes:n,hash:r,exists:s,output:i};return Ki.default=o,Ki}var eR={},Hb={},Wj;function xRe(){return Wj||(Wj=1,Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.crypto=void 0,Hb.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Hb}var Qj;function hu(){return Qj||(Qj=1,function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=xRe(),n=R=>R instanceof Uint8Array,r=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);t.u8=r;const s=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));t.u32=s;const i=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);t.createView=i;const o=(R,_)=>R<<32-_|R>>>_;if(t.rotr=o,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(R,_)=>_.toString(16).padStart(2,"0"));function l(R){if(!n(R))throw new Error("Uint8Array expected");let _="";for(let N=0;N<R.length;N++)_+=a[R[N]];return _}t.bytesToHex=l;function c(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const _=R.length;if(_%2)throw new Error("padded hex string expected, got unpadded hex of length "+_);const N=new Uint8Array(_/2);for(let O=0;O<N.length;O++){const D=O*2,k=R.slice(D,D+2),z=Number.parseInt(k,16);if(Number.isNaN(z)||z<0)throw new Error("Invalid byte sequence");N[O]=z}return N}t.hexToBytes=c;const d=async()=>{};t.nextTick=d;async function f(R,_,N){let O=Date.now();for(let D=0;D<R;D++){N(D);const k=Date.now()-O;k>=0&&k<_||(await(0,t.nextTick)(),O+=k)}}t.asyncLoop=f;function p(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}t.utf8ToBytes=p;function g(R){if(typeof R=="string"&&(R=p(R)),!n(R))throw new Error(`expected Uint8Array, got ${typeof R}`);return R}t.toBytes=g;function b(...R){const _=new Uint8Array(R.reduce((O,D)=>O+D.length,0));let N=0;return R.forEach(O=>{if(!n(O))throw new Error("Uint8Array expected");_.set(O,N),N+=O.length}),_}t.concatBytes=b;class w{clone(){return this._cloneInto()}}t.Hash=w;const m={}.toString;function v(R,_){if(_!==void 0&&m.call(_)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,_)}t.checkOpts=v;function x(R){const _=O=>R().update(g(O)).digest(),N=R();return _.outputLen=N.outputLen,_.blockLen=N.blockLen,_.create=()=>R(),_}t.wrapConstructor=x;function C(R){const _=(O,D)=>R(D).update(g(O)).digest(),N=R({});return _.outputLen=N.outputLen,_.blockLen=N.blockLen,_.create=O=>R(O),_}t.wrapConstructorWithOpts=C;function S(R){const _=(O,D)=>R(D).update(g(O)).digest(),N=R({});return _.outputLen=N.outputLen,_.blockLen=N.blockLen,_.create=O=>R(O),_}t.wrapXOFConstructorWithOpts=S;function T(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=T}(eR)),eR}var Yj;function F4(){return Yj||(Yj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=nx(),n=hu();class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const l=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(l.length>c?o.create().update(l).digest():l);for(let f=0;f<d.length;f++)d[f]^=54;this.iHash.update(d),this.oHash=o.create();for(let f=0;f<d.length;f++)d[f]^=106;this.oHash.update(d),d.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:l,finished:c,destroyed:d,blockLen:f,outputLen:p}=this;return o=o,o.finished=c,o.destroyed=d,o.blockLen=f,o.outputLen=p,o.oHash=a._cloneInto(o.oHash),o.iHash=l._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r;const s=(i,o,a)=>new r(i,o).update(a).digest();t.hmac=s,t.hmac.create=(i,o)=>new r(i,o)}(X3)),X3}var Zh={},Jj;function JW(){if(Jj)return Zh;Jj=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.pbkdf2Async=Zh.pbkdf2=void 0;const t=nx(),e=F4(),n=hu();function r(a,l,c,d){(0,t.hash)(a);const f=(0,n.checkOpts)({dkLen:32,asyncTick:10},d),{c:p,dkLen:g,asyncTick:b}=f;if((0,t.number)(p),(0,t.number)(g),(0,t.number)(b),p<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const w=(0,n.toBytes)(l),m=(0,n.toBytes)(c),v=new Uint8Array(g),x=e.hmac.create(a,w),C=x._cloneInto().update(m);return{c:p,dkLen:g,asyncTick:b,DK:v,PRF:x,PRFSalt:C}}function s(a,l,c,d,f){return a.destroy(),l.destroy(),d&&d.destroy(),f.fill(0),c}function i(a,l,c,d){const{c:f,dkLen:p,DK:g,PRF:b,PRFSalt:w}=r(a,l,c,d);let m;const v=new Uint8Array(4),x=(0,n.createView)(v),C=new Uint8Array(b.outputLen);for(let S=1,T=0;T<p;S++,T+=b.outputLen){const R=g.subarray(T,T+b.outputLen);x.setInt32(0,S,!1),(m=w._cloneInto(m)).update(v).digestInto(C),R.set(C.subarray(0,R.length));for(let _=1;_<f;_++){b._cloneInto(m).update(C).digestInto(C);for(let N=0;N<R.length;N++)R[N]^=C[N]}}return s(b,w,g,m,C)}Zh.pbkdf2=i;async function o(a,l,c,d){const{c:f,dkLen:p,asyncTick:g,DK:b,PRF:w,PRFSalt:m}=r(a,l,c,d);let v;const x=new Uint8Array(4),C=(0,n.createView)(x),S=new Uint8Array(w.outputLen);for(let T=1,R=0;R<p;T++,R+=w.outputLen){const _=b.subarray(R,R+w.outputLen);C.setInt32(0,T,!1),(v=m._cloneInto(v)).update(x).digestInto(S),_.set(S.subarray(0,_.length)),await(0,n.asyncLoop)(f-1,g,()=>{w._cloneInto(v).update(S).digestInto(S);for(let N=0;N<_.length;N++)_[N]^=S[N]})}return s(w,m,b,v,S)}return Zh.pbkdf2Async=o,Zh}var Xh={},zb={},Zj;function $4(){if(Zj)return zb;Zj=1,Object.defineProperty(zb,"__esModule",{value:!0}),zb.SHA2=void 0;const t=nx(),e=hu();function n(s,i,o,a){if(typeof s.setBigUint64=="function")return s.setBigUint64(i,o,a);const l=BigInt(32),c=BigInt(4294967295),d=Number(o>>l&c),f=Number(o&c),p=a?4:0,g=a?0:4;s.setUint32(i+p,d,a),s.setUint32(i+g,f,a)}class r extends e.Hash{constructor(i,o,a,l){super(),this.blockLen=i,this.outputLen=o,this.padOffset=a,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=(0,e.createView)(this.buffer)}update(i){(0,t.exists)(this);const{view:o,buffer:a,blockLen:l}=this;i=(0,e.toBytes)(i);const c=i.length;for(let d=0;d<c;){const f=Math.min(l-this.pos,c-d);if(f===l){const p=(0,e.createView)(i);for(;l<=c-d;d+=l)this.process(p,d);continue}a.set(i.subarray(d,d+f),this.pos),this.pos+=f,d+=f,this.pos===l&&(this.process(o,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){(0,t.exists)(this),(0,t.output)(i,this),this.finished=!0;const{buffer:o,view:a,blockLen:l,isLE:c}=this;let{pos:d}=this;o[d++]=128,this.buffer.subarray(d).fill(0),this.padOffset>l-d&&(this.process(a,0),d=0);for(let w=d;w<l;w++)o[w]=0;n(a,l-8,BigInt(this.length*8),c),this.process(a,0);const f=(0,e.createView)(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=p/4,b=this.get();if(g>b.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<g;w++)f.setUint32(4*w,b[w],c)}digest(){const{buffer:i,outputLen:o}=this;this.digestInto(i);const a=i.slice(0,o);return this.destroy(),a}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:o,buffer:a,length:l,finished:c,destroyed:d,pos:f}=this;return i.length=l,i.pos=f,i.finished=c,i.destroyed=d,l%o&&i.buffer.set(a),i}}return zb.SHA2=r,zb}var Xj;function H4(){if(Xj)return Xh;Xj=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.sha224=Xh.sha256=void 0;const t=$4(),e=hu(),n=(c,d,f)=>c&d^~c&f,r=(c,d,f)=>c&d^c&f^d&f,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint32Array(64);class a extends t.SHA2{constructor(){super(64,32,8,!1),this.A=i[0]|0,this.B=i[1]|0,this.C=i[2]|0,this.D=i[3]|0,this.E=i[4]|0,this.F=i[5]|0,this.G=i[6]|0,this.H=i[7]|0}get(){const{A:d,B:f,C:p,D:g,E:b,F:w,G:m,H:v}=this;return[d,f,p,g,b,w,m,v]}set(d,f,p,g,b,w,m,v){this.A=d|0,this.B=f|0,this.C=p|0,this.D=g|0,this.E=b|0,this.F=w|0,this.G=m|0,this.H=v|0}process(d,f){for(let S=0;S<16;S++,f+=4)o[S]=d.getUint32(f,!1);for(let S=16;S<64;S++){const T=o[S-15],R=o[S-2],_=(0,e.rotr)(T,7)^(0,e.rotr)(T,18)^T>>>3,N=(0,e.rotr)(R,17)^(0,e.rotr)(R,19)^R>>>10;o[S]=N+o[S-7]+_+o[S-16]|0}let{A:p,B:g,C:b,D:w,E:m,F:v,G:x,H:C}=this;for(let S=0;S<64;S++){const T=(0,e.rotr)(m,6)^(0,e.rotr)(m,11)^(0,e.rotr)(m,25),R=C+T+n(m,v,x)+s[S]+o[S]|0,N=((0,e.rotr)(p,2)^(0,e.rotr)(p,13)^(0,e.rotr)(p,22))+r(p,g,b)|0;C=x,x=v,v=m,m=w+R|0,w=b,b=g,g=p,p=R+N|0}p=p+this.A|0,g=g+this.B|0,b=b+this.C|0,w=w+this.D|0,m=m+this.E|0,v=v+this.F|0,x=x+this.G|0,C=C+this.H|0,this.set(p,g,b,w,m,v,x,C)}roundClean(){o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends a{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return Xh.sha256=(0,e.wrapConstructor)(()=>new a),Xh.sha224=(0,e.wrapConstructor)(()=>new l),Xh}var ma={},pn={},e9;function ZW(){if(e9)return pn;e9=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.add5L=pn.add5H=pn.add4H=pn.add4L=pn.add3H=pn.add3L=pn.add=pn.rotlBL=pn.rotlBH=pn.rotlSL=pn.rotlSH=pn.rotr32L=pn.rotr32H=pn.rotrBL=pn.rotrBH=pn.rotrSL=pn.rotrSH=pn.shrSL=pn.shrSH=pn.toBig=pn.split=pn.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(O,D=!1){return D?{h:Number(O&t),l:Number(O>>e&t)}:{h:Number(O>>e&t)|0,l:Number(O&t)|0}}pn.fromBig=n;function r(O,D=!1){let k=new Uint32Array(O.length),z=new Uint32Array(O.length);for(let K=0;K<O.length;K++){const{h:q,l:I}=n(O[K],D);[k[K],z[K]]=[q,I]}return[k,z]}pn.split=r;const s=(O,D)=>BigInt(O>>>0)<<e|BigInt(D>>>0);pn.toBig=s;const i=(O,D,k)=>O>>>k;pn.shrSH=i;const o=(O,D,k)=>O<<32-k|D>>>k;pn.shrSL=o;const a=(O,D,k)=>O>>>k|D<<32-k;pn.rotrSH=a;const l=(O,D,k)=>O<<32-k|D>>>k;pn.rotrSL=l;const c=(O,D,k)=>O<<64-k|D>>>k-32;pn.rotrBH=c;const d=(O,D,k)=>O>>>k-32|D<<64-k;pn.rotrBL=d;const f=(O,D)=>D;pn.rotr32H=f;const p=(O,D)=>O;pn.rotr32L=p;const g=(O,D,k)=>O<<k|D>>>32-k;pn.rotlSH=g;const b=(O,D,k)=>D<<k|O>>>32-k;pn.rotlSL=b;const w=(O,D,k)=>D<<k-32|O>>>64-k;pn.rotlBH=w;const m=(O,D,k)=>O<<k-32|D>>>64-k;pn.rotlBL=m;function v(O,D,k,z){const K=(D>>>0)+(z>>>0);return{h:O+k+(K/2**32|0)|0,l:K|0}}pn.add=v;const x=(O,D,k)=>(O>>>0)+(D>>>0)+(k>>>0);pn.add3L=x;const C=(O,D,k,z)=>D+k+z+(O/2**32|0)|0;pn.add3H=C;const S=(O,D,k,z)=>(O>>>0)+(D>>>0)+(k>>>0)+(z>>>0);pn.add4L=S;const T=(O,D,k,z,K)=>D+k+z+K+(O/2**32|0)|0;pn.add4H=T;const R=(O,D,k,z,K)=>(O>>>0)+(D>>>0)+(k>>>0)+(z>>>0)+(K>>>0);pn.add5L=R;const _=(O,D,k,z,K,q)=>D+k+z+K+q+(O/2**32|0)|0;pn.add5H=_;const N={fromBig:n,split:r,toBig:s,shrSH:i,shrSL:o,rotrSH:a,rotrSL:l,rotrBH:c,rotrBL:d,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:b,rotlBH:w,rotlBL:m,add:v,add3L:x,add3H:C,add4L:S,add4H:T,add5H:_,add5L:R};return pn.default=N,pn}var t9;function ERe(){if(t9)return ma;t9=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.sha384=ma.sha512_256=ma.sha512_224=ma.sha512=ma.SHA512=void 0;const t=$4(),e=ZW(),n=hu(),[r,s]=e.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(f=>BigInt(f))),i=new Uint32Array(80),o=new Uint32Array(80);class a extends t.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:p,Al:g,Bh:b,Bl:w,Ch:m,Cl:v,Dh:x,Dl:C,Eh:S,El:T,Fh:R,Fl:_,Gh:N,Gl:O,Hh:D,Hl:k}=this;return[p,g,b,w,m,v,x,C,S,T,R,_,N,O,D,k]}set(p,g,b,w,m,v,x,C,S,T,R,_,N,O,D,k){this.Ah=p|0,this.Al=g|0,this.Bh=b|0,this.Bl=w|0,this.Ch=m|0,this.Cl=v|0,this.Dh=x|0,this.Dl=C|0,this.Eh=S|0,this.El=T|0,this.Fh=R|0,this.Fl=_|0,this.Gh=N|0,this.Gl=O|0,this.Hh=D|0,this.Hl=k|0}process(p,g){for(let q=0;q<16;q++,g+=4)i[q]=p.getUint32(g),o[q]=p.getUint32(g+=4);for(let q=16;q<80;q++){const I=i[q-15]|0,P=o[q-15]|0,M=e.default.rotrSH(I,P,1)^e.default.rotrSH(I,P,8)^e.default.shrSH(I,P,7),j=e.default.rotrSL(I,P,1)^e.default.rotrSL(I,P,8)^e.default.shrSL(I,P,7),G=i[q-2]|0,F=o[q-2]|0,H=e.default.rotrSH(G,F,19)^e.default.rotrBH(G,F,61)^e.default.shrSH(G,F,6),$=e.default.rotrSL(G,F,19)^e.default.rotrBL(G,F,61)^e.default.shrSL(G,F,6),Z=e.default.add4L(j,$,o[q-7],o[q-16]),X=e.default.add4H(Z,M,H,i[q-7],i[q-16]);i[q]=X|0,o[q]=Z|0}let{Ah:b,Al:w,Bh:m,Bl:v,Ch:x,Cl:C,Dh:S,Dl:T,Eh:R,El:_,Fh:N,Fl:O,Gh:D,Gl:k,Hh:z,Hl:K}=this;for(let q=0;q<80;q++){const I=e.default.rotrSH(R,_,14)^e.default.rotrSH(R,_,18)^e.default.rotrBH(R,_,41),P=e.default.rotrSL(R,_,14)^e.default.rotrSL(R,_,18)^e.default.rotrBL(R,_,41),M=R&N^~R&D,j=_&O^~_&k,G=e.default.add5L(K,P,j,s[q],o[q]),F=e.default.add5H(G,z,I,M,r[q],i[q]),H=G|0,$=e.default.rotrSH(b,w,28)^e.default.rotrBH(b,w,34)^e.default.rotrBH(b,w,39),Z=e.default.rotrSL(b,w,28)^e.default.rotrBL(b,w,34)^e.default.rotrBL(b,w,39),X=b&m^b&x^m&x,le=w&v^w&C^v&C;z=D|0,K=k|0,D=N|0,k=O|0,N=R|0,O=_|0,{h:R,l:_}=e.default.add(S|0,T|0,F|0,H|0),S=x|0,T=C|0,x=m|0,C=v|0,m=b|0,v=w|0;const de=e.default.add3L(H,Z,le);b=e.default.add3H(de,F,$,X),w=de|0}({h:b,l:w}=e.default.add(this.Ah|0,this.Al|0,b|0,w|0)),{h:m,l:v}=e.default.add(this.Bh|0,this.Bl|0,m|0,v|0),{h:x,l:C}=e.default.add(this.Ch|0,this.Cl|0,x|0,C|0),{h:S,l:T}=e.default.add(this.Dh|0,this.Dl|0,S|0,T|0),{h:R,l:_}=e.default.add(this.Eh|0,this.El|0,R|0,_|0),{h:N,l:O}=e.default.add(this.Fh|0,this.Fl|0,N|0,O|0),{h:D,l:k}=e.default.add(this.Gh|0,this.Gl|0,D|0,k|0),{h:z,l:K}=e.default.add(this.Hh|0,this.Hl|0,z|0,K|0),this.set(b,w,m,v,x,C,S,T,R,_,N,O,D,k,z,K)}roundClean(){i.fill(0),o.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ma.SHA512=a;class l extends a{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class c extends a{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends a{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return ma.sha512=(0,n.wrapConstructor)(()=>new a),ma.sha512_224=(0,n.wrapConstructor)(()=>new l),ma.sha512_256=(0,n.wrapConstructor)(()=>new c),ma.sha384=(0,n.wrapConstructor)(()=>new d),ma}var n9;function aS(){if(n9)return Lc;n9=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.randomBytes=Lc.pbkdf2Sync=Lc.createHmac=Lc.createHash=void 0;const t=F4(),e=JW(),n=H4(),r=ERe(),s=Et();function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof $o<"u")return $o;throw new Error("unable to locate global object")}const o=i(),a=o.crypto||o.msCrypto;function l(p){switch(p){case"sha256":return n.sha256.create();case"sha512":return r.sha512.create()}(0,s.assertArgument)(!1,"invalid hashing algorithm name","algorithm",p)}Lc.createHash=l;function c(p,g){const b={sha256:n.sha256,sha512:r.sha512}[p];return(0,s.assertArgument)(b!=null,"invalid hmac algorithm","algorithm",p),t.hmac.create(b,g)}Lc.createHmac=c;function d(p,g,b,w,m){const v={sha256:n.sha256,sha512:r.sha512}[m];return(0,s.assertArgument)(v!=null,"invalid pbkdf2 algorithm","algorithm",m),(0,e.pbkdf2)(v,p,g,{c:b,dkLen:w})}Lc.pbkdf2Sync=d;function f(p){(0,s.assert)(a!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,s.assertArgument)(Number.isInteger(p)&&p>0&&p<=1024,"invalid length","length",p);const g=new Uint8Array(p);return a.getRandomValues(g),g}return Lc.randomBytes=f,Lc}var r9;function ARe(){if(r9)return $b;r9=1,Object.defineProperty($b,"__esModule",{value:!0}),$b.computeHmac=void 0;const t=aS(),e=Et();let n=!1;const r=function(o,a,l){return(0,t.createHmac)(o,a).update(l).digest()};let s=r;function i(o,a,l){const c=(0,e.getBytes)(a,"key"),d=(0,e.getBytes)(l,"data");return(0,e.hexlify)(s(o,c,d))}return $b.computeHmac=i,i._=r,i.lock=function(){n=!0},i.register=function(o){if(n)throw new Error("computeHmac is locked");s=o},Object.freeze(i),$b}var qb={},Lr={},s9;function CRe(){if(s9)return Lr;s9=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.shake256=Lr.shake128=Lr.keccak_512=Lr.keccak_384=Lr.keccak_256=Lr.keccak_224=Lr.sha3_512=Lr.sha3_384=Lr.sha3_256=Lr.sha3_224=Lr.Keccak=Lr.keccakP=void 0;const t=nx(),e=ZW(),n=hu(),[r,s,i]=[[],[],[]],o=BigInt(0),a=BigInt(1),l=BigInt(2),c=BigInt(7),d=BigInt(256),f=BigInt(113);for(let S=0,T=a,R=1,_=0;S<24;S++){[R,_]=[_,(2*R+3*_)%5],r.push(2*(5*_+R)),s.push((S+1)*(S+2)/2%64);let N=o;for(let O=0;O<7;O++)T=(T<<a^(T>>c)*f)%d,T&l&&(N^=a<<(a<<BigInt(O))-a);i.push(N)}const[p,g]=(0,e.split)(i,!0),b=(S,T,R)=>R>32?(0,e.rotlBH)(S,T,R):(0,e.rotlSH)(S,T,R),w=(S,T,R)=>R>32?(0,e.rotlBL)(S,T,R):(0,e.rotlSL)(S,T,R);function m(S,T=24){const R=new Uint32Array(10);for(let _=24-T;_<24;_++){for(let D=0;D<10;D++)R[D]=S[D]^S[D+10]^S[D+20]^S[D+30]^S[D+40];for(let D=0;D<10;D+=2){const k=(D+8)%10,z=(D+2)%10,K=R[z],q=R[z+1],I=b(K,q,1)^R[k],P=w(K,q,1)^R[k+1];for(let M=0;M<50;M+=10)S[D+M]^=I,S[D+M+1]^=P}let N=S[2],O=S[3];for(let D=0;D<24;D++){const k=s[D],z=b(N,O,k),K=w(N,O,k),q=r[D];N=S[q],O=S[q+1],S[q]=z,S[q+1]=K}for(let D=0;D<50;D+=10){for(let k=0;k<10;k++)R[k]=S[D+k];for(let k=0;k<10;k++)S[D+k]^=~R[(k+2)%10]&R[(k+4)%10]}S[0]^=p[_],S[1]^=g[_]}R.fill(0)}Lr.keccakP=m;class v extends n.Hash{constructor(T,R,_,N=!1,O=24){if(super(),this.blockLen=T,this.suffix=R,this.outputLen=_,this.enableXOF=N,this.rounds=O,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(_),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){m(this.state32,this.rounds),this.posOut=0,this.pos=0}update(T){(0,t.exists)(this);const{blockLen:R,state:_}=this;T=(0,n.toBytes)(T);const N=T.length;for(let O=0;O<N;){const D=Math.min(R-this.pos,N-O);for(let k=0;k<D;k++)_[this.pos++]^=T[O++];this.pos===R&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:T,suffix:R,pos:_,blockLen:N}=this;T[_]^=R,(R&128)!==0&&_===N-1&&this.keccak(),T[N-1]^=128,this.keccak()}writeInto(T){(0,t.exists)(this,!1),(0,t.bytes)(T),this.finish();const R=this.state,{blockLen:_}=this;for(let N=0,O=T.length;N<O;){this.posOut>=_&&this.keccak();const D=Math.min(_-this.posOut,O-N);T.set(R.subarray(this.posOut,this.posOut+D),N),this.posOut+=D,N+=D}return T}xofInto(T){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(T)}xof(T){return(0,t.number)(T),this.xofInto(new Uint8Array(T))}digestInto(T){if((0,t.output)(T,this),this.finished)throw new Error("digest() was already called");return this.writeInto(T),this.destroy(),T}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(T){const{blockLen:R,suffix:_,outputLen:N,rounds:O,enableXOF:D}=this;return T||(T=new v(R,_,N,D,O)),T.state32.set(this.state32),T.pos=this.pos,T.posOut=this.posOut,T.finished=this.finished,T.rounds=O,T.suffix=_,T.outputLen=N,T.enableXOF=D,T.destroyed=this.destroyed,T}}Lr.Keccak=v;const x=(S,T,R)=>(0,n.wrapConstructor)(()=>new v(T,S,R));Lr.sha3_224=x(6,144,224/8),Lr.sha3_256=x(6,136,256/8),Lr.sha3_384=x(6,104,384/8),Lr.sha3_512=x(6,72,512/8),Lr.keccak_224=x(1,144,224/8),Lr.keccak_256=x(1,136,256/8),Lr.keccak_384=x(1,104,384/8),Lr.keccak_512=x(1,72,512/8);const C=(S,T,R)=>(0,n.wrapXOFConstructorWithOpts)((_={})=>new v(T,S,_.dkLen===void 0?R:_.dkLen,!0));return Lr.shake128=C(31,168,128/8),Lr.shake256=C(31,136,256/8),Lr}var i9;function SRe(){if(i9)return qb;i9=1,Object.defineProperty(qb,"__esModule",{value:!0}),qb.keccak256=void 0;const t=CRe(),e=Et();let n=!1;const r=function(o){return(0,t.keccak_256)(o)};let s=r;function i(o){const a=(0,e.getBytes)(o,"data");return(0,e.hexlify)(s(a))}return qb.keccak256=i,i._=r,i.lock=function(){n=!0},i.register=function(o){if(n)throw new TypeError("keccak256 is locked");s=o},Object.freeze(i),qb}var Vb={},ep={},o9;function _Re(){if(o9)return ep;o9=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.ripemd160=ep.RIPEMD160=void 0;const t=$4(),e=hu(),n=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),r=Uint8Array.from({length:16},(m,v)=>v),s=r.map(m=>(9*m+5)%16);let i=[r],o=[s];for(let m=0;m<4;m++)for(let v of[i,o])v.push(v[m].map(x=>n[x]));const a=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(m=>new Uint8Array(m)),l=i.map((m,v)=>m.map(x=>a[v][x])),c=o.map((m,v)=>m.map(x=>a[v][x])),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),p=(m,v)=>m<<v|m>>>32-v;function g(m,v,x,C){return m===0?v^x^C:m===1?v&x|~v&C:m===2?(v|~x)^C:m===3?v&C|x&~C:v^(x|~C)}const b=new Uint32Array(16);class w extends t.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:v,h1:x,h2:C,h3:S,h4:T}=this;return[v,x,C,S,T]}set(v,x,C,S,T){this.h0=v|0,this.h1=x|0,this.h2=C|0,this.h3=S|0,this.h4=T|0}process(v,x){for(let K=0;K<16;K++,x+=4)b[K]=v.getUint32(x,!0);let C=this.h0|0,S=C,T=this.h1|0,R=T,_=this.h2|0,N=_,O=this.h3|0,D=O,k=this.h4|0,z=k;for(let K=0;K<5;K++){const q=4-K,I=d[K],P=f[K],M=i[K],j=o[K],G=l[K],F=c[K];for(let H=0;H<16;H++){const $=p(C+g(K,T,_,O)+b[M[H]]+I,G[H])+k|0;C=k,k=O,O=p(_,10)|0,_=T,T=$}for(let H=0;H<16;H++){const $=p(S+g(q,R,N,D)+b[j[H]]+P,F[H])+z|0;S=z,z=D,D=p(N,10)|0,N=R,R=$}}this.set(this.h1+_+D|0,this.h2+O+z|0,this.h3+k+S|0,this.h4+C+R|0,this.h0+T+N|0)}roundClean(){b.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}return ep.RIPEMD160=w,ep.ripemd160=(0,e.wrapConstructor)(()=>new w),ep}var a9;function NRe(){if(a9)return Vb;a9=1,Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.ripemd160=void 0;const t=_Re(),e=Et();let n=!1;const r=function(o){return(0,t.ripemd160)(o)};let s=r;function i(o){const a=(0,e.getBytes)(o,"data");return(0,e.hexlify)(s(a))}return Vb.ripemd160=i,i._=r,i.lock=function(){n=!0},i.register=function(o){if(n)throw new TypeError("ripemd160 is locked");s=o},Object.freeze(i),Vb}var Gb={},c9;function TRe(){if(c9)return Gb;c9=1,Object.defineProperty(Gb,"__esModule",{value:!0}),Gb.pbkdf2=void 0;const t=aS(),e=Et();let n=!1;const r=function(o,a,l,c,d){return(0,t.pbkdf2Sync)(o,a,l,c,d)};let s=r;function i(o,a,l,c,d){const f=(0,e.getBytes)(o,"password"),p=(0,e.getBytes)(a,"salt");return(0,e.hexlify)(s(f,p,l,c,d))}return Gb.pbkdf2=i,i._=r,i.lock=function(){n=!0},i.register=function(o){if(n)throw new Error("pbkdf2 is locked");s=o},Object.freeze(i),Gb}var Kb={},l9;function RRe(){if(l9)return Kb;l9=1,Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.randomBytes=void 0;const t=aS();let e=!1;const n=function(i){return new Uint8Array((0,t.randomBytes)(i))};let r=n;function s(i){return r(i)}return Kb.randomBytes=s,s._=n,s.lock=function(){e=!0},s.register=function(i){if(e)throw new Error("randomBytes is locked");r=i},Object.freeze(s),Kb}var tp={},np={},u9;function PRe(){if(u9)return np;u9=1,Object.defineProperty(np,"__esModule",{value:!0}),np.scryptAsync=np.scrypt=void 0;const t=nx(),e=H4(),n=JW(),r=hu(),s=(f,p)=>f<<p|f>>>32-p;function i(f,p,g,b,w,m){let v=f[p++]^g[b++],x=f[p++]^g[b++],C=f[p++]^g[b++],S=f[p++]^g[b++],T=f[p++]^g[b++],R=f[p++]^g[b++],_=f[p++]^g[b++],N=f[p++]^g[b++],O=f[p++]^g[b++],D=f[p++]^g[b++],k=f[p++]^g[b++],z=f[p++]^g[b++],K=f[p++]^g[b++],q=f[p++]^g[b++],I=f[p++]^g[b++],P=f[p++]^g[b++],M=v,j=x,G=C,F=S,H=T,$=R,Z=_,X=N,le=O,de=D,pe=k,ae=z,ce=K,fe=q,ve=I,Re=P;for(let Se=0;Se<8;Se+=2)H^=s(M+ce|0,7),le^=s(H+M|0,9),ce^=s(le+H|0,13),M^=s(ce+le|0,18),de^=s($+j|0,7),fe^=s(de+$|0,9),j^=s(fe+de|0,13),$^=s(j+fe|0,18),ve^=s(pe+Z|0,7),G^=s(ve+pe|0,9),Z^=s(G+ve|0,13),pe^=s(Z+G|0,18),F^=s(Re+ae|0,7),X^=s(F+Re|0,9),ae^=s(X+F|0,13),Re^=s(ae+X|0,18),j^=s(M+F|0,7),G^=s(j+M|0,9),F^=s(G+j|0,13),M^=s(F+G|0,18),Z^=s($+H|0,7),X^=s(Z+$|0,9),H^=s(X+Z|0,13),$^=s(H+X|0,18),ae^=s(pe+de|0,7),le^=s(ae+pe|0,9),de^=s(le+ae|0,13),pe^=s(de+le|0,18),ce^=s(Re+ve|0,7),fe^=s(ce+Re|0,9),ve^=s(fe+ce|0,13),Re^=s(ve+fe|0,18);w[m++]=v+M|0,w[m++]=x+j|0,w[m++]=C+G|0,w[m++]=S+F|0,w[m++]=T+H|0,w[m++]=R+$|0,w[m++]=_+Z|0,w[m++]=N+X|0,w[m++]=O+le|0,w[m++]=D+de|0,w[m++]=k+pe|0,w[m++]=z+ae|0,w[m++]=K+ce|0,w[m++]=q+fe|0,w[m++]=I+ve|0,w[m++]=P+Re|0}function o(f,p,g,b,w){let m=b+0,v=b+16*w;for(let x=0;x<16;x++)g[v+x]=f[p+(2*w-1)*16+x];for(let x=0;x<w;x++,m+=16,p+=16)i(g,v,f,p,g,m),x>0&&(v+=16),i(g,m,f,p+=16,g,v)}function a(f,p,g){const b=(0,r.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},g),{N:w,r:m,p:v,dkLen:x,asyncTick:C,maxmem:S,onProgress:T}=b;if((0,t.number)(w),(0,t.number)(m),(0,t.number)(v),(0,t.number)(x),(0,t.number)(C),(0,t.number)(S),T!==void 0&&typeof T!="function")throw new Error("progressCb should be function");const R=128*m,_=R/4;if(w<=1||(w&w-1)!==0||w>=2**(R/8)||w>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(v<0||v>(2**32-1)*32/R)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(x<0||x>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const N=R*(w+v);if(N>S)throw new Error(`Scrypt: parameters too large, ${N} (128 * r * (N + p)) > ${S} (maxmem)`);const O=(0,n.pbkdf2)(e.sha256,f,p,{c:1,dkLen:R*v}),D=(0,r.u32)(O),k=(0,r.u32)(new Uint8Array(R*w)),z=(0,r.u32)(new Uint8Array(R));let K=()=>{};if(T){const q=2*w*v,I=Math.max(Math.floor(q/1e4),1);let P=0;K=()=>{P++,T&&(!(P%I)||P===q)&&T(P/q)}}return{N:w,r:m,p:v,dkLen:x,blockSize32:_,V:k,B32:D,B:O,tmp:z,blockMixCb:K,asyncTick:C}}function l(f,p,g,b,w){const m=(0,n.pbkdf2)(e.sha256,f,g,{c:1,dkLen:p});return g.fill(0),b.fill(0),w.fill(0),m}function c(f,p,g){const{N:b,r:w,p:m,dkLen:v,blockSize32:x,V:C,B32:S,B:T,tmp:R,blockMixCb:_}=a(f,p,g);for(let N=0;N<m;N++){const O=x*N;for(let D=0;D<x;D++)C[D]=S[O+D];for(let D=0,k=0;D<b-1;D++)o(C,k,C,k+=x,w),_();o(C,(b-1)*x,S,O,w),_();for(let D=0;D<b;D++){const k=S[O+x-16]%b;for(let z=0;z<x;z++)R[z]=S[O+z]^C[k*x+z];o(R,0,S,O,w),_()}}return l(f,v,T,C,R)}np.scrypt=c;async function d(f,p,g){const{N:b,r:w,p:m,dkLen:v,blockSize32:x,V:C,B32:S,B:T,tmp:R,blockMixCb:_,asyncTick:N}=a(f,p,g);for(let O=0;O<m;O++){const D=x*O;for(let z=0;z<x;z++)C[z]=S[D+z];let k=0;await(0,r.asyncLoop)(b-1,N,()=>{o(C,k,C,k+=x,w),_()}),o(C,(b-1)*x,S,D,w),_(),await(0,r.asyncLoop)(b,N,()=>{const z=S[D+x-16]%b;for(let K=0;K<x;K++)R[K]=S[D+K]^C[z*x+K];o(R,0,S,D,w),_()})}return l(f,v,T,C,R)}return np.scryptAsync=d,np}var d9;function ORe(){if(d9)return tp;d9=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.scryptSync=tp.scrypt=void 0;const t=PRe(),e=Et();let n=!1,r=!1;const s=async function(d,f,p,g,b,w,m){return await(0,t.scryptAsync)(d,f,{N:p,r:g,p:b,dkLen:w,onProgress:m})},i=function(d,f,p,g,b,w){return(0,t.scrypt)(d,f,{N:p,r:g,p:b,dkLen:w})};let o=s,a=i;async function l(d,f,p,g,b,w,m){const v=(0,e.getBytes)(d,"passwd"),x=(0,e.getBytes)(f,"salt");return(0,e.hexlify)(await o(v,x,p,g,b,w,m))}tp.scrypt=l,l._=s,l.lock=function(){r=!0},l.register=function(d){if(r)throw new Error("scrypt is locked");o=d},Object.freeze(l);function c(d,f,p,g,b,w){const m=(0,e.getBytes)(d,"passwd"),v=(0,e.getBytes)(f,"salt");return(0,e.hexlify)(a(m,v,p,g,b,w))}return tp.scryptSync=c,c._=i,c.lock=function(){n=!0},c.register=function(d){if(n)throw new Error("scryptSync is locked");a=d},Object.freeze(c),tp}var rp={},f9;function IRe(){if(f9)return rp;f9=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.sha512=rp.sha256=void 0;const t=aS(),e=Et(),n=function(d){return(0,t.createHash)("sha256").update(d).digest()},r=function(d){return(0,t.createHash)("sha512").update(d).digest()};let s=n,i=r,o=!1,a=!1;function l(d){const f=(0,e.getBytes)(d,"data");return(0,e.hexlify)(s(f))}rp.sha256=l,l._=n,l.lock=function(){o=!0},l.register=function(d){if(o)throw new Error("sha256 is locked");s=d},Object.freeze(l);function c(d){const f=(0,e.getBytes)(d,"data");return(0,e.hexlify)(i(f))}return rp.sha512=c,c._=r,c.lock=function(){a=!0},c.register=function(d){if(a)throw new Error("sha512 is locked");i=d},Object.freeze(l),rp}var Wb={},tR={},En={},Nn={},h9;function Rm(){if(h9)return Nn;h9=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.validateObject=Nn.createHmacDrbg=Nn.bitMask=Nn.bitSet=Nn.bitGet=Nn.bitLen=Nn.utf8ToBytes=Nn.equalBytes=Nn.concatBytes=Nn.ensureBytes=Nn.numberToVarBytesBE=Nn.numberToBytesLE=Nn.numberToBytesBE=Nn.bytesToNumberLE=Nn.bytesToNumberBE=Nn.hexToBytes=Nn.hexToNumber=Nn.numberToHexUnpadded=Nn.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=BigInt(0),e=BigInt(1),n=BigInt(2),r=k=>k instanceof Uint8Array,s=Array.from({length:256},(k,z)=>z.toString(16).padStart(2,"0"));function i(k){if(!r(k))throw new Error("Uint8Array expected");let z="";for(let K=0;K<k.length;K++)z+=s[k[K]];return z}Nn.bytesToHex=i;function o(k){const z=k.toString(16);return z.length&1?`0${z}`:z}Nn.numberToHexUnpadded=o;function a(k){if(typeof k!="string")throw new Error("hex string expected, got "+typeof k);return BigInt(k===""?"0":`0x${k}`)}Nn.hexToNumber=a;function l(k){if(typeof k!="string")throw new Error("hex string expected, got "+typeof k);const z=k.length;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const K=new Uint8Array(z/2);for(let q=0;q<K.length;q++){const I=q*2,P=k.slice(I,I+2),M=Number.parseInt(P,16);if(Number.isNaN(M)||M<0)throw new Error("Invalid byte sequence");K[q]=M}return K}Nn.hexToBytes=l;function c(k){return a(i(k))}Nn.bytesToNumberBE=c;function d(k){if(!r(k))throw new Error("Uint8Array expected");return a(i(Uint8Array.from(k).reverse()))}Nn.bytesToNumberLE=d;function f(k,z){return l(k.toString(16).padStart(z*2,"0"))}Nn.numberToBytesBE=f;function p(k,z){return f(k,z).reverse()}Nn.numberToBytesLE=p;function g(k){return l(o(k))}Nn.numberToVarBytesBE=g;function b(k,z,K){let q;if(typeof z=="string")try{q=l(z)}catch(P){throw new Error(`${k} must be valid hex string, got "${z}". Cause: ${P}`)}else if(r(z))q=Uint8Array.from(z);else throw new Error(`${k} must be hex string or Uint8Array`);const I=q.length;if(typeof K=="number"&&I!==K)throw new Error(`${k} expected ${K} bytes, got ${I}`);return q}Nn.ensureBytes=b;function w(...k){const z=new Uint8Array(k.reduce((q,I)=>q+I.length,0));let K=0;return k.forEach(q=>{if(!r(q))throw new Error("Uint8Array expected");z.set(q,K),K+=q.length}),z}Nn.concatBytes=w;function m(k,z){if(k.length!==z.length)return!1;for(let K=0;K<k.length;K++)if(k[K]!==z[K])return!1;return!0}Nn.equalBytes=m;function v(k){if(typeof k!="string")throw new Error(`utf8ToBytes expected string, got ${typeof k}`);return new Uint8Array(new TextEncoder().encode(k))}Nn.utf8ToBytes=v;function x(k){let z;for(z=0;k>t;k>>=e,z+=1);return z}Nn.bitLen=x;function C(k,z){return k>>BigInt(z)&e}Nn.bitGet=C;const S=(k,z,K)=>k|(K?e:t)<<BigInt(z);Nn.bitSet=S;const T=k=>(n<<BigInt(k-1))-e;Nn.bitMask=T;const R=k=>new Uint8Array(k),_=k=>Uint8Array.from(k);function N(k,z,K){if(typeof k!="number"||k<2)throw new Error("hashLen must be a number");if(typeof z!="number"||z<2)throw new Error("qByteLen must be a number");if(typeof K!="function")throw new Error("hmacFn must be a function");let q=R(k),I=R(k),P=0;const M=()=>{q.fill(1),I.fill(0),P=0},j=(...$)=>K(I,q,...$),G=($=R())=>{I=j(_([0]),$),q=j(),$.length!==0&&(I=j(_([1]),$),q=j())},F=()=>{if(P++>=1e3)throw new Error("drbg: tried 1000 values");let $=0;const Z=[];for(;$<z;){q=j();const X=q.slice();Z.push(X),$+=q.length}return w(...Z)};return($,Z)=>{M(),G($);let X;for(;!(X=Z(F()));)G();return M(),X}}Nn.createHmacDrbg=N;const O={bigint:k=>typeof k=="bigint",function:k=>typeof k=="function",boolean:k=>typeof k=="boolean",string:k=>typeof k=="string",stringOrUint8Array:k=>typeof k=="string"||k instanceof Uint8Array,isSafeInteger:k=>Number.isSafeInteger(k),array:k=>Array.isArray(k),field:(k,z)=>z.Fp.isValid(k),hash:k=>typeof k=="function"&&Number.isSafeInteger(k.outputLen)};function D(k,z,K={}){const q=(I,P,M)=>{const j=O[P];if(typeof j!="function")throw new Error(`Invalid validator "${P}", expected function`);const G=k[I];if(!(M&&G===void 0)&&!j(G,k))throw new Error(`Invalid param ${String(I)}=${G} (${typeof G}), expected ${P}`)};for(const[I,P]of Object.entries(z))q(I,P,!1);for(const[I,P]of Object.entries(K))q(I,P,!0);return k}return Nn.validateObject=D,Nn}var p9;function cS(){if(p9)return En;p9=1,Object.defineProperty(En,"__esModule",{value:!0}),En.mapHashToField=En.getMinHashLength=En.getFieldBytesLength=En.hashToPrivateScalar=En.FpSqrtEven=En.FpSqrtOdd=En.Field=En.nLength=En.FpIsSquare=En.FpDiv=En.FpInvertBatch=En.FpPow=En.validateField=En.isNegativeLE=En.FpSqrt=En.tonelliShanks=En.invert=En.pow2=En.pow=En.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Rm(),e=BigInt(0),n=BigInt(1),r=BigInt(2),s=BigInt(3),i=BigInt(4),o=BigInt(5),a=BigInt(8);BigInt(9),BigInt(16);function l(K,q){const I=K%q;return I>=e?I:q+I}En.mod=l;function c(K,q,I){if(I<=e||q<e)throw new Error("Expected power/modulo > 0");if(I===n)return e;let P=n;for(;q>e;)q&n&&(P=P*K%I),K=K*K%I,q>>=n;return P}En.pow=c;function d(K,q,I){let P=K;for(;q-- >e;)P*=P,P%=I;return P}En.pow2=d;function f(K,q){if(K===e||q<=e)throw new Error(`invert: expected positive integers, got n=${K} mod=${q}`);let I=l(K,q),P=q,M=e,j=n;for(;I!==e;){const F=P/I,H=P%I,$=M-j*F;P=I,I=H,M=j,j=$}if(P!==n)throw new Error("invert: does not exist");return l(M,q)}En.invert=f;function p(K){const q=(K-n)/r;let I,P,M;for(I=K-n,P=0;I%r===e;I/=r,P++);for(M=r;M<K&&c(M,q,K)!==K-n;M++);if(P===1){const G=(K+n)/i;return function(H,$){const Z=H.pow($,G);if(!H.eql(H.sqr(Z),$))throw new Error("Cannot find square root");return Z}}const j=(I+n)/r;return function(F,H){if(F.pow(H,q)===F.neg(F.ONE))throw new Error("Cannot find square root");let $=P,Z=F.pow(F.mul(F.ONE,M),I),X=F.pow(H,j),le=F.pow(H,I);for(;!F.eql(le,F.ONE);){if(F.eql(le,F.ZERO))return F.ZERO;let de=1;for(let ae=F.sqr(le);de<$&&!F.eql(ae,F.ONE);de++)ae=F.sqr(ae);const pe=F.pow(Z,n<<BigInt($-de-1));Z=F.sqr(pe),X=F.mul(X,pe),le=F.mul(le,Z),$=de}return X}}En.tonelliShanks=p;function g(K){if(K%i===s){const q=(K+n)/i;return function(P,M){const j=P.pow(M,q);if(!P.eql(P.sqr(j),M))throw new Error("Cannot find square root");return j}}if(K%a===o){const q=(K-o)/a;return function(P,M){const j=P.mul(M,r),G=P.pow(j,q),F=P.mul(M,G),H=P.mul(P.mul(F,r),G),$=P.mul(F,P.sub(H,P.ONE));if(!P.eql(P.sqr($),M))throw new Error("Cannot find square root");return $}}return p(K)}En.FpSqrt=g;const b=(K,q)=>(l(K,q)&n)===n;En.isNegativeLE=b;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function m(K){const q={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},I=w.reduce((P,M)=>(P[M]="function",P),q);return(0,t.validateObject)(K,I)}En.validateField=m;function v(K,q,I){if(I<e)throw new Error("Expected power > 0");if(I===e)return K.ONE;if(I===n)return q;let P=K.ONE,M=q;for(;I>e;)I&n&&(P=K.mul(P,M)),M=K.sqr(M),I>>=n;return P}En.FpPow=v;function x(K,q){const I=new Array(q.length),P=q.reduce((j,G,F)=>K.is0(G)?j:(I[F]=j,K.mul(j,G)),K.ONE),M=K.inv(P);return q.reduceRight((j,G,F)=>K.is0(G)?j:(I[F]=K.mul(j,I[F]),K.mul(j,G)),M),I}En.FpInvertBatch=x;function C(K,q,I){return K.mul(q,typeof I=="bigint"?f(I,K.ORDER):K.inv(I))}En.FpDiv=C;function S(K){const q=(K.ORDER-n)/r;return I=>{const P=K.pow(I,q);return K.eql(P,K.ZERO)||K.eql(P,K.ONE)}}En.FpIsSquare=S;function T(K,q){const I=q!==void 0?q:K.toString(2).length,P=Math.ceil(I/8);return{nBitLength:I,nByteLength:P}}En.nLength=T;function R(K,q,I=!1,P={}){if(K<=e)throw new Error(`Expected Field ORDER > 0, got ${K}`);const{nBitLength:M,nByteLength:j}=T(K,q);if(j>2048)throw new Error("Field lengths over 2048 bytes are not supported");const G=g(K),F=Object.freeze({ORDER:K,BITS:M,BYTES:j,MASK:(0,t.bitMask)(M),ZERO:e,ONE:n,create:H=>l(H,K),isValid:H=>{if(typeof H!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof H}`);return e<=H&&H<K},is0:H=>H===e,isOdd:H=>(H&n)===n,neg:H=>l(-H,K),eql:(H,$)=>H===$,sqr:H=>l(H*H,K),add:(H,$)=>l(H+$,K),sub:(H,$)=>l(H-$,K),mul:(H,$)=>l(H*$,K),pow:(H,$)=>v(F,H,$),div:(H,$)=>l(H*f($,K),K),sqrN:H=>H*H,addN:(H,$)=>H+$,subN:(H,$)=>H-$,mulN:(H,$)=>H*$,inv:H=>f(H,K),sqrt:P.sqrt||(H=>G(F,H)),invertBatch:H=>x(F,H),cmov:(H,$,Z)=>Z?$:H,toBytes:H=>I?(0,t.numberToBytesLE)(H,j):(0,t.numberToBytesBE)(H,j),fromBytes:H=>{if(H.length!==j)throw new Error(`Fp.fromBytes: expected ${j}, got ${H.length}`);return I?(0,t.bytesToNumberLE)(H):(0,t.bytesToNumberBE)(H)}});return Object.freeze(F)}En.Field=R;function _(K,q){if(!K.isOdd)throw new Error("Field doesn't have isOdd");const I=K.sqrt(q);return K.isOdd(I)?I:K.neg(I)}En.FpSqrtOdd=_;function N(K,q){if(!K.isOdd)throw new Error("Field doesn't have isOdd");const I=K.sqrt(q);return K.isOdd(I)?K.neg(I):I}En.FpSqrtEven=N;function O(K,q,I=!1){K=(0,t.ensureBytes)("privateHash",K);const P=K.length,M=T(q).nByteLength+8;if(M<24||P<M||P>1024)throw new Error(`hashToPrivateScalar: expected ${M}-1024 bytes of input, got ${P}`);const j=I?(0,t.bytesToNumberLE)(K):(0,t.bytesToNumberBE)(K);return l(j,q-n)+n}En.hashToPrivateScalar=O;function D(K){if(typeof K!="bigint")throw new Error("field order must be bigint");const q=K.toString(2).length;return Math.ceil(q/8)}En.getFieldBytesLength=D;function k(K){const q=D(K);return q+Math.ceil(q/2)}En.getMinHashLength=k;function z(K,q,I=!1){const P=K.length,M=D(q),j=k(q);if(P<16||P<j||P>1024)throw new Error(`expected ${j}-1024 bytes of input, got ${P}`);const G=I?(0,t.bytesToNumberBE)(K):(0,t.bytesToNumberLE)(K),F=l(G,q-n)+n;return I?(0,t.numberToBytesLE)(F,M):(0,t.numberToBytesBE)(F,M)}return En.mapHashToField=z,En}var nR={},sp={},g9;function kRe(){if(g9)return sp;g9=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.validateBasic=sp.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=cS(),e=Rm(),n=BigInt(0),r=BigInt(1);function s(o,a){const l=(d,f)=>{const p=f.negate();return d?p:f},c=d=>{const f=Math.ceil(a/d)+1,p=2**(d-1);return{windows:f,windowSize:p}};return{constTimeNegate:l,unsafeLadder(d,f){let p=o.ZERO,g=d;for(;f>n;)f&r&&(p=p.add(g)),g=g.double(),f>>=r;return p},precomputeWindow(d,f){const{windows:p,windowSize:g}=c(f),b=[];let w=d,m=w;for(let v=0;v<p;v++){m=w,b.push(m);for(let x=1;x<g;x++)m=m.add(w),b.push(m);w=m.double()}return b},wNAF(d,f,p){const{windows:g,windowSize:b}=c(d);let w=o.ZERO,m=o.BASE;const v=BigInt(2**d-1),x=2**d,C=BigInt(d);for(let S=0;S<g;S++){const T=S*b;let R=Number(p&v);p>>=C,R>b&&(R-=x,p+=r);const _=T,N=T+Math.abs(R)-1,O=S%2!==0,D=R<0;R===0?m=m.add(l(O,f[_])):w=w.add(l(D,f[N]))}return{p:w,f:m}},wNAFCached(d,f,p,g){const b=d._WINDOW_SIZE||1;let w=f.get(d);return w||(w=this.precomputeWindow(d,b),b!==1&&f.set(d,g(w))),this.wNAF(b,w,p)}}}sp.wNAF=s;function i(o){return(0,t.validateField)(o.Fp),(0,e.validateObject)(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}return sp.validateBasic=i,sp}var m9;function XW(){return m9||(m9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=cS(),n=Rm(),r=Rm(),s=kRe();function i(x){const C=(0,s.validateBasic)(x);n.validateObject(C,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:S,Fp:T,a:R}=C;if(S){if(!T.eql(R,T.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof S!="object"||typeof S.beta!="bigint"||typeof S.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...C})}const{bytesToNumberBE:o,hexToBytes:a}=n;t.DER={Err:class extends Error{constructor(C=""){super(C)}},_parseInt(x){const{Err:C}=t.DER;if(x.length<2||x[0]!==2)throw new C("Invalid signature integer tag");const S=x[1],T=x.subarray(2,S+2);if(!S||T.length!==S)throw new C("Invalid signature integer: wrong length");if(T[0]&128)throw new C("Invalid signature integer: negative");if(T[0]===0&&!(T[1]&128))throw new C("Invalid signature integer: unnecessary leading zero");return{d:o(T),l:x.subarray(S+2)}},toSig(x){const{Err:C}=t.DER,S=typeof x=="string"?a(x):x;if(!(S instanceof Uint8Array))throw new Error("ui8a expected");let T=S.length;if(T<2||S[0]!=48)throw new C("Invalid signature tag");if(S[1]!==T-2)throw new C("Invalid signature: incorrect length");const{d:R,l:_}=t.DER._parseInt(S.subarray(2)),{d:N,l:O}=t.DER._parseInt(_);if(O.length)throw new C("Invalid signature: left bytes after parsing");return{r:R,s:N}},hexFromSig(x){const C=k=>Number.parseInt(k[0],16)&8?"00"+k:k,S=k=>{const z=k.toString(16);return z.length&1?`0${z}`:z},T=C(S(x.s)),R=C(S(x.r)),_=T.length/2,N=R.length/2,O=S(_),D=S(N);return`30${S(N+_+4)}02${D}${R}02${O}${T}`}};const l=BigInt(0),c=BigInt(1),d=BigInt(2),f=BigInt(3),p=BigInt(4);function g(x){const C=i(x),{Fp:S}=C,T=C.toBytes||((P,M,j)=>{const G=M.toAffine();return n.concatBytes(Uint8Array.from([4]),S.toBytes(G.x),S.toBytes(G.y))}),R=C.fromBytes||(P=>{const M=P.subarray(1),j=S.fromBytes(M.subarray(0,S.BYTES)),G=S.fromBytes(M.subarray(S.BYTES,2*S.BYTES));return{x:j,y:G}});function _(P){const{a:M,b:j}=C,G=S.sqr(P),F=S.mul(G,P);return S.add(S.add(F,S.mul(P,M)),j)}if(!S.eql(S.sqr(C.Gy),_(C.Gx)))throw new Error("bad generator point: equation left != right");function N(P){return typeof P=="bigint"&&l<P&&P<C.n}function O(P){if(!N(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function D(P){const{allowedPrivateKeyLengths:M,nByteLength:j,wrapPrivateKey:G,n:F}=C;if(M&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=n.bytesToHex(P)),typeof P!="string"||!M.includes(P.length))throw new Error("Invalid key");P=P.padStart(j*2,"0")}let H;try{H=typeof P=="bigint"?P:n.bytesToNumberBE((0,r.ensureBytes)("private key",P,j))}catch{throw new Error(`private key must be ${j} bytes, hex or bigint, not ${typeof P}`)}return G&&(H=e.mod(H,F)),O(H),H}const k=new Map;function z(P){if(!(P instanceof K))throw new Error("ProjectivePoint expected")}class K{constructor(M,j,G){if(this.px=M,this.py=j,this.pz=G,M==null||!S.isValid(M))throw new Error("x required");if(j==null||!S.isValid(j))throw new Error("y required");if(G==null||!S.isValid(G))throw new Error("z required")}static fromAffine(M){const{x:j,y:G}=M||{};if(!M||!S.isValid(j)||!S.isValid(G))throw new Error("invalid affine point");if(M instanceof K)throw new Error("projective point not allowed");const F=H=>S.eql(H,S.ZERO);return F(j)&&F(G)?K.ZERO:new K(j,G,S.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const j=S.invertBatch(M.map(G=>G.pz));return M.map((G,F)=>G.toAffine(j[F])).map(K.fromAffine)}static fromHex(M){const j=K.fromAffine(R((0,r.ensureBytes)("pointHex",M)));return j.assertValidity(),j}static fromPrivateKey(M){return K.BASE.multiply(D(M))}_setWindowSize(M){this._WINDOW_SIZE=M,k.delete(this)}assertValidity(){if(this.is0()){if(C.allowInfinityPoint&&!S.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:j}=this.toAffine();if(!S.isValid(M)||!S.isValid(j))throw new Error("bad point: x or y not FE");const G=S.sqr(j),F=_(M);if(!S.eql(G,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(S.isOdd)return!S.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){z(M);const{px:j,py:G,pz:F}=this,{px:H,py:$,pz:Z}=M,X=S.eql(S.mul(j,Z),S.mul(H,F)),le=S.eql(S.mul(G,Z),S.mul($,F));return X&&le}negate(){return new K(this.px,S.neg(this.py),this.pz)}double(){const{a:M,b:j}=C,G=S.mul(j,f),{px:F,py:H,pz:$}=this;let Z=S.ZERO,X=S.ZERO,le=S.ZERO,de=S.mul(F,F),pe=S.mul(H,H),ae=S.mul($,$),ce=S.mul(F,H);return ce=S.add(ce,ce),le=S.mul(F,$),le=S.add(le,le),Z=S.mul(M,le),X=S.mul(G,ae),X=S.add(Z,X),Z=S.sub(pe,X),X=S.add(pe,X),X=S.mul(Z,X),Z=S.mul(ce,Z),le=S.mul(G,le),ae=S.mul(M,ae),ce=S.sub(de,ae),ce=S.mul(M,ce),ce=S.add(ce,le),le=S.add(de,de),de=S.add(le,de),de=S.add(de,ae),de=S.mul(de,ce),X=S.add(X,de),ae=S.mul(H,$),ae=S.add(ae,ae),de=S.mul(ae,ce),Z=S.sub(Z,de),le=S.mul(ae,pe),le=S.add(le,le),le=S.add(le,le),new K(Z,X,le)}add(M){z(M);const{px:j,py:G,pz:F}=this,{px:H,py:$,pz:Z}=M;let X=S.ZERO,le=S.ZERO,de=S.ZERO;const pe=C.a,ae=S.mul(C.b,f);let ce=S.mul(j,H),fe=S.mul(G,$),ve=S.mul(F,Z),Re=S.add(j,G),Se=S.add(H,$);Re=S.mul(Re,Se),Se=S.add(ce,fe),Re=S.sub(Re,Se),Se=S.add(j,F);let xe=S.add(H,Z);return Se=S.mul(Se,xe),xe=S.add(ce,ve),Se=S.sub(Se,xe),xe=S.add(G,F),X=S.add($,Z),xe=S.mul(xe,X),X=S.add(fe,ve),xe=S.sub(xe,X),de=S.mul(pe,Se),X=S.mul(ae,ve),de=S.add(X,de),X=S.sub(fe,de),de=S.add(fe,de),le=S.mul(X,de),fe=S.add(ce,ce),fe=S.add(fe,ce),ve=S.mul(pe,ve),Se=S.mul(ae,Se),fe=S.add(fe,ve),ve=S.sub(ce,ve),ve=S.mul(pe,ve),Se=S.add(Se,ve),ce=S.mul(fe,Se),le=S.add(le,ce),ce=S.mul(xe,Se),X=S.mul(Re,X),X=S.sub(X,ce),ce=S.mul(Re,fe),de=S.mul(xe,de),de=S.add(de,ce),new K(X,le,de)}subtract(M){return this.add(M.negate())}is0(){return this.equals(K.ZERO)}wNAF(M){return I.wNAFCached(this,k,M,j=>{const G=S.invertBatch(j.map(F=>F.pz));return j.map((F,H)=>F.toAffine(G[H])).map(K.fromAffine)})}multiplyUnsafe(M){const j=K.ZERO;if(M===l)return j;if(O(M),M===c)return this;const{endo:G}=C;if(!G)return I.unsafeLadder(this,M);let{k1neg:F,k1:H,k2neg:$,k2:Z}=G.splitScalar(M),X=j,le=j,de=this;for(;H>l||Z>l;)H&c&&(X=X.add(de)),Z&c&&(le=le.add(de)),de=de.double(),H>>=c,Z>>=c;return F&&(X=X.negate()),$&&(le=le.negate()),le=new K(S.mul(le.px,G.beta),le.py,le.pz),X.add(le)}multiply(M){O(M);let j=M,G,F;const{endo:H}=C;if(H){const{k1neg:$,k1:Z,k2neg:X,k2:le}=H.splitScalar(j);let{p:de,f:pe}=this.wNAF(Z),{p:ae,f:ce}=this.wNAF(le);de=I.constTimeNegate($,de),ae=I.constTimeNegate(X,ae),ae=new K(S.mul(ae.px,H.beta),ae.py,ae.pz),G=de.add(ae),F=pe.add(ce)}else{const{p:$,f:Z}=this.wNAF(j);G=$,F=Z}return K.normalizeZ([G,F])[0]}multiplyAndAddUnsafe(M,j,G){const F=K.BASE,H=(Z,X)=>X===l||X===c||!Z.equals(F)?Z.multiplyUnsafe(X):Z.multiply(X),$=H(this,j).add(H(M,G));return $.is0()?void 0:$}toAffine(M){const{px:j,py:G,pz:F}=this,H=this.is0();M==null&&(M=H?S.ONE:S.inv(F));const $=S.mul(j,M),Z=S.mul(G,M),X=S.mul(F,M);if(H)return{x:S.ZERO,y:S.ZERO};if(!S.eql(X,S.ONE))throw new Error("invZ was invalid");return{x:$,y:Z}}isTorsionFree(){const{h:M,isTorsionFree:j}=C;if(M===c)return!0;if(j)return j(K,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:j}=C;return M===c?this:j?j(K,this):this.multiplyUnsafe(C.h)}toRawBytes(M=!0){return this.assertValidity(),T(K,this,M)}toHex(M=!0){return n.bytesToHex(this.toRawBytes(M))}}K.BASE=new K(C.Gx,C.Gy,S.ONE),K.ZERO=new K(S.ZERO,S.ONE,S.ZERO);const q=C.nBitLength,I=(0,s.wNAF)(K,C.endo?Math.ceil(q/2):q);return{CURVE:C,ProjectivePoint:K,normPrivateKeyToScalar:D,weierstrassEquation:_,isWithinCurveOrder:N}}t.weierstrassPoints=g;function b(x){const C=(0,s.validateBasic)(x);return n.validateObject(C,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...C})}function w(x){const C=b(x),{Fp:S,n:T}=C,R=S.BYTES+1,_=2*S.BYTES+1;function N(Se){return l<Se&&Se<S.ORDER}function O(Se){return e.mod(Se,T)}function D(Se){return e.invert(Se,T)}const{ProjectivePoint:k,normPrivateKeyToScalar:z,weierstrassEquation:K,isWithinCurveOrder:q}=g({...C,toBytes(Se,xe,te){const J=xe.toAffine(),V=S.toBytes(J.x),Y=n.concatBytes;return te?Y(Uint8Array.from([xe.hasEvenY()?2:3]),V):Y(Uint8Array.from([4]),V,S.toBytes(J.y))},fromBytes(Se){const xe=Se.length,te=Se[0],J=Se.subarray(1);if(xe===R&&(te===2||te===3)){const V=n.bytesToNumberBE(J);if(!N(V))throw new Error("Point is not on curve");const Y=K(V);let se=S.sqrt(Y);const me=(se&c)===c;return(te&1)===1!==me&&(se=S.neg(se)),{x:V,y:se}}else if(xe===_&&te===4){const V=S.fromBytes(J.subarray(0,S.BYTES)),Y=S.fromBytes(J.subarray(S.BYTES,2*S.BYTES));return{x:V,y:Y}}else throw new Error(`Point of length ${xe} was invalid. Expected ${R} compressed bytes or ${_} uncompressed bytes`)}}),I=Se=>n.bytesToHex(n.numberToBytesBE(Se,C.nByteLength));function P(Se){const xe=T>>c;return Se>xe}function M(Se){return P(Se)?O(-Se):Se}const j=(Se,xe,te)=>n.bytesToNumberBE(Se.slice(xe,te));class G{constructor(xe,te,J){this.r=xe,this.s=te,this.recovery=J,this.assertValidity()}static fromCompact(xe){const te=C.nByteLength;return xe=(0,r.ensureBytes)("compactSignature",xe,te*2),new G(j(xe,0,te),j(xe,te,2*te))}static fromDER(xe){const{r:te,s:J}=t.DER.toSig((0,r.ensureBytes)("DER",xe));return new G(te,J)}assertValidity(){if(!q(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!q(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(xe){return new G(this.r,this.s,xe)}recoverPublicKey(xe){const{r:te,s:J,recovery:V}=this,Y=le((0,r.ensureBytes)("msgHash",xe));if(V==null||![0,1,2,3].includes(V))throw new Error("recovery id invalid");const se=V===2||V===3?te+C.n:te;if(se>=S.ORDER)throw new Error("recovery id 2 or 3 invalid");const me=(V&1)===0?"02":"03",_e=k.fromHex(me+I(se)),Te=D(se),ot=O(-Y*Te),It=O(J*Te),Ft=k.BASE.multiplyAndAddUnsafe(_e,ot,It);if(!Ft)throw new Error("point at infinify");return Ft.assertValidity(),Ft}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new G(this.r,O(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}const F={isValidPrivateKey(Se){try{return z(Se),!0}catch{return!1}},normPrivateKeyToScalar:z,randomPrivateKey:()=>{const Se=e.getMinHashLength(C.n);return e.mapHashToField(C.randomBytes(Se),C.n)},precompute(Se=8,xe=k.BASE){return xe._setWindowSize(Se),xe.multiply(BigInt(3)),xe}};function H(Se,xe=!0){return k.fromPrivateKey(Se).toRawBytes(xe)}function $(Se){const xe=Se instanceof Uint8Array,te=typeof Se=="string",J=(xe||te)&&Se.length;return xe?J===R||J===_:te?J===2*R||J===2*_:Se instanceof k}function Z(Se,xe,te=!0){if($(Se))throw new Error("first arg must be private key");if(!$(xe))throw new Error("second arg must be public key");return k.fromHex(xe).multiply(z(Se)).toRawBytes(te)}const X=C.bits2int||function(Se){const xe=n.bytesToNumberBE(Se),te=Se.length*8-C.nBitLength;return te>0?xe>>BigInt(te):xe},le=C.bits2int_modN||function(Se){return O(X(Se))},de=n.bitMask(C.nBitLength);function pe(Se){if(typeof Se!="bigint")throw new Error("bigint expected");if(!(l<=Se&&Se<de))throw new Error(`bigint expected < 2^${C.nBitLength}`);return n.numberToBytesBE(Se,C.nByteLength)}function ae(Se,xe,te=ce){if(["recovered","canonical"].some(ye=>ye in te))throw new Error("sign() legacy options not supported");const{hash:J,randomBytes:V}=C;let{lowS:Y,prehash:se,extraEntropy:me}=te;Y==null&&(Y=!0),Se=(0,r.ensureBytes)("msgHash",Se),se&&(Se=(0,r.ensureBytes)("prehashed msgHash",J(Se)));const _e=le(Se),Te=z(xe),ot=[pe(Te),pe(_e)];if(me!=null){const ye=me===!0?V(S.BYTES):me;ot.push((0,r.ensureBytes)("extraEntropy",ye))}const It=n.concatBytes(...ot),Ft=_e;function Ce(ye){const re=X(ye);if(!q(re))return;const ge=D(re),ke=k.BASE.multiply(re).toAffine(),$e=O(ke.x);if($e===l)return;const et=O(ge*O(Ft+$e*Te));if(et===l)return;let xt=(ke.x===$e?0:2)|Number(ke.y&c),gt=et;return Y&&P(et)&&(gt=M(et),xt^=1),new G($e,gt,xt)}return{seed:It,k2sig:Ce}}const ce={lowS:C.lowS,prehash:!1},fe={lowS:C.lowS,prehash:!1};function ve(Se,xe,te=ce){const{seed:J,k2sig:V}=ae(Se,xe,te),Y=C;return n.createHmacDrbg(Y.hash.outputLen,Y.nByteLength,Y.hmac)(J,V)}k.BASE._setWindowSize(8);function Re(Se,xe,te,J=fe){const V=Se;if(xe=(0,r.ensureBytes)("msgHash",xe),te=(0,r.ensureBytes)("publicKey",te),"strict"in J)throw new Error("options.strict was renamed to lowS");const{lowS:Y,prehash:se}=J;let me,_e;try{if(typeof V=="string"||V instanceof Uint8Array)try{me=G.fromDER(V)}catch(ke){if(!(ke instanceof t.DER.Err))throw ke;me=G.fromCompact(V)}else if(typeof V=="object"&&typeof V.r=="bigint"&&typeof V.s=="bigint"){const{r:ke,s:$e}=V;me=new G(ke,$e)}else throw new Error("PARSE");_e=k.fromHex(te)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&me.hasHighS())return!1;se&&(xe=C.hash(xe));const{r:Te,s:ot}=me,It=le(xe),Ft=D(ot),Ce=O(It*Ft),ye=O(Te*Ft),re=k.BASE.multiplyAndAddUnsafe(_e,Ce,ye)?.toAffine();return re?O(re.x)===Te:!1}return{CURVE:C,getPublicKey:H,getSharedSecret:Z,sign:ve,verify:Re,ProjectivePoint:k,Signature:G,utils:F}}t.weierstrass=w;function m(x,C){const S=x.ORDER;let T=l;for(let P=S-c;P%d===l;P/=d)T+=c;const R=T,_=d<<R-c-c,N=_*d,O=(S-c)/N,D=(O-c)/d,k=N-c,z=_,K=x.pow(C,O),q=x.pow(C,(O+c)/d);let I=(P,M)=>{let j=K,G=x.pow(M,k),F=x.sqr(G);F=x.mul(F,M);let H=x.mul(P,F);H=x.pow(H,D),H=x.mul(H,G),G=x.mul(H,M),F=x.mul(H,P);let $=x.mul(F,G);H=x.pow($,z);let Z=x.eql(H,x.ONE);G=x.mul(F,q),H=x.mul($,j),F=x.cmov(G,F,Z),$=x.cmov(H,$,Z);for(let X=R;X>c;X--){let le=X-d;le=d<<le-c;let de=x.pow($,le);const pe=x.eql(de,x.ONE);G=x.mul(F,j),j=x.mul(j,j),de=x.mul($,j),F=x.cmov(G,F,pe),$=x.cmov(de,$,pe)}return{isValid:Z,value:F}};if(x.ORDER%p===f){const P=(x.ORDER-f)/p,M=x.sqrt(x.neg(C));I=(j,G)=>{let F=x.sqr(G);const H=x.mul(j,G);F=x.mul(F,H);let $=x.pow(F,P);$=x.mul($,H);const Z=x.mul($,M),X=x.mul(x.sqr($),G),le=x.eql(X,j);let de=x.cmov(Z,$,le);return{isValid:le,value:de}}}return I}t.SWUFpSqrtRatio=m;function v(x,C){if(e.validateField(x),!x.isValid(C.A)||!x.isValid(C.B)||!x.isValid(C.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const S=m(x,C.Z);if(!x.isOdd)throw new Error("Fp.isOdd is not implemented!");return T=>{let R,_,N,O,D,k,z,K;R=x.sqr(T),R=x.mul(R,C.Z),_=x.sqr(R),_=x.add(_,R),N=x.add(_,x.ONE),N=x.mul(N,C.B),O=x.cmov(C.Z,x.neg(_),!x.eql(_,x.ZERO)),O=x.mul(O,C.A),_=x.sqr(N),k=x.sqr(O),D=x.mul(k,C.A),_=x.add(_,D),_=x.mul(_,N),k=x.mul(k,O),D=x.mul(k,C.B),_=x.add(_,D),z=x.mul(R,N);const{isValid:q,value:I}=S(_,k);K=x.mul(R,T),K=x.mul(K,I),z=x.cmov(z,N,q),K=x.cmov(K,I,q);const P=x.isOdd(T)===x.isOdd(K);return K=x.cmov(x.neg(K),K,P),z=x.div(z,O),{x:z,y:K}}}t.mapToCurveSimpleSWU=v}(nR)),nR}var ya={},y9;function BRe(){if(y9)return ya;y9=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.createHasher=ya.isogenyMap=ya.hash_to_field=ya.expand_message_xof=ya.expand_message_xmd=void 0;const t=cS(),e=Rm();function n(g){if(g instanceof Uint8Array)return g;if(typeof g=="string")return(0,e.utf8ToBytes)(g);throw new Error("DST must be Uint8Array or string")}const r=e.bytesToNumberBE;function s(g,b){if(g<0||g>=1<<8*b)throw new Error(`bad I2OSP call: value=${g} length=${b}`);const w=Array.from({length:b}).fill(0);for(let m=b-1;m>=0;m--)w[m]=g&255,g>>>=8;return new Uint8Array(w)}function i(g,b){const w=new Uint8Array(g.length);for(let m=0;m<g.length;m++)w[m]=g[m]^b[m];return w}function o(g){if(!(g instanceof Uint8Array))throw new Error("Uint8Array expected")}function a(g){if(!Number.isSafeInteger(g))throw new Error("number expected")}function l(g,b,w,m){o(g),o(b),a(w),b.length>255&&(b=m((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),b)));const{outputLen:v,blockLen:x}=m,C=Math.ceil(w/v);if(C>255)throw new Error("Invalid xmd length");const S=(0,e.concatBytes)(b,s(b.length,1)),T=s(0,x),R=s(w,2),_=new Array(C),N=m((0,e.concatBytes)(T,g,R,s(0,1),S));_[0]=m((0,e.concatBytes)(N,s(1,1),S));for(let D=1;D<=C;D++){const k=[i(N,_[D-1]),s(D+1,1),S];_[D]=m((0,e.concatBytes)(...k))}return(0,e.concatBytes)(..._).slice(0,w)}ya.expand_message_xmd=l;function c(g,b,w,m,v){if(o(g),o(b),a(w),b.length>255){const x=Math.ceil(2*m/8);b=v.create({dkLen:x}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(b).digest()}if(w>65535||b.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return v.create({dkLen:w}).update(g).update(s(w,2)).update(b).update(s(b.length,1)).digest()}ya.expand_message_xof=c;function d(g,b,w){(0,e.validateObject)(w,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:m,k:v,m:x,hash:C,expand:S,DST:T}=w;o(g),a(b);const R=n(T),_=m.toString(2).length,N=Math.ceil((_+v)/8),O=b*x*N;let D;if(S==="xmd")D=l(g,R,O,C);else if(S==="xof")D=c(g,R,O,v,C);else if(S==="_internal_pass")D=g;else throw new Error('expand must be "xmd" or "xof"');const k=new Array(b);for(let z=0;z<b;z++){const K=new Array(x);for(let q=0;q<x;q++){const I=N*(q+z*x),P=D.subarray(I,I+N);K[q]=(0,t.mod)(r(P),m)}k[z]=K}return k}ya.hash_to_field=d;function f(g,b){const w=b.map(m=>Array.from(m).reverse());return(m,v)=>{const[x,C,S,T]=w.map(R=>R.reduce((_,N)=>g.add(g.mul(_,m),N)));return m=g.div(x,C),v=g.mul(v,g.div(S,T)),{x:m,y:v}}}ya.isogenyMap=f;function p(g,b,w){if(typeof b!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(m,v){const x=d(m,2,{...w,DST:w.DST,...v}),C=g.fromAffine(b(x[0])),S=g.fromAffine(b(x[1])),T=C.add(S).clearCofactor();return T.assertValidity(),T},encodeToCurve(m,v){const x=d(m,1,{...w,DST:w.encodeDST,...v}),C=g.fromAffine(b(x[0])).clearCofactor();return C.assertValidity(),C}}}return ya.createHasher=p,ya}var ip={},b9;function DRe(){if(b9)return ip;b9=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.createCurve=ip.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=F4(),e=hu(),n=XW();function r(i){return{hash:i,hmac:(o,...a)=>(0,t.hmac)(i,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}ip.getHash=r;function s(i,o){const a=l=>(0,n.weierstrass)({...i,...r(l)});return Object.freeze({...a(o),create:a})}return ip.createCurve=s,ip}var w9;function MRe(){return w9||(w9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=H4(),n=hu(),r=cS(),s=XW(),i=Rm(),o=BRe(),a=DRe(),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d=BigInt(1),f=BigInt(2),p=(G,F)=>(G+F/f)/F;function g(G){const F=l,H=BigInt(3),$=BigInt(6),Z=BigInt(11),X=BigInt(22),le=BigInt(23),de=BigInt(44),pe=BigInt(88),ae=G*G*G%F,ce=ae*ae*G%F,fe=(0,r.pow2)(ce,H,F)*ce%F,ve=(0,r.pow2)(fe,H,F)*ce%F,Re=(0,r.pow2)(ve,f,F)*ae%F,Se=(0,r.pow2)(Re,Z,F)*Re%F,xe=(0,r.pow2)(Se,X,F)*Se%F,te=(0,r.pow2)(xe,de,F)*xe%F,J=(0,r.pow2)(te,pe,F)*te%F,V=(0,r.pow2)(J,de,F)*xe%F,Y=(0,r.pow2)(V,H,F)*ce%F,se=(0,r.pow2)(Y,le,F)*Se%F,me=(0,r.pow2)(se,$,F)*ae%F,_e=(0,r.pow2)(me,f,F);if(!b.eql(b.sqr(_e),G))throw new Error("Cannot find square root");return _e}const b=(0,r.Field)(l,void 0,void 0,{sqrt:g});t.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:b,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:G=>{const F=c,H=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),$=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Z=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),X=H,le=BigInt("0x100000000000000000000000000000000"),de=p(X*G,F),pe=p(-$*G,F);let ae=(0,r.mod)(G-de*H-pe*Z,F),ce=(0,r.mod)(-de*$-pe*X,F);const fe=ae>le,ve=ce>le;if(fe&&(ae=F-ae),ve&&(ce=F-ce),ae>le||ce>le)throw new Error("splitScalar: Endomorphism failed, k="+G);return{k1neg:fe,k1:ae,k2neg:ve,k2:ce}}}},e.sha256);const w=BigInt(0),m=G=>typeof G=="bigint"&&w<G&&G<l,v=G=>typeof G=="bigint"&&w<G&&G<c,x={};function C(G,...F){let H=x[G];if(H===void 0){const $=(0,e.sha256)(Uint8Array.from(G,Z=>Z.charCodeAt(0)));H=(0,i.concatBytes)($,$),x[G]=H}return(0,e.sha256)((0,i.concatBytes)(H,...F))}const S=G=>G.toRawBytes(!0).slice(1),T=G=>(0,i.numberToBytesBE)(G,32),R=G=>(0,r.mod)(G,l),_=G=>(0,r.mod)(G,c),N=t.secp256k1.ProjectivePoint,O=(G,F,H)=>N.BASE.multiplyAndAddUnsafe(G,F,H);function D(G){let F=t.secp256k1.utils.normPrivateKeyToScalar(G),H=N.fromPrivateKey(F);return{scalar:H.hasEvenY()?F:_(-F),bytes:S(H)}}function k(G){if(!m(G))throw new Error("bad x: need 0 < x < p");const F=R(G*G),H=R(F*G+BigInt(7));let $=g(H);$%f!==w&&($=R(-$));const Z=new N(G,$,d);return Z.assertValidity(),Z}function z(...G){return _((0,i.bytesToNumberBE)(C("BIP0340/challenge",...G)))}function K(G){return D(G).bytes}function q(G,F,H=(0,n.randomBytes)(32)){const $=(0,i.ensureBytes)("message",G),{bytes:Z,scalar:X}=D(F),le=(0,i.ensureBytes)("auxRand",H,32),de=T(X^(0,i.bytesToNumberBE)(C("BIP0340/aux",le))),pe=C("BIP0340/nonce",de,Z,$),ae=_((0,i.bytesToNumberBE)(pe));if(ae===w)throw new Error("sign failed: k is zero");const{bytes:ce,scalar:fe}=D(ae),ve=z(ce,Z,$),Re=new Uint8Array(64);if(Re.set(ce,0),Re.set(T(_(fe+ve*X)),32),!I(Re,$,Z))throw new Error("sign: Invalid signature produced");return Re}function I(G,F,H){const $=(0,i.ensureBytes)("signature",G,64),Z=(0,i.ensureBytes)("message",F),X=(0,i.ensureBytes)("publicKey",H,32);try{const le=k((0,i.bytesToNumberBE)(X)),de=(0,i.bytesToNumberBE)($.subarray(0,32));if(!m(de))return!1;const pe=(0,i.bytesToNumberBE)($.subarray(32,64));if(!v(pe))return!1;const ae=z(T(de),S(le),Z),ce=O(le,pe,_(-ae));return!(!ce||!ce.hasEvenY()||ce.toAffine().x!==de)}catch{return!1}}t.schnorr={getPublicKey:K,sign:q,verify:I,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:k,pointToBytes:S,numberToBytesBE:i.numberToBytesBE,bytesToNumberBE:i.bytesToNumberBE,taggedHash:C,mod:r.mod}};const P=(0,o.isogenyMap)(b,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(G=>G.map(F=>BigInt(F)))),M=(0,s.mapToCurveSimpleSWU)(b,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:b.create(BigInt("-11"))}),j=(0,o.createHasher)(t.secp256k1.ProjectivePoint,G=>{const{x:F,y:H}=M(b.create(G[0]));return P(F,H)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:b.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=j.hashToCurve,t.encodeToCurve=j.encodeToCurve}(tR)),tR}var Qb={},rR={},Yb={},v9;function eQ(){return v9||(v9=1,Object.defineProperty(Yb,"__esModule",{value:!0}),Yb.ZeroAddress=void 0,Yb.ZeroAddress="0x0000000000000000000000000000000000000000"),Yb}var Jb={},x9;function URe(){return x9||(x9=1,Object.defineProperty(Jb,"__esModule",{value:!0}),Jb.ZeroHash=void 0,Jb.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),Jb}var ba={},E9;function LRe(){return E9||(E9=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.MaxInt256=ba.MinInt256=ba.MaxUint256=ba.WeiPerEther=ba.N=void 0,ba.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ba.WeiPerEther=BigInt("1000000000000000000"),ba.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ba.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),ba.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),ba}var op={},A9;function jRe(){return A9||(A9=1,Object.defineProperty(op,"__esModule",{value:!0}),op.MessagePrefix=op.EtherSymbol=void 0,op.EtherSymbol="",op.MessagePrefix=`Ethereum Signed Message:
`),op}var C9;function rx(){return C9||(C9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePrefix=t.EtherSymbol=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.N=t.ZeroHash=t.ZeroAddress=void 0;var e=eQ();Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return e.ZeroAddress}});var n=URe();Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return n.ZeroHash}});var r=LRe();Object.defineProperty(t,"N",{enumerable:!0,get:function(){return r.N}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return r.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return r.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return r.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return r.MaxInt256}});var s=jRe();Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}})}(rR)),rR}var S9;function tQ(){if(S9)return Qb;S9=1,Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.Signature=void 0;const t=rx(),e=Et(),n=BigInt(0),r=BigInt(1),s=BigInt(2),i=BigInt(27),o=BigInt(28),a=BigInt(35),l={};function c(f){return(0,e.zeroPadValue)((0,e.toBeArray)(f),32)}class d{#e;#t;#n;#r;get r(){return this.#e}set r(p){(0,e.assertArgument)((0,e.dataLength)(p)===32,"invalid r","value",p),this.#e=(0,e.hexlify)(p)}get s(){return(0,e.assertArgument)(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(p){(0,e.assertArgument)((0,e.dataLength)(p)===32,"invalid s","value",p),this.#t=(0,e.hexlify)(p)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(p){const g=(0,e.getNumber)(p,"value");(0,e.assertArgument)(g===27||g===28,"invalid v","v",p),this.#n=g}get networkV(){return this.#r}get legacyChainId(){const p=this.networkV;return p==null?null:d.getChainId(p)}get yParity(){return this.v===27?0:1}get yParityAndS(){const p=(0,e.getBytes)(this.s);return this.yParity&&(p[0]|=128),(0,e.hexlify)(p)}get compactSerialized(){return(0,e.concat)([this.r,this.yParityAndS])}get serialized(){return(0,e.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(p,g,b,w){(0,e.assertPrivate)(p,l,"Signature"),this.#e=g,this.#t=b,this.#n=w,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const p=new d(l,this.r,this._s,this.v);return this.networkV&&(p.#r=this.networkV),p}toJSON(){const p=this.networkV;return{_type:"signature",networkV:p!=null?p.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(p){const g=(0,e.getBigInt)(p,"v");return g==i||g==o?n:((0,e.assertArgument)(g>=a,"invalid EIP-155 v","v",p),(g-a)/s)}static getChainIdV(p,g){return(0,e.getBigInt)(p)*s+BigInt(35+g-27)}static getNormalizedV(p){const g=(0,e.getBigInt)(p);return g===n||g===i?27:g===r||g===o?28:((0,e.assertArgument)(g>=a,"invalid v","v",p),g&r?27:28)}static from(p){function g(S,T){(0,e.assertArgument)(S,T,"signature",p)}if(p==null)return new d(l,t.ZeroHash,t.ZeroHash,27);if(typeof p=="string"){const S=(0,e.getBytes)(p,"signature");if(S.length===64){const T=(0,e.hexlify)(S.slice(0,32)),R=S.slice(32,64),_=R[0]&128?28:27;return R[0]&=127,new d(l,T,(0,e.hexlify)(R),_)}if(S.length===65){const T=(0,e.hexlify)(S.slice(0,32)),R=(0,e.hexlify)(S.slice(32,64)),_=d.getNormalizedV(S[64]);return new d(l,T,R,_)}g(!1,"invalid raw signature length")}if(p instanceof d)return p.clone();const b=p.r;g(b!=null,"missing r");const w=c(b),m=function(S,T){if(S!=null)return c(S);if(T!=null){g((0,e.isHexString)(T,32),"invalid yParityAndS");const R=(0,e.getBytes)(T);return R[0]&=127,(0,e.hexlify)(R)}g(!1,"missing s")}(p.s,p.yParityAndS),{networkV:v,v:x}=function(S,T,R){if(S!=null){const _=(0,e.getBigInt)(S);return{networkV:_>=a?_:void 0,v:d.getNormalizedV(_)}}if(T!=null)return g((0,e.isHexString)(T,32),"invalid yParityAndS"),{v:(0,e.getBytes)(T)[0]&128?28:27};if(R!=null){switch((0,e.getNumber)(R,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}g(!1,"invalid yParity")}g(!1,"missing v")}(p.v,p.yParityAndS,p.yParity),C=new d(l,w,m,x);return v&&(C.#r=v),g(p.yParity==null||(0,e.getNumber)(p.yParity,"sig.yParity")===C.yParity,"yParity mismatch"),g(p.yParityAndS==null||p.yParityAndS===C.yParityAndS,"yParityAndS mismatch"),C}}return Qb.Signature=d,Qb}var _9;function FRe(){if(_9)return Wb;_9=1,Object.defineProperty(Wb,"__esModule",{value:!0}),Wb.SigningKey=void 0;const t=MRe(),e=Et(),n=tQ();class r{#e;constructor(i){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=(0,e.hexlify)(i)}get privateKey(){return this.#e}get publicKey(){return r.computePublicKey(this.#e)}get compressedPublicKey(){return r.computePublicKey(this.#e,!0)}sign(i){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid digest length","digest",i);const o=t.secp256k1.sign((0,e.getBytesCopy)(i),(0,e.getBytesCopy)(this.#e),{lowS:!0});return n.Signature.from({r:(0,e.toBeHex)(o.r,32),s:(0,e.toBeHex)(o.s,32),v:o.recovery?28:27})}computeSharedSecret(i){const o=r.computePublicKey(i);return(0,e.hexlify)(t.secp256k1.getSharedSecret((0,e.getBytesCopy)(this.#e),(0,e.getBytes)(o),!1))}static computePublicKey(i,o){let a=(0,e.getBytes)(i,"key");if(a.length===32){const c=t.secp256k1.getPublicKey(a,!!o);return(0,e.hexlify)(c)}if(a.length===64){const c=new Uint8Array(65);c[0]=4,c.set(a,1),a=c}const l=t.secp256k1.ProjectivePoint.fromHex(a);return(0,e.hexlify)(l.toRawBytes(o))}static recoverPublicKey(i,o){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid digest length","digest",i);const a=n.Signature.from(o);let l=t.secp256k1.Signature.fromCompact((0,e.getBytesCopy)((0,e.concat)([a.r,a.s])));l=l.addRecoveryBit(a.yParity);const c=l.recoverPublicKey((0,e.getBytesCopy)(i));return(0,e.assertArgument)(c!=null,"invalid signature for digest","signature",o),"0x"+c.toHex(!1)}static addPoints(i,o,a){const l=t.secp256k1.ProjectivePoint.fromHex(r.computePublicKey(i).substring(2)),c=t.secp256k1.ProjectivePoint.fromHex(r.computePublicKey(o).substring(2));return"0x"+l.add(c).toHex(!!a)}}return Wb.SigningKey=r,Wb}var N9;function ti(){return N9||(N9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.lock=t.Signature=t.SigningKey=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=void 0;const e=ARe();Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return e.computeHmac}});const n=SRe();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return n.keccak256}});const r=NRe();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return r.ripemd160}});const s=TRe();Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return s.pbkdf2}});const i=RRe();Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return i.randomBytes}});const o=ORe();Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return o.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return o.scryptSync}});const a=IRe();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return a.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return a.sha512}});var l=FRe();Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return l.SigningKey}});var c=tQ();Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return c.Signature}});function d(){e.computeHmac.lock(),n.keccak256.lock(),s.pbkdf2.lock(),i.randomBytes.lock(),r.ripemd160.lock(),o.scrypt.lock(),o.scryptSync.lock(),a.sha256.lock(),a.sha512.lock(),i.randomBytes.lock()}t.lock=d}(Z3)),Z3}var T9;function z4(){if(T9)return Jh;T9=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.getIcapAddress=Jh.getAddress=void 0;const t=ti(),e=Et(),n=BigInt(0),r=BigInt(36);function s(p){p=p.toLowerCase();const g=p.substring(2).split(""),b=new Uint8Array(40);for(let m=0;m<40;m++)b[m]=g[m].charCodeAt(0);const w=(0,e.getBytes)((0,t.keccak256)(b));for(let m=0;m<40;m+=2)w[m>>1]>>4>=8&&(g[m]=g[m].toUpperCase()),(w[m>>1]&15)>=8&&(g[m+1]=g[m+1].toUpperCase());return"0x"+g.join("")}const i={};for(let p=0;p<10;p++)i[String(p)]=String(p);for(let p=0;p<26;p++)i[String.fromCharCode(65+p)]=String(10+p);const o=15;function a(p){p=p.toUpperCase(),p=p.substring(4)+p.substring(0,2)+"00";let g=p.split("").map(w=>i[w]).join("");for(;g.length>=o;){let w=g.substring(0,o);g=parseInt(w,10)%97+g.substring(w.length)}let b=String(98-parseInt(g,10)%97);for(;b.length<2;)b="0"+b;return b}const l=function(){const p={};for(let g=0;g<36;g++){const b="0123456789abcdefghijklmnopqrstuvwxyz"[g];p[b]=BigInt(g)}return p}();function c(p){p=p.toLowerCase();let g=n;for(let b=0;b<p.length;b++)g=g*r+l[p[b]];return g}function d(p){if((0,e.assertArgument)(typeof p=="string","invalid address","address",p),p.match(/^(0x)?[0-9a-fA-F]{40}$/)){p.startsWith("0x")||(p="0x"+p);const g=s(p);return(0,e.assertArgument)(!p.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||g===p,"bad address checksum","address",p),g}if(p.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,e.assertArgument)(p.substring(2,4)===a(p),"bad icap checksum","address",p);let g=c(p.substring(4)).toString(16);for(;g.length<40;)g="0"+g;return s("0x"+g)}(0,e.assertArgument)(!1,"invalid address","address",p)}Jh.getAddress=d;function f(p){let g=BigInt(d(p)).toString(36).toUpperCase();for(;g.length<30;)g="0"+g;return"XE"+a("XE00"+g)+g}return Jh.getIcapAddress=f,Jh}var ap={},R9;function $Re(){if(R9)return ap;R9=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.getCreate2Address=ap.getCreateAddress=void 0;const t=ti(),e=Et(),n=z4();function r(i){const o=(0,n.getAddress)(i.from);let l=(0,e.getBigInt)(i.nonce,"tx.nonce").toString(16);return l==="0"?l="0x":l.length%2?l="0x0"+l:l="0x"+l,(0,n.getAddress)((0,e.dataSlice)((0,t.keccak256)((0,e.encodeRlp)([o,l])),12))}ap.getCreateAddress=r;function s(i,o,a){const l=(0,n.getAddress)(i),c=(0,e.getBytes)(o,"salt"),d=(0,e.getBytes)(a,"initCodeHash");return(0,e.assertArgument)(c.length===32,"salt must be 32 bytes","salt",o),(0,e.assertArgument)(d.length===32,"initCodeHash must be 32 bytes","initCodeHash",a),(0,n.getAddress)((0,e.dataSlice)((0,t.keccak256)((0,e.concat)(["0xff",l,c,d])),12))}return ap.getCreate2Address=s,ap}var Ku={},P9;function HRe(){if(P9)return Ku;P9=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.resolveAddress=Ku.isAddress=Ku.isAddressable=void 0;const t=Et(),e=z4();function n(o){return o&&typeof o.getAddress=="function"}Ku.isAddressable=n;function r(o){try{return(0,e.getAddress)(o),!0}catch{}return!1}Ku.isAddress=r;async function s(o,a){const l=await a;return(l==null||l==="0x0000000000000000000000000000000000000000")&&((0,t.assert)(typeof o!="string","unconfigured name","UNCONFIGURED_NAME",{value:o}),(0,t.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",o)),(0,e.getAddress)(l)}function i(o,a){if(typeof o=="string")return o.match(/^0x[0-9a-f]{40}$/i)?(0,e.getAddress)(o):((0,t.assert)(a!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),s(o,a.resolveName(o)));if(n(o))return s(o,o.getAddress());if(o&&typeof o.then=="function")return s(o,o);(0,t.assertArgument)(!1,"unsupported addressable value","target",o)}return Ku.resolveAddress=i,Ku}var O9;function Fs(){return O9||(O9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=void 0;var e=z4();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return e.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return e.getIcapAddress}});var n=$Re();Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return n.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return n.getCreate2Address}});var r=HRe();Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return r.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return r.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return r.resolveAddress}})}(J3)),J3}var Zb={},I9;function kd(){if(I9)return Zb;I9=1,Object.defineProperty(Zb,"__esModule",{value:!0}),Zb.Typed=void 0;const t=Et(),e={};function n(o,a){let l=!1;return a<0&&(l=!0,a*=-1),new i(e,`${l?"":"u"}int${a}`,o,{signed:l,width:a})}function r(o,a){return new i(e,`bytes${a||""}`,o,{size:a})}const s=Symbol.for("_ethers_typed");class i{type;value;#e;_typedSymbol;constructor(a,l,c,d){d==null&&(d=null),(0,t.assertPrivate)(e,a,"Typed"),(0,t.defineProperties)(this,{_typedSymbol:s,type:l,value:c}),this.#e=d,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(a=>a.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(a,l){return new i(e,a,l)}static uint8(a){return n(a,8)}static uint16(a){return n(a,16)}static uint24(a){return n(a,24)}static uint32(a){return n(a,32)}static uint40(a){return n(a,40)}static uint48(a){return n(a,48)}static uint56(a){return n(a,56)}static uint64(a){return n(a,64)}static uint72(a){return n(a,72)}static uint80(a){return n(a,80)}static uint88(a){return n(a,88)}static uint96(a){return n(a,96)}static uint104(a){return n(a,104)}static uint112(a){return n(a,112)}static uint120(a){return n(a,120)}static uint128(a){return n(a,128)}static uint136(a){return n(a,136)}static uint144(a){return n(a,144)}static uint152(a){return n(a,152)}static uint160(a){return n(a,160)}static uint168(a){return n(a,168)}static uint176(a){return n(a,176)}static uint184(a){return n(a,184)}static uint192(a){return n(a,192)}static uint200(a){return n(a,200)}static uint208(a){return n(a,208)}static uint216(a){return n(a,216)}static uint224(a){return n(a,224)}static uint232(a){return n(a,232)}static uint240(a){return n(a,240)}static uint248(a){return n(a,248)}static uint256(a){return n(a,256)}static uint(a){return n(a,256)}static int8(a){return n(a,-8)}static int16(a){return n(a,-16)}static int24(a){return n(a,-24)}static int32(a){return n(a,-32)}static int40(a){return n(a,-40)}static int48(a){return n(a,-48)}static int56(a){return n(a,-56)}static int64(a){return n(a,-64)}static int72(a){return n(a,-72)}static int80(a){return n(a,-80)}static int88(a){return n(a,-88)}static int96(a){return n(a,-96)}static int104(a){return n(a,-104)}static int112(a){return n(a,-112)}static int120(a){return n(a,-120)}static int128(a){return n(a,-128)}static int136(a){return n(a,-136)}static int144(a){return n(a,-144)}static int152(a){return n(a,-152)}static int160(a){return n(a,-160)}static int168(a){return n(a,-168)}static int176(a){return n(a,-176)}static int184(a){return n(a,-184)}static int192(a){return n(a,-192)}static int200(a){return n(a,-200)}static int208(a){return n(a,-208)}static int216(a){return n(a,-216)}static int224(a){return n(a,-224)}static int232(a){return n(a,-232)}static int240(a){return n(a,-240)}static int248(a){return n(a,-248)}static int256(a){return n(a,-256)}static int(a){return n(a,-256)}static bytes1(a){return r(a,1)}static bytes2(a){return r(a,2)}static bytes3(a){return r(a,3)}static bytes4(a){return r(a,4)}static bytes5(a){return r(a,5)}static bytes6(a){return r(a,6)}static bytes7(a){return r(a,7)}static bytes8(a){return r(a,8)}static bytes9(a){return r(a,9)}static bytes10(a){return r(a,10)}static bytes11(a){return r(a,11)}static bytes12(a){return r(a,12)}static bytes13(a){return r(a,13)}static bytes14(a){return r(a,14)}static bytes15(a){return r(a,15)}static bytes16(a){return r(a,16)}static bytes17(a){return r(a,17)}static bytes18(a){return r(a,18)}static bytes19(a){return r(a,19)}static bytes20(a){return r(a,20)}static bytes21(a){return r(a,21)}static bytes22(a){return r(a,22)}static bytes23(a){return r(a,23)}static bytes24(a){return r(a,24)}static bytes25(a){return r(a,25)}static bytes26(a){return r(a,26)}static bytes27(a){return r(a,27)}static bytes28(a){return r(a,28)}static bytes29(a){return r(a,29)}static bytes30(a){return r(a,30)}static bytes31(a){return r(a,31)}static bytes32(a){return r(a,32)}static address(a){return new i(e,"address",a)}static bool(a){return new i(e,"bool",!!a)}static bytes(a){return new i(e,"bytes",a)}static string(a){return new i(e,"string",a)}static array(a,l){throw new Error("not implemented yet")}static tuple(a,l){throw new Error("not implemented yet")}static overrides(a){return new i(e,"overrides",Object.assign({},a))}static isTyped(a){return a&&typeof a=="object"&&"_typedSymbol"in a&&a._typedSymbol===s}static dereference(a,l){if(i.isTyped(a)){if(a.type!==l)throw new Error(`invalid type: expecetd ${l}, got ${a.type}`);return a.value}return a}}return Zb.Typed=i,Zb}var k9;function zRe(){if(k9)return Fb;k9=1,Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.AddressCoder=void 0;const t=Fs(),e=tx(),n=kd(),r=bl();class s extends r.Coder{constructor(o){super("address","address",o,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(o,a){let l=n.Typed.dereference(a,"string");try{l=(0,t.getAddress)(l)}catch(c){return this._throwError(c.message,a)}return o.writeValue(l)}decode(o){return(0,t.getAddress)((0,e.toBeHex)(o.readValue(),20))}}return Fb.AddressCoder=s,Fb}var Wu={},Xb={},B9;function qRe(){if(B9)return Xb;B9=1,Object.defineProperty(Xb,"__esModule",{value:!0}),Xb.AnonymousCoder=void 0;const t=bl();class e extends t.Coder{coder;constructor(r){super(r.name,r.type,"_",r.dynamic),this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,s){return this.coder.encode(r,s)}decode(r){return this.coder.decode(r)}}return Xb.AnonymousCoder=e,Xb}var D9;function nQ(){if(D9)return Wu;D9=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.ArrayCoder=Wu.unpack=Wu.pack=void 0;const t=Et(),e=kd(),n=bl(),r=qRe();function s(a,l,c){let d=[];if(Array.isArray(c))d=c;else if(c&&typeof c=="object"){let w={};d=l.map(m=>{const v=m.localName;return(0,t.assert)(v,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:c}),(0,t.assert)(!w[v],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:c}),w[v]=!0,c[v]})}else(0,t.assertArgument)(!1,"invalid tuple value","tuple",c);(0,t.assertArgument)(l.length===d.length,"types/value length mismatch","tuple",c);let f=new n.Writer,p=new n.Writer,g=[];l.forEach((w,m)=>{let v=d[m];if(w.dynamic){let x=p.length;w.encode(p,v);let C=f.writeUpdatableValue();g.push(S=>{C(S+x)})}else w.encode(f,v)}),g.forEach(w=>{w(f.length)});let b=a.appendWriter(f);return b+=a.appendWriter(p),b}Wu.pack=s;function i(a,l){let c=[],d=[],f=a.subReader(0);return l.forEach(p=>{let g=null;if(p.dynamic){let b=a.readIndex(),w=f.subReader(b);try{g=p.decode(w)}catch(m){if((0,t.isError)(m,"BUFFER_OVERRUN"))throw m;g=m,g.baseType=p.name,g.name=p.localName,g.type=p.type}}else try{g=p.decode(a)}catch(b){if((0,t.isError)(b,"BUFFER_OVERRUN"))throw b;g=b,g.baseType=p.name,g.name=p.localName,g.type=p.type}if(g==null)throw new Error("investigate");c.push(g),d.push(p.localName||null)}),n.Result.fromItems(c,d)}Wu.unpack=i;class o extends n.Coder{coder;length;constructor(l,c,d){const f=l.type+"["+(c>=0?c:"")+"]",p=c===-1||l.dynamic;super("array",f,d,p),(0,t.defineProperties)(this,{coder:l,length:c})}defaultValue(){const l=this.coder.defaultValue(),c=[];for(let d=0;d<this.length;d++)c.push(l);return c}encode(l,c){const d=e.Typed.dereference(c,"array");Array.isArray(d)||this._throwError("expected array value",d);let f=this.length;f===-1&&(f=d.length,l.writeValue(d.length)),(0,t.assertArgumentCount)(d.length,f,"coder array"+(this.localName?" "+this.localName:""));let p=[];for(let g=0;g<d.length;g++)p.push(this.coder);return s(l,p,d)}decode(l){let c=this.length;c===-1&&(c=l.readIndex(),(0,t.assert)(c*n.WordSize<=l.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:l.bytes,offset:c*n.WordSize,length:l.dataLength}));let d=[];for(let f=0;f<c;f++)d.push(new r.AnonymousCoder(this.coder));return i(l,d)}}return Wu.ArrayCoder=o,Wu}var ew={},M9;function VRe(){if(M9)return ew;M9=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.BooleanCoder=void 0;const t=kd(),e=bl();class n extends e.Coder{constructor(s){super("bool","bool",s,!1)}defaultValue(){return!1}encode(s,i){const o=t.Typed.dereference(i,"bool");return s.writeValue(o?1:0)}decode(s){return!!s.readValue()}}return ew.BooleanCoder=n,ew}var cp={},U9;function rQ(){if(U9)return cp;U9=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.BytesCoder=cp.DynamicBytesCoder=void 0;const t=Et(),e=bl();class n extends e.Coder{constructor(i,o){super(i,i,o,!0)}defaultValue(){return"0x"}encode(i,o){o=(0,t.getBytesCopy)(o);let a=i.writeValue(o.length);return a+=i.writeBytes(o),a}decode(i){return i.readBytes(i.readIndex(),!0)}}cp.DynamicBytesCoder=n;class r extends n{constructor(i){super("bytes",i)}decode(i){return(0,t.hexlify)(super.decode(i))}}return cp.BytesCoder=r,cp}var tw={},L9;function GRe(){if(L9)return tw;L9=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.FixedBytesCoder=void 0;const t=Et(),e=kd(),n=bl();class r extends n.Coder{size;constructor(i,o){let a="bytes"+String(i);super(a,a,o,!1),(0,t.defineProperties)(this,{size:i},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(i,o){let a=(0,t.getBytesCopy)(e.Typed.dereference(o,this.type));return a.length!==this.size&&this._throwError("incorrect data length",o),i.writeBytes(a)}decode(i){return(0,t.hexlify)(i.readBytes(this.size))}}return tw.FixedBytesCoder=r,tw}var nw={},j9;function KRe(){if(j9)return nw;j9=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.NullCoder=void 0;const t=bl(),e=new Uint8Array([]);class n extends t.Coder{constructor(s){super("null","",s,!1)}defaultValue(){return null}encode(s,i){return i!=null&&this._throwError("not null",i),s.writeBytes(e)}decode(s){return s.readBytes(0),null}}return nw.NullCoder=n,nw}var rw={},F9;function WRe(){if(F9)return rw;F9=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.NumberCoder=void 0;const t=Et(),e=kd(),n=bl(),r=BigInt(0),s=BigInt(1),i=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class o extends n.Coder{size;signed;constructor(l,c,d){const f=(c?"int":"uint")+l*8;super(f,f,d,!1),(0,t.defineProperties)(this,{size:l,signed:c},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(l,c){let d=(0,t.getBigInt)(e.Typed.dereference(c,this.type)),f=(0,t.mask)(i,n.WordSize*8);if(this.signed){let p=(0,t.mask)(f,this.size*8-1);(d>p||d<-(p+s))&&this._throwError("value out-of-bounds",c),d=(0,t.toTwos)(d,8*n.WordSize)}else(d<r||d>(0,t.mask)(f,this.size*8))&&this._throwError("value out-of-bounds",c);return l.writeValue(d)}decode(l){let c=(0,t.mask)(l.readValue(),this.size*8);return this.signed&&(c=(0,t.fromTwos)(c,this.size*8)),c}}return rw.NumberCoder=o,rw}var sw={},$9;function QRe(){if($9)return sw;$9=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.StringCoder=void 0;const t=j4(),e=kd(),n=rQ();class r extends n.DynamicBytesCoder{constructor(i){super("string",i)}defaultValue(){return""}encode(i,o){return super.encode(i,(0,t.toUtf8Bytes)(e.Typed.dereference(o,"string")))}decode(i){return(0,t.toUtf8String)(super.decode(i))}}return sw.StringCoder=r,sw}var iw={},H9;function YRe(){if(H9)return iw;H9=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.TupleCoder=void 0;const t=k0(),e=kd(),n=bl(),r=nQ();class s extends n.Coder{coders;constructor(o,a){let l=!1;const c=[];o.forEach(f=>{f.dynamic&&(l=!0),c.push(f.type)});const d="tuple("+c.join(",")+")";super("tuple",d,a,l),(0,t.defineProperties)(this,{coders:Object.freeze(o.slice())})}defaultValue(){const o=[];this.coders.forEach(l=>{o.push(l.defaultValue())});const a=this.coders.reduce((l,c)=>{const d=c.localName;return d&&(l[d]||(l[d]=0),l[d]++),l},{});return this.coders.forEach((l,c)=>{let d=l.localName;!d||a[d]!==1||(d==="length"&&(d="_length"),o[d]==null&&(o[d]=o[c]))}),Object.freeze(o)}encode(o,a){const l=e.Typed.dereference(a,"tuple");return(0,r.pack)(o,this.coders,l)}decode(o){return(0,r.unpack)(o,this.coders)}}return iw.TupleCoder=s,iw}var Rs={},sR={},lp={},iR={},ow={},z9;function sQ(){if(z9)return ow;z9=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.accessListify=void 0;const t=Fs(),e=Et();function n(s,i){return{address:(0,t.getAddress)(s),storageKeys:i.map((o,a)=>((0,e.assertArgument)((0,e.isHexString)(o,32),"invalid slot",`storageKeys[${a}]`,o),o.toLowerCase()))}}function r(s){if(Array.isArray(s))return s.map((o,a)=>Array.isArray(o)?((0,e.assertArgument)(o.length===2,"invalid slot set",`value[${a}]`,o),n(o[0],o[1])):((0,e.assertArgument)(o!=null&&typeof o=="object","invalid address-slot set","value",s),n(o.address,o.storageKeys)));(0,e.assertArgument)(s!=null&&typeof s=="object","invalid access list","value",s);const i=Object.keys(s).map(o=>{const a=s[o].reduce((l,c)=>(l[c]=!0,l),{});return n(o,Object.keys(a).sort())});return i.sort((o,a)=>o.address.localeCompare(a.address)),i}return ow.accessListify=r,ow}var aw={},q9;function iQ(){if(q9)return aw;q9=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.authorizationify=void 0;const t=Fs(),e=ti(),n=Et();function r(s){return{address:(0,t.getAddress)(s.address),nonce:(0,n.getBigInt)(s.nonce!=null?s.nonce:0),chainId:(0,n.getBigInt)(s.chainId!=null?s.chainId:0),signature:e.Signature.from(s.signature)}}return aw.authorizationify=r,aw}var up={},V9;function oQ(){if(V9)return up;V9=1,Object.defineProperty(up,"__esModule",{value:!0}),up.recoverAddress=up.computeAddress=void 0;const t=Fs(),e=ti();function n(s){let i;return typeof s=="string"?i=e.SigningKey.computePublicKey(s,!1):i=s.publicKey,(0,t.getAddress)((0,e.keccak256)("0x"+i.substring(4)).substring(26))}up.computeAddress=n;function r(s,i){return n(e.SigningKey.recoverPublicKey(s,i))}return up.recoverAddress=r,up}var cw={},G9;function JRe(){if(G9)return cw;G9=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.Transaction=void 0;const t=Fs(),e=eQ(),n=ti(),r=Et(),s=sQ(),i=iQ(),o=oQ(),a=BigInt(0),l=BigInt(2),c=BigInt(27),d=BigInt(28),f=BigInt(35),p=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),g=4096*32;function b(H){return{blobToKzgCommitment:X=>{if("computeBlobProof"in H){if("blobToKzgCommitment"in H&&typeof H.blobToKzgCommitment=="function")return(0,r.getBytes)(H.blobToKzgCommitment((0,r.hexlify)(X)))}else if("blobToKzgCommitment"in H&&typeof H.blobToKzgCommitment=="function")return(0,r.getBytes)(H.blobToKzgCommitment(X));if("blobToKZGCommitment"in H&&typeof H.blobToKZGCommitment=="function")return(0,r.getBytes)(H.blobToKZGCommitment((0,r.hexlify)(X)));(0,r.assertArgument)(!1,"unsupported KZG library","kzg",H)},computeBlobKzgProof:(X,le)=>{if("computeBlobProof"in H&&typeof H.computeBlobProof=="function")return(0,r.getBytes)(H.computeBlobProof((0,r.hexlify)(X),(0,r.hexlify)(le)));if("computeBlobKzgProof"in H&&typeof H.computeBlobKzgProof=="function")return H.computeBlobKzgProof(X,le);if("computeBlobKZGProof"in H&&typeof H.computeBlobKZGProof=="function")return(0,r.getBytes)(H.computeBlobKZGProof((0,r.hexlify)(X),(0,r.hexlify)(le)));(0,r.assertArgument)(!1,"unsupported KZG library","kzg",H)}}}function w(H,$){let Z=H.toString(16);for(;Z.length<2;)Z="0"+Z;return Z+=(0,n.sha256)($).substring(4),"0x"+Z}function m(H){return H==="0x"?null:(0,t.getAddress)(H)}function v(H,$){try{return(0,s.accessListify)(H)}catch(Z){(0,r.assertArgument)(!1,Z.message,$,H)}}function x(H,$){try{if(!Array.isArray(H))throw new Error("authorizationList: invalid array");const Z=[];for(let X=0;X<H.length;X++){const le=H[X];if(!Array.isArray(le))throw new Error(`authorization[${X}]: invalid array`);if(le.length!==6)throw new Error(`authorization[${X}]: wrong length`);if(!le[1])throw new Error(`authorization[${X}]: null address`);Z.push({address:m(le[1]),nonce:S(le[2],"nonce"),chainId:S(le[0],"chainId"),signature:n.Signature.from({yParity:C(le[3],"yParity"),r:(0,r.zeroPadValue)(le[4],32),s:(0,r.zeroPadValue)(le[5],32)})})}return Z}catch(Z){(0,r.assertArgument)(!1,Z.message,$,H)}}function C(H,$){return H==="0x"?0:(0,r.getNumber)(H,$)}function S(H,$){if(H==="0x")return a;const Z=(0,r.getBigInt)(H,$);return(0,r.assertArgument)(Z<=p,"value exceeds uint size",$,Z),Z}function T(H,$){const Z=(0,r.getBigInt)(H,"value"),X=(0,r.toBeArray)(Z);return(0,r.assertArgument)(X.length<=32,"value too large",`tx.${$}`,Z),X}function R(H){return(0,s.accessListify)(H).map($=>[$.address,$.storageKeys])}function _(H){return H.map($=>[T($.chainId,"chainId"),$.address,T($.nonce,"nonce"),T($.signature.yParity,"yParity"),(0,r.toBeArray)($.signature.r),(0,r.toBeArray)($.signature.s)])}function N(H,$){(0,r.assertArgument)(Array.isArray(H),`invalid ${$}`,"value",H);for(let Z=0;Z<H.length;Z++)(0,r.assertArgument)((0,r.isHexString)(H[Z],32),"invalid ${ param } hash",`value[${Z}]`,H[Z]);return H}function O(H){const $=(0,r.decodeRlp)(H);(0,r.assertArgument)(Array.isArray($)&&($.length===9||$.length===6),"invalid field count for legacy transaction","data",H);const Z={type:0,nonce:C($[0],"nonce"),gasPrice:S($[1],"gasPrice"),gasLimit:S($[2],"gasLimit"),to:m($[3]),value:S($[4],"value"),data:(0,r.hexlify)($[5]),chainId:a};if($.length===6)return Z;const X=S($[6],"v"),le=S($[7],"r"),de=S($[8],"s");if(le===a&&de===a)Z.chainId=X;else{let pe=(X-f)/l;pe<a&&(pe=a),Z.chainId=pe,(0,r.assertArgument)(pe!==a||X===c||X===d,"non-canonical legacy v","v",$[6]),Z.signature=n.Signature.from({r:(0,r.zeroPadValue)($[7],32),s:(0,r.zeroPadValue)($[8],32),v:X})}return Z}function D(H,$){const Z=[T(H.nonce,"nonce"),T(H.gasPrice||0,"gasPrice"),T(H.gasLimit,"gasLimit"),H.to||"0x",T(H.value,"value"),H.data];let X=a;if(H.chainId!=a)X=(0,r.getBigInt)(H.chainId,"tx.chainId"),(0,r.assertArgument)(!$||$.networkV==null||$.legacyChainId===X,"tx.chainId/sig.v mismatch","sig",$);else if(H.signature){const de=H.signature.legacyChainId;de!=null&&(X=de)}if(!$)return X!==a&&(Z.push((0,r.toBeArray)(X)),Z.push("0x"),Z.push("0x")),(0,r.encodeRlp)(Z);let le=BigInt(27+$.yParity);return X!==a?le=n.Signature.getChainIdV(X,$.v):BigInt($.v)!==le&&(0,r.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",$),Z.push((0,r.toBeArray)(le)),Z.push((0,r.toBeArray)($.r)),Z.push((0,r.toBeArray)($.s)),(0,r.encodeRlp)(Z)}function k(H,$){let Z;try{if(Z=C($[0],"yParity"),Z!==0&&Z!==1)throw new Error("bad yParity")}catch{(0,r.assertArgument)(!1,"invalid yParity","yParity",$[0])}const X=(0,r.zeroPadValue)($[1],32),le=(0,r.zeroPadValue)($[2],32),de=n.Signature.from({r:X,s:le,yParity:Z});H.signature=de}function z(H){const $=(0,r.decodeRlp)((0,r.getBytes)(H).slice(1));(0,r.assertArgument)(Array.isArray($)&&($.length===9||$.length===12),"invalid field count for transaction type: 2","data",(0,r.hexlify)(H));const Z={type:2,chainId:S($[0],"chainId"),nonce:C($[1],"nonce"),maxPriorityFeePerGas:S($[2],"maxPriorityFeePerGas"),maxFeePerGas:S($[3],"maxFeePerGas"),gasPrice:null,gasLimit:S($[4],"gasLimit"),to:m($[5]),value:S($[6],"value"),data:(0,r.hexlify)($[7]),accessList:v($[8],"accessList")};return $.length===9||k(Z,$.slice(9)),Z}function K(H,$){const Z=[T(H.chainId,"chainId"),T(H.nonce,"nonce"),T(H.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),T(H.maxFeePerGas||0,"maxFeePerGas"),T(H.gasLimit,"gasLimit"),H.to||"0x",T(H.value,"value"),H.data,R(H.accessList||[])];return $&&(Z.push(T($.yParity,"yParity")),Z.push((0,r.toBeArray)($.r)),Z.push((0,r.toBeArray)($.s))),(0,r.concat)(["0x02",(0,r.encodeRlp)(Z)])}function q(H){const $=(0,r.decodeRlp)((0,r.getBytes)(H).slice(1));(0,r.assertArgument)(Array.isArray($)&&($.length===8||$.length===11),"invalid field count for transaction type: 1","data",(0,r.hexlify)(H));const Z={type:1,chainId:S($[0],"chainId"),nonce:C($[1],"nonce"),gasPrice:S($[2],"gasPrice"),gasLimit:S($[3],"gasLimit"),to:m($[4]),value:S($[5],"value"),data:(0,r.hexlify)($[6]),accessList:v($[7],"accessList")};return $.length===8||k(Z,$.slice(8)),Z}function I(H,$){const Z=[T(H.chainId,"chainId"),T(H.nonce,"nonce"),T(H.gasPrice||0,"gasPrice"),T(H.gasLimit,"gasLimit"),H.to||"0x",T(H.value,"value"),H.data,R(H.accessList||[])];return $&&(Z.push(T($.yParity,"recoveryParam")),Z.push((0,r.toBeArray)($.r)),Z.push((0,r.toBeArray)($.s))),(0,r.concat)(["0x01",(0,r.encodeRlp)(Z)])}function P(H){let $=(0,r.decodeRlp)((0,r.getBytes)(H).slice(1)),Z="3",X=null;if($.length===4&&Array.isArray($[0])){Z="3 (network format)";const de=$[1],pe=$[2],ae=$[3];(0,r.assertArgument)(Array.isArray(de),"invalid network format: blobs not an array","fields[1]",de),(0,r.assertArgument)(Array.isArray(pe),"invalid network format: commitments not an array","fields[2]",pe),(0,r.assertArgument)(Array.isArray(ae),"invalid network format: proofs not an array","fields[3]",ae),(0,r.assertArgument)(de.length===pe.length,"invalid network format: blobs/commitments length mismatch","fields",$),(0,r.assertArgument)(de.length===ae.length,"invalid network format: blobs/proofs length mismatch","fields",$),X=[];for(let ce=0;ce<$[1].length;ce++)X.push({data:de[ce],commitment:pe[ce],proof:ae[ce]});$=$[0]}(0,r.assertArgument)(Array.isArray($)&&($.length===11||$.length===14),`invalid field count for transaction type: ${Z}`,"data",(0,r.hexlify)(H));const le={type:3,chainId:S($[0],"chainId"),nonce:C($[1],"nonce"),maxPriorityFeePerGas:S($[2],"maxPriorityFeePerGas"),maxFeePerGas:S($[3],"maxFeePerGas"),gasPrice:null,gasLimit:S($[4],"gasLimit"),to:m($[5]),value:S($[6],"value"),data:(0,r.hexlify)($[7]),accessList:v($[8],"accessList"),maxFeePerBlobGas:S($[9],"maxFeePerBlobGas"),blobVersionedHashes:$[10]};X&&(le.blobs=X),(0,r.assertArgument)(le.to!=null,`invalid address for transaction type: ${Z}`,"data",H),(0,r.assertArgument)(Array.isArray(le.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",H);for(let de=0;de<le.blobVersionedHashes.length;de++)(0,r.assertArgument)((0,r.isHexString)(le.blobVersionedHashes[de],32),`invalid blobVersionedHash at index ${de}: must be length 32`,"data",H);return $.length===11||k(le,$.slice(11)),le}function M(H,$,Z){const X=[T(H.chainId,"chainId"),T(H.nonce,"nonce"),T(H.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),T(H.maxFeePerGas||0,"maxFeePerGas"),T(H.gasLimit,"gasLimit"),H.to||e.ZeroAddress,T(H.value,"value"),H.data,R(H.accessList||[]),T(H.maxFeePerBlobGas||0,"maxFeePerBlobGas"),N(H.blobVersionedHashes||[],"blobVersionedHashes")];return $&&(X.push(T($.yParity,"yParity")),X.push((0,r.toBeArray)($.r)),X.push((0,r.toBeArray)($.s)),Z)?(0,r.concat)(["0x03",(0,r.encodeRlp)([X,Z.map(le=>le.data),Z.map(le=>le.commitment),Z.map(le=>le.proof)])]):(0,r.concat)(["0x03",(0,r.encodeRlp)(X)])}function j(H){const $=(0,r.decodeRlp)((0,r.getBytes)(H).slice(1));(0,r.assertArgument)(Array.isArray($)&&($.length===10||$.length===13),"invalid field count for transaction type: 4","data",(0,r.hexlify)(H));const Z={type:4,chainId:S($[0],"chainId"),nonce:C($[1],"nonce"),maxPriorityFeePerGas:S($[2],"maxPriorityFeePerGas"),maxFeePerGas:S($[3],"maxFeePerGas"),gasPrice:null,gasLimit:S($[4],"gasLimit"),to:m($[5]),value:S($[6],"value"),data:(0,r.hexlify)($[7]),accessList:v($[8],"accessList"),authorizationList:x($[9],"authorizationList")};return $.length===10||k(Z,$.slice(10)),Z}function G(H,$){const Z=[T(H.chainId,"chainId"),T(H.nonce,"nonce"),T(H.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),T(H.maxFeePerGas||0,"maxFeePerGas"),T(H.gasLimit,"gasLimit"),H.to||"0x",T(H.value,"value"),H.data,R(H.accessList||[]),_(H.authorizationList||[])];return $&&(Z.push(T($.yParity,"yParity")),Z.push((0,r.toBeArray)($.r)),Z.push((0,r.toBeArray)($.s))),(0,r.concat)(["0x04",(0,r.encodeRlp)(Z)])}class F{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;#c;#u;#f;#h;#y;get type(){return this.#e}set type($){switch($){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:(0,r.assertArgument)(!1,"unsupported transaction type","type",$)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const $=this.#t;return $==null&&this.type===3?e.ZeroAddress:$}set to($){this.#t=$==null?null:(0,t.getAddress)($)}get nonce(){return this.#r}set nonce($){this.#r=(0,r.getNumber)($,"value")}get gasLimit(){return this.#s}set gasLimit($){this.#s=(0,r.getBigInt)($)}get gasPrice(){const $=this.#o;return $==null&&(this.type===0||this.type===1)?a:$}set gasPrice($){this.#o=$==null?null:(0,r.getBigInt)($,"gasPrice")}get maxPriorityFeePerGas(){const $=this.#i;return $??(this.type===2||this.type===3?a:null)}set maxPriorityFeePerGas($){this.#i=$==null?null:(0,r.getBigInt)($,"maxPriorityFeePerGas")}get maxFeePerGas(){const $=this.#a;return $??(this.type===2||this.type===3?a:null)}set maxFeePerGas($){this.#a=$==null?null:(0,r.getBigInt)($,"maxFeePerGas")}get data(){return this.#n}set data($){this.#n=(0,r.hexlify)($)}get value(){return this.#d}set value($){this.#d=(0,r.getBigInt)($,"value")}get chainId(){return this.#l}set chainId($){this.#l=(0,r.getBigInt)($)}get signature(){return this.#p||null}set signature($){this.#p=$==null?null:n.Signature.from($)}get accessList(){const $=this.#g||null;return $??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList($){this.#g=$==null?null:(0,s.accessListify)($)}get authorizationList(){const $=this.#y||null;return $==null&&this.type===4?[]:$}set authorizationList($){this.#y=$==null?null:$.map(Z=>(0,i.authorizationify)(Z))}get maxFeePerBlobGas(){const $=this.#c;return $==null&&this.type===3?a:$}set maxFeePerBlobGas($){this.#c=$==null?null:(0,r.getBigInt)($,"maxFeePerBlobGas")}get blobVersionedHashes(){let $=this.#u;return $==null&&this.type===3?[]:$}set blobVersionedHashes($){if($!=null){(0,r.assertArgument)(Array.isArray($),"blobVersionedHashes must be an Array","value",$),$=$.slice();for(let Z=0;Z<$.length;Z++)(0,r.assertArgument)((0,r.isHexString)($[Z],32),"invalid blobVersionedHash",`value[${Z}]`,$[Z])}this.#u=$}get blobs(){return this.#h==null?null:this.#h.map($=>Object.assign({},$))}set blobs($){if($==null){this.#h=null;return}const Z=[],X=[];for(let le=0;le<$.length;le++){const de=$[le];if((0,r.isBytesLike)(de)){(0,r.assert)(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let pe=(0,r.getBytes)(de);if((0,r.assertArgument)(pe.length<=g,"blob is too large",`blobs[${le}]`,de),pe.length!==g){const fe=new Uint8Array(g);fe.set(pe),pe=fe}const ae=this.#f.blobToKzgCommitment(pe),ce=(0,r.hexlify)(this.#f.computeBlobKzgProof(pe,ae));Z.push({data:(0,r.hexlify)(pe),commitment:(0,r.hexlify)(ae),proof:ce}),X.push(w(1,ae))}else{const pe=(0,r.hexlify)(de.commitment);Z.push({data:(0,r.hexlify)(de.data),commitment:pe,proof:(0,r.hexlify)(de.proof)}),X.push(w(1,pe))}}this.#h=Z,this.#u=X}get kzg(){return this.#f}set kzg($){$==null?this.#f=null:this.#f=b($)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#s=a,this.#o=null,this.#i=null,this.#a=null,this.#n="0x",this.#d=a,this.#l=a,this.#p=null,this.#g=null,this.#c=null,this.#u=null,this.#f=null,this.#h=null,this.#y=null}get hash(){return this.signature==null?null:(0,n.keccak256)(this.#m(!0,!1))}get unsignedHash(){return(0,n.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,o.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:n.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m($,Z){(0,r.assert)(!$||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const X=$?this.signature:null;switch(this.inferType()){case 0:return D(this,X);case 1:return I(this,X);case 2:return K(this,X);case 3:return M(this,X,Z?this.blobs:null);case 4:return G(this,X)}(0,r.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const $=this.inferTypes();return $.indexOf(2)>=0?2:$.pop()}inferTypes(){const $=this.gasPrice!=null,Z=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,X=this.accessList!=null,le=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,r.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,r.assert)(!Z||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,r.assert)(this.type!==0||!X,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const de=[];return this.type!=null?de.push(this.type):this.authorizationList&&this.authorizationList.length?de.push(4):Z?de.push(2):$?(de.push(1),X||de.push(0)):X?(de.push(1),de.push(2)):(le&&this.to||(de.push(0),de.push(1),de.push(2)),de.push(3)),de.sort(),de}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return F.from(this)}toJSON(){const $=Z=>Z==null?null:Z.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:$(this.gasLimit),gasPrice:$(this.gasPrice),maxPriorityFeePerGas:$(this.maxPriorityFeePerGas),maxFeePerGas:$(this.maxFeePerGas),value:$(this.value),chainId:$(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from($){if($==null)return new F;if(typeof $=="string"){const X=(0,r.getBytes)($);if(X[0]>=127)return F.from(O(X));switch(X[0]){case 1:return F.from(q(X));case 2:return F.from(z(X));case 3:return F.from(P(X));case 4:return F.from(j(X))}(0,r.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const Z=new F;return $.type!=null&&(Z.type=$.type),$.to!=null&&(Z.to=$.to),$.nonce!=null&&(Z.nonce=$.nonce),$.gasLimit!=null&&(Z.gasLimit=$.gasLimit),$.gasPrice!=null&&(Z.gasPrice=$.gasPrice),$.maxPriorityFeePerGas!=null&&(Z.maxPriorityFeePerGas=$.maxPriorityFeePerGas),$.maxFeePerGas!=null&&(Z.maxFeePerGas=$.maxFeePerGas),$.maxFeePerBlobGas!=null&&(Z.maxFeePerBlobGas=$.maxFeePerBlobGas),$.data!=null&&(Z.data=$.data),$.value!=null&&(Z.value=$.value),$.chainId!=null&&(Z.chainId=$.chainId),$.signature!=null&&(Z.signature=n.Signature.from($.signature)),$.accessList!=null&&(Z.accessList=$.accessList),$.authorizationList!=null&&(Z.authorizationList=$.authorizationList),$.blobVersionedHashes!=null&&(Z.blobVersionedHashes=$.blobVersionedHashes),$.kzg!=null&&(Z.kzg=$.kzg),$.blobs!=null&&(Z.blobs=$.blobs),$.hash!=null&&((0,r.assertArgument)(Z.isSigned(),"unsigned transaction cannot define '.hash'","tx",$),(0,r.assertArgument)(Z.hash===$.hash,"hash mismatch","tx",$)),$.from!=null&&((0,r.assertArgument)(Z.isSigned(),"unsigned transaction cannot define '.from'","tx",$),(0,r.assertArgument)(Z.from.toLowerCase()===($.from||"").toLowerCase(),"from mismatch","tx",$)),Z}}return cw.Transaction=F,cw}var K9;function ea(){return K9||(K9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.recoverAddress=t.computeAddress=t.authorizationify=t.accessListify=void 0;var e=sQ();Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return e.accessListify}});var n=iQ();Object.defineProperty(t,"authorizationify",{enumerable:!0,get:function(){return n.authorizationify}});var r=oQ();Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return r.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return r.recoverAddress}});var s=JRe();Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return s.Transaction}})}(iR)),iR}var W9;function ZRe(){if(W9)return lp;W9=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.verifyAuthorization=lp.hashAuthorization=void 0;const t=Fs(),e=ti(),n=ea(),r=Et();function s(o){return(0,r.assertArgument)(typeof o.address=="string","invalid address for hashAuthorization","auth.address",o),(0,e.keccak256)((0,r.concat)(["0x05",(0,r.encodeRlp)([o.chainId!=null?(0,r.toBeArray)(o.chainId):"0x",(0,t.getAddress)(o.address),o.nonce!=null?(0,r.toBeArray)(o.nonce):"0x"])]))}lp.hashAuthorization=s;function i(o,a){return(0,n.recoverAddress)(s(o),a)}return lp.verifyAuthorization=i,lp}var lw={},Q9;function aQ(){if(Q9)return lw;Q9=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.id=void 0;const t=ti(),e=Et();function n(r){return(0,t.keccak256)((0,e.toUtf8Bytes)(r))}return lw.id=n,lw}var jc={},wa={},Y9;function XRe(){if(Y9)return wa;Y9=1;var t="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const e=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),n=4;function r(Ee){let Ue=0;function He(){return Ee[Ue++]<<8|Ee[Ue++]}let We=He(),Ve=1,Je=[0,1];for(let Li=1;Li<We;Li++)Je.push(Ve+=He());let it=He(),pt=Ue;Ue+=it;let dn=0,Jn=0;function zt(){return dn==0&&(Jn=Jn<<8|Ee[Ue++],dn=8),Jn>>--dn&1}const vn=31,yn=2**vn,on=yn>>>1,fn=on>>1,gr=yn-1;let vr=0;for(let Li=0;Li<vn;Li++)vr=vr<<1|zt();let ri=[],Ui=0,Cl=yn;for(;;){let Li=Math.floor(((vr-Ui+1)*Ve-1)/Cl),ji=0,Sl=We;for(;Sl-ji>1;){let bu=ji+Sl>>>1;Li<Je[bu]?Sl=bu:ji=bu}if(ji==0)break;ri.push(ji);let vi=Ui+Math.floor(Cl*Je[ji]/Ve),vo=Ui+Math.floor(Cl*Je[ji+1]/Ve)-1;for(;((vi^vo)&on)==0;)vr=vr<<1&gr|zt(),vi=vi<<1&gr,vo=vo<<1&gr|1;for(;vi&~vo&fn;)vr=vr&on|vr<<1&gr>>>1|zt(),vi=vi<<1^on,vo=(vo^on)<<1|on|1;Ui=vi,Cl=1+vo-vi}let $s=We-4;return ri.map(Li=>{switch(Li-$s){case 3:return $s+65792+(Ee[pt++]<<16|Ee[pt++]<<8|Ee[pt++]);case 2:return $s+256+(Ee[pt++]<<8|Ee[pt++]);case 1:return $s+Ee[pt++];default:return Li-1}})}function s(Ee){let Ue=0;return()=>Ee[Ue++]}function i(Ee){return s(r(o(Ee)))}function o(Ee){let Ue=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((Ve,Je)=>Ue[Ve.charCodeAt(0)]=Je);let He=Ee.length,We=new Uint8Array(6*He>>3);for(let Ve=0,Je=0,it=0,pt=0;Ve<He;Ve++)pt=pt<<6|Ue[Ee.charCodeAt(Ve)],it+=6,it>=8&&(We[Je++]=pt>>(it-=8));return We}function a(Ee){return Ee&1?~Ee>>1:Ee>>1}function l(Ee,Ue){let He=Array(Ee);for(let We=0,Ve=0;We<Ee;We++)He[We]=Ve+=a(Ue());return He}function c(Ee,Ue=0){let He=[];for(;;){let We=Ee(),Ve=Ee();if(!Ve)break;Ue+=We;for(let Je=0;Je<Ve;Je++)He.push(Ue+Je);Ue+=Ve+1}return He}function d(Ee){return p(()=>{let Ue=c(Ee);if(Ue.length)return Ue})}function f(Ee){let Ue=[];for(;;){let He=Ee();if(He==0)break;Ue.push(b(He,Ee))}for(;;){let He=Ee()-1;if(He<0)break;Ue.push(w(He,Ee))}return Ue.flat()}function p(Ee){let Ue=[];for(;;){let He=Ee(Ue.length);if(!He)break;Ue.push(He)}return Ue}function g(Ee,Ue,He){let We=Array(Ee).fill().map(()=>[]);for(let Ve=0;Ve<Ue;Ve++)l(Ee,He).forEach((Je,it)=>We[it].push(Je));return We}function b(Ee,Ue){let He=1+Ue(),We=Ue(),Ve=p(Ue);return g(Ve.length,1+Ee,Ue).flatMap((it,pt)=>{let[dn,...Jn]=it;return Array(Ve[pt]).fill().map((zt,vn)=>{let yn=vn*We;return[dn+vn*He,Jn.map(on=>on+yn)]})})}function w(Ee,Ue){let He=1+Ue();return g(He,1+Ee,Ue).map(Ve=>[Ve[0],Ve.slice(1)])}function m(Ee){let Ue=[],He=c(Ee);return Ve(We([]),[]),Ue;function We(Je){let it=Ee(),pt=p(()=>{let dn=c(Ee).map(Jn=>He[Jn]);if(dn.length)return We(dn)});return{S:it,B:pt,Q:Je}}function Ve({S:Je,B:it},pt,dn){if(!(Je&4&&dn===pt[pt.length-1])){Je&2&&(dn=pt[pt.length-1]),Je&1&&Ue.push(pt);for(let Jn of it)for(let zt of Jn.Q)Ve(Jn,[...pt,zt],dn)}}}function v(Ee){return Ee.toString(16).toUpperCase().padStart(2,"0")}function x(Ee){return`{${v(Ee)}}`}function C(Ee){let Ue=[];for(let He=0,We=Ee.length;He<We;){let Ve=Ee.codePointAt(He);He+=Ve<65536?1:2,Ue.push(Ve)}return Ue}function S(Ee){let He=Ee.length;if(He<4096)return String.fromCodePoint(...Ee);let We=[];for(let Ve=0;Ve<He;)We.push(String.fromCodePoint(...Ee.slice(Ve,Ve+=4096)));return We.join("")}function T(Ee,Ue){let He=Ee.length,We=He-Ue.length;for(let Ve=0;We==0&&Ve<He;Ve++)We=Ee[Ve]-Ue[Ve];return We}var R="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const _=44032,N=4352,O=4449,D=4519,k=19,z=21,K=28,q=z*K,I=k*q,P=_+I,M=N+k,j=O+z,G=D+K;function F(Ee){return Ee>>24&255}function H(Ee){return Ee&16777215}let $,Z,X,le;function de(){let Ee=i(R);$=new Map(d(Ee).flatMap((Ue,He)=>Ue.map(We=>[We,He+1<<24]))),Z=new Set(c(Ee)),X=new Map,le=new Map;for(let[Ue,He]of f(Ee)){if(!Z.has(Ue)&&He.length==2){let[We,Ve]=He,Je=le.get(We);Je||(Je=new Map,le.set(We,Je)),Je.set(Ve,Ue)}X.set(Ue,He.reverse())}}function pe(Ee){return Ee>=_&&Ee<P}function ae(Ee,Ue){if(Ee>=N&&Ee<M&&Ue>=O&&Ue<j)return _+(Ee-N)*q+(Ue-O)*K;if(pe(Ee)&&Ue>D&&Ue<G&&(Ee-_)%K==0)return Ee+(Ue-D);{let He=le.get(Ee);return He&&(He=He.get(Ue),He)?He:-1}}function ce(Ee){$||de();let Ue=[],He=[],We=!1;function Ve(Je){let it=$.get(Je);it&&(We=!0,Je|=it),Ue.push(Je)}for(let Je of Ee)for(;;){if(Je<128)Ue.push(Je);else if(pe(Je)){let it=Je-_,pt=it/q|0,dn=it%q/K|0,Jn=it%K;Ve(N+pt),Ve(O+dn),Jn>0&&Ve(D+Jn)}else{let it=X.get(Je);it?He.push(...it):Ve(Je)}if(!He.length)break;Je=He.pop()}if(We&&Ue.length>1){let Je=F(Ue[0]);for(let it=1;it<Ue.length;it++){let pt=F(Ue[it]);if(pt==0||Je<=pt){Je=pt;continue}let dn=it-1;for(;;){let Jn=Ue[dn+1];if(Ue[dn+1]=Ue[dn],Ue[dn]=Jn,!dn||(Je=F(Ue[--dn]),Je<=pt))break}Je=F(Ue[it])}}return Ue}function fe(Ee){let Ue=[],He=[],We=-1,Ve=0;for(let Je of Ee){let it=F(Je),pt=H(Je);if(We==-1)it==0?We=pt:Ue.push(pt);else if(Ve>0&&Ve>=it)it==0?(Ue.push(We,...He),He.length=0,We=pt):He.push(pt),Ve=it;else{let dn=ae(We,pt);dn>=0?We=dn:Ve==0&&it==0?(Ue.push(We),We=pt):(He.push(pt),Ve=it)}}return We>=0&&Ue.push(We,...He),Ue}function ve(Ee){return ce(Ee).map(H)}function Re(Ee){return fe(ce(Ee))}const Se=45,xe=46,te=".",J=65039,V=1,Y=Ee=>Array.from(Ee);function se(Ee,Ue){return Ee.P.has(Ue)||Ee.Q.has(Ue)}class me extends Array{get is_emoji(){return!0}}let _e,Te,ot,It,Ft,Ce,ye,re,ge,ke,$e,et;function xt(){if(_e)return;let Ee=i(t);const Ue=()=>c(Ee),He=()=>new Set(Ue()),We=(zt,vn)=>vn.forEach(yn=>zt.add(yn));_e=new Map(f(Ee)),Te=He(),ot=Ue(),It=new Set(Ue().map(zt=>ot[zt])),ot=new Set(ot),Ft=He(),Ce=He();let Ve=d(Ee),Je=Ee();const it=()=>{let zt=new Set;return Ue().forEach(vn=>We(zt,Ve[vn])),We(zt,Ue()),zt};ye=p(zt=>{let vn=p(Ee).map(yn=>yn+96);if(vn.length){let yn=zt>=Je;vn[0]-=32,vn=S(vn),yn&&(vn=`Restricted[${vn}]`);let on=it(),fn=it(),gr=!Ee();return{N:vn,P:on,Q:fn,M:gr,R:yn}}}),re=He(),ge=new Map;let pt=Ue().concat(Y(re)).sort((zt,vn)=>zt-vn);pt.forEach((zt,vn)=>{let yn=Ee(),on=pt[vn]=yn?pt[vn-yn]:{V:[],M:new Map};on.V.push(zt),re.has(zt)||ge.set(zt,on)});for(let{V:zt,M:vn}of new Set(ge.values())){let yn=[];for(let fn of zt){let gr=ye.filter(ri=>se(ri,fn)),vr=yn.find(({G:ri})=>gr.some(Ui=>ri.has(Ui)));vr||(vr={G:new Set,V:[]},yn.push(vr)),vr.V.push(fn),We(vr.G,gr)}let on=yn.flatMap(fn=>Y(fn.G));for(let{G:fn,V:gr}of yn){let vr=new Set(on.filter(ri=>!fn.has(ri)));for(let ri of gr)vn.set(ri,vr)}}ke=new Set;let dn=new Set;const Jn=zt=>ke.has(zt)?dn.add(zt):ke.add(zt);for(let zt of ye){for(let vn of zt.P)Jn(vn);for(let vn of zt.Q)Jn(vn)}for(let zt of ke)!ge.has(zt)&&!dn.has(zt)&&ge.set(zt,V);We(ke,ve(ke)),$e=m(Ee).map(zt=>me.from(zt)).sort(T),et=new Map;for(let zt of $e){let vn=[et];for(let yn of zt){let on=vn.map(fn=>{let gr=fn.get(yn);return gr||(gr=new Map,fn.set(yn,gr)),gr});yn===J?vn.push(...on):vn=on}for(let yn of vn)yn.V=zt}}function gt(Ee){return(Ka(Ee)?"":`${Rn(ms([Ee]))} `)+x(Ee)}function Rn(Ee){return`"${Ee}"`}function Jt(Ee){if(Ee.length>=4&&Ee[2]==Se&&Ee[3]==Se)throw new Error(`invalid label extension: "${S(Ee.slice(0,4))}"`)}function Yn(Ee){for(let He=Ee.lastIndexOf(95);He>0;)if(Ee[--He]!==95)throw new Error("underscore allowed only at start")}function ls(Ee){let Ue=Ee[0],He=e.get(Ue);if(He)throw no(`leading ${He}`);let We=Ee.length,Ve=-1;for(let Je=1;Je<We;Je++){Ue=Ee[Je];let it=e.get(Ue);if(it){if(Ve==Je)throw no(`${He} + ${it}`);Ve=Je+1,He=it}}if(Ve==We)throw no(`trailing ${He}`)}function ms(Ee,Ue=1/0,He=x){let We=[];Mi(Ee[0])&&We.push(""),Ee.length>Ue&&(Ue>>=1,Ee=[...Ee.slice(0,Ue),8230,...Ee.slice(-Ue)]);let Ve=0,Je=Ee.length;for(let it=0;it<Je;it++){let pt=Ee[it];Ka(pt)&&(We.push(S(Ee.slice(Ve,it))),We.push(He(pt)),Ve=it+1)}return We.push(S(Ee.slice(Ve,Je))),We.join("")}function Mi(Ee){return xt(),ot.has(Ee)}function Ka(Ee){return xt(),Ft.has(Ee)}function na(){return xt(),$e.map(Ee=>Ee.slice())}function mu(Ee,Ue){xt();let He=Ue?ve:Re;return Ee.split(te).map(We=>S(Ld(C(We),He,xl).flat())).join(te)}function Ge(Ee){return rr(to(Ee,Re,xl))}function Qr(Ee){let Ue=to(Ee,Re,He=>He);for(let{type:He,output:We,error:Ve}of Ue){if(Ve)break;He!=="Greek"&&ns(We,958,926)}return rr(Ue)}function ns(Ee,Ue,He){let We=0;for(;;){let Ve=Ee.indexOf(Ue,We);if(Ve<0)break;Ee[Ve]=He,We=Ve+1}}function nr(Ee,Ue){return to(Ee,Re,Ue?He=>He.slice():xl)}function to(Ee,Ue,He){if(!Ee)return[];xt();let We=0;return Ee.split(te).map(Ve=>{let Je=C(Ve),it={input:Je,offset:We};We+=Je.length+1;try{let pt=it.tokens=Ld(Je,Ue,He),dn=pt.length,Jn;if(!dn)throw new Error("empty label");let zt=it.output=pt.flat();if(Yn(zt),!(it.emoji=dn>1||pt[0].is_emoji)&&zt.every(yn=>yn<128))Jt(zt),Jn="ASCII";else{let yn=pt.flatMap(on=>on.is_emoji?[]:on);if(!yn.length)Jn="Emoji";else{if(ot.has(zt[0]))throw no("leading combining mark");for(let gr=1;gr<dn;gr++){let vr=pt[gr];if(!vr.is_emoji&&ot.has(vr[0]))throw no(`emoji + combining mark: "${S(pt[gr-1])} + ${ms([vr[0]])}"`)}ls(zt);let on=Y(new Set(yn)),[fn]=Br(on);ni(fn,yn),Yr(fn,on),Jn=fn.N}}it.type=Jn}catch(pt){it.error=pt}return it})}function Yr(Ee,Ue){let He,We=[];for(let Ve of Ue){let Je=ge.get(Ve);if(Je===V)return;if(Je){let it=Je.M.get(Ve);if(He=He?He.filter(pt=>it.has(pt)):Y(it),!He.length)return}else We.push(Ve)}if(He){for(let Ve of He)if(We.every(Je=>se(Ve,Je)))throw new Error(`whole-script confusable: ${Ee.N}/${Ve.N}`)}}function Br(Ee){let Ue=ye;for(let He of Ee){let We=Ue.filter(Ve=>se(Ve,He));if(!We.length)throw ye.some(Ve=>se(Ve,He))?qn(Ue[0],He):sr(He);if(Ue=We,We.length==1)break}return Ue}function rr(Ee){return Ee.map(({input:Ue,error:He,output:We})=>{if(He){let Ve=He.message;throw new Error(Ee.length==1?Ve:`Invalid label ${Rn(ms(Ue,63))}: ${Ve}`)}return S(We)}).join(te)}function sr(Ee){return new Error(`disallowed character: ${gt(Ee)}`)}function qn(Ee,Ue){let He=gt(Ue),We=ye.find(Ve=>Ve.P.has(Ue));return We&&(He=`${We.N} ${He}`),new Error(`illegal mixture: ${Ee.N} + ${He}`)}function no(Ee){return new Error(`illegal placement: ${Ee}`)}function ni(Ee,Ue){for(let He of Ue)if(!se(Ee,He))throw qn(Ee,He);if(Ee.M){let He=ve(Ue);for(let We=1,Ve=He.length;We<Ve;We++)if(It.has(He[We])){let Je=We+1;for(let it;Je<Ve&&It.has(it=He[Je]);Je++)for(let pt=We;pt<Je;pt++)if(He[pt]==it)throw new Error(`duplicate non-spacing marks: ${gt(it)}`);if(Je-We>n)throw new Error(`excessive non-spacing marks: ${Rn(ms(He.slice(We-1,Je)))} (${Je-We}/${n})`);We=Je}}}function Ld(Ee,Ue,He){let We=[],Ve=[];for(Ee=Ee.slice().reverse();Ee.length;){let Je=ra(Ee);if(Je)Ve.length&&(We.push(Ue(Ve)),Ve=[]),We.push(He(Je));else{let it=Ee.pop();if(ke.has(it))Ve.push(it);else{let pt=_e.get(it);if(pt)Ve.push(...pt);else if(!Te.has(it))throw sr(it)}}}return Ve.length&&We.push(Ue(Ve)),We}function xl(Ee){return Ee.filter(Ue=>Ue!=J)}function ra(Ee,Ue){let He=et,We,Ve=Ee.length;for(;Ve&&(He=He.get(Ee[--Ve]),!!He);){let{V:Je}=He;Je&&(We=Je,Ue&&Ue.push(...Ee.slice(Ve).reverse()),Ee.length=Ve)}return We}const Jr="valid",Wa="mapped",Qa="ignored",Tc="disallowed",El="emoji",rs="nfc",mh="stop";function Al(Ee,{nf:Ue=!0}={}){xt();let He=C(Ee).reverse(),We=[],Ve=[];for(;He.length;){let Je=ra(He,We);if(Je)Ve.push({type:El,emoji:Je.slice(),input:We,cps:xl(Je)}),We=[];else{let it=He.pop();if(it==xe)Ve.push({type:mh,cp:it});else if(ke.has(it))Ve.push({type:Jr,cps:[it]});else if(Te.has(it))Ve.push({type:Qa,cp:it});else{let pt=_e.get(it);pt?Ve.push({type:Wa,cp:it,cps:pt.slice()}):Ve.push({type:Tc,cp:it})}}}if(Ue)for(let Je=0,it=-1;Je<Ve.length;Je++){let pt=Ve[Je];if(sa(pt.type))if(Bs(pt.cps)){let dn=Je+1;for(let yn=dn;yn<Ve.length;yn++){let{type:on,cps:fn}=Ve[yn];if(sa(on)){if(!Bs(fn))break;dn=yn+1}else if(on!==Qa)break}it<0&&(it=Je);let Jn=Ve.slice(it,dn),zt=Jn.flatMap(yn=>sa(yn.type)?yn.cps:[]),vn=Re(zt);T(vn,zt)?(Ve.splice(it,dn-it,{type:rs,input:zt,cps:vn,tokens0:yu(Jn),tokens:Al(S(vn),{nf:!1})}),Je=it):Je=dn-1,it=-1}else it=Je;else pt.type!==Qa&&(it=-1)}return yu(Ve)}function sa(Ee){return Ee==Jr||Ee==Wa}function Bs(Ee){return Ee.some(Ue=>Ce.has(Ue))}function yu(Ee){for(let Ue=0;Ue<Ee.length;Ue++)if(Ee[Ue].type==Jr){let He=Ue+1;for(;He<Ee.length&&Ee[He].type==Jr;)He++;Ee.splice(Ue,He-Ue,{type:Jr,cps:Ee.slice(Ue,He).flatMap(We=>We.cps)})}return Ee}return wa.ens_beautify=Qr,wa.ens_emoji=na,wa.ens_normalize=Ge,wa.ens_normalize_fragment=mu,wa.ens_split=nr,wa.ens_tokenize=Al,wa.is_combining_mark=Mi,wa.nfc=Re,wa.nfd=ve,wa.safe_str_from_cps=ms,wa.should_escape=Ka,wa}var J9;function ePe(){if(J9)return jc;J9=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.dnsEncode=jc.namehash=jc.isValidName=jc.ensNormalize=void 0;const t=ti(),e=Et(),n=XRe(),r=new Uint8Array(32);r.fill(0);function s(d){return(0,e.assertArgument)(d.length!==0,"invalid ENS name; empty component","comp",d),d}function i(d){const f=(0,e.toUtf8Bytes)(o(d)),p=[];if(d.length===0)return p;let g=0;for(let b=0;b<f.length;b++)f[b]===46&&(p.push(s(f.slice(g,b))),g=b+1);return(0,e.assertArgument)(g<f.length,"invalid ENS name; empty component","name",d),p.push(s(f.slice(g))),p}function o(d){try{if(d.length===0)throw new Error("empty label");return(0,n.ens_normalize)(d)}catch(f){(0,e.assertArgument)(!1,`invalid ENS name (${f.message})`,"name",d)}}jc.ensNormalize=o;function a(d){try{return i(d).length!==0}catch{}return!1}jc.isValidName=a;function l(d){(0,e.assertArgument)(typeof d=="string","invalid ENS name; not a string","name",d),(0,e.assertArgument)(d.length,"invalid ENS name (empty label)","name",d);let f=r;const p=i(d);for(;p.length;)f=(0,t.keccak256)((0,e.concat)([f,(0,t.keccak256)(p.pop())]));return(0,e.hexlify)(f)}jc.namehash=l;function c(d,f){const p=f??63;return(0,e.assertArgument)(p<=255,"DNS encoded label cannot exceed 255","length",p),(0,e.hexlify)((0,e.concat)(i(d).map(g=>{(0,e.assertArgument)(g.length<=p,`label ${JSON.stringify(d)} exceeds ${p} bytes`,"name",d);const b=new Uint8Array(g.length+1);return b.set(g,1),b[0]=b.length-1,b})))+"00"}return jc.dnsEncode=c,jc}var dp={},Z9;function tPe(){if(Z9)return dp;Z9=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.verifyMessage=dp.hashMessage=void 0;const t=ti(),e=rx(),n=ea(),r=Et();function s(o){return typeof o=="string"&&(o=(0,r.toUtf8Bytes)(o)),(0,t.keccak256)((0,r.concat)([(0,r.toUtf8Bytes)(e.MessagePrefix),(0,r.toUtf8Bytes)(String(o.length)),o]))}dp.hashMessage=s;function i(o,a){const l=s(o);return(0,n.recoverAddress)(l,a)}return dp.verifyMessage=i,dp}var Qu={},X9;function nPe(){if(X9)return Qu;X9=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.solidityPackedSha256=Qu.solidityPackedKeccak256=Qu.solidityPacked=void 0;const t=Fs(),e=ti(),n=Et(),r=new RegExp("^bytes([0-9]+)$"),s=new RegExp("^(u?int)([0-9]*)$"),i=new RegExp("^(.*)\\[([0-9]*)\\]$");function o(d,f,p){switch(d){case"address":return p?(0,n.getBytes)((0,n.zeroPadValue)(f,32)):(0,n.getBytes)((0,t.getAddress)(f));case"string":return(0,n.toUtf8Bytes)(f);case"bytes":return(0,n.getBytes)(f);case"bool":return f=f?"0x01":"0x00",p?(0,n.getBytes)((0,n.zeroPadValue)(f,32)):(0,n.getBytes)(f)}let g=d.match(s);if(g){let b=g[1]==="int",w=parseInt(g[2]||"256");return(0,n.assertArgument)((!g[2]||g[2]===String(w))&&w%8===0&&w!==0&&w<=256,"invalid number type","type",d),p&&(w=256),b&&(f=(0,n.toTwos)(f,w)),(0,n.getBytes)((0,n.zeroPadValue)((0,n.toBeArray)(f),w/8))}if(g=d.match(r),g){const b=parseInt(g[1]);return(0,n.assertArgument)(String(b)===g[1]&&b!==0&&b<=32,"invalid bytes type","type",d),(0,n.assertArgument)((0,n.dataLength)(f)===b,`invalid value for ${d}`,"value",f),p?(0,n.getBytes)((0,n.zeroPadBytes)(f,32)):f}if(g=d.match(i),g&&Array.isArray(f)){const b=g[1],w=parseInt(g[2]||String(f.length));(0,n.assertArgument)(w===f.length,`invalid array length for ${d}`,"value",f);const m=[];return f.forEach(function(v){m.push(o(b,v,!0))}),(0,n.getBytes)((0,n.concat)(m))}(0,n.assertArgument)(!1,"invalid type","type",d)}function a(d,f){(0,n.assertArgument)(d.length===f.length,"wrong number of values; expected ${ types.length }","values",f);const p=[];return d.forEach(function(g,b){p.push(o(g,f[b]))}),(0,n.hexlify)((0,n.concat)(p))}Qu.solidityPacked=a;function l(d,f){return(0,e.keccak256)(a(d,f))}Qu.solidityPackedKeccak256=l;function c(d,f){return(0,e.sha256)(a(d,f))}return Qu.solidityPackedSha256=c,Qu}var fp={},e7;function rPe(){if(e7)return fp;e7=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.verifyTypedData=fp.TypedDataEncoder=void 0;const t=Fs(),e=ti(),n=ea(),r=Et(),s=aQ(),i=new Uint8Array(32);i.fill(0);const o=BigInt(-1),a=BigInt(0),l=BigInt(1),c=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function d(R){const _=(0,r.getBytes)(R),N=_.length%32;return N?(0,r.concat)([_,i.slice(N)]):(0,r.hexlify)(_)}const f=(0,r.toBeHex)(l,32),p=(0,r.toBeHex)(a,32),g={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},b=["name","version","chainId","verifyingContract","salt"];function w(R){return function(_){return(0,r.assertArgument)(typeof _=="string",`invalid domain value for ${JSON.stringify(R)}`,`domain.${R}`,_),_}}const m={name:w("name"),version:w("version"),chainId:function(R){const _=(0,r.getBigInt)(R,"domain.chainId");return(0,r.assertArgument)(_>=0,"invalid chain ID","domain.chainId",R),Number.isSafeInteger(_)?Number(_):(0,r.toQuantity)(_)},verifyingContract:function(R){try{return(0,t.getAddress)(R).toLowerCase()}catch{}(0,r.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",R)},salt:function(R){const _=(0,r.getBytes)(R,"domain.salt");return(0,r.assertArgument)(_.length===32,'invalid domain value "salt"',"domain.salt",R),(0,r.hexlify)(_)}};function v(R){{const _=R.match(/^(u?)int(\d+)$/);if(_){const N=_[1]==="",O=parseInt(_[2]);(0,r.assertArgument)(O%8===0&&O!==0&&O<=256&&_[2]===String(O),"invalid numeric width","type",R);const D=(0,r.mask)(c,N?O-1:O),k=N?(D+l)*o:a;return function(z){const K=(0,r.getBigInt)(z,"value");return(0,r.assertArgument)(K>=k&&K<=D,`value out-of-bounds for ${R}`,"value",K),(0,r.toBeHex)(N?(0,r.toTwos)(K,256):K,32)}}}{const _=R.match(/^bytes(\d+)$/);if(_){const N=parseInt(_[1]);return(0,r.assertArgument)(N!==0&&N<=32&&_[1]===String(N),"invalid bytes width","type",R),function(O){const D=(0,r.getBytes)(O);return(0,r.assertArgument)(D.length===N,`invalid length for ${R}`,"value",O),d(O)}}}switch(R){case"address":return function(_){return(0,r.zeroPadValue)((0,t.getAddress)(_),32)};case"bool":return function(_){return _?f:p};case"bytes":return function(_){return(0,e.keccak256)(_)};case"string":return function(_){return(0,s.id)(_)}}return null}function x(R,_){return`${R}(${_.map(({name:N,type:O})=>O+" "+N).join(",")})`}function C(R){const _=R.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return _?{base:_[1],index:_[2]+_[4],array:{base:_[1],prefix:_[1]+_[2],count:_[5]?parseInt(_[5]):-1}}:{base:R}}class S{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(_){this.#t=new Map,this.#n=new Map;const N=new Map,O=new Map,D=new Map,k={};Object.keys(_).forEach(q=>{k[q]=_[q].map(({name:I,type:P})=>{let{base:M,index:j}=C(P);return M==="int"&&!_.int&&(M="int256"),M==="uint"&&!_.uint&&(M="uint256"),{name:I,type:M+(j||"")}}),N.set(q,new Set),O.set(q,[]),D.set(q,new Set)}),this.#e=JSON.stringify(k);for(const q in k){const I=new Set;for(const P of k[q]){(0,r.assertArgument)(!I.has(P.name),`duplicate variable name ${JSON.stringify(P.name)} in ${JSON.stringify(q)}`,"types",_),I.add(P.name);const M=C(P.type).base;(0,r.assertArgument)(M!==q,`circular type reference to ${JSON.stringify(M)}`,"types",_),!v(M)&&((0,r.assertArgument)(O.has(M),`unknown type ${JSON.stringify(M)}`,"types",_),O.get(M).push(q),N.get(q).add(M))}}const z=Array.from(O.keys()).filter(q=>O.get(q).length===0);(0,r.assertArgument)(z.length!==0,"missing primary type","types",_),(0,r.assertArgument)(z.length===1,`ambiguous primary types or unused types: ${z.map(q=>JSON.stringify(q)).join(", ")}`,"types",_),(0,r.defineProperties)(this,{primaryType:z[0]});function K(q,I){(0,r.assertArgument)(!I.has(q),`circular type reference to ${JSON.stringify(q)}`,"types",_),I.add(q);for(const P of N.get(q))if(O.has(P)){K(P,I);for(const M of I)D.get(M).add(P)}I.delete(q)}K(this.primaryType,new Set);for(const[q,I]of D){const P=Array.from(I);P.sort(),this.#t.set(q,x(q,k[q])+P.map(M=>x(M,k[M])).join(""))}}getEncoder(_){let N=this.#n.get(_);return N||(N=this.#r(_),this.#n.set(_,N)),N}#r(_){{const D=v(_);if(D)return D}const N=C(_).array;if(N){const D=N.prefix,k=this.getEncoder(D);return z=>{(0,r.assertArgument)(N.count===-1||N.count===z.length,`array length mismatch; expected length ${N.count}`,"value",z);let K=z.map(k);return this.#t.has(D)&&(K=K.map(e.keccak256)),(0,e.keccak256)((0,r.concat)(K))}}const O=this.types[_];if(O){const D=(0,s.id)(this.#t.get(_));return k=>{const z=O.map(({name:K,type:q})=>{const I=this.getEncoder(q)(k[K]);return this.#t.has(q)?(0,e.keccak256)(I):I});return z.unshift(D),(0,r.concat)(z)}}(0,r.assertArgument)(!1,`unknown type: ${_}`,"type",_)}encodeType(_){const N=this.#t.get(_);return(0,r.assertArgument)(N,`unknown type: ${JSON.stringify(_)}`,"name",_),N}encodeData(_,N){return this.getEncoder(_)(N)}hashStruct(_,N){return(0,e.keccak256)(this.encodeData(_,N))}encode(_){return this.encodeData(this.primaryType,_)}hash(_){return this.hashStruct(this.primaryType,_)}_visit(_,N,O){if(v(_))return O(_,N);const D=C(_).array;if(D)return(0,r.assertArgument)(D.count===-1||D.count===N.length,`array length mismatch; expected length ${D.count}`,"value",N),N.map(z=>this._visit(D.prefix,z,O));const k=this.types[_];if(k)return k.reduce((z,{name:K,type:q})=>(z[K]=this._visit(q,N[K],O),z),{});(0,r.assertArgument)(!1,`unknown type: ${_}`,"type",_)}visit(_,N){return this._visit(this.primaryType,_,N)}static from(_){return new S(_)}static getPrimaryType(_){return S.from(_).primaryType}static hashStruct(_,N,O){return S.from(N).hashStruct(_,O)}static hashDomain(_){const N=[];for(const O in _){if(_[O]==null)continue;const D=g[O];(0,r.assertArgument)(D,`invalid typed-data domain key: ${JSON.stringify(O)}`,"domain",_),N.push({name:O,type:D})}return N.sort((O,D)=>b.indexOf(O.name)-b.indexOf(D.name)),S.hashStruct("EIP712Domain",{EIP712Domain:N},_)}static encode(_,N,O){return(0,r.concat)(["0x1901",S.hashDomain(_),S.from(N).hash(O)])}static hash(_,N,O){return(0,e.keccak256)(S.encode(_,N,O))}static async resolveNames(_,N,O,D){_=Object.assign({},_);for(const K in _)_[K]==null&&delete _[K];const k={};_.verifyingContract&&!(0,r.isHexString)(_.verifyingContract,20)&&(k[_.verifyingContract]="0x");const z=S.from(N);z.visit(O,(K,q)=>(K==="address"&&!(0,r.isHexString)(q,20)&&(k[q]="0x"),q));for(const K in k)k[K]=await D(K);return _.verifyingContract&&k[_.verifyingContract]&&(_.verifyingContract=k[_.verifyingContract]),O=z.visit(O,(K,q)=>K==="address"&&k[q]?k[q]:q),{domain:_,value:O}}static getPayload(_,N,O){S.hashDomain(_);const D={},k=[];b.forEach(q=>{const I=_[q];I!=null&&(D[q]=m[q](I),k.push({name:q,type:g[q]}))});const z=S.from(N);N=z.types;const K=Object.assign({},N);return(0,r.assertArgument)(K.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",N),K.EIP712Domain=k,z.encode(O),{types:K,domain:D,primaryType:z.primaryType,message:z.visit(O,(q,I)=>{if(q.match(/^bytes(\d*)/))return(0,r.hexlify)((0,r.getBytes)(I));if(q.match(/^u?int/))return(0,r.getBigInt)(I).toString();switch(q){case"address":return I.toLowerCase();case"bool":return!!I;case"string":return(0,r.assertArgument)(typeof I=="string","invalid string","value",I),I}(0,r.assertArgument)(!1,"unsupported type","type",q)})}}}fp.TypedDataEncoder=S;function T(R,_,N,O){return(0,n.recoverAddress)(S.hash(R,_,N),O)}return fp.verifyTypedData=T,fp}var t7;function Bd(){return t7||(t7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=t.verifyAuthorization=t.hashAuthorization=void 0;var e=ZRe();Object.defineProperty(t,"hashAuthorization",{enumerable:!0,get:function(){return e.hashAuthorization}}),Object.defineProperty(t,"verifyAuthorization",{enumerable:!0,get:function(){return e.verifyAuthorization}});var n=aQ();Object.defineProperty(t,"id",{enumerable:!0,get:function(){return n.id}});var r=ePe();Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return r.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return r.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return r.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return r.dnsEncode}});var s=tPe();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return s.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return s.verifyMessage}});var i=nPe();Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return i.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return i.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return i.solidityPackedSha256}});var o=rPe();Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return o.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return o.verifyTypedData}})}(sR)),sR}var n7;function q4(){if(n7)return Rs;n7=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.StructFragment=Rs.FunctionFragment=Rs.FallbackFragment=Rs.ConstructorFragment=Rs.EventFragment=Rs.ErrorFragment=Rs.NamedFragment=Rs.Fragment=Rs.ParamType=void 0;const t=Et(),e=Bd();function n(xe){const te=new Set;return xe.forEach(J=>te.add(J)),Object.freeze(te)}const s=n("external public payable override".split(" ")),i="constant external internal payable private public pure view override",o=n(i.split(" ")),a="constructor error event fallback function receive struct",l=n(a.split(" ")),c="calldata memory storage payable indexed",d=n(c.split(" ")),p=[a,c,"tuple returns",i].join(" "),g=n(p.split(" ")),b={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},w=new RegExp("^(\\s*)"),m=new RegExp("^([0-9]+)"),v=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),x=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),C=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class S{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(te){this.#e=0,this.#t=te.slice()}clone(){return new S(this.#t)}reset(){this.#e=0}#n(te=0,J=0){return new S(this.#t.slice(te,J).map(V=>Object.freeze(Object.assign({},V,{match:V.match-te,linkBack:V.linkBack-te,linkNext:V.linkNext-te}))))}popKeyword(te){const J=this.peek();if(J.type!=="KEYWORD"||!te.has(J.text))throw new Error(`expected keyword ${J.text}`);return this.pop().text}popType(te){if(this.peek().type!==te){const J=this.peek();throw new Error(`expected ${te}; got ${J.type} ${JSON.stringify(J.text)}`)}return this.pop().text}popParen(){const te=this.peek();if(te.type!=="OPEN_PAREN")throw new Error("bad start");const J=this.#n(this.#e+1,te.match+1);return this.#e=te.match+1,J}popParams(){const te=this.peek();if(te.type!=="OPEN_PAREN")throw new Error("bad start");const J=[];for(;this.#e<te.match-1;){const V=this.peek().linkNext;J.push(this.#n(this.#e+1,V)),this.#e=V}return this.#e=te.match+1,J}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(te){const J=this.peekType("KEYWORD");return J!=null&&te.has(J)?J:null}peekType(te){if(this.length===0)return null;const J=this.peek();return J.type===te?J.text:null}pop(){const te=this.peek();return this.#e++,te}toString(){const te=[];for(let J=this.#e;J<this.#t.length;J++){const V=this.#t[J];te.push(`${V.type}:${V.text}`)}return`<TokenString ${te.join(" ")}>`}}function T(xe){const te=[],J=me=>{const _e=se<xe.length?JSON.stringify(xe[se]):"$EOI";throw new Error(`invalid token ${_e} at ${se}: ${me}`)};let V=[],Y=[],se=0;for(;se<xe.length;){let me=xe.substring(se),_e=me.match(w);_e&&(se+=_e[1].length,me=xe.substring(se));const Te={depth:V.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:se,value:-1};te.push(Te);let ot=b[me[0]]||"";if(ot){if(Te.type=ot,Te.text=me[0],se++,ot==="OPEN_PAREN")V.push(te.length-1),Y.push(te.length-1);else if(ot=="CLOSE_PAREN")V.length===0&&J("no matching open bracket"),Te.match=V.pop(),te[Te.match].match=te.length-1,Te.depth--,Te.linkBack=Y.pop(),te[Te.linkBack].linkNext=te.length-1;else if(ot==="COMMA")Te.linkBack=Y.pop(),te[Te.linkBack].linkNext=te.length-1,Y.push(te.length-1);else if(ot==="OPEN_BRACKET")Te.type="BRACKET";else if(ot==="CLOSE_BRACKET"){let It=te.pop().text;if(te.length>0&&te[te.length-1].type==="NUMBER"){const Ft=te.pop().text;It=Ft+It,te[te.length-1].value=(0,t.getNumber)(Ft)}if(te.length===0||te[te.length-1].type!=="BRACKET")throw new Error("missing opening bracket");te[te.length-1].text+=It}continue}if(_e=me.match(v),_e){if(Te.text=_e[1],se+=Te.text.length,g.has(Te.text)){Te.type="KEYWORD";continue}if(Te.text.match(C)){Te.type="TYPE";continue}Te.type="ID";continue}if(_e=me.match(m),_e){Te.text=_e[1],Te.type="NUMBER",se+=Te.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(me[0])} at position ${se}`)}return new S(te.map(me=>Object.freeze(me)))}function R(xe,te){let J=[];for(const V in te.keys())xe.has(V)&&J.push(V);if(J.length>1)throw new Error(`conflicting types: ${J.join(", ")}`)}function _(xe,te){if(te.peekKeyword(l)){const J=te.pop().text;if(J!==xe)throw new Error(`expected ${xe}, got ${J}`)}return te.popType("ID")}function N(xe,te){const J=new Set;for(;;){const V=xe.peekType("KEYWORD");if(V==null||te&&!te.has(V))break;if(xe.pop(),J.has(V))throw new Error(`duplicate keywords: ${JSON.stringify(V)}`);J.add(V)}return Object.freeze(J)}function O(xe){let te=N(xe,o);return R(te,n("constant payable nonpayable".split(" "))),R(te,n("pure view payable nonpayable".split(" "))),te.has("view")?"view":te.has("pure")?"pure":te.has("payable")?"payable":te.has("nonpayable")?"nonpayable":te.has("constant")?"view":"nonpayable"}function D(xe,te){return xe.popParams().map(J=>X.from(J,te))}function k(xe){if(xe.peekType("AT")){if(xe.pop(),xe.peekType("NUMBER"))return(0,t.getBigInt)(xe.pop().text);throw new Error("invalid gas")}return null}function z(xe){if(xe.length)throw new Error(`unexpected tokens at offset ${xe.offset}: ${xe.toString()}`)}const K=new RegExp(/^(.*)\[([0-9]*)\]$/);function q(xe){const te=xe.match(C);if((0,t.assertArgument)(te,"invalid type","type",xe),xe==="uint")return"uint256";if(xe==="int")return"int256";if(te[2]){const J=parseInt(te[2]);(0,t.assertArgument)(J!==0&&J<=32,"invalid bytes length","type",xe)}else if(te[3]){const J=parseInt(te[3]);(0,t.assertArgument)(J!==0&&J<=256&&J%8===0,"invalid numeric width","type",xe)}return xe}const I={},P=Symbol.for("_ethers_internal"),M="_ParamTypeInternal",j="_ErrorInternal",G="_EventInternal",F="_ConstructorInternal",H="_FallbackInternal",$="_FunctionInternal",Z="_StructInternal";class X{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(te,J,V,Y,se,me,_e,Te){if((0,t.assertPrivate)(te,I,"ParamType"),Object.defineProperty(this,P,{value:M}),me&&(me=Object.freeze(me.slice())),Y==="array"){if(_e==null||Te==null)throw new Error("")}else if(_e!=null||Te!=null)throw new Error("");if(Y==="tuple"){if(me==null)throw new Error("")}else if(me!=null)throw new Error("");(0,t.defineProperties)(this,{name:J,type:V,baseType:Y,indexed:se,components:me,arrayLength:_e,arrayChildren:Te})}format(te){if(te==null&&(te="sighash"),te==="json"){const V=this.name||"";if(this.isArray()){const se=JSON.parse(this.arrayChildren.format("json"));return se.name=V,se.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(se)}const Y={type:this.baseType==="tuple"?"tuple":this.type,name:V};return typeof this.indexed=="boolean"&&(Y.indexed=this.indexed),this.isTuple()&&(Y.components=this.components.map(se=>JSON.parse(se.format(te)))),JSON.stringify(Y)}let J="";return this.isArray()?(J+=this.arrayChildren.format(te),J+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?J+="("+this.components.map(V=>V.format(te)).join(te==="full"?", ":",")+")":J+=this.type,te!=="sighash"&&(this.indexed===!0&&(J+=" indexed"),te==="full"&&this.name&&(J+=" "+this.name)),J}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(te,J){if(this.isArray()){if(!Array.isArray(te))throw new Error("invalid array value");if(this.arrayLength!==-1&&te.length!==this.arrayLength)throw new Error("array is wrong length");const V=this;return te.map(Y=>V.arrayChildren.walk(Y,J))}if(this.isTuple()){if(!Array.isArray(te))throw new Error("invalid tuple value");if(te.length!==this.components.length)throw new Error("array is wrong length");const V=this;return te.map((Y,se)=>V.components[se].walk(Y,J))}return J(this.type,te)}#e(te,J,V,Y){if(this.isArray()){if(!Array.isArray(J))throw new Error("invalid array value");if(this.arrayLength!==-1&&J.length!==this.arrayLength)throw new Error("array is wrong length");const me=this.arrayChildren,_e=J.slice();_e.forEach((Te,ot)=>{me.#e(te,Te,V,It=>{_e[ot]=It})}),Y(_e);return}if(this.isTuple()){const me=this.components;let _e;if(Array.isArray(J))_e=J.slice();else{if(J==null||typeof J!="object")throw new Error("invalid tuple value");_e=me.map(Te=>{if(!Te.name)throw new Error("cannot use object value with unnamed components");if(!(Te.name in J))throw new Error(`missing value for component ${Te.name}`);return J[Te.name]})}if(_e.length!==this.components.length)throw new Error("array is wrong length");_e.forEach((Te,ot)=>{me[ot].#e(te,Te,V,It=>{_e[ot]=It})}),Y(_e);return}const se=V(this.type,J);se.then?te.push(async function(){Y(await se)}()):Y(se)}async walkAsync(te,J){const V=[],Y=[te];return this.#e(V,te,J,se=>{Y[0]=se}),V.length&&await Promise.all(V),Y[0]}static from(te,J){if(X.isParamType(te))return te;if(typeof te=="string")try{return X.from(T(te),J)}catch{(0,t.assertArgument)(!1,"invalid param type","obj",te)}else if(te instanceof S){let _e="",Te="",ot=null;N(te,n(["tuple"])).has("tuple")||te.peekType("OPEN_PAREN")?(Te="tuple",ot=te.popParams().map(ge=>X.from(ge)),_e=`tuple(${ot.map(ge=>ge.format()).join(",")})`):(_e=q(te.popType("TYPE")),Te=_e);let It=null,Ft=null;for(;te.length&&te.peekType("BRACKET");){const ge=te.pop();It=new X(I,"",_e,Te,null,ot,Ft,It),Ft=ge.value,_e+=ge.text,Te="array",ot=null}let Ce=null;if(N(te,d).has("indexed")){if(!J)throw new Error("");Ce=!0}const re=te.peekType("ID")?te.pop().text:"";if(te.length)throw new Error("leftover tokens");return new X(I,re,_e,Te,Ce,ot,Ft,It)}const V=te.name;(0,t.assertArgument)(!V||typeof V=="string"&&V.match(x),"invalid name","obj.name",V);let Y=te.indexed;Y!=null&&((0,t.assertArgument)(J,"parameter cannot be indexed","obj.indexed",te.indexed),Y=!!Y);let se=te.type,me=se.match(K);if(me){const _e=parseInt(me[2]||"-1"),Te=X.from({type:me[1],components:te.components});return new X(I,V||"",se,"array",Y,null,_e,Te)}if(se==="tuple"||se.startsWith("tuple(")||se.startsWith("(")){const _e=te.components!=null?te.components.map(ot=>X.from(ot)):null;return new X(I,V||"",se,"tuple",Y,_e,null,null)}return se=q(te.type),new X(I,V||"",se,se,Y,null,null,null)}static isParamType(te){return te&&te[P]===M}}Rs.ParamType=X;class le{type;inputs;constructor(te,J,V){(0,t.assertPrivate)(te,I,"Fragment"),V=Object.freeze(V.slice()),(0,t.defineProperties)(this,{type:J,inputs:V})}static from(te){if(typeof te=="string"){try{le.from(JSON.parse(te))}catch{}return le.from(T(te))}if(te instanceof S)switch(te.peekKeyword(l)){case"constructor":return fe.from(te);case"error":return ae.from(te);case"event":return ce.from(te);case"fallback":case"receive":return ve.from(te);case"function":return Re.from(te);case"struct":return Se.from(te)}else if(typeof te=="object"){switch(te.type){case"constructor":return fe.from(te);case"error":return ae.from(te);case"event":return ce.from(te);case"fallback":case"receive":return ve.from(te);case"function":return Re.from(te);case"struct":return Se.from(te)}(0,t.assert)(!1,`unsupported type: ${te.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,t.assertArgument)(!1,"unsupported frgament object","obj",te)}static isConstructor(te){return fe.isFragment(te)}static isError(te){return ae.isFragment(te)}static isEvent(te){return ce.isFragment(te)}static isFunction(te){return Re.isFragment(te)}static isStruct(te){return Se.isFragment(te)}}Rs.Fragment=le;class de extends le{name;constructor(te,J,V,Y){super(te,J,Y),(0,t.assertArgument)(typeof V=="string"&&V.match(x),"invalid identifier","name",V),Y=Object.freeze(Y.slice()),(0,t.defineProperties)(this,{name:V})}}Rs.NamedFragment=de;function pe(xe,te){return"("+te.map(J=>J.format(xe)).join(xe==="full"?", ":",")+")"}class ae extends de{constructor(te,J,V){super(te,"error",J,V),Object.defineProperty(this,P,{value:j})}get selector(){return(0,e.id)(this.format("sighash")).substring(0,10)}format(te){if(te==null&&(te="sighash"),te==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(V=>JSON.parse(V.format(te)))});const J=[];return te!=="sighash"&&J.push("error"),J.push(this.name+pe(te,this.inputs)),J.join(" ")}static from(te){if(ae.isFragment(te))return te;if(typeof te=="string")return ae.from(T(te));if(te instanceof S){const J=_("error",te),V=D(te);return z(te),new ae(I,J,V)}return new ae(I,te.name,te.inputs?te.inputs.map(X.from):[])}static isFragment(te){return te&&te[P]===j}}Rs.ErrorFragment=ae;class ce extends de{anonymous;constructor(te,J,V,Y){super(te,"event",J,V),Object.defineProperty(this,P,{value:G}),(0,t.defineProperties)(this,{anonymous:Y})}get topicHash(){return(0,e.id)(this.format("sighash"))}format(te){if(te==null&&(te="sighash"),te==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(V=>JSON.parse(V.format(te)))});const J=[];return te!=="sighash"&&J.push("event"),J.push(this.name+pe(te,this.inputs)),te!=="sighash"&&this.anonymous&&J.push("anonymous"),J.join(" ")}static getTopicHash(te,J){return J=(J||[]).map(Y=>X.from(Y)),new ce(I,te,J,!1).topicHash}static from(te){if(ce.isFragment(te))return te;if(typeof te=="string")try{return ce.from(T(te))}catch{(0,t.assertArgument)(!1,"invalid event fragment","obj",te)}else if(te instanceof S){const J=_("event",te),V=D(te,!0),Y=!!N(te,n(["anonymous"])).has("anonymous");return z(te),new ce(I,J,V,Y)}return new ce(I,te.name,te.inputs?te.inputs.map(J=>X.from(J,!0)):[],!!te.anonymous)}static isFragment(te){return te&&te[P]===G}}Rs.EventFragment=ce;class fe extends le{payable;gas;constructor(te,J,V,Y,se){super(te,J,V),Object.defineProperty(this,P,{value:F}),(0,t.defineProperties)(this,{payable:Y,gas:se})}format(te){if((0,t.assert)(te!=null&&te!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),te==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(V=>JSON.parse(V.format(te)))});const J=[`constructor${pe(te,this.inputs)}`];return this.payable&&J.push("payable"),this.gas!=null&&J.push(`@${this.gas.toString()}`),J.join(" ")}static from(te){if(fe.isFragment(te))return te;if(typeof te=="string")try{return fe.from(T(te))}catch{(0,t.assertArgument)(!1,"invalid constuctor fragment","obj",te)}else if(te instanceof S){N(te,n(["constructor"]));const J=D(te),V=!!N(te,s).has("payable"),Y=k(te);return z(te),new fe(I,"constructor",J,V,Y)}return new fe(I,"constructor",te.inputs?te.inputs.map(X.from):[],!!te.payable,te.gas!=null?te.gas:null)}static isFragment(te){return te&&te[P]===F}}Rs.ConstructorFragment=fe;class ve extends le{payable;constructor(te,J,V){super(te,"fallback",J),Object.defineProperty(this,P,{value:H}),(0,t.defineProperties)(this,{payable:V})}format(te){const J=this.inputs.length===0?"receive":"fallback";if(te==="json"){const V=this.payable?"payable":"nonpayable";return JSON.stringify({type:J,stateMutability:V})}return`${J}()${this.payable?" payable":""}`}static from(te){if(ve.isFragment(te))return te;if(typeof te=="string")try{return ve.from(T(te))}catch{(0,t.assertArgument)(!1,"invalid fallback fragment","obj",te)}else if(te instanceof S){const J=te.toString(),V=te.peekKeyword(n(["fallback","receive"]));if((0,t.assertArgument)(V,"type must be fallback or receive","obj",J),te.popKeyword(n(["fallback","receive"]))==="receive"){const _e=D(te);return(0,t.assertArgument)(_e.length===0,"receive cannot have arguments","obj.inputs",_e),N(te,n(["payable"])),z(te),new ve(I,[],!0)}let se=D(te);se.length?(0,t.assertArgument)(se.length===1&&se[0].type==="bytes","invalid fallback inputs","obj.inputs",se.map(_e=>_e.format("minimal")).join(", ")):se=[X.from("bytes")];const me=O(te);if((0,t.assertArgument)(me==="nonpayable"||me==="payable","fallback cannot be constants","obj.stateMutability",me),N(te,n(["returns"])).has("returns")){const _e=D(te);(0,t.assertArgument)(_e.length===1&&_e[0].type==="bytes","invalid fallback outputs","obj.outputs",_e.map(Te=>Te.format("minimal")).join(", "))}return z(te),new ve(I,se,me==="payable")}if(te.type==="receive")return new ve(I,[],!0);if(te.type==="fallback"){const J=[X.from("bytes")],V=te.stateMutability==="payable";return new ve(I,J,V)}(0,t.assertArgument)(!1,"invalid fallback description","obj",te)}static isFragment(te){return te&&te[P]===H}}Rs.FallbackFragment=ve;class Re extends de{constant;outputs;stateMutability;payable;gas;constructor(te,J,V,Y,se,me){super(te,"function",J,Y),Object.defineProperty(this,P,{value:$}),se=Object.freeze(se.slice());const _e=V==="view"||V==="pure",Te=V==="payable";(0,t.defineProperties)(this,{constant:_e,gas:me,outputs:se,payable:Te,stateMutability:V})}get selector(){return(0,e.id)(this.format("sighash")).substring(0,10)}format(te){if(te==null&&(te="sighash"),te==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(V=>JSON.parse(V.format(te))),outputs:this.outputs.map(V=>JSON.parse(V.format(te)))});const J=[];return te!=="sighash"&&J.push("function"),J.push(this.name+pe(te,this.inputs)),te!=="sighash"&&(this.stateMutability!=="nonpayable"&&J.push(this.stateMutability),this.outputs&&this.outputs.length&&(J.push("returns"),J.push(pe(te,this.outputs))),this.gas!=null&&J.push(`@${this.gas.toString()}`)),J.join(" ")}static getSelector(te,J){return J=(J||[]).map(Y=>X.from(Y)),new Re(I,te,"view",J,[],null).selector}static from(te){if(Re.isFragment(te))return te;if(typeof te=="string")try{return Re.from(T(te))}catch{(0,t.assertArgument)(!1,"invalid function fragment","obj",te)}else if(te instanceof S){const V=_("function",te),Y=D(te),se=O(te);let me=[];N(te,n(["returns"])).has("returns")&&(me=D(te));const _e=k(te);return z(te),new Re(I,V,se,Y,me,_e)}let J=te.stateMutability;return J==null&&(J="payable",typeof te.constant=="boolean"?(J="view",te.constant||(J="payable",typeof te.payable=="boolean"&&!te.payable&&(J="nonpayable"))):typeof te.payable=="boolean"&&!te.payable&&(J="nonpayable")),new Re(I,te.name,J,te.inputs?te.inputs.map(X.from):[],te.outputs?te.outputs.map(X.from):[],te.gas!=null?te.gas:null)}static isFragment(te){return te&&te[P]===$}}Rs.FunctionFragment=Re;class Se extends de{constructor(te,J,V){super(te,"struct",J,V),Object.defineProperty(this,P,{value:Z})}format(){throw new Error("@TODO")}static from(te){if(typeof te=="string")try{return Se.from(T(te))}catch{(0,t.assertArgument)(!1,"invalid struct fragment","obj",te)}else if(te instanceof S){const J=_("struct",te),V=D(te);return z(te),new Se(I,J,V)}return new Se(I,te.name,te.inputs?te.inputs.map(X.from):[])}static isFragment(te){return te&&te[P]===Z}}return Rs.StructFragment=Se,Rs}var r7;function cQ(){if(r7)return Bb;r7=1,Object.defineProperty(Bb,"__esModule",{value:!0}),Bb.AbiCoder=void 0;const t=Et(),e=bl(),n=zRe(),r=nQ(),s=VRe(),i=rQ(),o=GRe(),a=KRe(),l=WRe(),c=QRe(),d=YRe(),f=q4(),p=Fs(),g=Et(),b=new Map;b.set(0,"GENERIC_PANIC"),b.set(1,"ASSERT_FALSE"),b.set(17,"OVERFLOW"),b.set(18,"DIVIDE_BY_ZERO"),b.set(33,"ENUM_RANGE_ERROR"),b.set(34,"BAD_STORAGE_DATA"),b.set(49,"STACK_UNDERFLOW"),b.set(50,"ARRAY_RANGE_ERROR"),b.set(65,"OUT_OF_MEMORY"),b.set(81,"UNINITIALIZED_FUNCTION_CALL");const w=new RegExp(/^bytes([0-9]*)$/),m=new RegExp(/^(u?int)([0-9]*)$/);let v=null,x=1024;function C(T,R,_,N){let O="missing revert data",D=null;const k=null;let z=null;if(_){O="execution reverted";const q=(0,g.getBytes)(_);if(_=(0,g.hexlify)(_),q.length===0)O+=" (no data present; likely require(false) occurred",D="require(false)";else if(q.length%32!==4)O+=" (could not decode reason; invalid data length)";else if((0,g.hexlify)(q.slice(0,4))==="0x08c379a0")try{D=N.decode(["string"],q.slice(4))[0],z={signature:"Error(string)",name:"Error",args:[D]},O+=`: ${JSON.stringify(D)}`}catch{O+=" (could not decode reason; invalid string data)"}else if((0,g.hexlify)(q.slice(0,4))==="0x4e487b71")try{const I=Number(N.decode(["uint256"],q.slice(4))[0]);z={signature:"Panic(uint256)",name:"Panic",args:[I]},D=`Panic due to ${b.get(I)||"UNKNOWN"}(${I})`,O+=`: ${D}`}catch{O+=" (could not decode panic code)"}else O+=" (unknown custom error)"}const K={to:R.to?(0,p.getAddress)(R.to):null,data:R.data||"0x"};return R.from&&(K.from=(0,p.getAddress)(R.from)),(0,g.makeError)(O,"CALL_EXCEPTION",{action:T,data:_,reason:D,transaction:K,invocation:k,revert:z})}class S{#e(R){if(R.isArray())return new r.ArrayCoder(this.#e(R.arrayChildren),R.arrayLength,R.name);if(R.isTuple())return new d.TupleCoder(R.components.map(N=>this.#e(N)),R.name);switch(R.baseType){case"address":return new n.AddressCoder(R.name);case"bool":return new s.BooleanCoder(R.name);case"string":return new c.StringCoder(R.name);case"bytes":return new i.BytesCoder(R.name);case"":return new a.NullCoder(R.name)}let _=R.type.match(m);if(_){let N=parseInt(_[2]||"256");return(0,t.assertArgument)(N!==0&&N<=256&&N%8===0,"invalid "+_[1]+" bit length","param",R),new l.NumberCoder(N/8,_[1]==="int",R.name)}if(_=R.type.match(w),_){let N=parseInt(_[1]);return(0,t.assertArgument)(N!==0&&N<=32,"invalid bytes length","param",R),new o.FixedBytesCoder(N,R.name)}(0,t.assertArgument)(!1,"invalid type","type",R.type)}getDefaultValue(R){const _=R.map(O=>this.#e(f.ParamType.from(O)));return new d.TupleCoder(_,"_").defaultValue()}encode(R,_){(0,t.assertArgumentCount)(_.length,R.length,"types/values length mismatch");const N=R.map(k=>this.#e(f.ParamType.from(k))),O=new d.TupleCoder(N,"_"),D=new e.Writer;return O.encode(D,_),D.data}decode(R,_,N){const O=R.map(k=>this.#e(f.ParamType.from(k)));return new d.TupleCoder(O,"_").decode(new e.Reader(_,N,x))}static _setDefaultMaxInflation(R){(0,t.assertArgument)(typeof R=="number"&&Number.isInteger(R),"invalid defaultMaxInflation factor","value",R),x=R}static defaultAbiCoder(){return v==null&&(v=new S),v}static getBuiltinCallException(R,_,N){return C(R,_,N,S.defaultAbiCoder())}}return Bb.AbiCoder=S,Bb}var hp={},s7;function sPe(){if(s7)return hp;s7=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.decodeBytes32String=hp.encodeBytes32String=void 0;const t=Et();function e(r){const s=(0,t.toUtf8Bytes)(r);if(s.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,t.zeroPadBytes)(s,32)}hp.encodeBytes32String=e;function n(r){const s=(0,t.getBytes)(r,"bytes");if(s.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(s[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let i=31;for(;s[i-1]===0;)i--;return(0,t.toUtf8String)(s.slice(0,i))}return hp.decodeBytes32String=n,hp}var oR={},i7;function iPe(){return i7||(i7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=t.Indexed=t.ErrorDescription=t.TransactionDescription=t.LogDescription=t.Result=t.checkResultErrors=void 0;const e=ti(),n=Bd(),r=Et(),s=cQ(),i=bl();Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return i.Result}});const o=q4(),a=kd();class l{fragment;name;signature;topic;args;constructor(m,v,x){const C=m.name,S=m.format();(0,r.defineProperties)(this,{fragment:m,name:C,signature:S,topic:v,args:x})}}t.LogDescription=l;class c{fragment;name;args;signature;selector;value;constructor(m,v,x,C){const S=m.name,T=m.format();(0,r.defineProperties)(this,{fragment:m,name:S,args:x,signature:T,selector:v,value:C})}}t.TransactionDescription=c;class d{fragment;name;args;signature;selector;constructor(m,v,x){const C=m.name,S=m.format();(0,r.defineProperties)(this,{fragment:m,name:C,args:x,signature:S,selector:v})}}t.ErrorDescription=d;class f{hash;_isIndexed;static isIndexed(m){return!!(m&&m._isIndexed)}constructor(m){(0,r.defineProperties)(this,{hash:m,_isIndexed:!0})}}t.Indexed=f;const p={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},g={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:w=>`reverted with reason string ${JSON.stringify(w)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:w=>{let m="unknown panic code";return w>=0&&w<=255&&p[w.toString()]&&(m=p[w.toString()]),`reverted with panic code 0x${w.toString(16)} (${m})`}}};class b{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(m){let v=[];typeof m=="string"?v=JSON.parse(m):v=m,this.#n=new Map,this.#e=new Map,this.#t=new Map;const x=[];for(const T of v)try{x.push(o.Fragment.from(T))}catch(R){console.log(`[Warning] Invalid Fragment ${JSON.stringify(T)}:`,R.message)}(0,r.defineProperties)(this,{fragments:Object.freeze(x)});let C=null,S=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((T,R)=>{let _;switch(T.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,r.defineProperties)(this,{deploy:T});return;case"fallback":T.inputs.length===0?S=!0:((0,r.assertArgument)(!C||T.payable!==C.payable,"conflicting fallback fragments",`fragments[${R}]`,T),C=T,S=C.payable);return;case"function":_=this.#n;break;case"event":_=this.#t;break;case"error":_=this.#e;break;default:return}const N=T.format();_.has(N)||_.set(N,T)}),this.deploy||(0,r.defineProperties)(this,{deploy:o.ConstructorFragment.from("constructor()")}),(0,r.defineProperties)(this,{fallback:C,receive:S})}format(m){const v=m?"minimal":"full";return this.fragments.map(C=>C.format(v))}formatJson(){const m=this.fragments.map(v=>v.format("json"));return JSON.stringify(m.map(v=>JSON.parse(v)))}getAbiCoder(){return s.AbiCoder.defaultAbiCoder()}#s(m,v,x){if((0,r.isHexString)(m)){const S=m.toLowerCase();for(const T of this.#n.values())if(S===T.selector)return T;return null}if(m.indexOf("(")===-1){const S=[];for(const[T,R]of this.#n)T.split("(")[0]===m&&S.push(R);if(v){const T=v.length>0?v[v.length-1]:null;let R=v.length,_=!0;a.Typed.isTyped(T)&&T.type==="overrides"&&(_=!1,R--);for(let N=S.length-1;N>=0;N--){const O=S[N].inputs.length;O!==R&&(!_||O!==R-1)&&S.splice(N,1)}for(let N=S.length-1;N>=0;N--){const O=S[N].inputs;for(let D=0;D<v.length;D++)if(a.Typed.isTyped(v[D])){if(D>=O.length){if(v[D].type==="overrides")continue;S.splice(N,1);break}if(v[D].type!==O[D].baseType){S.splice(N,1);break}}}}if(S.length===1&&v&&v.length!==S[0].inputs.length){const T=v[v.length-1];(T==null||Array.isArray(T)||typeof T!="object")&&S.splice(0,1)}if(S.length===0)return null;if(S.length>1&&x){const T=S.map(R=>JSON.stringify(R.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous function description (i.e. matches ${T})`,"key",m)}return S[0]}const C=this.#n.get(o.FunctionFragment.from(m).format());return C||null}getFunctionName(m){const v=this.#s(m,null,!1);return(0,r.assertArgument)(v,"no matching function","key",m),v.name}hasFunction(m){return!!this.#s(m,null,!1)}getFunction(m,v){return this.#s(m,v||null,!0)}forEachFunction(m){const v=Array.from(this.#n.keys());v.sort((x,C)=>x.localeCompare(C));for(let x=0;x<v.length;x++){const C=v[x];m(this.#n.get(C),x)}}#o(m,v,x){if((0,r.isHexString)(m)){const S=m.toLowerCase();for(const T of this.#t.values())if(S===T.topicHash)return T;return null}if(m.indexOf("(")===-1){const S=[];for(const[T,R]of this.#t)T.split("(")[0]===m&&S.push(R);if(v){for(let T=S.length-1;T>=0;T--)S[T].inputs.length<v.length&&S.splice(T,1);for(let T=S.length-1;T>=0;T--){const R=S[T].inputs;for(let _=0;_<v.length;_++)if(a.Typed.isTyped(v[_])&&v[_].type!==R[_].baseType){S.splice(T,1);break}}}if(S.length===0)return null;if(S.length>1&&x){const T=S.map(R=>JSON.stringify(R.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous event description (i.e. matches ${T})`,"key",m)}return S[0]}const C=this.#t.get(o.EventFragment.from(m).format());return C||null}getEventName(m){const v=this.#o(m,null,!1);return(0,r.assertArgument)(v,"no matching event","key",m),v.name}hasEvent(m){return!!this.#o(m,null,!1)}getEvent(m,v){return this.#o(m,v||null,!0)}forEachEvent(m){const v=Array.from(this.#t.keys());v.sort((x,C)=>x.localeCompare(C));for(let x=0;x<v.length;x++){const C=v[x];m(this.#t.get(C),x)}}getError(m,v){if((0,r.isHexString)(m)){const C=m.toLowerCase();if(g[C])return o.ErrorFragment.from(g[C].signature);for(const S of this.#e.values())if(C===S.selector)return S;return null}if(m.indexOf("(")===-1){const C=[];for(const[S,T]of this.#e)S.split("(")[0]===m&&C.push(T);if(C.length===0)return m==="Error"?o.ErrorFragment.from("error Error(string)"):m==="Panic"?o.ErrorFragment.from("error Panic(uint256)"):null;if(C.length>1){const S=C.map(T=>JSON.stringify(T.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous error description (i.e. ${S})`,"name",m)}return C[0]}if(m=o.ErrorFragment.from(m).format(),m==="Error(string)")return o.ErrorFragment.from("error Error(string)");if(m==="Panic(uint256)")return o.ErrorFragment.from("error Panic(uint256)");const x=this.#e.get(m);return x||null}forEachError(m){const v=Array.from(this.#e.keys());v.sort((x,C)=>x.localeCompare(C));for(let x=0;x<v.length;x++){const C=v[x];m(this.#e.get(C),x)}}_decodeParams(m,v){return this.#r.decode(m,v)}_encodeParams(m,v){return this.#r.encode(m,v)}encodeDeploy(m){return this._encodeParams(this.deploy.inputs,m||[])}decodeErrorResult(m,v){if(typeof m=="string"){const x=this.getError(m);(0,r.assertArgument)(x,"unknown error","fragment",m),m=x}return(0,r.assertArgument)((0,r.dataSlice)(v,0,4)===m.selector,`data signature does not match error ${m.name}.`,"data",v),this._decodeParams(m.inputs,(0,r.dataSlice)(v,4))}encodeErrorResult(m,v){if(typeof m=="string"){const x=this.getError(m);(0,r.assertArgument)(x,"unknown error","fragment",m),m=x}return(0,r.concat)([m.selector,this._encodeParams(m.inputs,v||[])])}decodeFunctionData(m,v){if(typeof m=="string"){const x=this.getFunction(m);(0,r.assertArgument)(x,"unknown function","fragment",m),m=x}return(0,r.assertArgument)((0,r.dataSlice)(v,0,4)===m.selector,`data signature does not match function ${m.name}.`,"data",v),this._decodeParams(m.inputs,(0,r.dataSlice)(v,4))}encodeFunctionData(m,v){if(typeof m=="string"){const x=this.getFunction(m);(0,r.assertArgument)(x,"unknown function","fragment",m),m=x}return(0,r.concat)([m.selector,this._encodeParams(m.inputs,v||[])])}decodeFunctionResult(m,v){if(typeof m=="string"){const S=this.getFunction(m);(0,r.assertArgument)(S,"unknown function","fragment",m),m=S}let x="invalid length for result data";const C=(0,r.getBytesCopy)(v);if(C.length%32===0)try{return this.#r.decode(m.outputs,C)}catch{x="could not decode result data"}(0,r.assert)(!1,x,"BAD_DATA",{value:(0,r.hexlify)(C),info:{method:m.name,signature:m.format()}})}makeError(m,v){const x=(0,r.getBytes)(m,"data"),C=s.AbiCoder.getBuiltinCallException("call",v,x);if(C.message.startsWith("execution reverted (unknown custom error)")){const R=(0,r.hexlify)(x.slice(0,4)),_=this.getError(R);if(_)try{const N=this.#r.decode(_.inputs,x.slice(4));C.revert={name:_.name,signature:_.format(),args:N},C.reason=C.revert.signature,C.message=`execution reverted: ${C.reason}`}catch{C.message="execution reverted (coult not decode custom error)"}}const T=this.parseTransaction(v);return T&&(C.invocation={method:T.name,signature:T.signature,args:T.args}),C}encodeFunctionResult(m,v){if(typeof m=="string"){const x=this.getFunction(m);(0,r.assertArgument)(x,"unknown function","fragment",m),m=x}return(0,r.hexlify)(this.#r.encode(m.outputs,v||[]))}encodeFilterTopics(m,v){if(typeof m=="string"){const S=this.getEvent(m);(0,r.assertArgument)(S,"unknown event","eventFragment",m),m=S}(0,r.assert)(v.length<=m.inputs.length,`too many arguments for ${m.format()}`,"UNEXPECTED_ARGUMENT",{count:v.length,expectedCount:m.inputs.length});const x=[];m.anonymous||x.push(m.topicHash);const C=(S,T)=>S.type==="string"?(0,n.id)(T):S.type==="bytes"?(0,e.keccak256)((0,r.hexlify)(T)):(S.type==="bool"&&typeof T=="boolean"?T=T?"0x01":"0x00":S.type.match(/^u?int/)?T=(0,r.toBeHex)(T):S.type.match(/^bytes/)?T=(0,r.zeroPadBytes)(T,32):S.type==="address"&&this.#r.encode(["address"],[T]),(0,r.zeroPadValue)((0,r.hexlify)(T),32));for(v.forEach((S,T)=>{const R=m.inputs[T];if(!R.indexed){(0,r.assertArgument)(S==null,"cannot filter non-indexed parameters; must be null","contract."+R.name,S);return}S==null?x.push(null):R.baseType==="array"||R.baseType==="tuple"?(0,r.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+R.name,S):Array.isArray(S)?x.push(S.map(_=>C(R,_))):x.push(C(R,S))});x.length&&x[x.length-1]===null;)x.pop();return x}encodeEventLog(m,v){if(typeof m=="string"){const T=this.getEvent(m);(0,r.assertArgument)(T,"unknown event","eventFragment",m),m=T}const x=[],C=[],S=[];return m.anonymous||x.push(m.topicHash),(0,r.assertArgument)(v.length===m.inputs.length,"event arguments/values mismatch","values",v),m.inputs.forEach((T,R)=>{const _=v[R];if(T.indexed)if(T.type==="string")x.push((0,n.id)(_));else if(T.type==="bytes")x.push((0,e.keccak256)(_));else{if(T.baseType==="tuple"||T.baseType==="array")throw new Error("not implemented");x.push(this.#r.encode([T.type],[_]))}else C.push(T),S.push(_)}),{data:this.#r.encode(C,S),topics:x}}decodeEventLog(m,v,x){if(typeof m=="string"){const z=this.getEvent(m);(0,r.assertArgument)(z,"unknown event","eventFragment",m),m=z}if(x!=null&&!m.anonymous){const z=m.topicHash;(0,r.assertArgument)((0,r.isHexString)(x[0],32)&&x[0].toLowerCase()===z,"fragment/topic mismatch","topics[0]",x[0]),x=x.slice(1)}const C=[],S=[],T=[];m.inputs.forEach((z,K)=>{z.indexed?z.type==="string"||z.type==="bytes"||z.baseType==="tuple"||z.baseType==="array"?(C.push(o.ParamType.from({type:"bytes32",name:z.name})),T.push(!0)):(C.push(z),T.push(!1)):(S.push(z),T.push(!1))});const R=x!=null?this.#r.decode(C,(0,r.concat)(x)):null,_=this.#r.decode(S,v,!0),N=[],O=[];let D=0,k=0;return m.inputs.forEach((z,K)=>{let q=null;if(z.indexed)if(R==null)q=new f(null);else if(T[K])q=new f(R[k++]);else try{q=R[k++]}catch(I){q=I}else try{q=_[D++]}catch(I){q=I}N.push(q),O.push(z.name||null)}),i.Result.fromItems(N,O)}parseTransaction(m){const v=(0,r.getBytes)(m.data,"tx.data"),x=(0,r.getBigInt)(m.value!=null?m.value:0,"tx.value"),C=this.getFunction((0,r.hexlify)(v.slice(0,4)));if(!C)return null;const S=this.#r.decode(C.inputs,v.slice(4));return new c(C,C.selector,S,x)}parseCallResult(m){throw new Error("@TODO")}parseLog(m){const v=this.getEvent(m.topics[0]);return!v||v.anonymous?null:new l(v,v.topicHash,this.decodeEventLog(v,m.data,m.topics))}parseError(m){const v=(0,r.hexlify)(m),x=this.getError((0,r.dataSlice)(v,0,4));if(!x)return null;const C=this.#r.decode(x.inputs,(0,r.dataSlice)(v,4));return new d(x,x.selector,C)}static from(m){return m instanceof b?m:typeof m=="string"?new b(JSON.parse(m)):typeof m.formatJson=="function"?new b(m.formatJson()):typeof m.format=="function"?new b(m.format("json")):new b(m)}}t.Interface=b}(oR)),oR}var o7;function sx(){return o7||(o7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Typed=t.Result=t.TransactionDescription=t.LogDescription=t.ErrorDescription=t.Interface=t.Indexed=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.Fragment=t.FallbackFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.encodeBytes32String=t.decodeBytes32String=t.AbiCoder=void 0;var e=cQ();Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return e.AbiCoder}});var n=sPe();Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return n.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return n.encodeBytes32String}});var r=q4();Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return r.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return r.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return r.EventFragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return r.FallbackFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return r.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return r.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return r.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return r.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return r.StructFragment}});var s=iPe();Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return s.ErrorDescription}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}});var i=kd();Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return i.Typed}})}(K3)),K3}var aR={},Fc={},io={},a7;function ix(){if(a7)return io;a7=1,Object.defineProperty(io,"__esModule",{value:!0}),io.TransactionResponse=io.TransactionReceipt=io.Log=io.Block=io.copyRequest=io.FeeData=void 0;const t=Et(),e=ea(),n=BigInt(0);function r(w){return w??null}function s(w){return w==null?null:w.toString()}class i{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(m,v,x){(0,t.defineProperties)(this,{gasPrice:r(m),maxFeePerGas:r(v),maxPriorityFeePerGas:r(x)})}toJSON(){const{gasPrice:m,maxFeePerGas:v,maxPriorityFeePerGas:x}=this;return{_type:"FeeData",gasPrice:s(m),maxFeePerGas:s(v),maxPriorityFeePerGas:s(x)}}}io.FeeData=i;function o(w){const m={};w.to&&(m.to=w.to),w.from&&(m.from=w.from),w.data&&(m.data=(0,t.hexlify)(w.data));const v="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const C of v)!(C in w)||w[C]==null||(m[C]=(0,t.getBigInt)(w[C],`request.${C}`));const x="type,nonce".split(/,/);for(const C of x)!(C in w)||w[C]==null||(m[C]=(0,t.getNumber)(w[C],`request.${C}`));return w.accessList&&(m.accessList=(0,e.accessListify)(w.accessList)),w.authorizationList&&(m.authorizationList=w.authorizationList.slice()),"blockTag"in w&&(m.blockTag=w.blockTag),"enableCcipRead"in w&&(m.enableCcipRead=!!w.enableCcipRead),"customData"in w&&(m.customData=w.customData),"blobVersionedHashes"in w&&w.blobVersionedHashes&&(m.blobVersionedHashes=w.blobVersionedHashes.slice()),"kzg"in w&&(m.kzg=w.kzg),"blobs"in w&&w.blobs&&(m.blobs=w.blobs.map(C=>(0,t.isBytesLike)(C)?(0,t.hexlify)(C):Object.assign({},C))),m}io.copyRequest=o;class a{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(m,v){this.#e=m.transactions.map(x=>typeof x!="string"?new d(x,v):x),(0,t.defineProperties)(this,{provider:v,hash:r(m.hash),number:m.number,timestamp:m.timestamp,parentHash:m.parentHash,parentBeaconBlockRoot:m.parentBeaconBlockRoot,nonce:m.nonce,difficulty:m.difficulty,gasLimit:m.gasLimit,gasUsed:m.gasUsed,blobGasUsed:m.blobGasUsed,excessBlobGas:m.excessBlobGas,miner:m.miner,prevRandao:r(m.prevRandao),extraData:m.extraData,baseFeePerGas:r(m.baseFeePerGas),stateRoot:m.stateRoot,receiptsRoot:m.receiptsRoot})}get transactions(){return this.#e.map(m=>typeof m=="string"?m:m.hash)}get prefetchedTransactions(){const m=this.#e.slice();return m.length===0?[]:((0,t.assert)(typeof m[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),m)}toJSON(){const{baseFeePerGas:m,difficulty:v,extraData:x,gasLimit:C,gasUsed:S,hash:T,miner:R,prevRandao:_,nonce:N,number:O,parentHash:D,parentBeaconBlockRoot:k,stateRoot:z,receiptsRoot:K,timestamp:q,transactions:I}=this;return{_type:"Block",baseFeePerGas:s(m),difficulty:s(v),extraData:x,gasLimit:s(C),gasUsed:s(S),blobGasUsed:s(this.blobGasUsed),excessBlobGas:s(this.excessBlobGas),hash:T,miner:R,prevRandao:_,nonce:N,number:O,parentHash:D,timestamp:q,parentBeaconBlockRoot:k,stateRoot:z,receiptsRoot:K,transactions:I}}[Symbol.iterator](){let m=0;const v=this.transactions;return{next:()=>m<this.length?{value:v[m++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(m){let v;if(typeof m=="number")v=this.#e[m];else{const x=m.toLowerCase();for(const C of this.#e)if(typeof C=="string"){if(C!==x)continue;v=C;break}else{if(C.hash!==x)continue;v=C;break}}if(v==null)throw new Error("no such tx");return typeof v=="string"?await this.provider.getTransaction(v):v}getPrefetchedTransaction(m){const v=this.prefetchedTransactions;if(typeof m=="number")return v[m];m=m.toLowerCase();for(const x of v)if(x.hash===m)return x;(0,t.assertArgument)(!1,"no matching transaction","indexOrHash",m)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return f(this)}}io.Block=a;class l{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(m,v){this.provider=v;const x=Object.freeze(m.topics.slice());(0,t.defineProperties)(this,{transactionHash:m.transactionHash,blockHash:m.blockHash,blockNumber:m.blockNumber,removed:m.removed,address:m.address,data:m.data,topics:x,index:m.index,transactionIndex:m.transactionIndex})}toJSON(){const{address:m,blockHash:v,blockNumber:x,data:C,index:S,removed:T,topics:R,transactionHash:_,transactionIndex:N}=this;return{_type:"log",address:m,blockHash:v,blockNumber:x,data:C,index:S,removed:T,topics:R,transactionHash:_,transactionIndex:N}}async getBlock(){const m=await this.provider.getBlock(this.blockHash);return(0,t.assert)(!!m,"failed to find transaction","UNKNOWN_ERROR",{}),m}async getTransaction(){const m=await this.provider.getTransaction(this.transactionHash);return(0,t.assert)(!!m,"failed to find transaction","UNKNOWN_ERROR",{}),m}async getTransactionReceipt(){const m=await this.provider.getTransactionReceipt(this.transactionHash);return(0,t.assert)(!!m,"failed to find transaction receipt","UNKNOWN_ERROR",{}),m}removedEvent(){return b(this)}}io.Log=l;class c{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(m,v){this.#e=Object.freeze(m.logs.map(C=>new l(C,v)));let x=n;m.effectiveGasPrice!=null?x=m.effectiveGasPrice:m.gasPrice!=null&&(x=m.gasPrice),(0,t.defineProperties)(this,{provider:v,to:m.to,from:m.from,contractAddress:m.contractAddress,hash:m.hash,index:m.index,blockHash:m.blockHash,blockNumber:m.blockNumber,logsBloom:m.logsBloom,gasUsed:m.gasUsed,cumulativeGasUsed:m.cumulativeGasUsed,blobGasUsed:m.blobGasUsed,gasPrice:x,blobGasPrice:m.blobGasPrice,type:m.type,status:m.status,root:m.root})}get logs(){return this.#e}toJSON(){const{to:m,from:v,contractAddress:x,hash:C,index:S,blockHash:T,blockNumber:R,logsBloom:_,logs:N,status:O,root:D}=this;return{_type:"TransactionReceipt",blockHash:T,blockNumber:R,contractAddress:x,cumulativeGasUsed:s(this.cumulativeGasUsed),from:v,gasPrice:s(this.gasPrice),blobGasUsed:s(this.blobGasUsed),blobGasPrice:s(this.blobGasPrice),gasUsed:s(this.gasUsed),hash:C,index:S,logs:N,logsBloom:_,root:D,status:O,to:m}}get length(){return this.logs.length}[Symbol.iterator](){let m=0;return{next:()=>m<this.length?{value:this.logs[m++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const m=await this.provider.getBlock(this.blockHash);if(m==null)throw new Error("TODO");return m}async getTransaction(){const m=await this.provider.getTransaction(this.hash);if(m==null)throw new Error("TODO");return m}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return g(this)}reorderedEvent(m){return(0,t.assert)(!m||m.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),p(this,m)}}io.TransactionReceipt=c;class d{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(m,v){this.provider=v,this.blockNumber=m.blockNumber!=null?m.blockNumber:null,this.blockHash=m.blockHash!=null?m.blockHash:null,this.hash=m.hash,this.index=m.index,this.type=m.type,this.from=m.from,this.to=m.to||null,this.gasLimit=m.gasLimit,this.nonce=m.nonce,this.data=m.data,this.value=m.value,this.gasPrice=m.gasPrice,this.maxPriorityFeePerGas=m.maxPriorityFeePerGas!=null?m.maxPriorityFeePerGas:null,this.maxFeePerGas=m.maxFeePerGas!=null?m.maxFeePerGas:null,this.maxFeePerBlobGas=m.maxFeePerBlobGas!=null?m.maxFeePerBlobGas:null,this.chainId=m.chainId,this.signature=m.signature,this.accessList=m.accessList!=null?m.accessList:null,this.blobVersionedHashes=m.blobVersionedHashes!=null?m.blobVersionedHashes:null,this.authorizationList=m.authorizationList!=null?m.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:m,blockHash:v,index:x,hash:C,type:S,to:T,from:R,nonce:_,data:N,signature:O,accessList:D,blobVersionedHashes:k}=this;return{_type:"TransactionResponse",accessList:D,blockNumber:m,blockHash:v,blobVersionedHashes:k,chainId:s(this.chainId),data:N,from:R,gasLimit:s(this.gasLimit),gasPrice:s(this.gasPrice),hash:C,maxFeePerGas:s(this.maxFeePerGas),maxPriorityFeePerGas:s(this.maxPriorityFeePerGas),maxFeePerBlobGas:s(this.maxFeePerBlobGas),nonce:_,signature:O,to:T,index:x,type:S,value:s(this.value)}}async getBlock(){let m=this.blockNumber;if(m==null){const x=await this.getTransaction();x&&(m=x.blockNumber)}if(m==null)return null;const v=this.provider.getBlock(m);if(v==null)throw new Error("TODO");return v}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:v,blockNumber:x}=await(0,t.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return v==null||v.blockNumber==null?0:x-v.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(m,v){const x=m??1,C=v??0;let S=this.#e,T=-1,R=S===-1;const _=async()=>{if(R)return null;const{blockNumber:k,nonce:z}=await(0,t.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(z<this.nonce){S=k;return}if(R)return null;const K=await this.getTransaction();if(!(K&&K.blockNumber!=null))for(T===-1&&(T=S-3,T<this.#e&&(T=this.#e));T<=k;){if(R)return null;const q=await this.provider.getBlock(T,!0);if(q==null)return;for(const I of q)if(I===this.hash)return;for(let I=0;I<q.length;I++){const P=await q.getTransaction(I);if(P.from===this.from&&P.nonce===this.nonce){if(R)return null;const M=await this.provider.getTransactionReceipt(P.hash);if(M==null||k-M.blockNumber+1<x)return;let j="replaced";P.data===this.data&&P.to===this.to&&P.value===this.value?j="repriced":P.data==="0x"&&P.from===P.to&&P.value===n&&(j="cancelled"),(0,t.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:j==="replaced"||j==="cancelled",reason:j,replacement:P.replaceableTransaction(S),hash:P.hash,receipt:M})}}T++}},N=k=>{if(k==null||k.status!==0)return k;(0,t.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:k.to,from:k.from,data:""},receipt:k})},O=await this.provider.getTransactionReceipt(this.hash);if(x===0)return N(O);if(O){if(x===1||await O.confirmations()>=x)return N(O)}else if(await _(),x===0)return null;return await new Promise((k,z)=>{const K=[],q=()=>{K.forEach(P=>P())};if(K.push(()=>{R=!0}),C>0){const P=setTimeout(()=>{q(),z((0,t.makeError)("wait for transaction timeout","TIMEOUT"))},C);K.push(()=>{clearTimeout(P)})}const I=async P=>{if(await P.confirmations()>=x){q();try{k(N(P))}catch(M){z(M)}}};if(K.push(()=>{this.provider.off(this.hash,I)}),this.provider.on(this.hash,I),S>=0){const P=async()=>{try{await _()}catch(M){if((0,t.isError)(M,"TRANSACTION_REPLACED")){q(),z(M);return}}R||this.provider.once("block",P)};K.push(()=>{this.provider.off("block",P)}),this.provider.once("block",P)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,t.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g(this)}reorderedEvent(m){return(0,t.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,t.assert)(!m||m.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),p(this,m)}replaceableTransaction(m){(0,t.assertArgument)(Number.isInteger(m)&&m>=0,"invalid startBlock","startBlock",m);const v=new d(this,this.provider);return v.#e=m,v}}io.TransactionResponse=d;function f(w){return{orphan:"drop-block",hash:w.hash,number:w.number}}function p(w,m){return{orphan:"reorder-transaction",tx:w,other:m}}function g(w){return{orphan:"drop-transaction",tx:w}}function b(w){return{orphan:"drop-log",log:{transactionHash:w.transactionHash,blockHash:w.blockHash,blockNumber:w.blockNumber,address:w.address,data:w.data,topics:Object.freeze(w.topics.slice()),index:w.index}}}return io}var oo={},c7;function lQ(){if(c7)return oo;c7=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.ContractEventPayload=oo.ContractUnknownEventPayload=oo.ContractTransactionResponse=oo.ContractTransactionReceipt=oo.UndecodedEventLog=oo.EventLog=void 0;const t=ix(),e=Et();class n extends t.Log{interface;fragment;args;constructor(c,d,f){super(c,c.provider);const p=d.decodeEventLog(f,c.data,c.topics);(0,e.defineProperties)(this,{args:p,fragment:f,interface:d})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}oo.EventLog=n;class r extends t.Log{error;constructor(c,d){super(c,c.provider),(0,e.defineProperties)(this,{error:d})}}oo.UndecodedEventLog=r;class s extends t.TransactionReceipt{#e;constructor(c,d,f){super(f,d),this.#e=c}get logs(){return super.logs.map(c=>{const d=c.topics.length?this.#e.getEvent(c.topics[0]):null;if(d)try{return new n(c,this.#e,d)}catch(f){return new r(c,f)}return c})}}oo.ContractTransactionReceipt=s;class i extends t.TransactionResponse{#e;constructor(c,d,f){super(f,d),this.#e=c}async wait(c,d){const f=await super.wait(c,d);return f==null?null:new s(this.#e,this.provider,f)}}oo.ContractTransactionResponse=i;class o extends e.EventPayload{log;constructor(c,d,f,p){super(c,d,f),(0,e.defineProperties)(this,{log:p})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}oo.ContractUnknownEventPayload=o;class a extends o{constructor(c,d,f,p,g){super(c,d,f,new n(g,c.interface,p));const b=c.interface.decodeEventLog(p,this.log.data,this.log.topics);(0,e.defineProperties)(this,{args:b,fragment:p})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}return oo.ContractEventPayload=a,oo}var l7;function uQ(){if(l7)return Fc;l7=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.Contract=Fc.BaseContract=Fc.resolveArgs=Fc.copyOverrides=void 0;const t=sx(),e=Fs(),n=ix(),r=Et(),s=lQ(),i=BigInt(0);function o(j){return j&&typeof j.call=="function"}function a(j){return j&&typeof j.estimateGas=="function"}function l(j){return j&&typeof j.resolveName=="function"}function c(j){return j&&typeof j.sendTransaction=="function"}function d(j){if(j!=null){if(l(j))return j;if(j.provider)return j.provider}}class f{#e;fragment;constructor(G,F,H){if((0,r.defineProperties)(this,{fragment:F}),F.inputs.length<H.length)throw new Error("too many arguments");const $=p(G.runner,"resolveName"),Z=l($)?$:null;this.#e=async function(){const X=await Promise.all(F.inputs.map((le,de)=>H[de]==null?null:le.walkAsync(H[de],(ae,ce)=>ae==="address"?Array.isArray(ce)?Promise.all(ce.map(fe=>(0,e.resolveAddress)(fe,Z))):(0,e.resolveAddress)(ce,Z):ce)));return G.interface.encodeFilterTopics(F,X)}()}getTopicFilter(){return this.#e}}function p(j,G){return j==null?null:typeof j[G]=="function"?j:j.provider&&typeof j.provider[G]=="function"?j.provider:null}function g(j){return j==null?null:j.provider||null}async function b(j,G){const F=t.Typed.dereference(j,"overrides");(0,r.assertArgument)(typeof F=="object","invalid overrides parameter","overrides",j);const H=(0,n.copyRequest)(F);return(0,r.assertArgument)(H.to==null||(G||[]).indexOf("to")>=0,"cannot override to","overrides.to",H.to),(0,r.assertArgument)(H.data==null||(G||[]).indexOf("data")>=0,"cannot override data","overrides.data",H.data),H.from&&(H.from=H.from),H}Fc.copyOverrides=b;async function w(j,G,F){const H=p(j,"resolveName"),$=l(H)?H:null;return await Promise.all(G.map((Z,X)=>Z.walkAsync(F[X],(le,de)=>(de=t.Typed.dereference(de,le),le==="address"?(0,e.resolveAddress)(de,$):de))))}Fc.resolveArgs=w;function m(j){const G=async function(X){const le=await b(X,["data"]);le.to=await j.getAddress(),le.from&&(le.from=await(0,e.resolveAddress)(le.from,d(j.runner)));const de=j.interface,pe=(0,r.getBigInt)(le.value||i,"overrides.value")===i,ae=(le.data||"0x")==="0x";de.fallback&&!de.fallback.payable&&de.receive&&!ae&&!pe&&(0,r.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",X),(0,r.assertArgument)(de.fallback||ae,"cannot send data to receive-only contract","overrides.data",le.data);const ce=de.receive||de.fallback&&de.fallback.payable;return(0,r.assertArgument)(ce||pe,"cannot send value to non-payable fallback","overrides.value",le.value),(0,r.assertArgument)(de.fallback||ae,"cannot send data to receive-only contract","overrides.data",le.data),le},F=async function(X){const le=p(j.runner,"call");(0,r.assert)(o(le),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const de=await G(X);try{return await le.call(de)}catch(pe){throw(0,r.isCallException)(pe)&&pe.data?j.interface.makeError(pe.data,de):pe}},H=async function(X){const le=j.runner;(0,r.assert)(c(le),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const de=await le.sendTransaction(await G(X)),pe=g(j.runner);return new s.ContractTransactionResponse(j.interface,pe,de)},$=async function(X){const le=p(j.runner,"estimateGas");return(0,r.assert)(a(le),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await le.estimateGas(await G(X))},Z=async X=>await H(X);return(0,r.defineProperties)(Z,{_contract:j,estimateGas:$,populateTransaction:G,send:H,staticCall:F}),Z}function v(j,G){const F=function(...pe){const ae=j.interface.getFunction(G,pe);return(0,r.assert)(ae,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:G,args:pe}}),ae},H=async function(...pe){const ae=F(...pe);let ce={};if(ae.inputs.length+1===pe.length&&(ce=await b(pe.pop()),ce.from&&(ce.from=await(0,e.resolveAddress)(ce.from,d(j.runner)))),ae.inputs.length!==pe.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const fe=await w(j.runner,ae.inputs,pe);return Object.assign({},ce,await(0,r.resolveProperties)({to:j.getAddress(),data:j.interface.encodeFunctionData(ae,fe)}))},$=async function(...pe){const ae=await le(...pe);return ae.length===1?ae[0]:ae},Z=async function(...pe){const ae=j.runner;(0,r.assert)(c(ae),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const ce=await ae.sendTransaction(await H(...pe)),fe=g(j.runner);return new s.ContractTransactionResponse(j.interface,fe,ce)},X=async function(...pe){const ae=p(j.runner,"estimateGas");return(0,r.assert)(a(ae),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await ae.estimateGas(await H(...pe))},le=async function(...pe){const ae=p(j.runner,"call");(0,r.assert)(o(ae),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const ce=await H(...pe);let fe="0x";try{fe=await ae.call(ce)}catch(Re){throw(0,r.isCallException)(Re)&&Re.data?j.interface.makeError(Re.data,ce):Re}const ve=F(...pe);return j.interface.decodeFunctionResult(ve,fe)},de=async(...pe)=>F(...pe).constant?await $(...pe):await Z(...pe);return(0,r.defineProperties)(de,{name:j.interface.getFunctionName(G),_contract:j,_key:G,getFragment:F,estimateGas:X,populateTransaction:H,send:Z,staticCall:$,staticCallResult:le}),Object.defineProperty(de,"fragment",{configurable:!1,enumerable:!0,get:()=>{const pe=j.interface.getFunction(G);return(0,r.assert)(pe,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:G}}),pe}}),de}function x(j,G){const F=function(...$){const Z=j.interface.getEvent(G,$);return(0,r.assert)(Z,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:G,args:$}}),Z},H=function(...$){return new f(j,F(...$),$)};return(0,r.defineProperties)(H,{name:j.interface.getEventName(G),_contract:j,_key:G,getFragment:F}),Object.defineProperty(H,"fragment",{configurable:!1,enumerable:!0,get:()=>{const $=j.interface.getEvent(G);return(0,r.assert)($,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:G}}),$}}),H}const C=Symbol.for("_ethersInternal_contract"),S=new WeakMap;function T(j,G){S.set(j[C],G)}function R(j){return S.get(j[C])}function _(j){return j&&typeof j=="object"&&"getTopicFilter"in j&&typeof j.getTopicFilter=="function"&&j.fragment}async function N(j,G){let F,H=null;if(Array.isArray(G)){const Z=function(X){if((0,r.isHexString)(X,32))return X;const le=j.interface.getEvent(X);return(0,r.assertArgument)(le,"unknown fragment","name",X),le.topicHash};F=G.map(X=>X==null?null:Array.isArray(X)?X.map(Z):Z(X))}else G==="*"?F=[null]:typeof G=="string"?(0,r.isHexString)(G,32)?F=[G]:(H=j.interface.getEvent(G),(0,r.assertArgument)(H,"unknown fragment","event",G),F=[H.topicHash]):_(G)?F=await G.getTopicFilter():"fragment"in G?(H=G.fragment,F=[H.topicHash]):(0,r.assertArgument)(!1,"unknown event name","event",G);F=F.map(Z=>{if(Z==null)return null;if(Array.isArray(Z)){const X=Array.from(new Set(Z.map(le=>le.toLowerCase())).values());return X.length===1?X[0]:(X.sort(),X)}return Z.toLowerCase()});const $=F.map(Z=>Z==null?"null":Array.isArray(Z)?Z.join("|"):Z).join("&");return{fragment:H,tag:$,topics:F}}async function O(j,G){const{subs:F}=R(j);return F.get((await N(j,G)).tag)||null}async function D(j,G,F){const H=g(j.runner);(0,r.assert)(H,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:G});const{fragment:$,tag:Z,topics:X}=await N(j,F),{addr:le,subs:de}=R(j);let pe=de.get(Z);if(!pe){const ce={address:le||j,topics:X},fe=xe=>{let te=$;if(te==null)try{te=j.interface.getEvent(xe.topics[0])}catch{}if(te){const J=te,V=$?j.interface.decodeEventLog($,xe.data,xe.topics):[];K(j,F,V,Y=>new s.ContractEventPayload(j,Y,F,J,xe))}else K(j,F,[],J=>new s.ContractUnknownEventPayload(j,J,F,xe))};let ve=[];pe={tag:Z,listeners:[],start:()=>{ve.length||ve.push(H.on(ce,fe))},stop:async()=>{if(ve.length==0)return;let xe=ve;ve=[],await Promise.all(xe),H.off(ce,fe)}},de.set(Z,pe)}return pe}let k=Promise.resolve();async function z(j,G,F,H){await k;const $=await O(j,G);if(!$)return!1;const Z=$.listeners.length;return $.listeners=$.listeners.filter(({listener:X,once:le})=>{const de=Array.from(F);H&&de.push(H(le?null:X));try{X.call(j,...de)}catch{}return!le}),$.listeners.length===0&&($.stop(),R(j).subs.delete($.tag)),Z>0}async function K(j,G,F,H){try{await k}catch{}const $=z(j,G,F,H);return k=$,await $}const q=["then"];class I{target;interface;runner;filters;[C];fallback;constructor(G,F,H,$){(0,r.assertArgument)(typeof G=="string"||(0,e.isAddressable)(G),"invalid value for Contract target","target",G),H==null&&(H=null);const Z=t.Interface.from(F);(0,r.defineProperties)(this,{target:G,runner:H,interface:Z}),Object.defineProperty(this,C,{value:{}});let X,le=null,de=null;if($){const ce=g(H);de=new s.ContractTransactionResponse(this.interface,ce,$)}let pe=new Map;if(typeof G=="string")if((0,r.isHexString)(G))le=G,X=Promise.resolve(G);else{const ce=p(H,"resolveName");if(!l(ce))throw(0,r.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});X=ce.resolveName(G).then(fe=>{if(fe==null)throw(0,r.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:G});return R(this).addr=fe,fe})}else X=G.getAddress().then(ce=>{if(ce==null)throw new Error("TODO");return R(this).addr=ce,ce});T(this,{addrPromise:X,addr:le,deployTx:de,subs:pe});const ae=new Proxy({},{get:(ce,fe,ve)=>{if(typeof fe=="symbol"||q.indexOf(fe)>=0)return Reflect.get(ce,fe,ve);try{return this.getEvent(fe)}catch(Re){if(!(0,r.isError)(Re,"INVALID_ARGUMENT")||Re.argument!=="key")throw Re}},has:(ce,fe)=>q.indexOf(fe)>=0?Reflect.has(ce,fe):Reflect.has(ce,fe)||this.interface.hasEvent(String(fe))});return(0,r.defineProperties)(this,{filters:ae}),(0,r.defineProperties)(this,{fallback:Z.receive||Z.fallback?m(this):null}),new Proxy(this,{get:(ce,fe,ve)=>{if(typeof fe=="symbol"||fe in ce||q.indexOf(fe)>=0)return Reflect.get(ce,fe,ve);try{return ce.getFunction(fe)}catch(Re){if(!(0,r.isError)(Re,"INVALID_ARGUMENT")||Re.argument!=="key")throw Re}},has:(ce,fe)=>typeof fe=="symbol"||fe in ce||q.indexOf(fe)>=0?Reflect.has(ce,fe):ce.interface.hasFunction(fe)})}connect(G){return new I(this.target,this.interface,G)}attach(G){return new I(G,this.interface,this.runner)}async getAddress(){return await R(this).addrPromise}async getDeployedCode(){const G=g(this.runner);(0,r.assert)(G,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const F=await G.getCode(await this.getAddress());return F==="0x"?null:F}async waitForDeployment(){const G=this.deploymentTransaction();if(G)return await G.wait(),this;if(await this.getDeployedCode()!=null)return this;const H=g(this.runner);return(0,r.assert)(H!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(($,Z)=>{const X=async()=>{try{if(await this.getDeployedCode()!=null)return $(this);H.once("block",X)}catch(le){Z(le)}};X()})}deploymentTransaction(){return R(this).deployTx}getFunction(G){return typeof G!="string"&&(G=G.format()),v(this,G)}getEvent(G){return typeof G!="string"&&(G=G.format()),x(this,G)}async queryTransaction(G){throw new Error("@TODO")}async queryFilter(G,F,H){F==null&&(F=0),H==null&&(H="latest");const{addr:$,addrPromise:Z}=R(this),X=$||await Z,{fragment:le,topics:de}=await N(this,G),pe={address:X,topics:de,fromBlock:F,toBlock:H},ae=g(this.runner);return(0,r.assert)(ae,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await ae.getLogs(pe)).map(ce=>{let fe=le;if(fe==null)try{fe=this.interface.getEvent(ce.topics[0])}catch{}if(fe)try{return new s.EventLog(ce,this.interface,fe)}catch(ve){return new s.UndecodedEventLog(ce,ve)}return new n.Log(ce,ae)})}async on(G,F){const H=await D(this,"on",G);return H.listeners.push({listener:F,once:!1}),H.start(),this}async once(G,F){const H=await D(this,"once",G);return H.listeners.push({listener:F,once:!0}),H.start(),this}async emit(G,...F){return await K(this,G,F,null)}async listenerCount(G){if(G){const $=await O(this,G);return $?$.listeners.length:0}const{subs:F}=R(this);let H=0;for(const{listeners:$}of F.values())H+=$.length;return H}async listeners(G){if(G){const $=await O(this,G);return $?$.listeners.map(({listener:Z})=>Z):[]}const{subs:F}=R(this);let H=[];for(const{listeners:$}of F.values())H=H.concat($.map(({listener:Z})=>Z));return H}async off(G,F){const H=await O(this,G);if(!H)return this;if(F){const $=H.listeners.map(({listener:Z})=>Z).indexOf(F);$>=0&&H.listeners.splice($,1)}return(F==null||H.listeners.length===0)&&(H.stop(),R(this).subs.delete(H.tag)),this}async removeAllListeners(G){if(G){const F=await O(this,G);if(!F)return this;F.stop(),R(this).subs.delete(F.tag)}else{const{subs:F}=R(this);for(const{tag:H,stop:$}of F.values())$(),F.delete(H)}return this}async addListener(G,F){return await this.on(G,F)}async removeListener(G,F){return await this.off(G,F)}static buildClass(G){class F extends I{constructor($,Z=null){super($,G,Z)}}return F}static from(G,F,H){return H==null&&(H=null),new this(G,F,H)}}Fc.BaseContract=I;function P(){return I}class M extends P(){}return Fc.Contract=M,Fc}var uw={},u7;function oPe(){if(u7)return uw;u7=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.ContractFactory=void 0;const t=sx(),e=Fs(),n=Et(),r=uQ();class s{interface;bytecode;runner;constructor(o,a,l){const c=t.Interface.from(o);a instanceof Uint8Array||(typeof a=="object"&&(a=a.object),a.startsWith("0x")||(a="0x"+a)),a=(0,n.hexlify)((0,n.getBytes)(a)),(0,n.defineProperties)(this,{bytecode:a,interface:c,runner:l||null})}attach(o){return new r.BaseContract(o,this.interface,this.runner)}async getDeployTransaction(...o){let a={};const l=this.interface.deploy;if(l.inputs.length+1===o.length&&(a=await(0,r.copyOverrides)(o.pop())),l.inputs.length!==o.length)throw new Error("incorrect number of arguments to constructor");const c=await(0,r.resolveArgs)(this.runner,l.inputs,o),d=(0,n.concat)([this.bytecode,this.interface.encodeDeploy(c)]);return Object.assign({},a,{data:d})}async deploy(...o){const a=await this.getDeployTransaction(...o);(0,n.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await this.runner.sendTransaction(a),c=(0,e.getCreateAddress)(l);return new r.BaseContract(c,this.interface,this.runner,l)}connect(o){return new s(this.interface,this.bytecode,o)}static fromSolidity(o,a){(0,n.assertArgument)(o!=null,"bad compiler output","output",o),typeof o=="string"&&(o=JSON.parse(o));const l=o.abi;let c="";return o.bytecode?c=o.bytecode:o.evm&&o.evm.bytecode&&(c=o.evm.bytecode),new this(l,c,a)}}return uw.ContractFactory=s,uw}var d7;function lS(){return d7||(d7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UndecodedEventLog=t.EventLog=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractUnknownEventPayload=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=void 0;var e=uQ();Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return e.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return e.Contract}});var n=oPe();Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return n.ContractFactory}});var r=lQ();Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return r.ContractEventPayload}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return r.ContractUnknownEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return r.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return r.ContractTransactionResponse}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return r.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return r.UndecodedEventLog}})}(aR)),aR}var cR={},pp={},Yu={},f7;function dQ(){if(f7)return Yu;f7=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.EnsResolver=Yu.BasicMulticoinProviderPlugin=Yu.MulticoinProviderPlugin=void 0;const t=Fs(),e=rx(),n=lS(),r=Bd(),s=Et();function i(p){return p.match(/^ipfs:\/\/ipfs\//i)?p=p.substring(12):p.match(/^ipfs:\/\//i)?p=p.substring(7):(0,s.assertArgument)(!1,"unsupported IPFS format","link",p),`https://gateway.ipfs.io/ipfs/${p}`}class o{name;constructor(g){(0,s.defineProperties)(this,{name:g})}connect(g){return this}supportsCoinType(g){return!1}async encodeAddress(g,b){throw new Error("unsupported coin")}async decodeAddress(g,b){throw new Error("unsupported coin")}}Yu.MulticoinProviderPlugin=o;const a="org.ethers.plugins.provider.BasicMulticoin";class l extends o{constructor(){super(a)}}Yu.BasicMulticoinProviderPlugin=l;const c=new RegExp("^(ipfs)://(.*)$","i"),d=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),c,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class f{provider;address;name;#e;#t;constructor(g,b,w){(0,s.defineProperties)(this,{provider:g,address:b,name:w}),this.#e=null,this.#t=new n.Contract(b,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],g)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(g){if((0,s.isError)(g,"CALL_EXCEPTION"))return!1;throw this.#e=null,g}})()),await this.#e}async#n(g,b){b=(b||[]).slice();const w=this.#t.interface;b.unshift((0,r.namehash)(this.name));let m=null;await this.supportsWildcard()&&(m=w.getFunction(g),(0,s.assert)(m,"missing fragment","UNKNOWN_ERROR",{info:{funcName:g}}),b=[(0,r.dnsEncode)(this.name,255),w.encodeFunctionData(m,b)],g="resolve(bytes,bytes)"),b.push({enableCcipRead:!0});try{const v=await this.#t[g](...b);return m?w.decodeFunctionResult(m,v)[0]:v}catch(v){if(!(0,s.isError)(v,"CALL_EXCEPTION"))throw v}return null}async getAddress(g){if(g==null&&(g=60),g===60)try{const v=await this.#n("addr(bytes32)");return v==null||v===e.ZeroAddress?null:v}catch(v){if((0,s.isError)(v,"CALL_EXCEPTION"))return null;throw v}if(g>=0&&g<2147483648){let v=g+2147483648;const x=await this.#n("addr(bytes32,uint)",[v]);if((0,s.isHexString)(x,20))return(0,t.getAddress)(x)}let b=null;for(const v of this.provider.plugins)if(v instanceof o&&v.supportsCoinType(g)){b=v;break}if(b==null)return null;const w=await this.#n("addr(bytes32,uint)",[g]);if(w==null||w==="0x")return null;const m=await b.decodeAddress(g,w);if(m!=null)return m;(0,s.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${g})`,info:{coinType:g,data:w}})}async getText(g){const b=await this.#n("text(bytes32,string)",[g]);return b==null||b==="0x"?null:b}async getContentHash(){const g=await this.#n("contenthash(bytes32)");if(g==null||g==="0x")return null;const b=g.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(b){const m=b[1]==="e3010170"?"ipfs":"ipns",v=parseInt(b[4],16);if(b[5].length===v*2)return`${m}://${(0,s.encodeBase58)("0x"+b[2])}`}const w=g.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(w&&w[1].length===64)return`bzz://${w[1]}`;(0,s.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:g}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const g=[{type:"name",value:this.name}];try{const b=await this.getText("avatar");if(b==null)return g.push({type:"!avatar",value:""}),{url:null,linkage:g};g.push({type:"avatar",value:b});for(let w=0;w<d.length;w++){const m=b.match(d[w]);if(m==null)continue;const v=m[1].toLowerCase();switch(v){case"https":case"data":return g.push({type:"url",value:b}),{linkage:g,url:b};case"ipfs":{const x=i(b);return g.push({type:"ipfs",value:b}),g.push({type:"url",value:x}),{linkage:g,url:x}}case"erc721":case"erc1155":{const x=v==="erc721"?"tokenURI(uint256)":"uri(uint256)";g.push({type:v,value:b});const C=await this.getAddress();if(C==null)return g.push({type:"!owner",value:""}),{url:null,linkage:g};const S=(m[2]||"").split("/");if(S.length!==2)return g.push({type:`!${v}caip`,value:m[2]||""}),{url:null,linkage:g};const T=S[1],R=new n.Contract(S[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(v==="erc721"){const k=await R.ownerOf(T);if(C!==k)return g.push({type:"!owner",value:k}),{url:null,linkage:g};g.push({type:"owner",value:k})}else if(v==="erc1155"){const k=await R.balanceOf(C,T);if(!k)return g.push({type:"!balance",value:"0"}),{url:null,linkage:g};g.push({type:"balance",value:k.toString()})}let _=await R[x](T);if(_==null||_==="0x")return g.push({type:"!metadata-url",value:""}),{url:null,linkage:g};g.push({type:"metadata-url-base",value:_}),v==="erc1155"&&(_=_.replace("{id}",(0,s.toBeHex)(T,32).substring(2)),g.push({type:"metadata-url-expanded",value:_})),_.match(/^ipfs:/i)&&(_=i(_)),g.push({type:"metadata-url",value:_});let N={};const O=await new s.FetchRequest(_).send();O.assertOk();try{N=O.bodyJson}catch{try{g.push({type:"!metadata",value:O.bodyText})}catch{const K=O.body;return K&&g.push({type:"!metadata",value:(0,s.hexlify)(K)}),{url:null,linkage:g}}return{url:null,linkage:g}}if(!N)return g.push({type:"!metadata",value:""}),{url:null,linkage:g};g.push({type:"metadata",value:JSON.stringify(N)});let D=N.image;if(typeof D!="string")return g.push({type:"!imageUrl",value:""}),{url:null,linkage:g};if(!D.match(/^(https:\/\/|data:)/i)){if(D.match(c)==null)return g.push({type:"!imageUrl-ipfs",value:D}),{url:null,linkage:g};g.push({type:"imageUrl-ipfs",value:D}),D=i(D)}return g.push({type:"url",value:D}),{linkage:g,url:D}}}}}catch{}return{linkage:g,url:null}}static async getEnsAddress(g){const b=await g.getNetwork(),w=b.getPlugin("org.ethers.plugins.network.Ens");return(0,s.assert)(w,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:b}}),w.address}static async#r(g,b){const w=await f.getEnsAddress(g);try{const v=await new n.Contract(w,["function resolver(bytes32) view returns (address)"],g).resolver((0,r.namehash)(b),{enableCcipRead:!0});return v===e.ZeroAddress?null:v}catch(m){throw m}return null}static async fromName(g,b){let w=b;for(;;){if(w===""||w==="."||b!=="eth"&&w==="eth")return null;const m=await f.#r(g,w);if(m!=null){const v=new f(g,m,b);return w!==b&&!await v.supportsWildcard()?null:v}w=w.split(".").slice(1).join(".")}}}return Yu.EnsResolver=f,Yu}var jr={},h7;function aPe(){if(h7)return jr;h7=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.formatTransactionResponse=jr.formatTransactionReceipt=jr.formatReceiptLog=jr.formatBlock=jr.formatLog=jr.formatUint256=jr.formatHash=jr.formatData=jr.formatBoolean=jr.object=jr.arrayOf=jr.allowNull=void 0;const t=Fs(),e=ti(),n=ea(),r=Et(),s=BigInt(0);function i(T,R){return function(_){return _==null?R:T(_)}}jr.allowNull=i;function o(T,R){return _=>{if(R&&_==null)return null;if(!Array.isArray(_))throw new Error("not an array");return _.map(N=>T(N))}}jr.arrayOf=o;function a(T,R){return _=>{const N={};for(const O in T){let D=O;if(R&&O in R&&!(D in _)){for(const k of R[O])if(k in _){D=k;break}}try{const k=T[O](_[D]);k!==void 0&&(N[O]=k)}catch(k){const z=k instanceof Error?k.message:"not-an-error";(0,r.assert)(!1,`invalid value for value.${O} (${z})`,"BAD_DATA",{value:_})}}return N}}jr.object=a;function l(T){switch(T){case!0:case"true":return!0;case!1:case"false":return!1}(0,r.assertArgument)(!1,`invalid boolean; ${JSON.stringify(T)}`,"value",T)}jr.formatBoolean=l;function c(T){return(0,r.assertArgument)((0,r.isHexString)(T,!0),"invalid data","value",T),T}jr.formatData=c;function d(T){return(0,r.assertArgument)((0,r.isHexString)(T,32),"invalid hash","value",T),T}jr.formatHash=d;function f(T){if(!(0,r.isHexString)(T))throw new Error("invalid uint256");return(0,r.zeroPadValue)(T,32)}jr.formatUint256=f;const p=a({address:t.getAddress,blockHash:d,blockNumber:r.getNumber,data:c,index:r.getNumber,removed:i(l,!1),topics:o(d),transactionHash:d,transactionIndex:r.getNumber},{index:["logIndex"]});function g(T){return p(T)}jr.formatLog=g;const b=a({hash:i(d),parentHash:d,parentBeaconBlockRoot:i(d,null),number:r.getNumber,timestamp:r.getNumber,nonce:i(c),difficulty:r.getBigInt,gasLimit:r.getBigInt,gasUsed:r.getBigInt,stateRoot:i(d,null),receiptsRoot:i(d,null),blobGasUsed:i(r.getBigInt,null),excessBlobGas:i(r.getBigInt,null),miner:i(t.getAddress),prevRandao:i(d,null),extraData:c,baseFeePerGas:i(r.getBigInt)},{prevRandao:["mixHash"]});function w(T){const R=b(T);return R.transactions=T.transactions.map(_=>typeof _=="string"?_:S(_)),R}jr.formatBlock=w;const m=a({transactionIndex:r.getNumber,blockNumber:r.getNumber,transactionHash:d,address:t.getAddress,topics:o(d),data:c,index:r.getNumber,blockHash:d},{index:["logIndex"]});function v(T){return m(T)}jr.formatReceiptLog=v;const x=a({to:i(t.getAddress,null),from:i(t.getAddress,null),contractAddress:i(t.getAddress,null),index:r.getNumber,root:i(r.hexlify),gasUsed:r.getBigInt,blobGasUsed:i(r.getBigInt,null),logsBloom:i(c),blockHash:d,hash:d,logs:o(v),blockNumber:r.getNumber,cumulativeGasUsed:r.getBigInt,effectiveGasPrice:i(r.getBigInt),blobGasPrice:i(r.getBigInt,null),status:i(r.getNumber),type:i(r.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function C(T){return x(T)}jr.formatTransactionReceipt=C;function S(T){T.to&&(0,r.getBigInt)(T.to)===s&&(T.to="0x0000000000000000000000000000000000000000");const R=a({hash:d,index:i(r.getNumber,void 0),type:_=>_==="0x"||_==null?0:(0,r.getNumber)(_),accessList:i(n.accessListify,null),blobVersionedHashes:i(o(d,!0),null),authorizationList:i(o(_=>{let N;if(_.signature)N=_.signature;else{let O=_.yParity;O==="0x1b"?O=0:O==="0x1c"&&(O=1),N=Object.assign({},_,{yParity:O})}return{address:(0,t.getAddress)(_.address),chainId:(0,r.getBigInt)(_.chainId),nonce:(0,r.getBigInt)(_.nonce),signature:e.Signature.from(N)}},!1),null),blockHash:i(d,null),blockNumber:i(r.getNumber,null),transactionIndex:i(r.getNumber,null),from:t.getAddress,gasPrice:i(r.getBigInt),maxPriorityFeePerGas:i(r.getBigInt),maxFeePerGas:i(r.getBigInt),maxFeePerBlobGas:i(r.getBigInt,null),gasLimit:r.getBigInt,to:i(t.getAddress,null),value:r.getBigInt,nonce:r.getNumber,data:c,creates:i(t.getAddress,null),chainId:i(r.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(T);if(R.to==null&&R.creates==null&&(R.creates=(0,t.getCreateAddress)(R)),(T.type===1||T.type===2)&&T.accessList==null&&(R.accessList=[]),T.signature?R.signature=e.Signature.from(T.signature):R.signature=e.Signature.from(T),R.chainId==null){const _=R.signature.legacyChainId;_!=null&&(R.chainId=_)}return R.blockHash&&(0,r.getBigInt)(R.blockHash)===s&&(R.blockHash=null),R}return jr.formatTransactionResponse=S,jr}var dw={},va={},p7;function V4(){if(p7)return va;p7=1,Object.defineProperty(va,"__esModule",{value:!0}),va.FetchUrlFeeDataNetworkPlugin=va.FeeDataNetworkPlugin=va.EnsPlugin=va.GasCostPlugin=va.NetworkPlugin=void 0;const t=k0(),e=Et(),n="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class r{name;constructor(c){(0,t.defineProperties)(this,{name:c})}clone(){return new r(this.name)}}va.NetworkPlugin=r;class s extends r{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(c,d){c==null&&(c=0),super(`org.ethers.network.plugins.GasCost#${c||0}`);const f={effectiveBlock:c};function p(g,b){let w=(d||{})[g];w==null&&(w=b),(0,e.assertArgument)(typeof w=="number",`invalud value for ${g}`,"costs",d),f[g]=w}p("txBase",21e3),p("txCreate",32e3),p("txDataZero",4),p("txDataNonzero",16),p("txAccessListStorageKey",1900),p("txAccessListAddress",2400),(0,t.defineProperties)(this,f)}clone(){return new s(this.effectiveBlock,this)}}va.GasCostPlugin=s;class i extends r{address;targetNetwork;constructor(c,d){super("org.ethers.plugins.network.Ens"),(0,t.defineProperties)(this,{address:c||n,targetNetwork:d??1})}clone(){return new i(this.address,this.targetNetwork)}}va.EnsPlugin=i;class o extends r{#e;get feeDataFunc(){return this.#e}constructor(c){super("org.ethers.plugins.network.FeeData"),this.#e=c}async getFeeData(c){return await this.#e(c)}clone(){return new o(this.#e)}}va.FeeDataNetworkPlugin=o;class a extends r{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(c,d){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=c,this.#t=d}clone(){return this}}return va.FetchUrlFeeDataNetworkPlugin=a,va}var g7;function ta(){if(g7)return dw;g7=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.Network=void 0;const t=ea(),e=Et(),n=V4(),r=new Map;class s{#e;#t;#n;constructor(d,f){this.#e=d,this.#t=(0,e.getBigInt)(f),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(d){this.#e=d}get chainId(){return this.#t}set chainId(d){this.#t=(0,e.getBigInt)(d,"chainId")}matches(d){if(d==null)return!1;if(typeof d=="string"){try{return this.chainId===(0,e.getBigInt)(d)}catch{}return this.name===d}if(typeof d=="number"||typeof d=="bigint"){try{return this.chainId===(0,e.getBigInt)(d)}catch{}return!1}if(typeof d=="object"){if(d.chainId!=null){try{return this.chainId===(0,e.getBigInt)(d.chainId)}catch{}return!1}return d.name!=null?this.name===d.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(d){if(this.#n.get(d.name))throw new Error(`cannot replace existing plugin: ${d.name} `);return this.#n.set(d.name,d.clone()),this}getPlugin(d){return this.#n.get(d)||null}getPlugins(d){return this.plugins.filter(f=>f.name.split("#")[0]===d)}clone(){const d=new s(this.name,this.chainId);return this.plugins.forEach(f=>{d.attachPlugin(f.clone())}),d}computeIntrinsicGas(d){const f=this.getPlugin("org.ethers.plugins.network.GasCost")||new n.GasCostPlugin;let p=f.txBase;if(d.to==null&&(p+=f.txCreate),d.data)for(let g=2;g<d.data.length;g+=2)d.data.substring(g,g+2)==="00"?p+=f.txDataZero:p+=f.txDataNonzero;if(d.accessList){const g=(0,t.accessListify)(d.accessList);for(const b in g)p+=f.txAccessListAddress+f.txAccessListStorageKey*g[b].storageKeys.length}return p}static from(d){if(l(),d==null)return s.from("mainnet");if(typeof d=="number"&&(d=BigInt(d)),typeof d=="string"||typeof d=="bigint"){const f=r.get(d);if(f)return f();if(typeof d=="bigint")return new s("unknown",d);(0,e.assertArgument)(!1,"unknown network","network",d)}if(typeof d.clone=="function")return d.clone();if(typeof d=="object"){(0,e.assertArgument)(typeof d.name=="string"&&typeof d.chainId=="number","invalid network object name or chainId","network",d);const f=new s(d.name,d.chainId);return(d.ensAddress||d.ensNetwork!=null)&&f.attachPlugin(new n.EnsPlugin(d.ensAddress,d.ensNetwork)),f}(0,e.assertArgument)(!1,"invalid network","network",d)}static register(d,f){typeof d=="number"&&(d=BigInt(d));const p=r.get(d);p&&(0,e.assertArgument)(!1,`conflicting network for ${JSON.stringify(p.name)}`,"nameOrChainId",d),r.set(d,f)}}dw.Network=s;function i(c,d){const f=String(c);if(!f.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${c}`);const p=f.split(".");if(p.length===1&&p.push(""),p.length!==2)throw new Error(`invalid gwei value: ${c}`);for(;p[1].length<d;)p[1]+="0";if(p[1].length>9){let g=BigInt(p[1].substring(0,9));p[1].substring(9).match(/^0+$/)||g++,p[1]=g.toString()}return BigInt(p[0]+p[1])}function o(c){return new n.FetchUrlFeeDataNetworkPlugin(c,async(d,f,p)=>{p.setHeader("User-Agent","ethers");let g;try{const[b,w]=await Promise.all([p.send(),d()]);g=b;const m=g.bodyJson.standard;return{gasPrice:w.gasPrice,maxFeePerGas:i(m.maxFee,9),maxPriorityFeePerGas:i(m.maxPriorityFee,9)}}catch(b){(0,e.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(p.url)})`,"SERVER_ERROR",{request:p,response:g,error:b})}})}let a=!1;function l(){if(a)return;a=!0;function c(d,f,p){const g=function(){const b=new s(d,f);return p.ensNetwork!=null&&b.attachPlugin(new n.EnsPlugin(null,p.ensNetwork)),b.attachPlugin(new n.GasCostPlugin),(p.plugins||[]).forEach(w=>{b.attachPlugin(w)}),b};s.register(d,g),s.register(f,g),p.altNames&&p.altNames.forEach(b=>{s.register(b,g)})}c("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),c("ropsten",3,{ensNetwork:3}),c("rinkeby",4,{ensNetwork:4}),c("goerli",5,{ensNetwork:5}),c("kovan",42,{ensNetwork:42}),c("sepolia",11155111,{ensNetwork:11155111}),c("holesky",17e3,{ensNetwork:17e3}),c("classic",61,{}),c("classicKotti",6,{}),c("arbitrum",42161,{ensNetwork:1}),c("arbitrum-goerli",421613,{}),c("arbitrum-sepolia",421614,{}),c("base",8453,{ensNetwork:1}),c("base-goerli",84531,{}),c("base-sepolia",84532,{}),c("bnb",56,{ensNetwork:1}),c("bnbt",97,{}),c("linea",59144,{ensNetwork:1}),c("linea-goerli",59140,{}),c("linea-sepolia",59141,{}),c("matic",137,{ensNetwork:1,plugins:[o("https://gasstation.polygon.technology/v2")]}),c("matic-amoy",80002,{}),c("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[o("https://gasstation-testnet.polygon.technology/v2")]}),c("optimism",10,{ensNetwork:1,plugins:[]}),c("optimism-goerli",420,{}),c("optimism-sepolia",11155420,{}),c("xdai",100,{ensNetwork:1})}return dw}var Ni={},m7;function G4(){if(m7)return Ni;m7=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.PollingEventSubscriber=Ni.PollingTransactionSubscriber=Ni.PollingOrphanSubscriber=Ni.PollingBlockTagSubscriber=Ni.OnBlockSubscriber=Ni.PollingBlockSubscriber=Ni.getPollingSubscriber=void 0;const t=Et();function e(c){return JSON.parse(JSON.stringify(c))}function n(c,d){if(d==="block")return new r(c);if((0,t.isHexString)(d,32))return new a(c,d);(0,t.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:d}})}Ni.getPollingSubscriber=n;class r{#e;#t;#n;#r;constructor(d){this.#e=d,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(d){this.#n=d}async#s(){try{const d=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=d;return}if(d!==this.#r){for(let f=this.#r+1;f<=d;f++){if(this.#t==null)return;await this.#e.emit("block",f)}this.#r=d}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(d){this.stop(),d&&(this.#r=-2)}resume(){this.start()}}Ni.PollingBlockSubscriber=r;class s{#e;#t;#n;constructor(d){this.#e=d,this.#n=!1,this.#t=f=>{this._poll(f,this.#e)}}async _poll(d,f){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(d){this.stop()}resume(){this.start()}}Ni.OnBlockSubscriber=s;class i extends s{#e;#t;constructor(d,f){super(d),this.#e=f,this.#t=-2}pause(d){d&&(this.#t=-2),super.pause(d)}async _poll(d,f){const p=await f.getBlock(this.#e);p!=null&&(this.#t===-2?this.#t=p.number:p.number>this.#t&&(f.emit(this.#e,p.number),this.#t=p.number))}}Ni.PollingBlockTagSubscriber=i;class o extends s{#e;constructor(d,f){super(d),this.#e=e(f)}async _poll(d,f){throw new Error("@TODO")}}Ni.PollingOrphanSubscriber=o;class a extends s{#e;constructor(d,f){super(d),this.#e=f}async _poll(d,f){const p=await f.getTransactionReceipt(this.#e);p&&f.emit(this.#e,p)}}Ni.PollingTransactionSubscriber=a;class l{#e;#t;#n;#r;#s;constructor(d,f){this.#e=d,this.#t=e(f),this.#n=this.#o.bind(this),this.#r=!1,this.#s=-2}async#o(d){if(this.#s===-2)return;const f=e(this.#t);f.fromBlock=this.#s+1,f.toBlock=d;const p=await this.#e.getLogs(f);if(p.length===0){this.#s<d-60&&(this.#s=d-60);return}for(const g of p)this.#e.emit(this.#t,g),this.#s=g.blockNumber}start(){this.#r||(this.#r=!0,this.#s===-2&&this.#e.getBlockNumber().then(d=>{this.#s=d}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(d){this.stop(),d&&(this.#s=-2)}resume(){this.start()}}return Ni.PollingEventSubscriber=l,Ni}var y7;function ox(){if(y7)return pp;y7=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.AbstractProvider=pp.UnmanagedSubscriber=void 0;const t=Fs(),e=rx(),n=lS(),r=Bd(),s=ea(),i=Et(),o=dQ(),a=aPe(),l=ta(),c=ix(),d=G4(),f=BigInt(2),p=10;function g(q){return q&&typeof q.then=="function"}function b(q,I){return q+":"+JSON.stringify(I,(P,M)=>{if(M==null)return"null";if(typeof M=="bigint")return`bigint:${M.toString()}`;if(typeof M=="string")return M.toLowerCase();if(typeof M=="object"&&!Array.isArray(M)){const j=Object.keys(M);return j.sort(),j.reduce((G,F)=>(G[F]=M[F],G),{})}return M})}class w{name;constructor(I){(0,i.defineProperties)(this,{name:I})}start(){}stop(){}pause(I){}resume(){}}pp.UnmanagedSubscriber=w;function m(q){return JSON.parse(JSON.stringify(q))}function v(q){return q=Array.from(new Set(q).values()),q.sort(),q}async function x(q,I){if(q==null)throw new Error("invalid event");if(Array.isArray(q)&&(q={topics:q}),typeof q=="string")switch(q){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:q,tag:q}}if((0,i.isHexString)(q,32)){const P=q.toLowerCase();return{type:"transaction",tag:b("tx",{hash:P}),hash:P}}if(q.orphan){const P=q;return{type:"orphan",tag:b("orphan",P),filter:m(P)}}if(q.address||q.topics){const P=q,M={topics:(P.topics||[]).map(j=>j==null?null:Array.isArray(j)?v(j.map(G=>G.toLowerCase())):j.toLowerCase())};if(P.address){const j=[],G=[],F=H=>{(0,i.isHexString)(H)?j.push(H):G.push((async()=>{j.push(await(0,t.resolveAddress)(H,I))})())};Array.isArray(P.address)?P.address.forEach(F):F(P.address),G.length&&await Promise.all(G),M.address=v(j.map(H=>H.toLowerCase()))}return{filter:M,tag:b("event",M),type:"event"}}(0,i.assertArgument)(!1,"unknown ProviderEvent","event",q)}function C(){return new Date().getTime()}const S={cacheTimeout:250,pollingInterval:4e3};class T{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;constructor(I,P){if(this.#g=Object.assign({},S,P||{}),I==="any")this.#o=!0,this.#s=null;else if(I){const M=l.Network.from(I);this.#o=!1,this.#s=Promise.resolve(M),setTimeout(()=>{this.emit("network",M,null)},0)}else this.#o=!1,this.#s=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#d=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(I){if(this.#t.get(I.name))throw new Error(`cannot replace existing plugin: ${I.name} `);return this.#t.set(I.name,I.connect(this)),this}getPlugin(I){return this.#t.get(I)||null}get disableCcipRead(){return this.#p}set disableCcipRead(I){this.#p=!!I}async#c(I){const P=this.#g.cacheTimeout;if(P<0)return await this._perform(I);const M=b(I.method,I);let j=this.#i.get(M);return j||(j=this._perform(I),this.#i.set(M,j),setTimeout(()=>{this.#i.get(M)===j&&this.#i.delete(M)},P)),await j}async ccipReadFetch(I,P,M){if(this.disableCcipRead||M.length===0||I.to==null)return null;const j=I.to.toLowerCase(),G=P.toLowerCase(),F=[];for(let H=0;H<M.length;H++){const $=M[H],Z=$.replace("{sender}",j).replace("{data}",G),X=new i.FetchRequest(Z);$.indexOf("{data}")===-1&&(X.body={data:G,sender:j}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:X,index:H,urls:M});let le="unknown error",de;try{de=await X.send()}catch(pe){F.push(pe.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:X,result:{error:pe}});continue}try{const pe=de.bodyJson;if(pe.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:X,result:pe}),pe.data;pe.message&&(le=pe.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:X,result:pe})}catch{}(0,i.assert)(de.statusCode<400||de.statusCode>=500,`response not found during CCIP fetch: ${le}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:I,info:{url:$,errorMessage:le}}),F.push(le)}(0,i.assert)(!1,`error encountered during CCIP fetch: ${F.map(H=>JSON.stringify(H)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:I,info:{urls:M,errorMessages:F}})}_wrapBlock(I,P){return new c.Block((0,a.formatBlock)(I),this)}_wrapLog(I,P){return new c.Log((0,a.formatLog)(I),this)}_wrapTransactionReceipt(I,P){return new c.TransactionReceipt((0,a.formatTransactionReceipt)(I),this)}_wrapTransactionResponse(I,P){return new c.TransactionResponse((0,a.formatTransactionResponse)(I),this)}_detectNetwork(){(0,i.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(I){(0,i.assert)(!1,`unsupported method: ${I.method}`,"UNSUPPORTED_OPERATION",{operation:I.method,info:I})}async getBlockNumber(){const I=(0,i.getNumber)(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=I),I}_getAddress(I){return(0,t.resolveAddress)(I,this)}_getBlockTag(I){if(I==null)return"latest";switch(I){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return I}if((0,i.isHexString)(I))return(0,i.isHexString)(I,32)?I:(0,i.toQuantity)(I);if(typeof I=="bigint"&&(I=(0,i.getNumber)(I,"blockTag")),typeof I=="number")return I>=0?(0,i.toQuantity)(I):this.#a>=0?(0,i.toQuantity)(this.#a+I):this.getBlockNumber().then(P=>(0,i.toQuantity)(P+I));(0,i.assertArgument)(!1,"invalid blockTag","blockTag",I)}_getFilter(I){const P=(I.topics||[]).map($=>$==null?null:Array.isArray($)?v($.map(Z=>Z.toLowerCase())):$.toLowerCase()),M="blockHash"in I?I.blockHash:void 0,j=($,Z,X)=>{let le;switch($.length){case 0:break;case 1:le=$[0];break;default:$.sort(),le=$}if(M&&(Z!=null||X!=null))throw new Error("invalid filter");const de={};return le&&(de.address=le),P.length&&(de.topics=P),Z&&(de.fromBlock=Z),X&&(de.toBlock=X),M&&(de.blockHash=M),de};let G=[];if(I.address)if(Array.isArray(I.address))for(const $ of I.address)G.push(this._getAddress($));else G.push(this._getAddress(I.address));let F;"fromBlock"in I&&(F=this._getBlockTag(I.fromBlock));let H;return"toBlock"in I&&(H=this._getBlockTag(I.toBlock)),G.filter($=>typeof $!="string").length||F!=null&&typeof F!="string"||H!=null&&typeof H!="string"?Promise.all([Promise.all(G),F,H]).then($=>j($[0],$[1],$[2])):j(G,F,H)}_getTransactionRequest(I){const P=(0,c.copyRequest)(I),M=[];if(["to","from"].forEach(j=>{if(P[j]==null)return;const G=(0,t.resolveAddress)(P[j],this);g(G)?M.push(async function(){P[j]=await G}()):P[j]=G}),P.blockTag!=null){const j=this._getBlockTag(P.blockTag);g(j)?M.push(async function(){P.blockTag=await j}()):P.blockTag=j}return M.length?async function(){return await Promise.all(M),P}():P}async getNetwork(){if(this.#s==null){const j=(async()=>{try{const G=await this._detectNetwork();return this.emit("network",G,null),G}catch(G){throw this.#s===j&&(this.#s=null),G}})();return this.#s=j,(await j).clone()}const I=this.#s,[P,M]=await Promise.all([I,this._detectNetwork()]);return P.chainId!==M.chainId&&(this.#o?(this.emit("network",M,P),this.#s===I&&(this.#s=Promise.resolve(M))):(0,i.assert)(!1,`network changed: ${P.chainId} => ${M.chainId} `,"NETWORK_ERROR",{event:"changed"})),P.clone()}async getFeeData(){const I=await this.getNetwork(),P=async()=>{const{_block:j,gasPrice:G,priorityFee:F}=await(0,i.resolveProperties)({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const X=await this.#c({method:"getGasPrice"});return(0,i.getBigInt)(X,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const X=await this.#c({method:"getPriorityFee"});return(0,i.getBigInt)(X,"%response")}catch{}return null})()});let H=null,$=null;const Z=this._wrapBlock(j,I);return Z&&Z.baseFeePerGas&&($=F??BigInt("1000000000"),H=Z.baseFeePerGas*f+$),new c.FeeData(G,H,$)},M=I.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(M){const j=new i.FetchRequest(M.url),G=await M.processFunc(P,this,j);return new c.FeeData(G.gasPrice,G.maxFeePerGas,G.maxPriorityFeePerGas)}return await P()}async estimateGas(I){let P=this._getTransactionRequest(I);return g(P)&&(P=await P),(0,i.getBigInt)(await this.#c({method:"estimateGas",transaction:P}),"%response")}async#u(I,P,M){(0,i.assert)(M<p,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},I,{blockTag:P,enableCcipRead:!0})});const j=(0,c.copyRequest)(I);try{return(0,i.hexlify)(await this._perform({method:"call",transaction:j,blockTag:P}))}catch(G){if(!this.disableCcipRead&&(0,i.isCallException)(G)&&G.data&&M>=0&&P==="latest"&&j.to!=null&&(0,i.dataSlice)(G.data,0,4)==="0x556f1830"){const F=G.data,H=await(0,t.resolveAddress)(j.to,this);let $;try{$=K((0,i.dataSlice)(G.data,4))}catch(le){(0,i.assert)(!1,le.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:j,info:{data:F}})}(0,i.assert)($.sender.toLowerCase()===H.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:F,reason:"OffchainLookup",transaction:j,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:$.errorArgs}});const Z=await this.ccipReadFetch(j,$.calldata,$.urls);(0,i.assert)(Z!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:j,info:{data:G.data,errorArgs:$.errorArgs}});const X={to:H,data:(0,i.concat)([$.selector,k([Z,$.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:X});try{const le=await this.#u(X,P,M+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},X),result:le}),le}catch(le){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},X),error:le}),le}}throw G}}async#f(I){const{value:P}=await(0,i.resolveProperties)({network:this.getNetwork(),value:I});return P}async call(I){const{tx:P,blockTag:M}=await(0,i.resolveProperties)({tx:this._getTransactionRequest(I),blockTag:this._getBlockTag(I.blockTag)});return await this.#f(this.#u(P,M,I.enableCcipRead?0:-1))}async#h(I,P,M){let j=this._getAddress(P),G=this._getBlockTag(M);return(typeof j!="string"||typeof G!="string")&&([j,G]=await Promise.all([j,G])),await this.#f(this.#c(Object.assign(I,{address:j,blockTag:G})))}async getBalance(I,P){return(0,i.getBigInt)(await this.#h({method:"getBalance"},I,P),"%response")}async getTransactionCount(I,P){return(0,i.getNumber)(await this.#h({method:"getTransactionCount"},I,P),"%response")}async getCode(I,P){return(0,i.hexlify)(await this.#h({method:"getCode"},I,P))}async getStorage(I,P,M){const j=(0,i.getBigInt)(P,"position");return(0,i.hexlify)(await this.#h({method:"getStorage",position:j},I,M))}async broadcastTransaction(I){const{blockNumber:P,hash:M,network:j}=await(0,i.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:I}),network:this.getNetwork()}),G=s.Transaction.from(I);if(G.hash!==M)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(G,j).replaceableTransaction(P)}async#y(I,P){if((0,i.isHexString)(I,32))return await this.#c({method:"getBlock",blockHash:I,includeTransactions:P});let M=this._getBlockTag(I);return typeof M!="string"&&(M=await M),await this.#c({method:"getBlock",blockTag:M,includeTransactions:P})}async getBlock(I,P){const{network:M,params:j}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#y(I,!!P)});return j==null?null:this._wrapBlock(j,M)}async getTransaction(I){const{network:P,params:M}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:I})});return M==null?null:this._wrapTransactionResponse(M,P)}async getTransactionReceipt(I){const{network:P,params:M}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:I})});if(M==null)return null;if(M.gasPrice==null&&M.effectiveGasPrice==null){const j=await this.#c({method:"getTransaction",hash:I});if(j==null)throw new Error("report this; could not find tx or effectiveGasPrice");M.effectiveGasPrice=j.gasPrice}return this._wrapTransactionReceipt(M,P)}async getTransactionResult(I){const{result:P}=await(0,i.resolveProperties)({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:I})});return P==null?null:(0,i.hexlify)(P)}async getLogs(I){let P=this._getFilter(I);g(P)&&(P=await P);const{network:M,params:j}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:P})});return j.map(G=>this._wrapLog(G,M))}_getProvider(I){(0,i.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(I){return await o.EnsResolver.fromName(this,I)}async getAvatar(I){const P=await this.getResolver(I);return P?await P.getAvatar():null}async resolveName(I){const P=await this.getResolver(I);return P?await P.getAddress():null}async lookupAddress(I){I=(0,t.getAddress)(I);const P=(0,r.namehash)(I.substring(2).toLowerCase()+".addr.reverse");try{const M=await o.EnsResolver.getEnsAddress(this),G=await new n.Contract(M,["function resolver(bytes32) view returns (address)"],this).resolver(P);if(G==null||G===e.ZeroAddress)return null;const H=await new n.Contract(G,["function name(bytes32) view returns (string)"],this).name(P);return await this.resolveName(H)!==I?null:H}catch(M){if((0,i.isError)(M,"BAD_DATA")&&M.value==="0x"||(0,i.isError)(M,"CALL_EXCEPTION"))return null;throw M}return null}async waitForTransaction(I,P,M){const j=P??1;return j===0?this.getTransactionReceipt(I):new Promise(async(G,F)=>{let H=null;const $=async Z=>{try{const X=await this.getTransactionReceipt(I);if(X!=null&&Z-X.blockNumber+1>=j){G(X),H&&(clearTimeout(H),H=null);return}}catch(X){console.log("EEE",X)}this.once("block",$)};M!=null&&(H=setTimeout(()=>{H!=null&&(H=null,this.off("block",$),F((0,i.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},M)),$(await this.getBlockNumber())})}async waitForBlock(I){(0,i.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(I){const P=this.#l.get(I);P&&(P.timer&&clearTimeout(P.timer),this.#l.delete(I))}_setTimeout(I,P){P==null&&(P=0);const M=this.#d++,j=()=>{this.#l.delete(M),I()};if(this.paused)this.#l.set(M,{timer:null,func:j,time:P});else{const G=setTimeout(j,P);this.#l.set(M,{timer:G,func:j,time:C()})}return M}_forEachSubscriber(I){for(const P of this.#e.values())I(P.subscriber)}_getSubscriber(I){switch(I.type){case"debug":case"error":case"network":return new w(I.type);case"block":{const P=new d.PollingBlockSubscriber(this);return P.pollingInterval=this.pollingInterval,P}case"safe":case"finalized":return new d.PollingBlockTagSubscriber(this,I.type);case"event":return new d.PollingEventSubscriber(this,I.filter);case"transaction":return new d.PollingTransactionSubscriber(this,I.hash);case"orphan":return new d.PollingOrphanSubscriber(this,I.filter)}throw new Error(`unsupported event: ${I.type}`)}_recoverSubscriber(I,P){for(const M of this.#e.values())if(M.subscriber===I){M.started&&M.subscriber.stop(),M.subscriber=P,M.started&&P.start(),this.#n!=null&&P.pause(this.#n);break}}async#m(I,P){let M=await x(I,this);return M.type==="event"&&P&&P.length>0&&P[0].removed===!0&&(M=await x({orphan:"drop-log",log:P[0]},this)),this.#e.get(M.tag)||null}async#b(I){const P=await x(I,this),M=P.tag;let j=this.#e.get(M);return j||(j={subscriber:this._getSubscriber(P),tag:M,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(M,j)),j}async on(I,P){const M=await this.#b(I);return M.listeners.push({listener:P,once:!1}),M.started||(M.subscriber.start(),M.started=!0,this.#n!=null&&M.subscriber.pause(this.#n)),this}async once(I,P){const M=await this.#b(I);return M.listeners.push({listener:P,once:!0}),M.started||(M.subscriber.start(),M.started=!0,this.#n!=null&&M.subscriber.pause(this.#n)),this}async emit(I,...P){const M=await this.#m(I,P);if(!M||M.listeners.length===0)return!1;const j=M.listeners.length;return M.listeners=M.listeners.filter(({listener:G,once:F})=>{const H=new i.EventPayload(this,F?null:G,I);try{G.call(this,...P,H)}catch{}return!F}),M.listeners.length===0&&(M.started&&M.subscriber.stop(),this.#e.delete(M.tag)),j>0}async listenerCount(I){if(I){const M=await this.#m(I);return M?M.listeners.length:0}let P=0;for(const{listeners:M}of this.#e.values())P+=M.length;return P}async listeners(I){if(I){const M=await this.#m(I);return M?M.listeners.map(({listener:j})=>j):[]}let P=[];for(const{listeners:M}of this.#e.values())P=P.concat(M.map(({listener:j})=>j));return P}async off(I,P){const M=await this.#m(I);if(!M)return this;if(P){const j=M.listeners.map(({listener:G})=>G).indexOf(P);j>=0&&M.listeners.splice(j,1)}return(!P||M.listeners.length===0)&&(M.started&&M.subscriber.stop(),this.#e.delete(M.tag)),this}async removeAllListeners(I){if(I){const{tag:P,started:M,subscriber:j}=await this.#b(I);M&&j.stop(),this.#e.delete(P)}else for(const[P,{started:M,subscriber:j}]of this.#e)M&&j.stop(),this.#e.delete(P);return this}async addListener(I,P){return await this.on(I,P)}async removeListener(I,P){return this.off(I,P)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const I of this.#l.keys())this._clearTimeout(I);this.#r=!0}get paused(){return this.#n!=null}set paused(I){!!I!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(I){if(this.#a=-1,this.#n!=null){if(this.#n==!!I)return;(0,i.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(P=>P.pause(I)),this.#n=!!I;for(const P of this.#l.values())P.timer&&clearTimeout(P.timer),P.time=C()-P.time}resume(){if(this.#n!=null){this._forEachSubscriber(I=>I.resume()),this.#n=null;for(const I of this.#l.values()){let P=I.time;P<0&&(P=0),I.time=C(),setTimeout(I.func,P)}}}}pp.AbstractProvider=T;function R(q,I){try{const P=_(q,I);if(P)return(0,i.toUtf8String)(P)}catch{}return null}function _(q,I){if(q==="0x")return null;try{const P=(0,i.getNumber)((0,i.dataSlice)(q,I,I+32)),M=(0,i.getNumber)((0,i.dataSlice)(q,P,P+32));return(0,i.dataSlice)(q,P+32,P+32+M)}catch{}return null}function N(q){const I=(0,i.toBeArray)(q);if(I.length>32)throw new Error("internal; should not happen");const P=new Uint8Array(32);return P.set(I,32-I.length),P}function O(q){if(q.length%32===0)return q;const I=new Uint8Array(Math.ceil(q.length/32)*32);return I.set(q),I}const D=new Uint8Array([]);function k(q){const I=[];let P=0;for(let M=0;M<q.length;M++)I.push(D),P+=32;for(let M=0;M<q.length;M++){const j=(0,i.getBytes)(q[M]);I[M]=N(P),I.push(N(j.length)),I.push(O(j)),P+=32+Math.ceil(j.length/32)*32}return(0,i.concat)(I)}const z="0x0000000000000000000000000000000000000000000000000000000000000000";function K(q){const I={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,i.assert)((0,i.dataLength)(q)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const P=(0,i.dataSlice)(q,0,32);(0,i.assert)((0,i.dataSlice)(P,0,12)===(0,i.dataSlice)(z,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),I.sender=(0,i.dataSlice)(P,12);try{const M=[],j=(0,i.getNumber)((0,i.dataSlice)(q,32,64)),G=(0,i.getNumber)((0,i.dataSlice)(q,j,j+32)),F=(0,i.dataSlice)(q,j+32);for(let H=0;H<G;H++){const $=R(F,H*32);if($==null)throw new Error("abort");M.push($)}I.urls=M}catch{(0,i.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const M=_(q,64);if(M==null)throw new Error("abort");I.calldata=M}catch{(0,i.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,i.assert)((0,i.dataSlice)(q,100,128)===(0,i.dataSlice)(z,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),I.selector=(0,i.dataSlice)(q,96,100);try{const M=_(q,128);if(M==null)throw new Error("abort");I.extraData=M}catch{(0,i.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return I.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(M=>I[M]),I}return pp}var gp={},b7;function K4(){if(b7)return gp;b7=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.VoidSigner=gp.AbstractSigner=void 0;const t=Fs(),e=ea(),n=Et(),r=ix();function s(l,c){if(l.provider)return l.provider;(0,n.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:c})}async function i(l,c){let d=(0,r.copyRequest)(c);if(d.to!=null&&(d.to=(0,t.resolveAddress)(d.to,l)),d.from!=null){const f=d.from;d.from=Promise.all([l.getAddress(),(0,t.resolveAddress)(f,l)]).then(([p,g])=>((0,n.assertArgument)(p.toLowerCase()===g.toLowerCase(),"transaction from mismatch","tx.from",g),p))}else d.from=l.getAddress();return await(0,n.resolveProperties)(d)}class o{provider;constructor(c){(0,n.defineProperties)(this,{provider:c||null})}async getNonce(c){return s(this,"getTransactionCount").getTransactionCount(await this.getAddress(),c)}async populateCall(c){return await i(this,c)}async populateTransaction(c){const d=s(this,"populateTransaction"),f=await i(this,c);f.nonce==null&&(f.nonce=await this.getNonce("pending")),f.gasLimit==null&&(f.gasLimit=await this.estimateGas(f));const p=await this.provider.getNetwork();if(f.chainId!=null){const b=(0,n.getBigInt)(f.chainId);(0,n.assertArgument)(b===p.chainId,"transaction chainId mismatch","tx.chainId",c.chainId)}else f.chainId=p.chainId;const g=f.maxFeePerGas!=null||f.maxPriorityFeePerGas!=null;if(f.gasPrice!=null&&(f.type===2||g)?(0,n.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",c):(f.type===0||f.type===1)&&g&&(0,n.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",c),(f.type===2||f.type==null)&&f.maxFeePerGas!=null&&f.maxPriorityFeePerGas!=null)f.type=2;else if(f.type===0||f.type===1){const b=await d.getFeeData();(0,n.assert)(b.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),f.gasPrice==null&&(f.gasPrice=b.gasPrice)}else{const b=await d.getFeeData();if(f.type==null)if(b.maxFeePerGas!=null&&b.maxPriorityFeePerGas!=null)if(f.authorizationList&&f.authorizationList.length?f.type=4:f.type=2,f.gasPrice!=null){const w=f.gasPrice;delete f.gasPrice,f.maxFeePerGas=w,f.maxPriorityFeePerGas=w}else f.maxFeePerGas==null&&(f.maxFeePerGas=b.maxFeePerGas),f.maxPriorityFeePerGas==null&&(f.maxPriorityFeePerGas=b.maxPriorityFeePerGas);else b.gasPrice!=null?((0,n.assert)(!g,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),f.gasPrice==null&&(f.gasPrice=b.gasPrice),f.type=0):(0,n.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(f.type===2||f.type===3||f.type===4)&&(f.maxFeePerGas==null&&(f.maxFeePerGas=b.maxFeePerGas),f.maxPriorityFeePerGas==null&&(f.maxPriorityFeePerGas=b.maxPriorityFeePerGas))}return await(0,n.resolveProperties)(f)}async populateAuthorization(c){const d=Object.assign({},c);return d.chainId==null&&(d.chainId=(await s(this,"getNetwork").getNetwork()).chainId),d.nonce==null&&(d.nonce=await this.getNonce()),d}async estimateGas(c){return s(this,"estimateGas").estimateGas(await this.populateCall(c))}async call(c){return s(this,"call").call(await this.populateCall(c))}async resolveName(c){return await s(this,"resolveName").resolveName(c)}async sendTransaction(c){const d=s(this,"sendTransaction"),f=await this.populateTransaction(c);delete f.from;const p=e.Transaction.from(f);return await d.broadcastTransaction(await this.signTransaction(p))}authorize(c){(0,n.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}gp.AbstractSigner=o;class a extends o{address;constructor(c,d){super(d),(0,n.defineProperties)(this,{address:c})}async getAddress(){return this.address}connect(c){return new a(this.address,c)}#e(c,d){(0,n.assert)(!1,`VoidSigner cannot sign ${c}`,"UNSUPPORTED_OPERATION",{operation:d})}async signTransaction(c){this.#e("transactions","signTransaction")}async signMessage(c){this.#e("messages","signMessage")}async signTypedData(c,d,f){this.#e("typed-data","signTypedData")}}return gp.VoidSigner=a,gp}var fw={},w7;function dh(){if(w7)return fw;w7=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.showThrottleMessage=void 0;const t=new Set;function e(n){t.has(n)||(t.add(n),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${n} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}return fw.showThrottleMessage=e,fw}var hw={},pw={},$c={},Ju={},v7;function cPe(){if(v7)return Ju;v7=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.FilterIdPendingSubscriber=Ju.FilterIdEventSubscriber=Ju.FilterIdSubscriber=void 0;const t=Et(),e=G4();function n(o){return JSON.parse(JSON.stringify(o))}class r{#e;#t;#n;#r;#s;#o;constructor(a){this.#e=a,this.#t=null,this.#n=this.#i.bind(this),this.#r=!1,this.#s=null,this.#o=!1}_subscribe(a){throw new Error("subclasses must override this")}_emitResults(a,l){throw new Error("subclasses must override this")}_recover(a){throw new Error("subclasses must override this")}async#i(a){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let l=null;try{l=await this.#t}catch(f){if(!(0,t.isError)(f,"UNSUPPORTED_OPERATION")||f.operation!=="eth_newFilter")throw f}if(l==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const c=await this.#e.getNetwork();if(this.#s||(this.#s=c),this.#s.chainId!==c.chainId)throw new Error("chaid changed");if(this.#o)return;const d=await this.#e.send("eth_getFilterChanges",[l]);await this._emitResults(this.#e,d)}catch(l){console.log("@TODO",l)}this.#e.once("block",this.#n)}#a(){const a=this.#t;a&&(this.#t=null,a.then(l=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[l])}))}start(){this.#r||(this.#r=!0,this.#i(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(a){a&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}Ju.FilterIdSubscriber=r;class s extends r{#e;constructor(a,l){super(a),this.#e=n(l)}_recover(a){return new e.PollingEventSubscriber(a,this.#e)}async _subscribe(a){return await a.send("eth_newFilter",[this.#e])}async _emitResults(a,l){for(const c of l)a.emit(this.#e,a._wrapLog(c,a._network))}}Ju.FilterIdEventSubscriber=s;class i extends r{async _subscribe(a){return await a.send("eth_newPendingTransactionFilter",[])}async _emitResults(a,l){for(const c of l)a.emit("pending",c)}}return Ju.FilterIdPendingSubscriber=i,Ju}var x7;function _c(){if(x7)return $c;x7=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.JsonRpcProvider=$c.JsonRpcApiPollingProvider=$c.JsonRpcApiProvider=$c.JsonRpcSigner=void 0;const t=sx(),e=Fs(),n=Bd(),r=ea(),s=Et(),i=ox(),o=K4(),a=ta(),l=cPe(),c=G4(),d="bigint,boolean,function,number,string,symbol".split(/,/g);function f(_){if(_==null||d.indexOf(typeof _)>=0||typeof _.getAddress=="function")return _;if(Array.isArray(_))return _.map(f);if(typeof _=="object")return Object.keys(_).reduce((N,O)=>(N[O]=_[O],N),{});throw new Error(`should not happen: ${_} (${typeof _})`)}function p(_){return new Promise(N=>{setTimeout(N,_)})}function g(_){return _&&_.toLowerCase()}function b(_){return _&&typeof _.pollingInterval=="number"}const w={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class m extends o.AbstractSigner{address;constructor(N,O){super(N),O=(0,e.getAddress)(O),(0,s.defineProperties)(this,{address:O})}connect(N){(0,s.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(N){return await this.populateCall(N)}async sendUncheckedTransaction(N){const O=f(N),D=[];if(O.from){const z=O.from;D.push((async()=>{const K=await(0,e.resolveAddress)(z,this.provider);(0,s.assertArgument)(K!=null&&K.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",N),O.from=K})())}else O.from=this.address;if(O.gasLimit==null&&D.push((async()=>{O.gasLimit=await this.provider.estimateGas({...O,from:this.address})})()),O.to!=null){const z=O.to;D.push((async()=>{O.to=await(0,e.resolveAddress)(z,this.provider)})())}D.length&&await Promise.all(D);const k=this.provider.getRpcTransaction(O);return this.provider.send("eth_sendTransaction",[k])}async sendTransaction(N){const O=await this.provider.getBlockNumber(),D=await this.sendUncheckedTransaction(N);return await new Promise((k,z)=>{const K=[1e3,100];let q=0;const I=async()=>{try{const P=await this.provider.getTransaction(D);if(P!=null){k(P.replaceableTransaction(O));return}}catch(P){if((0,s.isError)(P,"CANCELLED")||(0,s.isError)(P,"BAD_DATA")||(0,s.isError)(P,"NETWORK_ERROR")||(0,s.isError)(P,"UNSUPPORTED_OPERATION")){P.info==null&&(P.info={}),P.info.sendTransactionHash=D,z(P);return}if((0,s.isError)(P,"INVALID_ARGUMENT")&&(q++,P.info==null&&(P.info={}),P.info.sendTransactionHash=D,q>10)){z(P);return}this.provider.emit("error",(0,s.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:P}))}this.provider._setTimeout(()=>{I()},K.pop()||4e3)};I()})}async signTransaction(N){const O=f(N);if(O.from){const k=await(0,e.resolveAddress)(O.from,this.provider);(0,s.assertArgument)(k!=null&&k.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",N),O.from=k}else O.from=this.address;const D=this.provider.getRpcTransaction(O);return await this.provider.send("eth_signTransaction",[D])}async signMessage(N){const O=typeof N=="string"?(0,s.toUtf8Bytes)(N):N;return await this.provider.send("personal_sign",[(0,s.hexlify)(O),this.address.toLowerCase()])}async signTypedData(N,O,D){const k=f(D),z=await n.TypedDataEncoder.resolveNames(N,O,k,async K=>{const q=await(0,e.resolveAddress)(K);return(0,s.assertArgument)(q!=null,"TypedData does not support null address","value",K),q});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(n.TypedDataEncoder.getPayload(z.domain,O,z.value))])}async unlock(N){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),N,null])}async _legacySignMessage(N){const O=typeof N=="string"?(0,s.toUtf8Bytes)(N):N;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,s.hexlify)(O)])}}$c.JsonRpcSigner=m;class v extends i.AbstractProvider{#e;#t;#n;#r;#s;#o;#i;#a(){if(this.#r)return;const N=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const O=this.#n;for(this.#n=[];O.length;){const D=[O.shift()];for(;O.length&&D.length!==this.#e.batchMaxCount;)if(D.push(O.shift()),JSON.stringify(D.map(z=>z.payload)).length>this.#e.batchMaxSize){O.unshift(D.pop());break}(async()=>{const k=D.length===1?D[0].payload:D.map(z=>z.payload);this.emit("debug",{action:"sendRpcPayload",payload:k});try{const z=await this._send(k);this.emit("debug",{action:"receiveRpcResult",result:z});for(const{resolve:K,reject:q,payload:I}of D){if(this.destroyed){q((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:I.method}));continue}const P=z.filter(M=>M.id===I.id)[0];if(P==null){const M=(0,s.makeError)("missing response for request","BAD_DATA",{value:z,info:{payload:I}});this.emit("error",M),q(M);continue}if("error"in P){q(this.getRpcError(I,P));continue}K(P.result)}}catch(z){this.emit("debug",{action:"receiveRpcError",error:z});for(const{reject:K}of D)K(z)}})()}},N)}constructor(N,O){super(N,O),this.#t=1,this.#e=Object.assign({},w,O||{}),this.#n=[],this.#r=null,this.#o=null,this.#i=null;{let k=null;const z=new Promise(K=>{k=K});this.#s={promise:z,resolve:k}}const D=this._getOption("staticNetwork");typeof D=="boolean"?((0,s.assertArgument)(!D||N!=="any","staticNetwork cannot be used on special network 'any'","options",O),D&&N!=null&&(this.#o=a.Network.from(N))):D&&((0,s.assertArgument)(N==null||D.matches(N),"staticNetwork MUST match network object","options",O),this.#o=D)}_getOption(N){return this.#e[N]}get _network(){return(0,s.assert)(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(N){if(N.method==="call"||N.method==="estimateGas"){let D=N.transaction;if(D&&D.type!=null&&(0,s.getBigInt)(D.type)&&D.maxFeePerGas==null&&D.maxPriorityFeePerGas==null){const k=await this.getFeeData();k.maxFeePerGas==null&&k.maxPriorityFeePerGas==null&&(N=Object.assign({},N,{transaction:Object.assign({},D,{type:void 0})}))}}const O=this.getRpcRequest(N);return O!=null?await this.send(O.method,O.args):super._perform(N)}async _detectNetwork(){const N=this._getOption("staticNetwork");if(N)if(N===!0){if(this.#o)return this.#o}else return N;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const O=a.Network.from((0,s.getBigInt)(await this.send("eth_chainId",[])));return this.#i=null,O}catch(O){throw this.#i=null,O}})(),await this.#i):(this.#i=(async()=>{const O={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:O});let D;try{D=(await this._send(O))[0],this.#i=null}catch(k){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:k}),k}if(this.emit("debug",{action:"receiveRpcResult",result:D}),"result"in D)return a.Network.from((0,s.getBigInt)(D.result));throw this.getRpcError(O,D)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(N){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,s.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:N}})),await p(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(N){return N.type==="pending"?new l.FilterIdPendingSubscriber(this):N.type==="event"?this._getOption("polling")?new c.PollingEventSubscriber(this,N.filter):new l.FilterIdEventSubscriber(this,N.filter):N.type==="orphan"&&N.filter.orphan==="drop-log"?new i.UnmanagedSubscriber("orphan"):super._getSubscriber(N)}get ready(){return this.#s==null}getRpcTransaction(N){const O={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(D=>{if(N[D]==null)return;let k=D;D==="gasLimit"&&(k="gas"),O[k]=(0,s.toQuantity)((0,s.getBigInt)(N[D],`tx.${D}`))}),["from","to","data"].forEach(D=>{N[D]!=null&&(O[D]=(0,s.hexlify)(N[D]))}),N.accessList&&(O.accessList=(0,r.accessListify)(N.accessList)),N.blobVersionedHashes&&(O.blobVersionedHashes=N.blobVersionedHashes.map(D=>D.toLowerCase())),N.authorizationList&&(O.authorizationList=N.authorizationList.map(D=>{const k=(0,r.authorizationify)(D);return{address:k.address,nonce:(0,s.toQuantity)(k.nonce),chainId:(0,s.toQuantity)(k.chainId),yParity:(0,s.toQuantity)(k.signature.yParity),r:(0,s.toQuantity)(k.signature.r),s:(0,s.toQuantity)(k.signature.s)}})),O}getRpcRequest(N){switch(N.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[g(N.address),N.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[g(N.address),N.blockTag]};case"getCode":return{method:"eth_getCode",args:[g(N.address),N.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[g(N.address),"0x"+N.position.toString(16),N.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[N.signedTransaction]};case"getBlock":if("blockTag"in N)return{method:"eth_getBlockByNumber",args:[N.blockTag,!!N.includeTransactions]};if("blockHash"in N)return{method:"eth_getBlockByHash",args:[N.blockHash,!!N.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[N.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[N.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(N.transaction),N.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(N.transaction)]};case"getLogs":return N.filter&&N.filter.address!=null&&(Array.isArray(N.filter.address)?N.filter.address=N.filter.address.map(g):N.filter.address=g(N.filter.address)),{method:"eth_getLogs",args:[N.filter]}}return null}getRpcError(N,O){const{method:D}=N,{error:k}=O;if(D==="eth_estimateGas"&&k.message){const q=k.message;if(!q.match(/revert/i)&&q.match(/insufficient funds/i))return(0,s.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:N.params[0],info:{payload:N,error:k}});if(q.match(/nonce/i)&&q.match(/too low/i))return(0,s.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:N.params[0],info:{payload:N,error:k}})}if(D==="eth_call"||D==="eth_estimateGas"){const q=S(k),I=t.AbiCoder.getBuiltinCallException(D==="eth_call"?"call":"estimateGas",N.params[0],q?q.data:null);return I.info={error:k,payload:N},I}const z=JSON.stringify(R(k));if(typeof k.message=="string"&&k.message.match(/user denied|ethers-user-denied/i)){const q={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,s.makeError)("user rejected action","ACTION_REJECTED",{action:q[D]||"unknown",reason:"rejected",info:{payload:N,error:k}})}if(D==="eth_sendRawTransaction"||D==="eth_sendTransaction"){const q=N.params[0];if(z.match(/insufficient funds|base fee exceeds gas limit/i))return(0,s.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:q,info:{error:k}});if(z.match(/nonce/i)&&z.match(/too low/i))return(0,s.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:q,info:{error:k}});if(z.match(/replacement transaction/i)&&z.match(/underpriced/i))return(0,s.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:q,info:{error:k}});if(z.match(/only replay-protected/i))return(0,s.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:D,info:{transaction:q,info:{error:k}}})}let K=!!z.match(/the method .* does not exist/i);return K||k&&k.details&&k.details.startsWith("Unauthorized method:")&&(K=!0),K?(0,s.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:N.method,info:{error:k,payload:N}}):(0,s.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:k,payload:N})}send(N,O){if(this.destroyed)return Promise.reject((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:N}));const D=this.#t++,k=new Promise((z,K)=>{this.#n.push({resolve:z,reject:K,payload:{method:N,params:O,id:D,jsonrpc:"2.0"}})});return this.#a(),k}async getSigner(N){N==null&&(N=0);const O=this.send("eth_accounts",[]);if(typeof N=="number"){const k=await O;if(N>=k.length)throw new Error("no such account");return new m(this,k[N])}const{accounts:D}=await(0,s.resolveProperties)({network:this.getNetwork(),accounts:O});N=(0,e.getAddress)(N);for(const k of D)if((0,e.getAddress)(k)===N)return new m(this,N);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(O=>new m(this,O))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:N,reject:O}of this.#n)O((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:N.method}));this.#n=[],super.destroy()}}$c.JsonRpcApiProvider=v;class x extends v{#e;constructor(N,O){super(N,O);let D=this._getOption("pollingInterval");D==null&&(D=w.pollingInterval),this.#e=D}_getSubscriber(N){const O=super._getSubscriber(N);return b(O)&&(O.pollingInterval=this.#e),O}get pollingInterval(){return this.#e}set pollingInterval(N){if(!Number.isInteger(N)||N<0)throw new Error("invalid interval");this.#e=N,this._forEachSubscriber(O=>{b(O)&&(O.pollingInterval=this.#e)})}}$c.JsonRpcApiPollingProvider=x;class C extends x{#e;constructor(N,O,D){N==null&&(N="http://localhost:8545"),super(O,D),typeof N=="string"?this.#e=new s.FetchRequest(N):this.#e=N.clone()}_getConnection(){return this.#e.clone()}async send(N,O){return await this._start(),await super.send(N,O)}async _send(N){const O=this._getConnection();O.body=JSON.stringify(N),O.setHeader("content-type","application/json");const D=await O.send();D.assertOk();let k=D.bodyJson;return Array.isArray(k)||(k=[k]),k}}$c.JsonRpcProvider=C;function S(_){if(_==null)return null;if(typeof _.message=="string"&&_.message.match(/revert/i)&&(0,s.isHexString)(_.data))return{message:_.message,data:_.data};if(typeof _=="object"){for(const N in _){const O=S(_[N]);if(O)return O}return null}if(typeof _=="string")try{return S(JSON.parse(_))}catch{}return null}function T(_,N){if(_!=null){if(typeof _.message=="string"&&N.push(_.message),typeof _=="object")for(const O in _)T(_[O],N);if(typeof _=="string")try{return T(JSON.parse(_),N)}catch{}}}function R(_){const N=[];return T(_,N),N}return $c}var E7;function fQ(){if(E7)return pw;E7=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.AnkrProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c(),s="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function i(a){switch(a){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,t.assertArgument)(!1,"unsupported network","network",a)}class o extends r.JsonRpcProvider{apiKey;constructor(l,c){l==null&&(l="mainnet");const d=n.Network.from(l);c==null&&(c=s);const f={polling:!0,staticNetwork:d},p=o.getRequest(d,c);super(p,d,f),(0,t.defineProperties)(this,{apiKey:c})}_getProvider(l){try{return new o(l,this.apiKey)}catch{}return super._getProvider(l)}static getRequest(l,c){c==null&&(c=s);const d=new t.FetchRequest(`https://${i(l.name)}/${c}`);return d.allowGzip=!0,c===s&&(d.retryFunc=async(f,p,g)=>((0,e.showThrottleMessage)("AnkrProvider"),!0)),d}getRpcError(l,c){return l.method==="eth_sendRawTransaction"&&c&&c.error&&c.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(c.error.message="replacement transaction underpriced"),super.getRpcError(l,c)}isCommunityResource(){return this.apiKey===s}}return pw.AnkrProvider=o,pw}var gw={},A7;function hQ(){if(A7)return gw;A7=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.AlchemyProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c(),s="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function i(a){switch(a){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,t.assertArgument)(!1,"unsupported network","network",a)}class o extends r.JsonRpcProvider{apiKey;constructor(l,c){l==null&&(l="mainnet");const d=n.Network.from(l);c==null&&(c=s);const f=o.getRequest(d,c);super(f,d,{staticNetwork:d}),(0,t.defineProperties)(this,{apiKey:c})}_getProvider(l){try{return new o(l,this.apiKey)}catch{}return super._getProvider(l)}async _perform(l){if(l.method==="getTransactionResult"){const{trace:c,tx:d}=await(0,t.resolveProperties)({trace:this.send("trace_transaction",[l.hash]),tx:this.getTransaction(l.hash)});if(c==null||d==null)return null;let f,p=!1;try{f=c[0].result.output,p=c[0].error==="Reverted"}catch{}if(f)return(0,t.assert)(!p,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:f,reason:null,transaction:d,invocation:null,revert:null}),f;(0,t.assert)(!1,"could not parse trace result","BAD_DATA",{value:c})}return await super._perform(l)}isCommunityResource(){return this.apiKey===s}static getRequest(l,c){c==null&&(c=s);const d=new t.FetchRequest(`https://${i(l.name)}/v2/${c}`);return d.allowGzip=!0,c===s&&(d.retryFunc=async(f,p,g)=>((0,e.showThrottleMessage)("alchemy"),!0)),d}}return gw.AlchemyProvider=o,gw}var mw={},C7;function pQ(){if(C7)return mw;C7=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.ChainstackProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c();function s(a){switch(a){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,t.assertArgument)(!1,"unsupported network","network",a)}function i(a){switch(a){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,t.assertArgument)(!1,"unsupported network","network",a)}class o extends r.JsonRpcProvider{apiKey;constructor(l,c){l==null&&(l="mainnet");const d=n.Network.from(l);c==null&&(c=s(d.name));const f=o.getRequest(d,c);super(f,d,{staticNetwork:d}),(0,t.defineProperties)(this,{apiKey:c})}_getProvider(l){try{return new o(l,this.apiKey)}catch{}return super._getProvider(l)}isCommunityResource(){return this.apiKey===s(this._network.name)}static getRequest(l,c){c==null&&(c=s(l.name));const d=new t.FetchRequest(`https://${i(l.name)}/${c}`);return d.allowGzip=!0,c===s(l.name)&&(d.retryFunc=async(f,p,g)=>((0,e.showThrottleMessage)("ChainstackProvider"),!0)),d}}return mw.ChainstackProvider=o,mw}var yw={},S7;function gQ(){if(S7)return yw;S7=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.CloudflareProvider=void 0;const t=Et(),e=ta(),n=_c();class r extends n.JsonRpcProvider{constructor(i){i==null&&(i="mainnet");const o=e.Network.from(i);(0,t.assertArgument)(o.name==="mainnet","unsupported network","network",i),super("https://cloudflare-eth.com/",o,{staticNetwork:o})}}return yw.CloudflareProvider=r,yw}var mp={},_7;function mQ(){if(_7)return mp;_7=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.EtherscanProvider=mp.EtherscanPlugin=void 0;const t=sx(),e=lS(),n=ea(),r=Et(),s=ox(),i=ta(),o=V4(),a=dh(),l=2e3;function c(w){return w&&typeof w.then=="function"}const d="org.ethers.plugins.provider.Etherscan";class f extends o.NetworkPlugin{baseUrl;constructor(m){super(d),(0,r.defineProperties)(this,{baseUrl:m})}clone(){return new f(this.baseUrl)}}mp.EtherscanPlugin=f;const p=["enableCcipRead"];let g=1;class b extends s.AbstractProvider{network;apiKey;#e;constructor(m,v){const x=v??null;super();const C=i.Network.from(m);this.#e=C.getPlugin(d),(0,r.defineProperties)(this,{apiKey:x,network:C})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,r.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(m,v){let x=Object.keys(v).reduce((C,S)=>{const T=v[S];return T!=null&&(C+=`&${S}=${T}`),C},"");return this.apiKey&&(x+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${m}${x}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(m,v){return v.module=m,v.apikey=this.apiKey,v.chainid=this.network.chainId,v}async detectNetwork(){return this.network}async fetch(m,v,x){const C=g++,S=x?this.getPostUrl():this.getUrl(m,v),T=x?this.getPostData(m,v):null;this.emit("debug",{action:"sendRequest",id:C,url:S,payload:T});const R=new r.FetchRequest(S);R.setThrottleParams({slotInterval:1e3}),R.retryFunc=(O,D,k)=>(this.isCommunityResource()&&(0,a.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),R.processFunc=async(O,D)=>{const k=D.hasBody()?JSON.parse((0,r.toUtf8String)(D.body)):{},z=(typeof k.result=="string"?k.result:"").toLowerCase().indexOf("rate limit")>=0;return m==="proxy"?k&&k.status==0&&k.message=="NOTOK"&&z&&(this.emit("debug",{action:"receiveError",id:C,reason:"proxy-NOTOK",error:k}),D.throwThrottleError(k.result,l)):z&&(this.emit("debug",{action:"receiveError",id:C,reason:"null result",error:k.result}),D.throwThrottleError(k.result,l)),D},T&&(R.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),R.body=Object.keys(T).map(O=>`${O}=${T[O]}`).join("&"));const _=await R.send();try{_.assertOk()}catch(O){this.emit("debug",{action:"receiveError",id:C,error:O,reason:"assertOk"}),(0,r.assert)(!1,"response error","SERVER_ERROR",{request:R,response:_})}_.hasBody()||(this.emit("debug",{action:"receiveError",id:C,error:"missing body",reason:"null body"}),(0,r.assert)(!1,"missing response","SERVER_ERROR",{request:R,response:_}));const N=JSON.parse((0,r.toUtf8String)(_.body));return m==="proxy"?(N.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:C,result:N,reason:"invalid JSON-RPC"}),(0,r.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:R,response:_,info:{result:N}})),N.error&&(this.emit("debug",{action:"receiveError",id:C,result:N,reason:"JSON-RPC error"}),(0,r.assert)(!1,"error response","SERVER_ERROR",{request:R,response:_,info:{result:N}})),this.emit("debug",{action:"receiveRequest",id:C,result:N}),N.result):N.status==0&&(N.message==="No records found"||N.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:C,result:N}),N.result):((N.status!=1||typeof N.message=="string"&&!N.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:C,result:N}),(0,r.assert)(!1,"error response","SERVER_ERROR",{request:R,response:_,info:{result:N}})),this.emit("debug",{action:"receiveRequest",id:C,result:N}),N.result)}_getTransactionPostData(m){const v={};for(let x in m){if(p.indexOf(x)>=0||m[x]==null)continue;let C=m[x];if(!(x==="type"&&C===0)&&!(x==="blockTag"&&C==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[x])C=(0,r.toQuantity)(C);else if(x==="accessList")C="["+(0,n.accessListify)(C).map(S=>`{address:"${S.address}",storageKeys:["${S.storageKeys.join('","')}"]}`).join(",")+"]";else if(x==="blobVersionedHashes"){if(C.length===0)continue;(0,r.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:m}})}else C=(0,r.hexlify)(C);v[x]=C}}return v}_checkError(m,v,x){let C="";if((0,r.isError)(v,"SERVER_ERROR")){try{C=v.info.result.error.message}catch{}if(!C)try{C=v.info.message}catch{}}if(m.method==="estimateGas"&&!C.match(/revert/i)&&C.match(/insufficient funds/i)&&(0,r.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:m.transaction}),(m.method==="call"||m.method==="estimateGas")&&C.match(/execution reverted/i)){let S="";try{S=v.info.result.error.data}catch{}const T=t.AbiCoder.getBuiltinCallException(m.method,m.transaction,S);throw T.info={request:m,error:v},T}if(C&&m.method==="broadcastTransaction"){const S=n.Transaction.from(m.signedTransaction);C.match(/replacement/i)&&C.match(/underpriced/i)&&(0,r.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:S}),C.match(/insufficient funds/)&&(0,r.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:S}),C.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,r.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:S})}throw v}async _detectNetwork(){return this.network}async _perform(m){switch(m.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:m.address,tag:m.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:m.address,tag:m.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:m.address,tag:m.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:m.address,position:m.position,tag:m.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:m.signedTransaction},!0).catch(v=>this._checkError(m,v,m.signedTransaction));case"getBlock":if("blockTag"in m)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:m.blockTag,boolean:m.includeTransactions?"true":"false"});(0,r.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:m.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:m.hash});case"call":{if(m.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const v=this._getTransactionPostData(m.transaction);v.module="proxy",v.action="eth_call";try{return await this.fetch("proxy",v,!0)}catch(x){return this._checkError(m,x,m.transaction)}}case"estimateGas":{const v=this._getTransactionPostData(m.transaction);v.module="proxy",v.action="eth_estimateGas";try{return await this.fetch("proxy",v,!0)}catch(x){return this._checkError(m,x,m.transaction)}}}return super._perform(m)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(m){let v=this._getAddress(m);c(v)&&(v=await v);try{const x=await this.fetch("contract",{action:"getabi",address:v}),C=JSON.parse(x);return new e.Contract(v,C,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}return mp.EtherscanProvider=b,mp}var yp={},bw={},ww={},N7;function lPe(){if(N7)return ww;N7=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.WebSocket=void 0;function t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof $o<"u")return $o;throw new Error("unable to locate global object")}const e=t().WebSocket;return ww.WebSocket=e,ww}var xa={},T7;function EO(){if(T7)return xa;T7=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.SocketProvider=xa.SocketEventSubscriber=xa.SocketPendingSubscriber=xa.SocketBlockSubscriber=xa.SocketSubscriber=void 0;const t=ox(),e=Et(),n=_c();class r{#e;#t;get filter(){return JSON.parse(this.#t)}#n;#r;#s;constructor(c,d){this.#e=c,this.#t=JSON.stringify(d),this.#n=null,this.#r=null,this.#s=null}start(){this.#n=this.#e.send("eth_subscribe",this.filter).then(c=>(this.#e._register(c,this),c))}stop(){this.#n.then(c=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[c])}),this.#n=null}pause(c){(0,e.assert)(c,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#r=!!c}resume(){this.#r=null}_handleMessage(c){if(this.#n!=null&&this.#r===null){let d=this.#s;d==null?d=this._emit(this.#e,c):d=d.then(async()=>{await this._emit(this.#e,c)}),this.#s=d.then(()=>{this.#s===d&&(this.#s=null)})}}async _emit(c,d){throw new Error("sub-classes must implemente this; _emit")}}xa.SocketSubscriber=r;class s extends r{constructor(c){super(c,["newHeads"])}async _emit(c,d){c.emit("block",parseInt(d.number))}}xa.SocketBlockSubscriber=s;class i extends r{constructor(c){super(c,["newPendingTransactions"])}async _emit(c,d){c.emit("pending",d)}}xa.SocketPendingSubscriber=i;class o extends r{#e;get logFilter(){return JSON.parse(this.#e)}constructor(c,d){super(c,["logs",d]),this.#e=JSON.stringify(d)}async _emit(c,d){c.emit(this.logFilter,c._wrapLog(d,c._network))}}xa.SocketEventSubscriber=o;class a extends n.JsonRpcApiProvider{#e;#t;#n;constructor(c,d){const f=Object.assign({},d??{});(0,e.assertArgument)(f.batchMaxCount==null||f.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",d),f.batchMaxCount=1,f.staticNetwork==null&&(f.staticNetwork=!0),super(c,f),this.#e=new Map,this.#t=new Map,this.#n=new Map}_getSubscriber(c){switch(c.type){case"close":return new t.UnmanagedSubscriber("close");case"block":return new s(this);case"pending":return new i(this);case"event":return new o(this,c.filter);case"orphan":if(c.filter.orphan==="drop-log")return new t.UnmanagedSubscriber("drop-log")}return super._getSubscriber(c)}_register(c,d){this.#t.set(c,d);const f=this.#n.get(c);if(f){for(const p of f)d._handleMessage(p);this.#n.delete(c)}}async _send(c){(0,e.assertArgument)(!Array.isArray(c),"WebSocket does not support batch send","payload",c);const d=new Promise((f,p)=>{this.#e.set(c.id,{payload:c,resolve:f,reject:p})});return await this._waitUntilReady(),await this._write(JSON.stringify(c)),[await d]}async _processMessage(c){const d=JSON.parse(c);if(d&&typeof d=="object"&&"id"in d){const f=this.#e.get(d.id);if(f==null){this.emit("error",(0,e.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:d}));return}this.#e.delete(d.id),f.resolve(d)}else if(d&&d.method==="eth_subscription"){const f=d.params.subscription,p=this.#t.get(f);if(p)p._handleMessage(d.params.result);else{let g=this.#n.get(f);g==null&&(g=[],this.#n.set(f,g)),g.push(d.params.result)}}else{this.emit("error",(0,e.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:d}));return}}async _write(c){throw new Error("sub-classes must override this")}}return xa.SocketProvider=a,xa}var R7;function W4(){if(R7)return bw;R7=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.WebSocketProvider=void 0;const t=lPe(),e=EO();class n extends e.SocketProvider{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(s,i,o){super(i,o),typeof s=="string"?(this.#e=()=>new t.WebSocket(s),this.#t=this.#e()):typeof s=="function"?(this.#e=s,this.#t=s()):(this.#e=null,this.#t=s),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(a){console.log("failed to start WebsocketProvider",a)}},this.websocket.onmessage=a=>{this._processMessage(a.data)}}async _write(s){this.websocket.send(s)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}}return bw.WebSocketProvider=n,bw}var P7;function yQ(){if(P7)return yp;P7=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.InfuraProvider=yp.InfuraWebSocketProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c(),s=W4(),i="84842078b09946638c03157f83405213";function o(c){switch(c){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,t.assertArgument)(!1,"unsupported network","network",c)}class a extends s.WebSocketProvider{projectId;projectSecret;constructor(d,f){const p=new l(d,f),g=p._getConnection();(0,t.assert)(!g.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const b=g.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(b,p._network),(0,t.defineProperties)(this,{projectId:p.projectId,projectSecret:p.projectSecret})}isCommunityResource(){return this.projectId===i}}yp.InfuraWebSocketProvider=a;class l extends r.JsonRpcProvider{projectId;projectSecret;constructor(d,f,p){d==null&&(d="mainnet");const g=n.Network.from(d);f==null&&(f=i),p==null&&(p=null);const b=l.getRequest(g,f,p);super(b,g,{staticNetwork:g}),(0,t.defineProperties)(this,{projectId:f,projectSecret:p})}_getProvider(d){try{return new l(d,this.projectId,this.projectSecret)}catch{}return super._getProvider(d)}isCommunityResource(){return this.projectId===i}static getWebSocketProvider(d,f){return new a(d,f)}static getRequest(d,f,p){f==null&&(f=i),p==null&&(p=null);const g=new t.FetchRequest(`https://${o(d.name)}/v3/${f}`);return g.allowGzip=!0,p&&g.setCredentials("",p),f===i&&(g.retryFunc=async(b,w,m)=>((0,e.showThrottleMessage)("InfuraProvider"),!0)),g}}return yp.InfuraProvider=l,yp}var vw={},O7;function bQ(){if(O7)return vw;O7=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.QuickNodeProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c(),s="919b412a057b5e9c9b6dce193c5a60242d6efadb";function i(a){switch(a){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,t.assertArgument)(!1,"unsupported network","network",a)}class o extends r.JsonRpcProvider{token;constructor(l,c){l==null&&(l="mainnet");const d=n.Network.from(l);c==null&&(c=s);const f=o.getRequest(d,c);super(f,d,{staticNetwork:d}),(0,t.defineProperties)(this,{token:c})}_getProvider(l){try{return new o(l,this.token)}catch{}return super._getProvider(l)}isCommunityResource(){return this.token===s}static getRequest(l,c){c==null&&(c=s);const d=new t.FetchRequest(`https://${i(l.name)}/${c}`);return d.allowGzip=!0,c===s&&(d.retryFunc=async(f,p,g)=>((0,e.showThrottleMessage)("QuickNodeProvider"),!0)),d}}return vw.QuickNodeProvider=o,vw}var xw={},I7;function wQ(){if(I7)return xw;I7=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.FallbackProvider=void 0;const t=Et(),e=ox(),n=ta(),r=BigInt("1"),s=BigInt("2");function i(C){for(let S=C.length-1;S>0;S--){const T=Math.floor(Math.random()*(S+1)),R=C[S];C[S]=C[T],C[T]=R}}function o(C){return new Promise(S=>{setTimeout(S,C)})}function a(){return new Date().getTime()}function l(C){return JSON.stringify(C,(S,T)=>typeof T=="bigint"?{type:"bigint",value:T.toString()}:T)}const c={stallTimeout:400,priority:1,weight:1},d={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function f(C,S){for(;(C.blockNumber<0||C.blockNumber<S)&&(C._updateNumber||(C._updateNumber=(async()=>{try{const T=await C.provider.getBlockNumber();T>C.blockNumber&&(C.blockNumber=T)}catch(T){C.blockNumber=-2,C._lastFatalError=T,C._lastFatalErrorTimestamp=a()}C._updateNumber=null})()),await C._updateNumber,C.outOfSync++,!C._lastFatalError););}function p(C){if(C==null)return"null";if(Array.isArray(C))return"["+C.map(p).join(",")+"]";if(typeof C=="object"&&typeof C.toJSON=="function")return p(C.toJSON());switch(typeof C){case"boolean":case"symbol":return C.toString();case"bigint":case"number":return BigInt(C).toString();case"string":return JSON.stringify(C);case"object":{const S=Object.keys(C);return S.sort(),"{"+S.map(T=>`${JSON.stringify(T)}:${p(C[T])}`).join(",")+"}"}}throw console.log("Could not serialize",C),new Error("Hmm...")}function g(C,S){if("error"in S){const R=S.error;let _;return(0,t.isError)(R,"CALL_EXCEPTION")?_=p(Object.assign({},R,{shortMessage:void 0,reason:void 0,info:void 0})):_=p(R),{tag:_,value:R}}const T=S.result;return{tag:p(T),value:T}}function b(C,S){const T=new Map;for(const{value:_,tag:N,weight:O}of S){const D=T.get(N)||{value:_,weight:0};D.weight+=O,T.set(N,D)}let R=null;for(const _ of T.values())_.weight>=C&&(!R||_.weight>R.weight)&&(R=_);if(R)return R.value}function w(C,S){let T=0;const R=new Map;let _=null;const N=[];for(const{value:D,tag:k,weight:z}of S)if(D instanceof Error){const K=R.get(k)||{value:D,weight:0};K.weight+=z,R.set(k,K),(_==null||K.weight>_.weight)&&(_=K)}else N.push(BigInt(D)),T+=z;if(T<C)return _&&_.weight>=C?_.value:void 0;N.sort((D,k)=>D<k?-1:k>D?1:0);const O=Math.floor(N.length/2);return N.length%2?N[O]:(N[O-1]+N[O]+r)/s}function m(C,S){const T=b(C,S);if(T!==void 0)return T;for(const R of S)if(R.value)return R.value}function v(C,S){if(C===1)return(0,t.getNumber)(w(C,S),"%internal");const T=new Map,R=(O,D)=>{const k=T.get(O)||{result:O,weight:0};k.weight+=D,T.set(O,k)};for(const{weight:O,value:D}of S){const k=(0,t.getNumber)(D);R(k-1,O),R(k,O),R(k+1,O)}let _=0,N;for(const{weight:O,result:D}of T.values())O>=C&&(O>_||N!=null&&O===_&&D>N)&&(_=O,N=D);return N}class x extends e.AbstractProvider{quorum;eventQuorum;eventWorkers;#e;#t;#n;constructor(S,T,R){super(T,R),this.#e=S.map(_=>_ instanceof e.AbstractProvider?Object.assign({provider:_},c,d):Object.assign({},c,_,d)),this.#t=-2,this.#n=null,R&&R.quorum!=null?this.quorum=R.quorum:this.quorum=Math.ceil(this.#e.reduce((_,N)=>(_+=N.weight,_),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,t.assertArgument)(this.quorum<=this.#e.reduce((_,N)=>_+N.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(S=>{const T=Object.assign({},S);for(const R in T)R[0]==="_"&&delete T[R];return T})}async _detectNetwork(){return n.Network.from((0,t.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(S,T){switch(T.method){case"broadcastTransaction":return await S.broadcastTransaction(T.signedTransaction);case"call":return await S.call(Object.assign({},T.transaction,{blockTag:T.blockTag}));case"chainId":return(await S.getNetwork()).chainId;case"estimateGas":return await S.estimateGas(T.transaction);case"getBalance":return await S.getBalance(T.address,T.blockTag);case"getBlock":{const R="blockHash"in T?T.blockHash:T.blockTag;return await S.getBlock(R,T.includeTransactions)}case"getBlockNumber":return await S.getBlockNumber();case"getCode":return await S.getCode(T.address,T.blockTag);case"getGasPrice":return(await S.getFeeData()).gasPrice;case"getPriorityFee":return(await S.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await S.getLogs(T.filter);case"getStorage":return await S.getStorage(T.address,T.position,T.blockTag);case"getTransaction":return await S.getTransaction(T.hash);case"getTransactionCount":return await S.getTransactionCount(T.address,T.blockTag);case"getTransactionReceipt":return await S.getTransactionReceipt(T.hash);case"getTransactionResult":return await S.getTransactionResult(T.hash)}}#r(S){const T=Array.from(S).map(_=>_.config),R=this.#e.slice();i(R),R.sort((_,N)=>_.priority-N.priority);for(const _ of R)if(!_._lastFatalError&&T.indexOf(_)===-1)return _;return null}#s(S,T){const R=this.#r(S);if(R==null)return null;const _={config:R,result:null,didBump:!1,perform:null,staller:null},N=a();return _.perform=(async()=>{try{R.requests++;const D=await this._translatePerform(R.provider,T);_.result={result:D}}catch(D){R.errorResponses++,_.result={error:D}}const O=a()-N;R._totalTime+=O,R.rollingDuration=.95*R.rollingDuration+.05*O,_.perform=null})(),_.staller=(async()=>{await o(R.stallTimeout),_.staller=null})(),S.add(_),_}async#o(){let S=this.#n;if(!S){const T=[];this.#e.forEach(R=>{T.push((async()=>{await f(R,0),R._lastFatalError||(R._network=await R.provider.getNetwork())})())}),this.#n=S=(async()=>{await Promise.all(T);let R=null;for(const _ of this.#e){if(_._lastFatalError)continue;const N=_._network;R==null?R=N.chainId:N.chainId!==R&&(0,t.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await S}async#i(S,T){const R=[];for(const _ of S)if(_.result!=null){const{tag:N,value:O}=g(T.method,_.result);R.push({tag:N,value:O,weight:_.config.weight})}if(!(R.reduce((_,N)=>_+N.weight,0)<this.quorum)){switch(T.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil((0,t.getNumber)(w(this.quorum,this.#e.filter(N=>!N._lastFatalError).map(N=>({value:N.blockNumber,tag:(0,t.getNumber)(N.blockNumber).toString(),weight:N.weight}))))));const _=v(this.quorum,R);return _===void 0?void 0:(_>this.#t&&(this.#t=_),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return w(this.quorum,R);case"getBlock":return"blockTag"in T&&T.blockTag==="pending"?m(this.quorum,R):b(this.quorum,R);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return b(this.quorum,R);case"broadcastTransaction":return m(this.quorum,R)}(0,t.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${l(T.method)})`})}}async#a(S,T){if(S.size===0)throw new Error("no runners?!");const R=[];let _=0;for(const O of S){if(O.perform&&R.push(O.perform),O.staller){R.push(O.staller);continue}O.didBump||(O.didBump=!0,_++)}const N=await this.#i(S,T);if(N!==void 0){if(N instanceof Error)throw N;return N}for(let O=0;O<_;O++)this.#s(S,T);return(0,t.assert)(R.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:T,results:Array.from(S).map(O=>l(O.result))}}),await Promise.race(R),await this.#a(S,T)}async _perform(S){if(S.method==="broadcastTransaction"){const N=this.#e.map(k=>null),O=this.#e.map(async({provider:k,weight:z},K)=>{try{const q=await k._perform(S);N[K]=Object.assign(g(S.method,{result:q}),{weight:z})}catch(q){N[K]=Object.assign(g(S.method,{error:q}),{weight:z})}});for(;;){const k=N.filter(q=>q!=null);for(const{value:q}of k)if(!(q instanceof Error))return q;const z=b(this.quorum,N.filter(q=>q!=null));if((0,t.isError)(z,"INSUFFICIENT_FUNDS"))throw z;const K=O.filter((q,I)=>N[I]==null);if(K.length===0)break;await Promise.race(K)}const D=m(this.quorum,N);if((0,t.assert)(D!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:S,results:N.map(l)}}),D instanceof Error)throw D;return D}await this.#o();const T=new Set;let R=0;for(;;){const N=this.#s(T,S);if(N==null||(R+=N.config.weight,R>=this.quorum))break}const _=await this.#a(T,S);for(const N of T)N.perform&&N.result==null&&N.config.lateResponses++;return _}async destroy(){for(const{provider:S}of this.#e)S.destroy();super.destroy()}}return xw.FallbackProvider=x,xw}var k7;function uPe(){if(k7)return hw;k7=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.getDefaultProvider=void 0;const t=Et(),e=fQ(),n=hQ(),r=pQ(),s=gQ(),i=mQ(),o=yQ(),a=bQ(),l=wQ(),c=_c(),d=ta(),f=W4();function p(w){return w&&typeof w.send=="function"&&typeof w.close=="function"}const g="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function b(w,m){m==null&&(m={});const v=T=>m[T]==="-"?!1:typeof m.exclusive=="string"?T===m.exclusive:Array.isArray(m.exclusive)?m.exclusive.indexOf(T)!==-1:!0;if(typeof w=="string"&&w.match(/^https?:/))return new c.JsonRpcProvider(w);if(typeof w=="string"&&w.match(/^wss?:/)||p(w))return new f.WebSocketProvider(w);let x=null;try{x=d.Network.from(w)}catch{}const C=[];if(v("publicPolygon")&&x&&(x.name==="matic"?C.push(new c.JsonRpcProvider("https://polygon-rpc.com/",x,{staticNetwork:x})):x.name==="matic-amoy"&&C.push(new c.JsonRpcProvider("https://rpc-amoy.polygon.technology/",x,{staticNetwork:x}))),v("alchemy"))try{C.push(new n.AlchemyProvider(w,m.alchemy))}catch{}if(v("ankr")&&m.ankr!=null)try{C.push(new e.AnkrProvider(w,m.ankr))}catch{}if(v("chainstack"))try{C.push(new r.ChainstackProvider(w,m.chainstack))}catch{}if(v("cloudflare"))try{C.push(new s.CloudflareProvider(w))}catch{}if(v("etherscan"))try{C.push(new i.EtherscanProvider(w,m.etherscan))}catch{}if(v("infura"))try{let T=m.infura,R;typeof T=="object"&&(R=T.projectSecret,T=T.projectId),C.push(new o.InfuraProvider(w,T,R))}catch{}if(v("quicknode"))try{let T=m.quicknode;C.push(new a.QuickNodeProvider(w,T))}catch{}if((0,t.assert)(C.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),C.length===1)return C[0];let S=Math.floor(C.length/2);return S>2&&(S=2),x&&g.indexOf(x.name)!==-1&&(S=1),m&&m.quorum&&(S=m.quorum),new l.FallbackProvider(C,void 0,{quorum:S})}return hw.getDefaultProvider=b,hw}var Ew={},B7;function dPe(){if(B7)return Ew;B7=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.NonceManager=void 0;const t=Et(),e=K4();class n extends e.AbstractSigner{signer;#e;#t;constructor(s){super(s.provider),(0,t.defineProperties)(this,{signer:s}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(s){return new n(this.signer.connect(s))}async getNonce(s){if(s==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));const i=this.#t;return await this.#e+i}return super.getNonce(s)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(s){const i=this.getNonce("pending");return this.increment(),s=await this.signer.populateTransaction(s),s.nonce=await i,await this.signer.sendTransaction(s)}signTransaction(s){return this.signer.signTransaction(s)}signMessage(s){return this.signer.signMessage(s)}signTypedData(s,i,o){return this.signer.signTypedData(s,i,o)}}return Ew.NonceManager=n,Ew}var Aw={},D7;function fPe(){if(D7)return Aw;D7=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.BrowserProvider=void 0;const t=Et(),e=_c();class n extends e.JsonRpcApiPollingProvider{#e;#t;constructor(s,i,o){const a=Object.assign({},o??{},{batchMaxCount:1});(0,t.assertArgument)(s&&s.request,"invalid EIP-1193 provider","ethereum",s),super(i,a),this.#t=null,o&&o.providerInfo&&(this.#t=o.providerInfo),this.#e=async(l,c)=>{const d={method:l,params:c};this.emit("debug",{action:"sendEip1193Request",payload:d});try{const f=await s.request(d);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){const p=new Error(f.message);throw p.code=f.code,p.data=f.data,p.payload=d,this.emit("debug",{action:"receiveEip1193Error",error:p}),p}}}get providerInfo(){return this.#t}async send(s,i){return await this._start(),await super.send(s,i)}async _send(s){(0,t.assertArgument)(!Array.isArray(s),"EIP-1193 does not support batch request","payload",s);try{const i=await this.#e(s.method,s.params||[]);return[{id:s.id,result:i}]}catch(i){return[{id:s.id,error:{code:i.code,data:i.data,message:i.message}}]}}getRpcError(s,i){switch(i=JSON.parse(JSON.stringify(i)),i.error.code||-1){case 4001:i.error.message=`ethers-user-denied: ${i.error.message}`;break;case 4200:i.error.message=`ethers-unsupported: ${i.error.message}`;break}return super.getRpcError(s,i)}async hasSigner(s){s==null&&(s=0);const i=await this.send("eth_accounts",[]);return typeof s=="number"?i.length>s:(s=s.toLowerCase(),i.filter(o=>o.toLowerCase()===s).length!==0)}async getSigner(s){if(s==null&&(s=0),!await this.hasSigner(s))try{await this.#e("eth_requestAccounts",[])}catch(i){const o=i.payload;throw this.getRpcError(o,{id:o.id,error:i})}return await super.getSigner(s)}static async discover(s){if(s==null&&(s={}),s.provider)return new n(s.provider);const i=s.window?s.window:typeof window<"u"?window:null;if(i==null)return null;const o=s.anyProvider;if(o&&i.ethereum)return new n(i.ethereum);if(!("addEventListener"in i&&"dispatchEvent"in i&&"removeEventListener"in i))return null;const a=s.timeout?s.timeout:300;return a===0?null:await new Promise((l,c)=>{let d=[];const f=b=>{d.push(b.detail),o&&p()},p=()=>{if(clearTimeout(g),d.length)if(s&&s.filter){const b=s.filter(d.map(w=>Object.assign({},w.info)));if(b==null)l(null);else if(b instanceof n)l(b);else{let w=null;if(b.uuid&&(w=d.filter(v=>b.uuid===v.info.uuid)[0]),w){const{provider:m,info:v}=w;l(new n(m,void 0,{providerInfo:v}))}else c((0,t.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:b}))}}else{const{provider:b,info:w}=d[0];l(new n(b,void 0,{providerInfo:w}))}else l(null);i.removeEventListener("eip6963:announceProvider",f)},g=setTimeout(()=>{p()},a);i.addEventListener("eip6963:announceProvider",f),i.dispatchEvent(new Event("eip6963:requestProvider"))})}}return Aw.BrowserProvider=n,Aw}var Cw={},M7;function hPe(){if(M7)return Cw;M7=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.BlockscoutProvider=void 0;const t=Et(),e=ta(),n=_c();function r(i){switch(i){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,t.assertArgument)(!1,"unsupported network","network",i)}class s extends n.JsonRpcProvider{apiKey;constructor(o,a){o==null&&(o="mainnet");const l=e.Network.from(o);a==null&&(a=null);const c=s.getRequest(l);super(c,l,{staticNetwork:l}),(0,t.defineProperties)(this,{apiKey:a})}_getProvider(o){try{return new s(o,this.apiKey)}catch{}return super._getProvider(o)}isCommunityResource(){return this.apiKey===null}getRpcRequest(o){const a=super.getRpcRequest(o);return a&&a.method==="eth_estimateGas"&&a.args.length==1&&(a.args=a.args.slice(),a.args.push("latest")),a}getRpcError(o,a){const l=a?a.error:null;if(l&&l.code===-32015&&!(0,t.isHexString)(l.data||"",!0)){const c={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"};let d="";l.message==="VM execution error."?d=c[l.data]||"":c[l.message||""]&&(d=c[l.message||""]),d&&(l.message+=` (reverted: ${l.data})`,l.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+d)}else l&&l.code===-32e3&&l.message==="wrong transaction nonce"&&(l.message+=" (nonce too low)");return super.getRpcError(o,a)}static getRequest(o){const a=new t.FetchRequest(r(o.name));return a.allowGzip=!0,a}}return Cw.BlockscoutProvider=s,Cw}var Sw={},U7;function pPe(){if(U7)return Sw;U7=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.PocketProvider=void 0;const t=Et(),e=dh(),n=ta(),r=_c(),s="62e1ad51b37b8e00394bda3b";function i(a){switch(a){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,t.assertArgument)(!1,"unsupported network","network",a)}class o extends r.JsonRpcProvider{applicationId;applicationSecret;constructor(l,c,d){l==null&&(l="mainnet");const f=n.Network.from(l);c==null&&(c=s),d==null&&(d=null);const p={staticNetwork:f},g=o.getRequest(f,c,d);super(g,f,p),(0,t.defineProperties)(this,{applicationId:c,applicationSecret:d})}_getProvider(l){try{return new o(l,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(l)}static getRequest(l,c,d){c==null&&(c=s);const f=new t.FetchRequest(`https://${i(l.name)}/v1/lb/${c}`);return f.allowGzip=!0,d&&f.setCredentials("",d),c===s&&(f.retryFunc=async(p,g,b)=>((0,e.showThrottleMessage)("PocketProvider"),!0)),f}isCommunityResource(){return this.applicationId===s}}return Sw.PocketProvider=o,Sw}var _w={},L7;function gPe(){if(L7)return _w;L7=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.IpcSocketProvider=void 0;const t=void 0;return _w.IpcSocketProvider=t,_w}var j7;function Q4(){return j7||(j7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SocketEventSubscriber=t.SocketPendingSubscriber=t.SocketBlockSubscriber=t.SocketSubscriber=t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanPlugin=t.EtherscanProvider=t.ChainstackProvider=t.CloudflareProvider=t.AnkrProvider=t.BlockscoutProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.copyRequest=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EnsPlugin=t.GasCostPlugin=t.NetworkPlugin=t.NonceManager=t.Network=t.MulticoinProviderPlugin=t.EnsResolver=t.getDefaultProvider=t.showThrottleMessage=t.VoidSigner=t.AbstractSigner=t.UnmanagedSubscriber=t.AbstractProvider=void 0;var e=ox();Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return e.AbstractProvider}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return e.UnmanagedSubscriber}});var n=K4();Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return n.AbstractSigner}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return n.VoidSigner}});var r=dh();Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return r.showThrottleMessage}});var s=uPe();Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return s.getDefaultProvider}});var i=dQ();Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return i.EnsResolver}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return i.MulticoinProviderPlugin}});var o=ta();Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return o.Network}});var a=dPe();Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return a.NonceManager}});var l=V4();Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}});var c=ix();Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return c.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return c.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return c.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return c.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return c.TransactionResponse}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return c.copyRequest}});var d=wQ();Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return d.FallbackProvider}});var f=_c();Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return f.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return f.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return f.JsonRpcSigner}});var p=fPe();Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return p.BrowserProvider}});var g=hQ();Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return g.AlchemyProvider}});var b=hPe();Object.defineProperty(t,"BlockscoutProvider",{enumerable:!0,get:function(){return b.BlockscoutProvider}});var w=fQ();Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return w.AnkrProvider}});var m=gQ();Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return m.CloudflareProvider}});var v=pQ();Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return v.ChainstackProvider}});var x=mQ();Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return x.EtherscanProvider}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return x.EtherscanPlugin}});var C=yQ();Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return C.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return C.InfuraWebSocketProvider}});var S=pPe();Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return S.PocketProvider}});var T=bQ();Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return T.QuickNodeProvider}});const R=gPe();Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return R.IpcSocketProvider}});var _=EO();Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return _.SocketProvider}});var N=W4();Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return N.WebSocketProvider}});var O=EO();Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return O.SocketSubscriber}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return O.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return O.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return O.SocketEventSubscriber}})}(cR)),cR}var lR={},Nw={},F7;function Y4(){if(F7)return Nw;F7=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.BaseWallet=void 0;const t=Fs(),e=Bd(),n=Q4(),r=ea(),s=Et();class i extends n.AbstractSigner{address;#e;constructor(a,l){super(l),(0,s.assertArgument)(a&&typeof a.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=a;const c=(0,r.computeAddress)(this.signingKey.publicKey);(0,s.defineProperties)(this,{address:c})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(a){return new i(this.#e,a)}async signTransaction(a){a=(0,n.copyRequest)(a);const{to:l,from:c}=await(0,s.resolveProperties)({to:a.to?(0,t.resolveAddress)(a.to,this):void 0,from:a.from?(0,t.resolveAddress)(a.from,this):void 0});l!=null&&(a.to=l),c!=null&&(a.from=c),a.from!=null&&((0,s.assertArgument)((0,t.getAddress)(a.from)===this.address,"transaction from address mismatch","tx.from",a.from),delete a.from);const d=r.Transaction.from(a);return d.signature=this.signingKey.sign(d.unsignedHash),d.serialized}async signMessage(a){return this.signMessageSync(a)}signMessageSync(a){return this.signingKey.sign((0,e.hashMessage)(a)).serialized}authorizeSync(a){(0,s.assertArgument)(typeof a.address=="string","invalid address for authorizeSync","auth.address",a);const l=this.signingKey.sign((0,e.hashAuthorization)(a));return Object.assign({},{address:(0,t.getAddress)(a.address),nonce:(0,s.getBigInt)(a.nonce||0),chainId:(0,s.getBigInt)(a.chainId||0)},{signature:l})}async authorize(a){return a=Object.assign({},a,{address:await(0,t.resolveAddress)(a.address,this)}),this.authorizeSync(await this.populateAuthorization(a))}async signTypedData(a,l,c){const d=await e.TypedDataEncoder.resolveNames(a,l,c,async f=>{(0,s.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:f}});const p=await this.provider.resolveName(f);return(0,s.assert)(p!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:f}),p});return this.signingKey.sign(e.TypedDataEncoder.hash(d.domain,l,d.value)).serialized}}return Nw.BaseWallet=i,Nw}var uR={},Tw={},Rw={},bp={},$7;function vQ(){if($7)return bp;$7=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.decodeOwl=bp.decode=void 0;const t=Et(),e=" !#$%&'()*+,-./<=>?@[]^_`{|}~",n=/^[a-z]*$/i;function r(o,a){let l=97;return o.reduce((c,d)=>(d===a?l++:d.match(n)?c.push(String.fromCharCode(l)+d):(l=97,c.push(d)),c),[])}function s(o,a){for(let d=e.length-1;d>=0;d--)o=o.split(e[d]).join(a.substring(2*d,2*d+2));const l=[],c=o.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(d,f,p,g)=>{if(p)for(let b=parseInt(p);b>=0;b--)l.push(";");else l.push(f.toLowerCase());return""});if(c)throw new Error(`leftovers: ${JSON.stringify(c)}`);return r(r(l,";"),":")}bp.decode=s;function i(o){return(0,t.assertArgument)(o[0]==="0","unsupported auwl data","data",o),s(o.substring(1+2*e.length),o.substring(1,1+2*e.length))}return bp.decodeOwl=i,bp}var Pw={},H7;function xQ(){if(H7)return Pw;H7=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.Wordlist=void 0;const t=Et();class e{locale;constructor(r){(0,t.defineProperties)(this,{locale:r})}split(r){return r.toLowerCase().split(/\s+/g)}join(r){return r.join(" ")}}return Pw.Wordlist=e,Pw}var z7;function J4(){if(z7)return Rw;z7=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.WordlistOwl=void 0;const t=Bd(),e=Et(),n=vQ(),r=xQ();class s extends r.Wordlist{#e;#t;constructor(o,a,l){super(o),this.#e=a,this.#t=l,this.#n=null}get _data(){return this.#e}_decodeWords(){return(0,n.decodeOwl)(this.#e)}#n;#r(){if(this.#n==null){const o=this._decodeWords();if((0,t.id)(o.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#n=o}return this.#n}getWord(o){const a=this.#r();return(0,e.assertArgument)(o>=0&&o<a.length,`invalid word index: ${o}`,"index",o),a[o]}getWordIndex(o){return this.#r().indexOf(o)}}return Rw.WordlistOwl=s,Rw}var q7;function uS(){if(q7)return Tw;q7=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.LangEn=void 0;const t=J4(),e="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",n="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let r=null;class s extends t.WordlistOwl{constructor(){super("en",e,n)}static wordlist(){return r==null&&(r=new s),r}}return Tw.LangEn=s,Tw}var Ow={},V7;function Z4(){if(V7)return Ow;V7=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.Mnemonic=void 0;const t=ti(),e=Et(),n=uS();function r(c){return(1<<c)-1<<8-c&255}function s(c){return(1<<c)-1&255}function i(c,d){(0,e.assertNormalize)("NFKD"),d==null&&(d=n.LangEn.wordlist());const f=d.split(c);(0,e.assertArgument)(f.length%3===0&&f.length>=12&&f.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const p=new Uint8Array(Math.ceil(11*f.length/8));let g=0;for(let x=0;x<f.length;x++){let C=d.getWordIndex(f[x].normalize("NFKD"));(0,e.assertArgument)(C>=0,`invalid mnemonic word at index ${x}`,"mnemonic","[ REDACTED ]");for(let S=0;S<11;S++)C&1<<10-S&&(p[g>>3]|=1<<7-g%8),g++}const b=32*f.length/3,w=f.length/3,m=r(w),v=(0,e.getBytes)((0,t.sha256)(p.slice(0,b/8)))[0]&m;return(0,e.assertArgument)(v===(p[p.length-1]&m),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,e.hexlify)(p.slice(0,b/8))}function o(c,d){(0,e.assertArgument)(c.length%4===0&&c.length>=16&&c.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),d==null&&(d=n.LangEn.wordlist());const f=[0];let p=11;for(let w=0;w<c.length;w++)p>8?(f[f.length-1]<<=8,f[f.length-1]|=c[w],p-=8):(f[f.length-1]<<=p,f[f.length-1]|=c[w]>>8-p,f.push(c[w]&s(8-p)),p+=3);const g=c.length/4,b=parseInt((0,t.sha256)(c).substring(2,4),16)&r(g);return f[f.length-1]<<=g,f[f.length-1]|=b>>8-g,d.join(f.map(w=>d.getWord(w)))}const a={};class l{phrase;password;wordlist;entropy;constructor(d,f,p,g,b){g==null&&(g=""),b==null&&(b=n.LangEn.wordlist()),(0,e.assertPrivate)(d,a,"Mnemonic"),(0,e.defineProperties)(this,{phrase:p,password:g,wordlist:b,entropy:f})}computeSeed(){const d=(0,e.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,t.pbkdf2)((0,e.toUtf8Bytes)(this.phrase,"NFKD"),d,2048,64,"sha512")}static fromPhrase(d,f,p){const g=i(d,p);return d=o((0,e.getBytes)(g),p),new l(a,g,d,f,p)}static fromEntropy(d,f,p){const g=(0,e.getBytes)(d,"entropy"),b=o(g,p);return new l(a,(0,e.hexlify)(g),b,f,p)}static entropyToPhrase(d,f){const p=(0,e.getBytes)(d,"entropy");return o(p,f)}static phraseToEntropy(d,f){return i(d,f)}static isValidMnemonic(d,f){try{return i(d,f),!0}catch{}return!1}}return Ow.Mnemonic=l,Ow}var Ea={},dR={},Zu={},G7;function EQ(){if(G7)return Zu;G7=1;/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var t=Zu&&Zu.__classPrivateFieldGet||function(_,N,O,D){if(O==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof N=="function"?_!==N||!D:!N.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return O==="m"?D:O==="a"?D.call(_):D?D.value:N.get(_)},e=Zu&&Zu.__classPrivateFieldSet||function(_,N,O,D,k){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof N=="function"?_!==N||!k:!N.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?k.call(_,O):k?k.value=O:N.set(_,O),O},n,r,s;Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.AES=void 0;const i={16:10,24:12,32:14},o=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],a=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],c=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],d=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],f=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],p=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],m=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],v=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(_){const N=[];for(let O=0;O<_.length;O+=4)N.push(_[O]<<24|_[O+1]<<16|_[O+2]<<8|_[O+3]);return N}class R{get key(){return t(this,n,"f").slice()}constructor(N){if(n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),!(this instanceof R))throw Error("AES must be instanitated with `new`");e(this,n,new Uint8Array(N),"f");const O=i[this.key.length];if(O==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");e(this,s,[],"f"),e(this,r,[],"f");for(let M=0;M<=O;M++)t(this,s,"f").push([0,0,0,0]),t(this,r,"f").push([0,0,0,0]);const D=(O+1)*4,k=this.key.length/4,z=T(this.key);let K;for(let M=0;M<k;M++)K=M>>2,t(this,s,"f")[K][M%4]=z[M],t(this,r,"f")[O-K][M%4]=z[M];let q=0,I=k,P;for(;I<D;){if(P=z[k-1],z[0]^=a[P>>16&255]<<24^a[P>>8&255]<<16^a[P&255]<<8^a[P>>24&255]^o[q]<<24,q+=1,k!=8)for(let F=1;F<k;F++)z[F]^=z[F-1];else{for(let F=1;F<k/2;F++)z[F]^=z[F-1];P=z[k/2-1],z[k/2]^=a[P&255]^a[P>>8&255]<<8^a[P>>16&255]<<16^a[P>>24&255]<<24;for(let F=k/2+1;F<k;F++)z[F]^=z[F-1]}let M=0,j,G;for(;M<k&&I<D;)j=I>>2,G=I%4,t(this,s,"f")[j][G]=z[M],t(this,r,"f")[O-j][G]=z[M++],I++}for(let M=1;M<O;M++)for(let j=0;j<4;j++)P=t(this,r,"f")[M][j],t(this,r,"f")[M][j]=v[P>>24&255]^x[P>>16&255]^C[P>>8&255]^S[P&255]}encrypt(N){if(N.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const O=t(this,s,"f").length-1,D=[0,0,0,0];let k=T(N);for(let q=0;q<4;q++)k[q]^=t(this,s,"f")[0][q];for(let q=1;q<O;q++){for(let I=0;I<4;I++)D[I]=c[k[I]>>24&255]^d[k[(I+1)%4]>>16&255]^f[k[(I+2)%4]>>8&255]^p[k[(I+3)%4]&255]^t(this,s,"f")[q][I];k=D.slice()}const z=new Uint8Array(16);let K=0;for(let q=0;q<4;q++)K=t(this,s,"f")[O][q],z[4*q]=(a[k[q]>>24&255]^K>>24)&255,z[4*q+1]=(a[k[(q+1)%4]>>16&255]^K>>16)&255,z[4*q+2]=(a[k[(q+2)%4]>>8&255]^K>>8)&255,z[4*q+3]=(a[k[(q+3)%4]&255]^K)&255;return z}decrypt(N){if(N.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const O=t(this,r,"f").length-1,D=[0,0,0,0];let k=T(N);for(let q=0;q<4;q++)k[q]^=t(this,r,"f")[0][q];for(let q=1;q<O;q++){for(let I=0;I<4;I++)D[I]=g[k[I]>>24&255]^b[k[(I+3)%4]>>16&255]^w[k[(I+2)%4]>>8&255]^m[k[(I+1)%4]&255]^t(this,r,"f")[q][I];k=D.slice()}const z=new Uint8Array(16);let K=0;for(let q=0;q<4;q++)K=t(this,r,"f")[O][q],z[4*q]=(l[k[q]>>24&255]^K>>24)&255,z[4*q+1]=(l[k[(q+3)%4]>>16&255]^K>>16)&255,z[4*q+2]=(l[k[(q+2)%4]>>8&255]^K>>8)&255,z[4*q+3]=(l[k[(q+1)%4]&255]^K)&255;return z}}return Zu.AES=R,n=new WeakMap,r=new WeakMap,s=new WeakMap,Zu}var Iw={},K7;function sy(){if(K7)return Iw;K7=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.ModeOfOperation=void 0;const t=EQ();class e{constructor(r,s,i){if(i&&!(this instanceof i))throw new Error(`${r} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new t.AES(s)},name:{enumerable:!0,value:r}})}}return Iw.ModeOfOperation=e,Iw}var Xu={},W7;function mPe(){if(W7)return Xu;W7=1;var t=Xu&&Xu.__classPrivateFieldSet||function(o,a,l,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?o!==a||!d:!a.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(o,l):d?d.value=l:a.set(o,l),l},e=Xu&&Xu.__classPrivateFieldGet||function(o,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?o!==a||!c:!a.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(o):c?c.value:a.get(o)},n,r;Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.CBC=void 0;const s=sy();class i extends s.ModeOfOperation{constructor(a,l){if(super("ECC",a,i),n.set(this,void 0),r.set(this,void 0),l){if(l.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,n,new Uint8Array(l),"f")}else t(this,n,new Uint8Array(16),"f");t(this,r,this.iv,"f")}get iv(){return new Uint8Array(e(this,n,"f"))}encrypt(a){if(a.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const l=new Uint8Array(a.length);for(let c=0;c<a.length;c+=16){for(let d=0;d<16;d++)e(this,r,"f")[d]^=a[c+d];t(this,r,this.aes.encrypt(e(this,r,"f")),"f"),l.set(e(this,r,"f"),c)}return l}decrypt(a){if(a.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const l=new Uint8Array(a.length);for(let c=0;c<a.length;c+=16){const d=this.aes.decrypt(a.subarray(c,c+16));for(let f=0;f<16;f++)l[c+f]=d[f]^e(this,r,"f")[f],e(this,r,"f")[f]=a[c+f]}return l}}return Xu.CBC=i,n=new WeakMap,r=new WeakMap,Xu}var ed={},Q7;function yPe(){if(Q7)return ed;Q7=1;var t=ed&&ed.__classPrivateFieldSet||function(l,c,d,f,p){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?l!==c||!p:!c.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?p.call(l,d):p?p.value=d:c.set(l,d),d},e=ed&&ed.__classPrivateFieldGet||function(l,c,d,f){if(d==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?l!==c||!f:!c.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?f:d==="a"?f.call(l):f?f.value:c.get(l)},n,r,s,i;Object.defineProperty(ed,"__esModule",{value:!0}),ed.CFB=void 0;const o=sy();class a extends o.ModeOfOperation{constructor(c,d,f=8){if(super("CFB",c,a),n.add(this),r.set(this,void 0),s.set(this,void 0),!Number.isInteger(f)||f%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:f}}),d){if(d.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,r,new Uint8Array(d),"f")}else t(this,r,new Uint8Array(16),"f");t(this,s,this.iv,"f")}get iv(){return new Uint8Array(e(this,r,"f"))}encrypt(c){if(8*c.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");const d=this.segmentSize/8,f=new Uint8Array(c);for(let p=0;p<f.length;p+=d){const g=this.aes.encrypt(e(this,s,"f"));for(let b=0;b<d;b++)f[p+b]^=g[b];e(this,n,"m",i).call(this,f.subarray(p))}return f}decrypt(c){if(8*c.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");const d=this.segmentSize/8,f=new Uint8Array(c);for(let p=0;p<f.length;p+=d){const g=this.aes.encrypt(e(this,s,"f"));for(let b=0;b<d;b++)f[p+b]^=g[b];e(this,n,"m",i).call(this,c.subarray(p))}return f}}return ed.CFB=a,r=new WeakMap,s=new WeakMap,n=new WeakSet,i=function(c){const d=this.segmentSize/8;e(this,s,"f").set(e(this,s,"f").subarray(d)),e(this,s,"f").set(c.subarray(0,d),16-d)},ed}var td={},Y7;function bPe(){if(Y7)return td;Y7=1;var t=td&&td.__classPrivateFieldSet||function(a,l,c,d,f){if(d==="m")throw new TypeError("Private method is not writable");if(d==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?a!==l||!f:!l.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return d==="a"?f.call(a,c):f?f.value=c:l.set(a,c),c},e=td&&td.__classPrivateFieldGet||function(a,l,c,d){if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?a!==l||!d:!l.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?d:c==="a"?d.call(a):d?d.value:l.get(a)},n,r,s;Object.defineProperty(td,"__esModule",{value:!0}),td.CTR=void 0;const i=sy();class o extends i.ModeOfOperation{constructor(l,c){super("CTR",l,o),n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),t(this,s,new Uint8Array(16),"f"),e(this,s,"f").fill(0),t(this,n,e(this,s,"f"),"f"),t(this,r,16,"f"),c==null&&(c=1),typeof c=="number"?this.setCounterValue(c):this.setCounterBytes(c)}get counter(){return new Uint8Array(e(this,s,"f"))}setCounterValue(l){if(!Number.isInteger(l)||l<0||l>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let c=15;c>=0;--c)e(this,s,"f")[c]=l%256,l=Math.floor(l/256)}setCounterBytes(l){if(l.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");e(this,s,"f").set(l)}increment(){for(let l=15;l>=0;l--)if(e(this,s,"f")[l]===255)e(this,s,"f")[l]=0;else{e(this,s,"f")[l]++;break}}encrypt(l){var c,d;const f=new Uint8Array(l);for(let p=0;p<f.length;p++)e(this,r,"f")===16&&(t(this,n,this.aes.encrypt(e(this,s,"f")),"f"),t(this,r,0,"f"),this.increment()),f[p]^=e(this,n,"f")[t(this,r,(d=e(this,r,"f"),c=d++,d),"f"),c];return f}decrypt(l){return this.encrypt(l)}}return td.CTR=o,n=new WeakMap,r=new WeakMap,s=new WeakMap,td}var kw={},J7;function wPe(){if(J7)return kw;J7=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.ECB=void 0;const t=sy();class e extends t.ModeOfOperation{constructor(r){super("ECB",r,e)}encrypt(r){if(r.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const s=new Uint8Array(r.length);for(let i=0;i<r.length;i+=16)s.set(this.aes.encrypt(r.subarray(i,i+16)),i);return s}decrypt(r){if(r.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const s=new Uint8Array(r.length);for(let i=0;i<r.length;i+=16)s.set(this.aes.decrypt(r.subarray(i,i+16)),i);return s}}return kw.ECB=e,kw}var nd={},Z7;function vPe(){if(Z7)return nd;Z7=1;var t=nd&&nd.__classPrivateFieldSet||function(a,l,c,d,f){if(d==="m")throw new TypeError("Private method is not writable");if(d==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?a!==l||!f:!l.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return d==="a"?f.call(a,c):f?f.value=c:l.set(a,c),c},e=nd&&nd.__classPrivateFieldGet||function(a,l,c,d){if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?a!==l||!d:!l.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?d:c==="a"?d.call(a):d?d.value:l.get(a)},n,r,s;Object.defineProperty(nd,"__esModule",{value:!0}),nd.OFB=void 0;const i=sy();class o extends i.ModeOfOperation{constructor(l,c){if(super("OFB",l,o),n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),c){if(c.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,n,new Uint8Array(c),"f")}else t(this,n,new Uint8Array(16),"f");t(this,r,this.iv,"f"),t(this,s,16,"f")}get iv(){return new Uint8Array(e(this,n,"f"))}encrypt(l){var c,d;if(l.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const f=new Uint8Array(l);for(let p=0;p<f.length;p++)e(this,s,"f")===16&&(t(this,r,this.aes.encrypt(e(this,r,"f")),"f"),t(this,s,0,"f")),f[p]^=e(this,r,"f")[t(this,s,(d=e(this,s,"f"),c=d++,d),"f"),c];return f}decrypt(l){if(l.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(l)}}return nd.OFB=o,n=new WeakMap,r=new WeakMap,s=new WeakMap,nd}var wp={},X7;function xPe(){if(X7)return wp;X7=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.pkcs7Strip=wp.pkcs7Pad=void 0;function t(n){const r=16-n.length%16,s=new Uint8Array(n.length+r);s.set(n);for(let i=n.length;i<s.length;i++)s[i]=r;return s}wp.pkcs7Pad=t;function e(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");const r=n[n.length-1];if(r>16)throw new TypeError("PKCS#7 padding byte out of range");const s=n.length-r;for(let i=0;i<r;i++)if(n[s+i]!==r)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,s))}return wp.pkcs7Strip=e,wp}var eF;function AQ(){return eF||(eF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pkcs7Strip=t.pkcs7Pad=t.OFB=t.ECB=t.CTR=t.CFB=t.CBC=t.ModeOfOperation=t.AES=void 0;var e=EQ();Object.defineProperty(t,"AES",{enumerable:!0,get:function(){return e.AES}});var n=sy();Object.defineProperty(t,"ModeOfOperation",{enumerable:!0,get:function(){return n.ModeOfOperation}});var r=mPe();Object.defineProperty(t,"CBC",{enumerable:!0,get:function(){return r.CBC}});var s=yPe();Object.defineProperty(t,"CFB",{enumerable:!0,get:function(){return s.CFB}});var i=bPe();Object.defineProperty(t,"CTR",{enumerable:!0,get:function(){return i.CTR}});var o=wPe();Object.defineProperty(t,"ECB",{enumerable:!0,get:function(){return o.ECB}});var a=vPe();Object.defineProperty(t,"OFB",{enumerable:!0,get:function(){return a.OFB}});var l=xPe();Object.defineProperty(t,"pkcs7Pad",{enumerable:!0,get:function(){return l.pkcs7Pad}}),Object.defineProperty(t,"pkcs7Strip",{enumerable:!0,get:function(){return l.pkcs7Strip}})}(dR)),dR}var Hc={},tF;function CQ(){if(tF)return Hc;tF=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.spelunk=Hc.getPassword=Hc.zpad=Hc.looseArrayify=void 0;const t=Et();function e(i){return typeof i=="string"&&!i.startsWith("0x")&&(i="0x"+i),(0,t.getBytesCopy)(i)}Hc.looseArrayify=e;function n(i,o){for(i=String(i);i.length<o;)i="0"+i;return i}Hc.zpad=n;function r(i){return typeof i=="string"?(0,t.toUtf8Bytes)(i,"NFKC"):(0,t.getBytesCopy)(i)}Hc.getPassword=r;function s(i,o){const a=o.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,t.assertArgument)(a!=null,"invalid path","path",o);const l=a[1],c=a[3],d=a[4]==="!";let f=i;for(const p of l.toLowerCase().split(".")){if(Array.isArray(f)){if(!p.match(/^[0-9]+$/))break;f=f[parseInt(p)]}else if(typeof f=="object"){let g=null;for(const b in f)if(b.toLowerCase()===p){g=f[b];break}f=g}else f=null;if(f==null)break}if((0,t.assertArgument)(!d||f!=null,"missing required value","path",l),c&&f!=null){if(c==="int"){if(typeof f=="string"&&f.match(/^-?[0-9]+$/))return parseInt(f);if(Number.isSafeInteger(f))return f}if(c==="number"&&typeof f=="string"&&f.match(/^-?[0-9.]*$/))return parseFloat(f);if(c==="data"&&typeof f=="string")return e(f);if(c==="array"&&Array.isArray(f)||c===typeof f)return f;(0,t.assertArgument)(!1,`wrong type found for ${c} `,"path",l)}return f}return Hc.spelunk=s,Hc}var nF;function X4(){if(nF)return Ea;nF=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.encryptKeystoreJson=Ea.encryptKeystoreJsonSync=Ea.decryptKeystoreJson=Ea.decryptKeystoreJsonSync=Ea.isKeystoreJson=void 0;const t=AQ(),e=Fs(),n=ti(),r=ea(),s=Et(),i=CQ(),o=L4(),a="m/44'/60'/0'/0/0";function l(C){try{const S=JSON.parse(C);if((S.version!=null?parseInt(S.version):0)===3)return!0}catch{}return!1}Ea.isKeystoreJson=l;function c(C,S,T){if((0,i.spelunk)(C,"crypto.cipher:string")==="aes-128-ctr"){const _=(0,i.spelunk)(C,"crypto.cipherparams.iv:data!"),N=new t.CTR(S,_);return(0,s.hexlify)(N.decrypt(T))}(0,s.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function d(C,S){const T=(0,s.getBytes)(S),R=(0,i.spelunk)(C,"crypto.ciphertext:data!"),_=(0,s.hexlify)((0,n.keccak256)((0,s.concat)([T.slice(16,32),R]))).substring(2);(0,s.assertArgument)(_===(0,i.spelunk)(C,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const N=c(C,T.slice(0,16),R),O=(0,r.computeAddress)(N);if(C.address){let z=C.address.toLowerCase();z.startsWith("0x")||(z="0x"+z),(0,s.assertArgument)((0,e.getAddress)(z)===O,"keystore address/privateKey mismatch","address",C.address)}const D={address:O,privateKey:N};if((0,i.spelunk)(C,"x-ethers.version:string")==="0.1"){const z=T.slice(32,64),K=(0,i.spelunk)(C,"x-ethers.mnemonicCiphertext:data!"),q=(0,i.spelunk)(C,"x-ethers.mnemonicCounter:data!"),I=new t.CTR(z,q);D.mnemonic={path:(0,i.spelunk)(C,"x-ethers.path:string")||a,locale:(0,i.spelunk)(C,"x-ethers.locale:string")||"en",entropy:(0,s.hexlify)((0,s.getBytes)(I.decrypt(K)))}}return D}function f(C){const S=(0,i.spelunk)(C,"crypto.kdf:string");if(S&&typeof S=="string"){if(S.toLowerCase()==="scrypt"){const T=(0,i.spelunk)(C,"crypto.kdfparams.salt:data!"),R=(0,i.spelunk)(C,"crypto.kdfparams.n:int!"),_=(0,i.spelunk)(C,"crypto.kdfparams.r:int!"),N=(0,i.spelunk)(C,"crypto.kdfparams.p:int!");(0,s.assertArgument)(R>0&&(R&R-1)===0,"invalid kdf.N","kdf.N",R),(0,s.assertArgument)(_>0&&N>0,"invalid kdf","kdf",S);const O=(0,i.spelunk)(C,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(O===32,"invalid kdf.dklen","kdf.dflen",O),{name:"scrypt",salt:T,N:R,r:_,p:N,dkLen:64}}else if(S.toLowerCase()==="pbkdf2"){const T=(0,i.spelunk)(C,"crypto.kdfparams.salt:data!"),R=(0,i.spelunk)(C,"crypto.kdfparams.prf:string!"),_=R.split("-").pop();(0,s.assertArgument)(_==="sha256"||_==="sha512","invalid kdf.pdf","kdf.pdf",R);const N=(0,i.spelunk)(C,"crypto.kdfparams.c:int!"),O=(0,i.spelunk)(C,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(O===32,"invalid kdf.dklen","kdf.dklen",O),{name:"pbkdf2",salt:T,count:N,dkLen:O,algorithm:_}}}(0,s.assertArgument)(!1,"unsupported key-derivation function","kdf",S)}function p(C,S){const T=JSON.parse(C),R=(0,i.getPassword)(S),_=f(T);if(_.name==="pbkdf2"){const{salt:q,count:I,dkLen:P,algorithm:M}=_,j=(0,n.pbkdf2)(R,q,I,P,M);return d(T,j)}(0,s.assert)(_.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:_});const{salt:N,N:O,r:D,p:k,dkLen:z}=_,K=(0,n.scryptSync)(R,N,O,D,k,z);return d(T,K)}Ea.decryptKeystoreJsonSync=p;function g(C){return new Promise(S=>{setTimeout(()=>{S()},C)})}async function b(C,S,T){const R=JSON.parse(C),_=(0,i.getPassword)(S),N=f(R);if(N.name==="pbkdf2"){T&&(T(0),await g(0));const{salt:I,count:P,dkLen:M,algorithm:j}=N,G=(0,n.pbkdf2)(_,I,P,M,j);return T&&(T(1),await g(0)),d(R,G)}(0,s.assert)(N.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:N});const{salt:O,N:D,r:k,p:z,dkLen:K}=N,q=await(0,n.scrypt)(_,O,D,k,z,K,T);return d(R,q)}Ea.decryptKeystoreJson=b;function w(C){const S=C.salt!=null?(0,s.getBytes)(C.salt,"options.salt"):(0,n.randomBytes)(32);let T=1<<17,R=8,_=1;return C.scrypt&&(C.scrypt.N&&(T=C.scrypt.N),C.scrypt.r&&(R=C.scrypt.r),C.scrypt.p&&(_=C.scrypt.p)),(0,s.assertArgument)(typeof T=="number"&&T>0&&Number.isSafeInteger(T)&&(BigInt(T)&BigInt(T-1))===BigInt(0),"invalid scrypt N parameter","options.N",T),(0,s.assertArgument)(typeof R=="number"&&R>0&&Number.isSafeInteger(R),"invalid scrypt r parameter","options.r",R),(0,s.assertArgument)(typeof _=="number"&&_>0&&Number.isSafeInteger(_),"invalid scrypt p parameter","options.p",_),{name:"scrypt",dkLen:32,salt:S,N:T,r:R,p:_}}function m(C,S,T,R){const _=(0,s.getBytes)(T.privateKey,"privateKey"),N=R.iv!=null?(0,s.getBytes)(R.iv,"options.iv"):(0,n.randomBytes)(16);(0,s.assertArgument)(N.length===16,"invalid options.iv length","options.iv",R.iv);const O=R.uuid!=null?(0,s.getBytes)(R.uuid,"options.uuid"):(0,n.randomBytes)(16);(0,s.assertArgument)(O.length===16,"invalid options.uuid length","options.uuid",R.iv);const D=C.slice(0,16),k=C.slice(16,32),z=new t.CTR(D,N),K=(0,s.getBytes)(z.encrypt(_)),q=(0,n.keccak256)((0,s.concat)([k,K])),I={address:T.address.substring(2).toLowerCase(),id:(0,s.uuidV4)(O),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,s.hexlify)(N).substring(2)},ciphertext:(0,s.hexlify)(K).substring(2),kdf:"scrypt",kdfparams:{salt:(0,s.hexlify)(S.salt).substring(2),n:S.N,dklen:32,p:S.p,r:S.r},mac:q.substring(2)}};if(T.mnemonic){const P=R.client!=null?R.client:`ethers/${o.version}`,M=T.mnemonic.path||a,j=T.mnemonic.locale||"en",G=C.slice(32,64),F=(0,s.getBytes)(T.mnemonic.entropy,"account.mnemonic.entropy"),H=(0,n.randomBytes)(16),$=new t.CTR(G,H),Z=(0,s.getBytes)($.encrypt(F)),X=new Date,de="UTC--"+(X.getUTCFullYear()+"-"+(0,i.zpad)(X.getUTCMonth()+1,2)+"-"+(0,i.zpad)(X.getUTCDate(),2)+"T"+(0,i.zpad)(X.getUTCHours(),2)+"-"+(0,i.zpad)(X.getUTCMinutes(),2)+"-"+(0,i.zpad)(X.getUTCSeconds(),2)+".0Z")+"--"+I.address;I["x-ethers"]={client:P,gethFilename:de,path:M,locale:j,mnemonicCounter:(0,s.hexlify)(H).substring(2),mnemonicCiphertext:(0,s.hexlify)(Z).substring(2),version:"0.1"}}return JSON.stringify(I)}function v(C,S,T){T==null&&(T={});const R=(0,i.getPassword)(S),_=w(T),N=(0,n.scryptSync)(R,_.salt,_.N,_.r,_.p,64);return m((0,s.getBytes)(N),_,C,T)}Ea.encryptKeystoreJsonSync=v;async function x(C,S,T){T==null&&(T={});const R=(0,i.getPassword)(S),_=w(T),N=await(0,n.scrypt)(R,_.salt,_.N,_.r,_.p,64,T.progressCallback);return m((0,s.getBytes)(N),_,C,T)}return Ea.encryptKeystoreJson=x,Ea}var rF;function SQ(){return rF||(rF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexedAccountPath=t.getAccountPath=t.HDNodeVoidWallet=t.HDNodeWallet=t.defaultPath=void 0;const e=ti(),n=Q4(),r=ea(),s=Et(),i=uS(),o=Y4(),a=Z4(),l=X4();t.defaultPath="m/44'/60'/0'/0/0";const c=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),d=2147483648,f=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p="0123456789abcdef";function g(R,_){let N="";for(;R;)N=p[R%16]+N,R=Math.trunc(R/16);for(;N.length<_*2;)N="0"+N;return"0x"+N}function b(R){const _=(0,s.getBytes)(R),N=(0,s.dataSlice)((0,e.sha256)((0,e.sha256)(_)),0,4),O=(0,s.concat)([_,N]);return(0,s.encodeBase58)(O)}const w={};function m(R,_,N,O){const D=new Uint8Array(37);R&d?((0,s.assert)(O!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),D.set((0,s.getBytes)(O),1)):D.set((0,s.getBytes)(N));for(let z=24;z>=0;z-=8)D[33+(z>>3)]=R>>24-z&255;const k=(0,s.getBytes)((0,e.computeHmac)("sha512",_,D));return{IL:k.slice(0,32),IR:k.slice(32)}}function v(R,_){const N=_.split("/");(0,s.assertArgument)(N.length>0,"invalid path","path",_),N[0]==="m"&&((0,s.assertArgument)(R.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${R.depth}`,"path",_),N.shift());let O=R;for(let D=0;D<N.length;D++){const k=N[D];if(k.match(/^[0-9]+'$/)){const z=parseInt(k.substring(0,k.length-1));(0,s.assertArgument)(z<d,"invalid path index",`path[${D}]`,k),O=O.deriveChild(d+z)}else if(k.match(/^[0-9]+$/)){const z=parseInt(k);(0,s.assertArgument)(z<d,"invalid path index",`path[${D}]`,k),O=O.deriveChild(z)}else(0,s.assertArgument)(!1,"invalid path component",`path[${D}]`,k)}return O}class x extends o.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(_,N,O,D,k,z,K,q,I){super(N,I),(0,s.assertPrivate)(_,w,"HDNodeWallet"),(0,s.defineProperties)(this,{publicKey:N.compressedPublicKey});const P=(0,s.dataSlice)((0,e.ripemd160)((0,e.sha256)(this.publicKey)),0,4);(0,s.defineProperties)(this,{parentFingerprint:O,fingerprint:P,chainCode:D,path:k,index:z,depth:K}),(0,s.defineProperties)(this,{mnemonic:q})}connect(_){return new x(w,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,_)}#e(){const _={address:this.address,privateKey:this.privateKey},N=this.mnemonic;return this.path&&N&&N.wordlist.locale==="en"&&N.password===""&&(_.mnemonic={path:this.path,locale:"en",entropy:N.entropy}),_}async encrypt(_,N){return await(0,l.encryptKeystoreJson)(this.#e(),_,{progressCallback:N})}encryptSync(_){return(0,l.encryptKeystoreJsonSync)(this.#e(),_)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),b((0,s.concat)(["0x0488ADE4",g(this.depth,1),this.parentFingerprint,g(this.index,4),this.chainCode,(0,s.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new C(w,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(_){const N=(0,s.getNumber)(_,"index");(0,s.assertArgument)(N<=4294967295,"invalid index","index",N);let O=this.path;O&&(O+="/"+(N&~d),N&d&&(O+="'"));const{IR:D,IL:k}=m(N,this.chainCode,this.publicKey,this.privateKey),z=new e.SigningKey((0,s.toBeHex)(((0,s.toBigInt)(k)+BigInt(this.privateKey))%f,32));return new x(w,z,this.fingerprint,(0,s.hexlify)(D),O,N,this.depth+1,this.mnemonic,this.provider)}derivePath(_){return v(this,_)}static#t(_,N){(0,s.assertArgument)((0,s.isBytesLike)(_),"invalid seed","seed","[REDACTED]");const O=(0,s.getBytes)(_,"seed");(0,s.assertArgument)(O.length>=16&&O.length<=64,"invalid seed","seed","[REDACTED]");const D=(0,s.getBytes)((0,e.computeHmac)("sha512",c,O)),k=new e.SigningKey((0,s.hexlify)(D.slice(0,32)));return new x(w,k,"0x00000000",(0,s.hexlify)(D.slice(32)),"m",0,0,N,null)}static fromExtendedKey(_){const N=(0,s.toBeArray)((0,s.decodeBase58)(_));(0,s.assertArgument)(N.length===82||b(N.slice(0,78))===_,"invalid extended key","extendedKey","[ REDACTED ]");const O=N[4],D=(0,s.hexlify)(N.slice(5,9)),k=parseInt((0,s.hexlify)(N.slice(9,13)).substring(2),16),z=(0,s.hexlify)(N.slice(13,45)),K=N.slice(45,78);switch((0,s.hexlify)(N.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const q=(0,s.hexlify)(K);return new C(w,(0,r.computeAddress)(q),q,D,z,null,k,O,null)}case"0x0488ade4":case"0x04358394 ":if(K[0]!==0)break;return new x(w,new e.SigningKey(K.slice(1)),D,z,null,k,O,null,null)}(0,s.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(_,N,O){_==null&&(_=""),N==null&&(N=t.defaultPath),O==null&&(O=i.LangEn.wordlist());const D=a.Mnemonic.fromEntropy((0,e.randomBytes)(16),_,O);return x.#t(D.computeSeed(),D).derivePath(N)}static fromMnemonic(_,N){return N||(N=t.defaultPath),x.#t(_.computeSeed(),_).derivePath(N)}static fromPhrase(_,N,O,D){N==null&&(N=""),O==null&&(O=t.defaultPath),D==null&&(D=i.LangEn.wordlist());const k=a.Mnemonic.fromPhrase(_,N,D);return x.#t(k.computeSeed(),k).derivePath(O)}static fromSeed(_){return x.#t(_,null)}}t.HDNodeWallet=x;class C extends n.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(_,N,O,D,k,z,K,q,I){super(N,I),(0,s.assertPrivate)(_,w,"HDNodeVoidWallet"),(0,s.defineProperties)(this,{publicKey:O});const P=(0,s.dataSlice)((0,e.ripemd160)((0,e.sha256)(O)),0,4);(0,s.defineProperties)(this,{publicKey:O,fingerprint:P,parentFingerprint:D,chainCode:k,path:z,index:K,depth:q})}connect(_){return new C(w,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,_)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),b((0,s.concat)(["0x0488B21E",g(this.depth,1),this.parentFingerprint,g(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(_){const N=(0,s.getNumber)(_,"index");(0,s.assertArgument)(N<=4294967295,"invalid index","index",N);let O=this.path;O&&(O+="/"+(N&~d),N&d&&(O+="'"));const{IR:D,IL:k}=m(N,this.chainCode,this.publicKey,null),z=e.SigningKey.addPoints(k,this.publicKey,!0),K=(0,r.computeAddress)(z);return new C(w,K,z,this.fingerprint,(0,s.hexlify)(D),O,N,this.depth+1,this.provider)}derivePath(_){return v(this,_)}}t.HDNodeVoidWallet=C;function S(R){const _=(0,s.getNumber)(R,"index");return(0,s.assertArgument)(_>=0&&_<d,"invalid account index","index",_),`m/44'/60'/${_}'/0/0`}t.getAccountPath=S;function T(R){const _=(0,s.getNumber)(R,"index");return(0,s.assertArgument)(_>=0&&_<d,"invalid account index","index",_),`m/44'/60'/0'/0/${_}`}t.getIndexedAccountPath=T}(uR)),uR}var vp={},sF;function _Q(){if(sF)return vp;sF=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.decryptCrowdsaleJson=vp.isCrowdsaleJson=void 0;const t=AQ(),e=Fs(),n=ti(),r=Bd(),s=Et(),i=CQ();function o(l){try{if(JSON.parse(l).encseed)return!0}catch{}return!1}vp.isCrowdsaleJson=o;function a(l,c){const d=JSON.parse(l),f=(0,i.getPassword)(c),p=(0,e.getAddress)((0,i.spelunk)(d,"ethaddr:string!")),g=(0,i.looseArrayify)((0,i.spelunk)(d,"encseed:string!"));(0,s.assertArgument)(g&&g.length%16===0,"invalid encseed","json",l);const b=(0,s.getBytes)((0,n.pbkdf2)(f,f,2e3,32,"sha256")).slice(0,16),w=g.slice(0,16),m=g.slice(16),v=new t.CBC(b,w),x=(0,t.pkcs7Strip)((0,s.getBytes)(v.decrypt(m)));let C="";for(let S=0;S<x.length;S++)C+=String.fromCharCode(x[S]);return{address:p,privateKey:(0,r.id)(C)}}return vp.decryptCrowdsaleJson=a,vp}var Bw={},iF;function EPe(){if(iF)return Bw;iF=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.Wallet=void 0;const t=ti(),e=Et(),n=Y4(),r=SQ(),s=_Q(),i=X4(),o=Z4();function a(c){return new Promise(d=>{setTimeout(()=>{d()},c)})}class l extends n.BaseWallet{constructor(d,f){typeof d=="string"&&!d.startsWith("0x")&&(d="0x"+d);let p=typeof d=="string"?new t.SigningKey(d):d;super(p,f)}connect(d){return new l(this.signingKey,d)}async encrypt(d,f){const p={address:this.address,privateKey:this.privateKey};return await(0,i.encryptKeystoreJson)(p,d,{progressCallback:f})}encryptSync(d){const f={address:this.address,privateKey:this.privateKey};return(0,i.encryptKeystoreJsonSync)(f,d)}static#e(d){if((0,e.assertArgument)(d,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in d&&d.mnemonic&&d.mnemonic.locale==="en"){const p=o.Mnemonic.fromEntropy(d.mnemonic.entropy),g=r.HDNodeWallet.fromMnemonic(p,d.mnemonic.path);if(g.address===d.address&&g.privateKey===d.privateKey)return g;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const f=new l(d.privateKey);return(0,e.assertArgument)(f.address===d.address,"address/privateKey mismatch","json","[ REDACTED ]"),f}static async fromEncryptedJson(d,f,p){let g=null;return(0,i.isKeystoreJson)(d)?g=await(0,i.decryptKeystoreJson)(d,f,p):(0,s.isCrowdsaleJson)(d)&&(p&&(p(0),await a(0)),g=(0,s.decryptCrowdsaleJson)(d,f),p&&(p(1),await a(0))),l.#e(g)}static fromEncryptedJsonSync(d,f){let p=null;return(0,i.isKeystoreJson)(d)?p=(0,i.decryptKeystoreJsonSync)(d,f):(0,s.isCrowdsaleJson)(d)?p=(0,s.decryptCrowdsaleJson)(d,f):(0,e.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),l.#e(p)}static createRandom(d){const f=r.HDNodeWallet.createRandom();return d?f.connect(d):f}static fromPhrase(d,f){const p=r.HDNodeWallet.fromPhrase(d);return f?p.connect(f):p}}return Bw.Wallet=l,Bw}var oF;function APe(){return oF||(oF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Mnemonic=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.isKeystoreJson=t.decryptCrowdsaleJson=t.isCrowdsaleJson=t.HDNodeVoidWallet=t.HDNodeWallet=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.BaseWallet=void 0;var e=Y4();Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return e.BaseWallet}});var n=SQ();Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return n.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return n.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return n.getIndexedAccountPath}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return n.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return n.HDNodeVoidWallet}});var r=_Q();Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return r.isCrowdsaleJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return r.decryptCrowdsaleJson}});var s=X4();Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return s.isKeystoreJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return s.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return s.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.encryptKeystoreJsonSync}});var i=Z4();Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return i.Mnemonic}});var o=EPe();Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return o.Wallet}})}(lR)),lR}var fR={},Dw={},Mw={},Uw={},aF;function CPe(){if(aF)return Uw;aF=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.decodeBits=void 0;const t=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function e(n,r){const s=(1<<n)-1,i=[];let o=0,a=0,l=0;for(let c=0;c<r.length;c++)for(o=o<<6|t.indexOf(r[c]),a+=6;a>=n;){const d=o>>a-n;o&=(1<<a-n)-1,a-=n,d===0?l+=s:(i.push(d+l),l=0)}return i}return Uw.decodeBits=e,Uw}var cF;function SPe(){if(cF)return Mw;cF=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.decodeOwlA=void 0;const t=Et(),e=CPe(),n=vQ();function r(s,i){let o=(0,n.decodeOwl)(s).join(",");return i.split(/,/g).forEach(a=>{const l=a.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,t.assertArgument)(l!==null,"internal error parsing accents","accents",i);let c=0;const d=(0,e.decodeBits)(parseInt(l[3]),l[4]),f=parseInt(l[2]),p=new RegExp(`([${l[1]}])`,"g");o=o.replace(p,(g,b)=>(--d[c]===0&&(b=String.fromCharCode(b.charCodeAt(0),f),c++),b))}),o.split(",")}return Mw.decodeOwlA=r,Mw}var lF;function _Pe(){if(lF)return Dw;lF=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.WordlistOwlA=void 0;const t=J4(),e=SPe();class n extends t.WordlistOwl{#e;constructor(s,i,o,a){super(s,i,a),this.#e=o}get _accent(){return this.#e}_decodeWords(){return(0,e.decodeOwlA)(this._data,this._accent)}}return Dw.WordlistOwlA=n,Dw}var Lw={},uF;function NPe(){if(uF)return Lw;uF=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.wordlists=void 0;const t=uS();return Lw.wordlists={en:t.LangEn.wordlist()},Lw}var dF;function TPe(){return dF||(dF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=void 0;var e=xQ();Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return e.Wordlist}});var n=uS();Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return n.LangEn}});var r=J4();Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return r.WordlistOwl}});var s=_Pe();Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return s.WordlistOwlA}});var i=NPe();Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return i.wordlists}})}(fR)),fR}var fF;function hF(){return fF||(fF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=t.UndecodedEventLog=t.EventLog=t.ContractUnknownEventPayload=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=t.MessagePrefix=t.EtherSymbol=t.ZeroHash=t.N=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.ZeroAddress=t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=t.Typed=t.TransactionDescription=t.Result=t.LogDescription=t.Interface=t.Indexed=t.ErrorDescription=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.FallbackFragment=t.Fragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.AbiCoder=t.encodeBytes32String=t.decodeBytes32String=t.version=void 0,t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanProvider=t.CloudflareProvider=t.ChainstackProvider=t.BlockscoutProvider=t.AnkrProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.AbstractProvider=t.VoidSigner=t.NonceManager=t.AbstractSigner=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.getDefaultProvider=t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.verifyAuthorization=t.hashAuthorization=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=t.SigningKey=t.Signature=t.lock=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=void 0,t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.isError=t.isCallException=t.makeError=t.assertPrivate=t.assertNormalize=t.assertArgumentCount=t.assertArgument=t.assert=t.resolveProperties=t.defineProperties=t.zeroPadValue=t.zeroPadBytes=t.stripZerosLeft=t.isBytesLike=t.isHexString=t.hexlify=t.getBytesCopy=t.getBytes=t.dataSlice=t.dataLength=t.concat=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=t.Transaction=t.recoverAddress=t.computeAddress=t.authorizationify=t.accessListify=t.showThrottleMessage=t.copyRequest=t.UnmanagedSubscriber=t.SocketSubscriber=t.SocketPendingSubscriber=t.SocketEventSubscriber=t.SocketBlockSubscriber=t.MulticoinProviderPlugin=t.NetworkPlugin=t.GasCostPlugin=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EtherscanPlugin=t.EnsPlugin=t.Network=t.EnsResolver=void 0,t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.decryptCrowdsaleJson=t.isKeystoreJson=t.isCrowdsaleJson=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.Wallet=t.HDNodeVoidWallet=t.HDNodeWallet=t.BaseWallet=t.Mnemonic=t.uuidV4=t.encodeRlp=t.decodeRlp=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.mask=t.toTwos=t.fromTwos=t.toQuantity=t.toNumber=t.toBeHex=t.toBigInt=t.toBeArray=t.getUint=t.getNumber=t.getBigInt=t.FixedNumber=void 0;var e=L4();Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.version}});var n=sx();Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return n.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return n.encodeBytes32String}}),Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return n.AbiCoder}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return n.FallbackFragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return n.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return n.StructFragment}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return n.checkResultErrors}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return n.ErrorDescription}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return n.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return n.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return n.LogDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return n.Result}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return n.TransactionDescription}}),Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return n.Typed}});var r=Fs();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return r.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return r.getIcapAddress}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return r.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return r.getCreate2Address}}),Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return r.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return r.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return r.resolveAddress}});var s=rx();Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return s.ZeroAddress}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return s.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return s.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return s.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return s.MaxInt256}}),Object.defineProperty(t,"N",{enumerable:!0,get:function(){return s.N}}),Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return s.ZeroHash}}),Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}});var i=lS();Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}}),Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return i.ContractEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return i.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return i.ContractTransactionResponse}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return i.ContractUnknownEventPayload}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return i.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return i.UndecodedEventLog}});var o=ti();Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return o.computeHmac}}),Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return o.randomBytes}}),Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return o.keccak256}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return o.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return o.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return o.sha512}}),Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return o.pbkdf2}}),Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return o.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return o.scryptSync}}),Object.defineProperty(t,"lock",{enumerable:!0,get:function(){return o.lock}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return o.Signature}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return o.SigningKey}});var a=Bd();Object.defineProperty(t,"id",{enumerable:!0,get:function(){return a.id}}),Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return a.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return a.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return a.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return a.dnsEncode}}),Object.defineProperty(t,"hashAuthorization",{enumerable:!0,get:function(){return a.hashAuthorization}}),Object.defineProperty(t,"verifyAuthorization",{enumerable:!0,get:function(){return a.verifyAuthorization}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return a.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return a.verifyMessage}}),Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return a.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return a.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return a.solidityPackedSha256}}),Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return a.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return a.verifyTypedData}});var l=Q4();Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}}),Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return l.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return l.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return l.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return l.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return l.TransactionResponse}}),Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return l.AbstractSigner}}),Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return l.NonceManager}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return l.VoidSigner}}),Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return l.AbstractProvider}}),Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return l.FallbackProvider}}),Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return l.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return l.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return l.JsonRpcSigner}}),Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return l.BrowserProvider}}),Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return l.AlchemyProvider}}),Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return l.AnkrProvider}}),Object.defineProperty(t,"BlockscoutProvider",{enumerable:!0,get:function(){return l.BlockscoutProvider}}),Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return l.ChainstackProvider}}),Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return l.CloudflareProvider}}),Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return l.EtherscanProvider}}),Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return l.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return l.InfuraWebSocketProvider}}),Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return l.PocketProvider}}),Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return l.QuickNodeProvider}}),Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return l.IpcSocketProvider}}),Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return l.SocketProvider}}),Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return l.WebSocketProvider}}),Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return l.EnsResolver}}),Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return l.Network}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return l.EtherscanPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return l.MulticoinProviderPlugin}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return l.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return l.SocketEventSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return l.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return l.SocketSubscriber}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return l.UnmanagedSubscriber}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return l.copyRequest}}),Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return l.showThrottleMessage}});var c=ea();Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return c.accessListify}}),Object.defineProperty(t,"authorizationify",{enumerable:!0,get:function(){return c.authorizationify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return c.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return c.recoverAddress}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return c.Transaction}});var d=Et();Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return d.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return d.encodeBase58}}),Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return d.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return d.encodeBase64}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return d.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return d.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return d.dataSlice}}),Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return d.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return d.getBytesCopy}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return d.hexlify}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return d.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return d.isBytesLike}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return d.stripZerosLeft}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return d.zeroPadBytes}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return d.zeroPadValue}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return d.defineProperties}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return d.resolveProperties}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return d.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return d.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return d.assertArgumentCount}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return d.assertNormalize}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return d.assertPrivate}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return d.makeError}}),Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return d.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return d.isError}}),Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return d.EventPayload}}),Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return d.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return d.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return d.FetchCancelSignal}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return d.FixedNumber}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return d.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return d.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return d.getUint}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return d.toBeArray}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return d.toBigInt}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return d.toBeHex}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return d.toNumber}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return d.toQuantity}}),Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return d.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return d.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return d.mask}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return d.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return d.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return d.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return d.parseUnits}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return d.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return d.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return d.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return d.Utf8ErrorFuncs}}),Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return d.decodeRlp}}),Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return d.encodeRlp}}),Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return d.uuidV4}});var f=APe();Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return f.Mnemonic}}),Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return f.BaseWallet}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return f.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return f.HDNodeVoidWallet}}),Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return f.Wallet}}),Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return f.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return f.getIndexedAccountPath}}),Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return f.isCrowdsaleJson}}),Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return f.isKeystoreJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return f.decryptCrowdsaleJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return f.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return f.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.encryptKeystoreJsonSync}});var p=TPe();Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return p.Wordlist}}),Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return p.LangEn}}),Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return p.WordlistOwl}}),Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return p.WordlistOwlA}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return p.wordlists}})}(G3)),G3}var pF;function NQ(){return pF||(pF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ethers=void 0;const e=fRe,n=e.__importStar(hF());t.ethers=n,e.__exportStar(hF(),t)}(V3)),V3}var gF;function TQ(){if(gF)return Vu;gF=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.getAddress=Vu.hashMessage=Vu.verifyMessage=void 0;const t=NQ();let e=null,n=null,r=null;try{e=t.ethers.utils.verifyMessage,n=t.ethers.utils.hashMessage,r=t.ethers.utils.getAddress}catch{e=t.ethers.verifyMessage,n=t.ethers.hashMessage,r=t.ethers.getAddress}return Vu.verifyMessage=e,Vu.hashMessage=n,Vu.getAddress=r,Vu}var hR={},mF;function RQ(){return mF||(mF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SiweErrorType=t.SiweError=t.VerifyOptsKeys=t.VerifyParamsKeys=void 0,t.VerifyParamsKeys=["signature","scheme","domain","nonce","time"],t.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];class e{constructor(r,s,i){this.type=r,this.expected=s,this.received=i}}t.SiweError=e,function(n){n.EXPIRED_MESSAGE="Expired message.",n.INVALID_DOMAIN="Invalid domain.",n.SCHEME_MISMATCH="Scheme does not match provided scheme for verification.",n.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",n.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",n.INVALID_ADDRESS="Invalid address.",n.INVALID_URI="URI does not conform to RFC 3986.",n.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",n.NOT_YET_VALID_MESSAGE="Message is not valid yet.",n.INVALID_SIGNATURE="Signature does not match address of the message.",n.INVALID_TIME_FORMAT="Invalid time format.",n.INVALID_MESSAGE_VERSION="Invalid message version.",n.UNABLE_TO_PARSE="Unable to parse the message."}(t.SiweErrorType||(t.SiweErrorType={}))}(hR)),hR}var zc={},pR={},jw={},Fw={},yF;function RPe(){if(yF)return Fw;yF=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.BrowserRandomSource=void 0;const t=65536;class e{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const r=typeof self<"u"?self.crypto||self.msCrypto:null;r&&r.getRandomValues!==void 0&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const s=new Uint8Array(r);for(let i=0;i<s.length;i+=t)this._crypto.getRandomValues(s.subarray(i,i+Math.min(s.length-i,t)));return s}}return Fw.BrowserRandomSource=e,Fw}function PPe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $w={},pA={},bF;function PQ(){if(bF)return pA;bF=1,Object.defineProperty(pA,"__esModule",{value:!0});function t(e){for(var n=0;n<e.length;n++)e[n]=0;return e}return pA.wipe=t,pA}const OPe={},IPe=Object.freeze(Object.defineProperty({__proto__:null,default:OPe},Symbol.toStringTag,{value:"Module"})),AO=mC(IPe);var wF;function kPe(){if(wF)return $w;wF=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.NodeRandomSource=void 0;const t=PQ();class e{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof PPe<"u"){const r=AO;r&&r.randomBytes&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let s=this._crypto.randomBytes(r);if(s.length!==r)throw new Error("NodeRandomSource: got fewer bytes than requested");const i=new Uint8Array(r);for(let o=0;o<i.length;o++)i[o]=s[o];return(0,t.wipe)(s),i}}return $w.NodeRandomSource=e,$w}var vF;function BPe(){if(vF)return jw;vF=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.SystemRandomSource=void 0;const t=RPe(),e=kPe();class n{constructor(){if(this.isAvailable=!1,this.name="",this._source=new t.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(s){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(s)}}return jw.SystemRandomSource=n,jw}var Bn={},gR={},xF;function DPe(){return xF||(xF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,l){var c=a>>>16&65535,d=a&65535,f=l>>>16&65535,p=l&65535;return d*p+(c*p+d*f<<16>>>0)|0}t.mul=Math.imul||e;function n(a,l){return a+l|0}t.add=n;function r(a,l){return a-l|0}t.sub=r;function s(a,l){return a<<l|a>>>32-l}t.rotl=s;function i(a,l){return a<<32-l|a>>>l}t.rotr=i;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}}(gR)),gR}var EF;function MPe(){if(EF)return Bn;EF=1,Object.defineProperty(Bn,"__esModule",{value:!0});var t=DPe();function e(I,P){return P===void 0&&(P=0),(I[P+0]<<8|I[P+1])<<16>>16}Bn.readInt16BE=e;function n(I,P){return P===void 0&&(P=0),(I[P+0]<<8|I[P+1])>>>0}Bn.readUint16BE=n;function r(I,P){return P===void 0&&(P=0),(I[P+1]<<8|I[P])<<16>>16}Bn.readInt16LE=r;function s(I,P){return P===void 0&&(P=0),(I[P+1]<<8|I[P])>>>0}Bn.readUint16LE=s;function i(I,P,M){return P===void 0&&(P=new Uint8Array(2)),M===void 0&&(M=0),P[M+0]=I>>>8,P[M+1]=I>>>0,P}Bn.writeUint16BE=i,Bn.writeInt16BE=i;function o(I,P,M){return P===void 0&&(P=new Uint8Array(2)),M===void 0&&(M=0),P[M+0]=I>>>0,P[M+1]=I>>>8,P}Bn.writeUint16LE=o,Bn.writeInt16LE=o;function a(I,P){return P===void 0&&(P=0),I[P]<<24|I[P+1]<<16|I[P+2]<<8|I[P+3]}Bn.readInt32BE=a;function l(I,P){return P===void 0&&(P=0),(I[P]<<24|I[P+1]<<16|I[P+2]<<8|I[P+3])>>>0}Bn.readUint32BE=l;function c(I,P){return P===void 0&&(P=0),I[P+3]<<24|I[P+2]<<16|I[P+1]<<8|I[P]}Bn.readInt32LE=c;function d(I,P){return P===void 0&&(P=0),(I[P+3]<<24|I[P+2]<<16|I[P+1]<<8|I[P])>>>0}Bn.readUint32LE=d;function f(I,P,M){return P===void 0&&(P=new Uint8Array(4)),M===void 0&&(M=0),P[M+0]=I>>>24,P[M+1]=I>>>16,P[M+2]=I>>>8,P[M+3]=I>>>0,P}Bn.writeUint32BE=f,Bn.writeInt32BE=f;function p(I,P,M){return P===void 0&&(P=new Uint8Array(4)),M===void 0&&(M=0),P[M+0]=I>>>0,P[M+1]=I>>>8,P[M+2]=I>>>16,P[M+3]=I>>>24,P}Bn.writeUint32LE=p,Bn.writeInt32LE=p;function g(I,P){P===void 0&&(P=0);var M=a(I,P),j=a(I,P+4);return M*4294967296+j-(j>>31)*4294967296}Bn.readInt64BE=g;function b(I,P){P===void 0&&(P=0);var M=l(I,P),j=l(I,P+4);return M*4294967296+j}Bn.readUint64BE=b;function w(I,P){P===void 0&&(P=0);var M=c(I,P),j=c(I,P+4);return j*4294967296+M-(M>>31)*4294967296}Bn.readInt64LE=w;function m(I,P){P===void 0&&(P=0);var M=d(I,P),j=d(I,P+4);return j*4294967296+M}Bn.readUint64LE=m;function v(I,P,M){return P===void 0&&(P=new Uint8Array(8)),M===void 0&&(M=0),f(I/4294967296>>>0,P,M),f(I>>>0,P,M+4),P}Bn.writeUint64BE=v,Bn.writeInt64BE=v;function x(I,P,M){return P===void 0&&(P=new Uint8Array(8)),M===void 0&&(M=0),p(I>>>0,P,M),p(I/4294967296>>>0,P,M+4),P}Bn.writeUint64LE=x,Bn.writeInt64LE=x;function C(I,P,M){if(M===void 0&&(M=0),I%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(I/8>P.length-M)throw new Error("readUintBE: array is too short for the given bitLength");for(var j=0,G=1,F=I/8+M-1;F>=M;F--)j+=P[F]*G,G*=256;return j}Bn.readUintBE=C;function S(I,P,M){if(M===void 0&&(M=0),I%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(I/8>P.length-M)throw new Error("readUintLE: array is too short for the given bitLength");for(var j=0,G=1,F=M;F<M+I/8;F++)j+=P[F]*G,G*=256;return j}Bn.readUintLE=S;function T(I,P,M,j){if(M===void 0&&(M=new Uint8Array(I/8)),j===void 0&&(j=0),I%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!t.isSafeInteger(P))throw new Error("writeUintBE value must be an integer");for(var G=1,F=I/8+j-1;F>=j;F--)M[F]=P/G&255,G*=256;return M}Bn.writeUintBE=T;function R(I,P,M,j){if(M===void 0&&(M=new Uint8Array(I/8)),j===void 0&&(j=0),I%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!t.isSafeInteger(P))throw new Error("writeUintLE value must be an integer");for(var G=1,F=j;F<j+I/8;F++)M[F]=P/G&255,G*=256;return M}Bn.writeUintLE=R;function _(I,P){P===void 0&&(P=0);var M=new DataView(I.buffer,I.byteOffset,I.byteLength);return M.getFloat32(P)}Bn.readFloat32BE=_;function N(I,P){P===void 0&&(P=0);var M=new DataView(I.buffer,I.byteOffset,I.byteLength);return M.getFloat32(P,!0)}Bn.readFloat32LE=N;function O(I,P){P===void 0&&(P=0);var M=new DataView(I.buffer,I.byteOffset,I.byteLength);return M.getFloat64(P)}Bn.readFloat64BE=O;function D(I,P){P===void 0&&(P=0);var M=new DataView(I.buffer,I.byteOffset,I.byteLength);return M.getFloat64(P,!0)}Bn.readFloat64LE=D;function k(I,P,M){P===void 0&&(P=new Uint8Array(4)),M===void 0&&(M=0);var j=new DataView(P.buffer,P.byteOffset,P.byteLength);return j.setFloat32(M,I),P}Bn.writeFloat32BE=k;function z(I,P,M){P===void 0&&(P=new Uint8Array(4)),M===void 0&&(M=0);var j=new DataView(P.buffer,P.byteOffset,P.byteLength);return j.setFloat32(M,I,!0),P}Bn.writeFloat32LE=z;function K(I,P,M){P===void 0&&(P=new Uint8Array(8)),M===void 0&&(M=0);var j=new DataView(P.buffer,P.byteOffset,P.byteLength);return j.setFloat64(M,I),P}Bn.writeFloat64BE=K;function q(I,P,M){P===void 0&&(P=new Uint8Array(8)),M===void 0&&(M=0);var j=new DataView(P.buffer,P.byteOffset,P.byteLength);return j.setFloat64(M,I,!0),P}return Bn.writeFloat64LE=q,Bn}var AF;function UPe(){return AF||(AF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=BPe(),n=MPe(),r=PQ();t.defaultRandomSource=new e.SystemRandomSource;function s(c,d=t.defaultRandomSource){return d.randomBytes(c)}t.randomBytes=s;function i(c=t.defaultRandomSource){const d=s(4,c),f=(0,n.readUint32LE)(d);return(0,r.wipe)(d),f}t.randomUint32=i;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,d=o,f=t.defaultRandomSource){if(d.length<2)throw new Error("randomString charset is too short");if(d.length>256)throw new Error("randomString charset is too long");let p="";const g=d.length,b=256-256%g;for(;c>0;){const w=s(Math.ceil(c*256/b),f);for(let m=0;m<w.length&&c>0;m++){const v=w[m];v<b&&(p+=d.charAt(v%g),c--)}(0,r.wipe)(w)}return p}t.randomString=a;function l(c,d=o,f=t.defaultRandomSource){const p=Math.ceil(c/(Math.log(d.length)/Math.LN2));return a(p,d,f)}t.randomStringForEntropy=l}(pR)),pR}var CF;function OQ(){if(CF)return zc;CF=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.checkInvalidKeys=zc.isValidISO8601Date=zc.generateNonce=zc.checkContractWalletSignature=void 0;const t=UPe(),e=NQ(),n=TQ(),r=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],s="0x1626ba7e",i=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,o=async(d,f,p)=>{if(!p)return!1;const g=new e.Contract(d.address,r,p),b=(0,n.hashMessage)(d.prepareMessage());return await g.isValidSignature(b,f)===s};zc.checkContractWalletSignature=o;const a=()=>{const d=(0,t.randomStringForEntropy)(96);if(!d||d.length<8)throw new Error("Error during nonce creation.");return d};zc.generateNonce=a;const l=d=>{const f=i.exec(d);if(!f)return!1;const p=new Date(f.groups.date).toISOString(),g=i.exec(p);return f.groups.date===g.groups.date};zc.isValidISO8601Date=l;const c=(d,f)=>{const p=[];return Object.keys(d).forEach(g=>{f.includes(g)||p.push(g)}),p};return zc.checkInvalidKeys=c,zc}var SF;function LPe(){if(SF)return Pb;SF=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.SiweMessage=void 0;const t=rRe(),e=TQ(),n=RQ(),r=OQ();class s{constructor(o){if(typeof o=="string"){const a=new t.ParsedMessage(o);this.scheme=a.scheme,this.domain=a.domain,this.address=a.address,this.statement=a.statement,this.uri=a.uri,this.version=a.version,this.nonce=a.nonce,this.issuedAt=a.issuedAt,this.expirationTime=a.expirationTime,this.notBefore=a.notBefore,this.requestId=a.requestId,this.chainId=a.chainId,this.resources=a.resources}else this.scheme=o?.scheme,this.domain=o.domain,this.address=o.address,this.statement=o?.statement,this.uri=o.uri,this.version=o.version,this.chainId=o.chainId,this.nonce=o.nonce,this.issuedAt=o?.issuedAt,this.expirationTime=o?.expirationTime,this.notBefore=o?.notBefore,this.requestId=o?.requestId,this.resources=o?.resources,typeof this.chainId=="string"&&(this.chainId=(0,t.parseIntegerNumber)(this.chainId)),this.nonce=this.nonce||(0,r.generateNonce)(),new t.ParsedMessage(this.prepareMessage())}toMessage(){const a=`${this.scheme?`${this.scheme}://${this.domain}`:this.domain} wants you to sign in with your Ethereum account:`,l=`URI: ${this.uri}`;let c=[a,this.address].join(`
`);const d=`Version: ${this.version}`;this.nonce||(this.nonce=(0,r.generateNonce)());const f="Chain ID: "+this.chainId||"1",p=`Nonce: ${this.nonce}`,g=[l,d,f,p];if(this.issuedAt=this.issuedAt||new Date().toISOString(),g.push(`Issued At: ${this.issuedAt}`),this.expirationTime){const w=`Expiration Time: ${this.expirationTime}`;g.push(w)}this.notBefore&&g.push(`Not Before: ${this.notBefore}`),this.requestId&&g.push(`Request ID: ${this.requestId}`),this.resources&&g.push(["Resources:",...this.resources.map(w=>`- ${w}`)].join(`
`));const b=g.join(`
`);return c=[c,this.statement].join(`

`),this.statement!==void 0&&(c+=`
`),[c,b].join(`
`)}prepareMessage(){let o;switch(this.version){case"1":{o=this.toMessage();break}default:{o=this.toMessage();break}}return o}async verify(o,a={suppressExceptions:!1}){return new Promise((l,c)=>{var d,f,p;const g=N=>a.suppressExceptions?l(N):c(N),b=(0,r.checkInvalidKeys)(o,n.VerifyParamsKeys);b.length>0&&g({success:!1,data:this,error:new Error(`${b.join(", ")} is/are not valid key(s) for VerifyParams.`)});const w=(0,r.checkInvalidKeys)(a,n.VerifyOptsKeys);w.length>0&&g({success:!1,data:this,error:new Error(`${w.join(", ")} is/are not valid key(s) for VerifyOpts.`)});const{signature:m,scheme:v,domain:x,nonce:C,time:S}=o;v&&v!==this.scheme&&g({success:!1,data:this,error:new n.SiweError(n.SiweErrorType.SCHEME_MISMATCH,v,this.scheme)}),x&&x!==this.domain&&g({success:!1,data:this,error:new n.SiweError(n.SiweErrorType.DOMAIN_MISMATCH,x,this.domain)}),C&&C!==this.nonce&&g({success:!1,data:this,error:new n.SiweError(n.SiweErrorType.NONCE_MISMATCH,C,this.nonce)});const T=new Date(S||new Date);if(this.expirationTime){const N=new Date(this.expirationTime);T.getTime()>=N.getTime()&&g({success:!1,data:this,error:new n.SiweError(n.SiweErrorType.EXPIRED_MESSAGE,`${T.toISOString()} < ${N.toISOString()}`,`${T.toISOString()} >= ${N.toISOString()}`)})}if(this.notBefore){const N=new Date(this.notBefore);T.getTime()<N.getTime()&&g({success:!1,data:this,error:new n.SiweError(n.SiweErrorType.NOT_YET_VALID_MESSAGE,`${T.toISOString()} >= ${N.toISOString()}`,`${T.toISOString()} < ${N.toISOString()}`)})}let R;try{R=this.prepareMessage()}catch(N){g({success:!1,data:this,error:N})}let _;try{_=(0,e.verifyMessage)(R,m)}catch(N){console.error(N)}if(_===this.address)return l({success:!0,data:this});{const N=(0,r.checkContractWalletSignature)(this,m,a.provider).then(O=>O?{success:!0,data:this}:{success:!1,data:this,error:new n.SiweError(n.SiweErrorType.INVALID_SIGNATURE,_,`Resolved address to be ${this.address}`)}).catch(O=>({success:!1,data:this,error:O}));Promise.all([N,(p=(f=(d=a?.verificationFallback)===null||d===void 0?void 0:d.call(a,o,a,this,N))===null||f===void 0?void 0:f.then(O=>O))===null||p===void 0?void 0:p.catch(O=>O)]).then(([O,D])=>{if(D){if(D.success)return l(D);g(D)}else{if(O.success)return l(O);g(O)}})}})}}return Pb.SiweMessage=s,Pb}var _F;function jPe(){return _F||(_F=1,function(t){var e=zh&&zh.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),n=zh&&zh.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(LPe(),t),n(RQ(),t),n(OQ(),t)}(zh)),zh}var IQ=jPe();const FPe="6.15.0";function $Pe(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function co(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function Xt(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&$Pe(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function Zg(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Zg(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Zg(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Zg(r,e)}: ${Zg(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ii(t,e){return t&&t.code===e}function ek(t){return Ii(t,"CALL_EXCEPTION")}function as(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Zg(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+Zg(a))}}i.push(`code=${e}`),i.push(`version=${FPe}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Xt(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&Xt(s,{shortMessage:r}),s}function Xe(t,e,n,r){if(!t)throw as(e,n,r)}function Ne(t,e,n,r){Xe(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function kQ(t,e,n){n==null&&(n=""),n&&(n=": "+n),Xe(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Xe(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function ax(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),Xe(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function BQ(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}Ne(!1,"invalid BytesLike value",e||"value",t)}function Ln(t,e){return BQ(t,e,!1)}function fo(t,e){return BQ(t,e,!0)}function zr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function tk(t){return zr(t,!0)||t instanceof Uint8Array}const NF="0123456789abcdef";function wt(t){const e=Ln(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=NF[(s&240)>>4]+NF[s&15]}return n}function As(t){return"0x"+t.map(e=>wt(e).substring(2)).join("")}function lm(t){return zr(t,!0)?(t.length-2)/2:Ln(t).length}function vs(t,e,n){const r=Ln(t);return n!=null&&n>r.length&&Xe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),wt(r.slice(e??0,n??r.length))}function DQ(t,e,n){const r=Ln(t);Xe(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),wt(s)}function Nd(t,e){return DQ(t,e,!0)}function HPe(t,e){return DQ(t,e,!1)}const dS=BigInt(0),Zc=BigInt(1),Xg=9007199254740991;function K2(t,e){const n=fS(t,"value"),r=BigInt(Tn(e,"width"));if(Xe(n>>r===dS,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Zc){const s=(Zc<<r)-Zc;return-((~n&s)+Zc)}return n}function MQ(t,e){let n=Ot(t,"value");const r=BigInt(Tn(e,"width")),s=Zc<<r-Zc;if(n<dS){n=-n,Xe(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Zc<<r)-Zc;return(~n&i)+Zc}else Xe(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function $p(t,e){const n=fS(t,"value"),r=BigInt(Tn(e,"bits"));return n&(Zc<<r)-Zc}function Ot(t,e){switch(typeof t){case"bigint":return t;case"number":return Ne(Number.isInteger(t),"underflow",e||"value",t),Ne(t>=-Xg&&t<=Xg,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){Ne(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}Ne(!1,"invalid BigNumberish value",e||"value",t)}function fS(t,e){const n=Ot(t,e);return Xe(n>=dS,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const TF="0123456789abcdef";function hS(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=TF[n>>4],e+=TF[n&15];return BigInt(e)}return Ot(t)}function Tn(t,e){switch(typeof t){case"bigint":return Ne(t>=-Xg&&t<=Xg,"overflow",e||"value",t),Number(t);case"number":return Ne(Number.isInteger(t),"underflow",e||"value",t),Ne(t>=-Xg&&t<=Xg,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Tn(BigInt(t),e)}catch(n){Ne(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}Ne(!1,"invalid numeric value",e||"value",t)}function zPe(t){return Tn(hS(t))}function rh(t,e){let r=fS(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=Tn(e,"width");for(Xe(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function Xs(t){const e=fS(t,"value");if(e===dS)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function Jc(t){let e=wt(tk(t)?t:Xs(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const RF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const PF=BigInt(58);function qPe(t){const e=Ln(t);let n=hS(e),r="";for(;n;)r=RF[Number(n%PF)]+r,n/=PF;for(let s=0;s<e.length&&!e[s];s++)r=RF[0]+r;return r}function VPe(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Ln(e)}function GPe(t){const e=Ln(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class UQ{filter;emitter;#e;constructor(e,n,r){this.#e=n,Xt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function KPe(t,e,n,r,s){Ne(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function LQ(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function WPe(t,e,n,r,s){return t==="OVERLONG"?(Ne(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),LQ(t,e,n))}const QPe=Object.freeze({error:KPe,ignore:LQ,replace:WPe});function YPe(t,e){e==null&&(e=QPe.error);const n=Ln(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(i>>7===0){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let l=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let d=n[s];if((d&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),l=null;break}l=l<<6|d&63,s++}if(l!==null){if(l>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,l);continue}if(l>=55296&&l<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,l);continue}if(l<=a){s+=e("OVERLONG",s-1-o,n,r,l);continue}r.push(l)}}return r}function ru(t,e){Ne(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);Ne(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function JPe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function W2(t,e){return JPe(YPe(t,e))}function jQ(t){async function e(n,r){Xe(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();Xe(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Xe(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=as("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=as("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(g){throw clearTimeout(a),i||g}clearTimeout(a);const d={};c.headers.forEach((g,b)=>{d[b.toLowerCase()]=g});const f=await c.arrayBuffer(),p=f==null?null:new Uint8Array(f);return{statusCode:c.status,statusMessage:c.statusText,headers:d,body:p}}return e}const ZPe=12,XPe=250;let OF=jQ();const eOe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),tOe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let mR=!1;async function FQ(t,e){try{const n=t.match(eOe);if(!n)throw new Error("invalid data");return new Kf(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?VPe(n[3]):rOe(n[3]))}catch{return new Kf(599,"BAD REQUEST (invalid data: URI)",{},null,new cu(t))}}function $Q(t){async function e(n,r){try{const s=n.match(tOe);if(!s)throw new Error("invalid link");return new cu(`${t}${s[2]}`)}catch{return new Kf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new cu(n))}}return e}const gA={data:FQ,ipfs:$Q("https://gateway.ipfs.io/ipfs/")},HQ=new WeakMap;class nOe{#e;#t;constructor(e){this.#e=[],this.#t=!1,HQ.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){Xe(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Xe(!this.cancelled,"cancelled","CANCELLED",{})}}function mA(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class cu{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;#c;#u;#f;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#a=void 0;else if(typeof e=="string")this.#i=ru(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#i=ru(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${GPe(ru(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,n){Ne(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){Ne(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#f||OF}set getUrlFunc(e){this.#f=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#s=3e5,this.#u={slotInterval:XPe,maxAttempts:ZPe},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?wt(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#h(e,n,r,s,i){if(e>=this.#u.maxAttempts)return i.makeServerError("exceeded maximum retry limit");Xe(IF()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await sOe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in gA){const d=await gA[a](o.url,mA(s.#c));if(d instanceof Kf){let f=d;if(this.processFunc){mA(s.#c);try{f=await this.processFunc(o,f)}catch(p){(p.throttle==null||typeof p.stall!="number")&&f.makeServerError("error in post-processing function",p).assertOk()}}return f}o=d}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,mA(s.#c));let c=new Kf(l.statusCode,l.statusMessage,l.headers,l.body,s);if(c.statusCode===301||c.statusCode===302){try{const d=c.headers.location||"";return o.redirect(d).#h(e+1,n,0,s,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const d=c.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof d=="string"&&d.match(/^[1-9][0-9]*$/)&&(f=parseInt(d)),o.clone().#h(e+1,n,f,s,c)}if(this.processFunc){mA(s.#c);try{c=await this.processFunc(o,c)}catch(d){(d.throttle==null||typeof d.stall!="number")&&c.makeServerError("error in post-processing function",d).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return d.stall>=0&&(f=d.stall),o.clone().#h(e+1,n,f,s,c)}}return c}send(){return Xe(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new nOe(this),this.#h(0,IF()+this.timeout,0,this,new Kf(0,"",{},null,this))}cancel(){Xe(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=HQ.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Xe(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new cu(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#n=Object.assign({},this.#n),this.#i&&(s.#i=new Uint8Array(this.#i)),s.#a=this.#a,s}clone(){const e=new cu(this.url);return e.#r=this.#r,this.#i&&(e.#i=this.#i),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){mR=!0}static getGateway(e){return gA[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(mR)throw new Error("gateways locked");gA[e]=n}static registerGetUrl(e){if(mR)throw new Error("gateways locked");OF=e}static createGetUrlFunc(e){return jQ(e)}static createDataGateway(){return FQ}static createIpfsGatewayFunc(e){return $Q(e)}}class Kf{#e;#t;#n;#r;#s;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?wt(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":W2(this.#r)}catch{Xe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Xe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,s,i){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{}),this.#r=s==null?null:new Uint8Array(s),this.#s=i||null,this.#o={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Kf(599,r,this.headers,this.body,this.#s||void 0);return s.#o={message:e,error:n},s}throwThrottleError(e,n){n==null?n=-1:Ne(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Xt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#s}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{this.#r&&(s=W2(this.#r))}catch{}Xe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function IF(){return new Date().getTime()}function rOe(t){return ru(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function sOe(t){return new Promise(e=>setTimeout(e,t))}const iOe=BigInt(-1),Gc=BigInt(0),em=BigInt(1),oOe=BigInt(5),Fg={};let um="0000";for(;um.length<80;)um+=um;function xp(t){let e=um;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Hw(t,e,n){const r=BigInt(e.width);if(e.signed){const s=em<<r-em;Xe(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Gc?t=K2($p(t,r),r):t=-K2($p(-t,r),r)}else{const s=em<<r;Xe(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-em}return t}function yR(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ne(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,o=(a,l,c)=>i[a]==null?c:(Ne(typeof i[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}Ne(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Ne(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function aOe(t,e){let n="";t<Gc&&(n="-",t*=iOe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=um+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}class ld{format;#e;#t;#n;_value;constructor(e,n,r){ax(e,Fg,"FixedNumber"),this.#t=n,this.#e=r;const s=aOe(n,r.decimals);Xt(this,{format:r.name,_value:s}),this.#n=xp(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){Ne(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#s(e,n){return e=Hw(e,this.#e,n),new ld(Fg,e,this.#e)}#o(e,n){return this.#r(e),this.#s(this.#t+e.#t,n)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#i(e,n){return this.#r(e),this.#s(this.#t-e.#t,n)}subUnsafe(e){return this.#i(e)}sub(e){return this.#i(e,"sub")}#a(e,n){return this.#r(e),this.#s(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);const n=this.#t*e.#t;return Xe(n%this.#n===Gc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(n/this.#n,"mulSignal")}#d(e,n){return Xe(e.#t!==Gc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#s(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#d(e)}div(e){return this.#d(e,"div")}divSignal(e){Xe(e.#t!==Gc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);const n=this.#t*this.#n;return Xe(n%e.#t===Gc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(n/e.#t,"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=xp(s):s<0&&(n*=xp(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Gc&&(e-=this.#n-em),e=this.#t/this.#n*this.#n,this.#s(e,"floor")}ceiling(){let e=this.#t;return this.#t>Gc&&(e+=this.#n-em),e=this.#t/this.#n*this.#n,this.#s(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=oOe*xp(n-1);let s=this.value+r;const i=xp(n);return s=s/i*i,Hw(s,this.#e,"round"),new ld(Fg,s,this.#e)}isZero(){return this.#t===Gc}isNegative(){return this.#t<Gc}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ld.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:Tn(n),i=yR(r);let o=Ot(e,"value");const a=s-i.decimals;if(a>0){const l=xp(a);Xe(o%l===Gc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=xp(-a));return Hw(o,i,"fromValue"),new ld(Fg,o,i)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Ne(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=yR(n);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=um;Xe(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(r[1]+i+o);return Hw(a,s,"fromString"),new ld(Fg,a,s)}static fromBytes(e,n){let r=hS(Ln(e,"value"));const s=yR(n);return s.signed&&(r=K2(r,s.width)),Hw(r,s,"fromBytes"),new ld(Fg,r,s)}}function cOe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function kF(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function BF(t,e,n,r){const s=[];for(;n<e+1+r;){const i=zQ(t,n);s.push(i.result),n+=i.consumed,Xe(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function zQ(t,e){Xe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Xe(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=kF(t,e+1,r);return n(e+1+r+s),BF(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),BF(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=kF(t,e+1,r);n(e+1+r+s);const i=wt(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=wt(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:cOe(t[e])}}function cx(t){const e=Ln(t,"data"),n=zQ(e,0);return Ne(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function DF(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function qQ(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(qQ(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=DF(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(Ln(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=DF(e.length);return n.unshift(183+n.length),n.concat(e)}const MF="0123456789abcdef";function sh(t){let e="0x";for(const n of qQ(t))e+=MF[n>>4],e+=MF[n&15];return e}const VQ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function GQ(t,e){let n=18;if(typeof e=="string"){const r=VQ.indexOf(e);Ne(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Tn(e,"unit"));return ld.fromValue(t,n,{decimals:n,width:512}).toString()}function lOe(t,e){Ne(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=VQ.indexOf(e);Ne(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Tn(e,"unit"));return ld.fromString(t,{decimals:n,width:512}).value}function uOe(t){return GQ(t,18)}const ho=32,CO=new Uint8Array(ho),dOe=["then"],yA={},KQ=new WeakMap;function Pp(t){return KQ.get(t)}function UF(t,e){KQ.set(t,e)}function zw(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function SO(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof gd?SO(Pp(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof gd&&(o=SO(Pp(o),o,n)),r[s]=o),r},{})}class gd extends Array{#e;constructor(...e){const n=e[0];let r=e[1],s=(e[2]||[]).slice(),i=!0;n!==yA&&(r=e,s=[],i=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const o=s.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(UF(this,Object.freeze(r.map((l,c)=>{const d=s[c];return d!=null&&o.get(d)===1?d:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,d)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const p=Tn(c,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=l[p];return g instanceof Error&&zw(`index ${p}`,g),g}if(dOe.indexOf(c)>=0)return Reflect.get(l,c,d);const f=l[c];if(f instanceof Function)return function(...p){return f.apply(this===d?l:this,p)};if(!(c in l))return l.getValue.apply(this===d?l:this,[c])}return Reflect.get(l,c,d)}});return UF(a,Pp(this)),a}toArray(e){const n=[];return this.forEach((r,s)=>{r instanceof Error&&zw(`index ${s}`,r),e&&r instanceof gd&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=Pp(this);return n.reduce((r,s,i)=>(Xe(s!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),SO(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=Pp(this),s=[],i=[];for(let o=e;o<n;o++)s.push(this[o]),i.push(r[o]);return new gd(yA,s,i)}filter(e,n){const r=Pp(this),s=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&zw(`index ${o}`,a),e.call(n,a,o,this)&&(s.push(a),i.push(r[o]))}return new gd(yA,s,i)}map(e,n){const r=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&zw(`index ${s}`,i),r.push(e.call(n,i,s,this))}return r}getValue(e){const n=Pp(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&zw(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new gd(yA,e,n)}}function LF(t){let e=Xs(t);return Xe(e.length<=ho,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ho,offset:e.length}),e.length!==ho&&(e=fo(As([CO.slice(e.length%ho),e]))),e}class Dd{name;type;localName;dynamic;constructor(e,n,r,s){Xt(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){Ne(!1,e,this.localName,n)}}class _O{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return As(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(fo(e.data))}writeBytes(e){let n=fo(e);const r=n.length%ho;return r&&(n=fo(As([n,CO.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(LF(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(CO),this.#t+=ho,n=>{this.#e[e]=LF(n)}}}class nk{allowLoose;#e;#t;#n;#r;#s;constructor(e,n,r){Xt(this,{allowLoose:!!n}),this.#e=fo(e),this.#n=0,this.#r=null,this.#s=r??1024,this.#t=0}get data(){return wt(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#r)return this.#r.#o(e);this.#n+=e,Xe(this.#s<1||this.#n<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:fo(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#i(e,n,r){let s=Math.ceil(n/ho)*ho;return this.#t+s>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?s=n:Xe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:fo(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){const n=new nk(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return n.#r=this,n}readBytes(e,n){let r=this.#i(0,e,!!n);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return hS(this.readBytes(ho))}readIndex(){return zPe(this.readBytes(ho))}}function Q2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function rk(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function fOe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Q2(t.outputLen),Q2(t.blockLen)}function Pm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WQ(t,e){rk(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bR=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QQ=t=>t instanceof Uint8Array,hOe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),wR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ll=(t,e)=>t<<32-e|t>>>e,pOe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pOe)throw new Error("Non little-endian hardware is not supported");function gOe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function pS(t){if(typeof t=="string"&&(t=gOe(t)),!QQ(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function mOe(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!QQ(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class sk{clone(){return this._cloneInto()}}function ik(t){const e=r=>t().update(pS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function yOe(t=32){if(bR&&typeof bR.getRandomValues=="function")return bR.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class YQ extends sk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,fOe(e);const r=pS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Pm(this),this.iHash.update(e),this}digestInto(e){Pm(this),rk(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const JQ=(t,e,n)=>new YQ(t,e).update(n).digest();JQ.create=(t,e)=>new YQ(t,e);function bOe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class ZQ extends sk{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wR(this.buffer)}update(e){Pm(this);const{view:n,buffer:r,blockLen:s}=this;e=pS(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=wR(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pm(this),WQ(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;bOe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=wR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const wOe=(t,e,n)=>t&e^~t&n,vOe=(t,e,n)=>t&e^t&n^e&n,xOe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_f=new Uint32Array(64);class EOe extends ZQ{constructor(){super(64,32,8,!1),this.A=Sf[0]|0,this.B=Sf[1]|0,this.C=Sf[2]|0,this.D=Sf[3]|0,this.E=Sf[4]|0,this.F=Sf[5]|0,this.G=Sf[6]|0,this.H=Sf[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)_f[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=_f[f-15],g=_f[f-2],b=Ll(p,7)^Ll(p,18)^p>>>3,w=Ll(g,17)^Ll(g,19)^g>>>10;_f[f]=w+_f[f-7]+b+_f[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:d}=this;for(let f=0;f<64;f++){const p=Ll(a,6)^Ll(a,11)^Ll(a,25),g=d+p+wOe(a,l,c)+xOe[f]+_f[f]|0,w=(Ll(r,2)^Ll(r,13)^Ll(r,22))+vOe(r,s,i)|0;d=c,c=l,l=a,a=o+g|0,o=i,i=s,s=r,r=g+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,i,o,a,l,c,d)}roundClean(){_f.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const XQ=ik(()=>new EOe),bA=BigInt(2**32-1),NO=BigInt(32);function eY(t,e=!1){return e?{h:Number(t&bA),l:Number(t>>NO&bA)}:{h:Number(t>>NO&bA)|0,l:Number(t&bA)|0}}function tY(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=eY(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const AOe=(t,e)=>BigInt(t>>>0)<<NO|BigInt(e>>>0),COe=(t,e,n)=>t>>>n,SOe=(t,e,n)=>t<<32-n|e>>>n,_Oe=(t,e,n)=>t>>>n|e<<32-n,NOe=(t,e,n)=>t<<32-n|e>>>n,TOe=(t,e,n)=>t<<64-n|e>>>n-32,ROe=(t,e,n)=>t>>>n-32|e<<64-n,POe=(t,e)=>e,OOe=(t,e)=>t,nY=(t,e,n)=>t<<n|e>>>32-n,rY=(t,e,n)=>e<<n|t>>>32-n,sY=(t,e,n)=>e<<n-32|t>>>64-n,iY=(t,e,n)=>t<<n-32|e>>>64-n;function IOe(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const kOe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),BOe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,DOe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),MOe=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,UOe=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),LOe=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,On={fromBig:eY,split:tY,toBig:AOe,shrSH:COe,shrSL:SOe,rotrSH:_Oe,rotrSL:NOe,rotrBH:TOe,rotrBL:ROe,rotr32H:POe,rotr32L:OOe,rotlSH:nY,rotlSL:rY,rotlBH:sY,rotlBL:iY,add:IOe,add3L:kOe,add3H:BOe,add4L:DOe,add4H:MOe,add5H:LOe,add5L:UOe},[jOe,FOe]=On.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Nf=new Uint32Array(80),Tf=new Uint32Array(80);class $Oe extends ZQ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:g,Gl:b,Hh:w,Hl:m}=this;return[e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m]}set(e,n,r,s,i,o,a,l,c,d,f,p,g,b,w,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=g|0,this.Gl=b|0,this.Hh=w|0,this.Hl=m|0}process(e,n){for(let C=0;C<16;C++,n+=4)Nf[C]=e.getUint32(n),Tf[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const S=Nf[C-15]|0,T=Tf[C-15]|0,R=On.rotrSH(S,T,1)^On.rotrSH(S,T,8)^On.shrSH(S,T,7),_=On.rotrSL(S,T,1)^On.rotrSL(S,T,8)^On.shrSL(S,T,7),N=Nf[C-2]|0,O=Tf[C-2]|0,D=On.rotrSH(N,O,19)^On.rotrBH(N,O,61)^On.shrSH(N,O,6),k=On.rotrSL(N,O,19)^On.rotrBL(N,O,61)^On.shrSL(N,O,6),z=On.add4L(_,k,Tf[C-7],Tf[C-16]),K=On.add4H(z,R,D,Nf[C-7],Nf[C-16]);Nf[C]=K|0,Tf[C]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:f,El:p,Fh:g,Fl:b,Gh:w,Gl:m,Hh:v,Hl:x}=this;for(let C=0;C<80;C++){const S=On.rotrSH(f,p,14)^On.rotrSH(f,p,18)^On.rotrBH(f,p,41),T=On.rotrSL(f,p,14)^On.rotrSL(f,p,18)^On.rotrBL(f,p,41),R=f&g^~f&w,_=p&b^~p&m,N=On.add5L(x,T,_,FOe[C],Tf[C]),O=On.add5H(N,v,S,R,jOe[C],Nf[C]),D=N|0,k=On.rotrSH(r,s,28)^On.rotrBH(r,s,34)^On.rotrBH(r,s,39),z=On.rotrSL(r,s,28)^On.rotrBL(r,s,34)^On.rotrBL(r,s,39),K=r&i^r&a^i&a,q=s&o^s&l^o&l;v=w|0,x=m|0,w=g|0,m=b|0,g=f|0,b=p|0,{h:f,l:p}=On.add(c|0,d|0,O|0,D|0),c=a|0,d=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const I=On.add3L(D,z,q);r=On.add3H(I,O,k,K),s=I|0}({h:r,l:s}=On.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=On.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=On.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=On.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:p}=On.add(this.Eh|0,this.El|0,f|0,p|0),{h:g,l:b}=On.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:w,l:m}=On.add(this.Gh|0,this.Gl|0,w|0,m|0),{h:v,l:x}=On.add(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,s,i,o,a,l,c,d,f,p,g,b,w,m,v,x)}roundClean(){Nf.fill(0),Tf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const HOe=ik(()=>new $Oe);function zOe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const jF=zOe();jF.crypto||jF.msCrypto;function qOe(t){switch(t){case"sha256":return XQ.create();case"sha512":return HOe.create()}Ne(!1,"invalid hashing algorithm name","algorithm",t)}const[oY,aY,cY]=[[],[],[]],VOe=BigInt(0),qw=BigInt(1),GOe=BigInt(2),KOe=BigInt(7),WOe=BigInt(256),QOe=BigInt(113);for(let t=0,e=qw,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],oY.push(2*(5*r+n)),aY.push((t+1)*(t+2)/2%64);let s=VOe;for(let i=0;i<7;i++)e=(e<<qw^(e>>KOe)*QOe)%WOe,e&GOe&&(s^=qw<<(qw<<BigInt(i))-qw);cY.push(s)}const[YOe,JOe]=tY(cY,!0),FF=(t,e,n)=>n>32?sY(t,e,n):nY(t,e,n),$F=(t,e,n)=>n>32?iY(t,e,n):rY(t,e,n);function ZOe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],d=n[l+1],f=FF(c,d,1)^n[a],p=$F(c,d,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=aY[o],l=FF(s,i,a),c=$F(s,i,a),d=oY[o];s=t[d],i=t[d+1],t[d]=l,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=YOe[r],t[1]^=JOe[r]}n.fill(0)}class ok extends sk{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Q2(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hOe(this.state)}keccak(){ZOe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Pm(this);const{blockLen:n,state:r}=this;e=pS(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Pm(this,!1),rk(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Q2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(WQ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ok(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const XOe=(t,e,n)=>ik(()=>new ok(e,t,n)),eIe=XOe(1,136,256/8);let lY=!1;const uY=function(t){return eIe(t)};let dY=uY;function js(t){const e=Ln(t,"data");return wt(dY(e))}js._=uY;js.lock=function(){lY=!0};js.register=function(t){if(lY)throw new TypeError("keccak256 is locked");dY=t};Object.freeze(js);const fY=function(t){return qOe("sha256").update(t).digest()};let hY=fY,pY=!1;function iy(t){const e=Ln(t,"data");return wt(hY(e))}iy._=fY;iy.lock=function(){pY=!0};iy.register=function(t){if(pY)throw new Error("sha256 is locked");hY=t};Object.freeze(iy);Object.freeze(iy);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gY=BigInt(0),gS=BigInt(1),tIe=BigInt(2),mS=t=>t instanceof Uint8Array,nIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Om(t){if(!mS(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=nIe[t[n]];return e}function mY(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function ak(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Im(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Yp(t){return ak(Om(t))}function ck(t){if(!mS(t))throw new Error("Uint8Array expected");return ak(Om(Uint8Array.from(t).reverse()))}function km(t,e){return Im(t.toString(16).padStart(e*2,"0"))}function lk(t,e){return km(t,e).reverse()}function rIe(t){return Im(mY(t))}function Wc(t,e,n){let r;if(typeof e=="string")try{r=Im(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(mS(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function mv(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!mS(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function sIe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function iIe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oIe(t){let e;for(e=0;t>gY;t>>=gS,e+=1);return e}function aIe(t,e){return t>>BigInt(e)&gS}const cIe=(t,e,n)=>t|(n?gS:gY)<<BigInt(e),uk=t=>(tIe<<BigInt(t-1))-gS,vR=t=>new Uint8Array(t),HF=t=>Uint8Array.from(t);function yY(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vR(t),s=vR(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),l=(f=vR())=>{s=a(HF([0]),f),r=a(),f.length!==0&&(s=a(HF([1]),f),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const g=r.slice();p.push(g),f+=r.length}return mv(...p)};return(f,p)=>{o(),l(f);let g;for(;!(g=p(c()));)l();return o(),g}}const lIe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function lx(t,e,n={}){const r=(s,i,o)=>{const a=lIe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const uIe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:aIe,bitLen:oIe,bitMask:uk,bitSet:cIe,bytesToHex:Om,bytesToNumberBE:Yp,bytesToNumberLE:ck,concatBytes:mv,createHmacDrbg:yY,ensureBytes:Wc,equalBytes:sIe,hexToBytes:Im,hexToNumber:ak,numberToBytesBE:km,numberToBytesLE:lk,numberToHexUnpadded:mY,numberToVarBytesBE:rIe,utf8ToBytes:iIe,validateObject:lx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bi=BigInt(0),Is=BigInt(1),Op=BigInt(2),dIe=BigInt(3),TO=BigInt(4),zF=BigInt(5),qF=BigInt(8);BigInt(9);BigInt(16);function Fo(t,e){const n=t%e;return n>=bi?n:e+n}function fIe(t,e,n){if(n<=bi||e<bi)throw new Error("Expected power/modulo > 0");if(n===Is)return bi;let r=Is;for(;e>bi;)e&Is&&(r=r*t%n),t=t*t%n,e>>=Is;return r}function lc(t,e,n){let r=t;for(;e-- >bi;)r*=r,r%=n;return r}function RO(t,e){if(t===bi||e<=bi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Fo(t,e),r=e,s=bi,i=Is;for(;n!==bi;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==Is)throw new Error("invert: does not exist");return Fo(s,e)}function hIe(t){const e=(t-Is)/Op;let n,r,s;for(n=t-Is,r=0;n%Op===bi;n/=Op,r++);for(s=Op;s<t&&fIe(s,e,t)!==t-Is;s++);if(r===1){const o=(t+Is)/TO;return function(l,c){const d=l.pow(c,o);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const i=(n+Is)/Op;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,s),n),f=a.pow(l,i),p=a.pow(l,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let g=1;for(let w=a.sqr(p);g<c&&!a.eql(w,a.ONE);g++)w=a.sqr(w);const b=a.pow(d,Is<<BigInt(c-g-1));d=a.sqr(b),f=a.mul(f,b),p=a.mul(p,d),c=g}return f}}function pIe(t){if(t%TO===dIe){const e=(t+Is)/TO;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%qF===zF){const e=(t-zF)/qF;return function(r,s){const i=r.mul(s,Op),o=r.pow(i,e),a=r.mul(s,o),l=r.mul(r.mul(a,Op),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),s))throw new Error("Cannot find square root");return c}}return hIe(t)}const gIe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mIe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gIe.reduce((r,s)=>(r[s]="function",r),e);return lx(t,n)}function yIe(t,e,n){if(n<bi)throw new Error("Expected power > 0");if(n===bi)return t.ONE;if(n===Is)return e;let r=t.ONE,s=e;for(;n>bi;)n&Is&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Is;return r}function bIe(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function bY(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wIe(t,e,n=!1,r={}){if(t<=bi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=bY(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=pIe(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:uk(s),ZERO:bi,ONE:Is,create:l=>Fo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return bi<=l&&l<t},is0:l=>l===bi,isOdd:l=>(l&Is)===Is,neg:l=>Fo(-l,t),eql:(l,c)=>l===c,sqr:l=>Fo(l*l,t),add:(l,c)=>Fo(l+c,t),sub:(l,c)=>Fo(l-c,t),mul:(l,c)=>Fo(l*c,t),pow:(l,c)=>yIe(a,l,c),div:(l,c)=>Fo(l*RO(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>RO(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>bIe(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?lk(l,i):km(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?ck(l):Yp(l)}});return Object.freeze(a)}function wY(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function vY(t){const e=wY(t);return e+Math.ceil(e/2)}function vIe(t,e,n=!1){const r=t.length,s=wY(e),i=vY(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?Yp(t):ck(t),a=Fo(o,e-Is)+Is;return n?lk(a,s):km(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xIe=BigInt(0),xR=BigInt(1);function EIe(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>xIe;)i&xR&&(o=o.add(a)),a=a.double(),i>>=xR;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),l=[];let c=s,d=c;for(let f=0;f<o;f++){d=c,l.push(d);for(let p=1;p<a;p++)d=d.add(c),l.push(d);c=d.double()}return l},wNAF(s,i,o){const{windows:a,windowSize:l}=r(s);let c=t.ZERO,d=t.BASE;const f=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let b=0;b<a;b++){const w=b*l;let m=Number(o&f);o>>=g,m>l&&(m-=p,o+=xR);const v=w,x=w+Math.abs(m)-1,C=b%2!==0,S=m<0;m===0?d=d.add(n(C,i[v])):c=c.add(n(S,i[x]))}return{p:c,f:d}},wNAFCached(s,i,o,a){const l=s._WINDOW_SIZE||1;let c=i.get(s);return c||(c=this.precomputeWindow(s,l),l!==1&&i.set(s,a(c))),this.wNAF(l,c,o)}}}function xY(t){return mIe(t.Fp),lx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AIe(t){const e=xY(t);lx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:CIe,hexToBytes:SIe}=uIe,Hp={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Hp;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:CIe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Hp,n=typeof t=="string"?SIe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Hp._parseInt(n.subarray(2)),{d:o,l:a}=Hp._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const d=c.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),l=n(o);return`30${n(o+i+4)}02${l}${s}02${a}${r}`}},dd=BigInt(0),hc=BigInt(1);BigInt(2);const VF=BigInt(3);BigInt(4);function _Ie(t){const e=AIe(t),{Fp:n}=e,r=e.toBytes||((b,w,m)=>{const v=w.toAffine();return mv(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(b=>{const w=b.subarray(1),m=n.fromBytes(w.subarray(0,n.BYTES)),v=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:m,y:v}});function i(b){const{a:w,b:m}=e,v=n.sqr(b),x=n.mul(v,b);return n.add(n.add(x,n.mul(b,w)),m)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(b){return typeof b=="bigint"&&dd<b&&b<e.n}function a(b){if(!o(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(b){const{allowedPrivateKeyLengths:w,nByteLength:m,wrapPrivateKey:v,n:x}=e;if(w&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=Om(b)),typeof b!="string"||!w.includes(b.length))throw new Error("Invalid key");b=b.padStart(m*2,"0")}let C;try{C=typeof b=="bigint"?b:Yp(Wc("private key",b,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof b}`)}return v&&(C=Fo(C,x)),a(C),C}const c=new Map;function d(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(w,m,v){if(this.px=w,this.py=m,this.pz=v,w==null||!n.isValid(w))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required")}static fromAffine(w){const{x:m,y:v}=w||{};if(!w||!n.isValid(m)||!n.isValid(v))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");const x=C=>n.eql(C,n.ZERO);return x(m)&&x(v)?f.ZERO:new f(m,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const m=n.invertBatch(w.map(v=>v.pz));return w.map((v,x)=>v.toAffine(m[x])).map(f.fromAffine)}static fromHex(w){const m=f.fromAffine(s(Wc("pointHex",w)));return m.assertValidity(),m}static fromPrivateKey(w){return f.BASE.multiply(l(w))}_setWindowSize(w){this._WINDOW_SIZE=w,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:m}=this.toAffine();if(!n.isValid(w)||!n.isValid(m))throw new Error("bad point: x or y not FE");const v=n.sqr(m),x=i(w);if(!n.eql(v,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);const{px:m,py:v,pz:x}=this,{px:C,py:S,pz:T}=w,R=n.eql(n.mul(m,T),n.mul(C,x)),_=n.eql(n.mul(v,T),n.mul(S,x));return R&&_}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:m}=e,v=n.mul(m,VF),{px:x,py:C,pz:S}=this;let T=n.ZERO,R=n.ZERO,_=n.ZERO,N=n.mul(x,x),O=n.mul(C,C),D=n.mul(S,S),k=n.mul(x,C);return k=n.add(k,k),_=n.mul(x,S),_=n.add(_,_),T=n.mul(w,_),R=n.mul(v,D),R=n.add(T,R),T=n.sub(O,R),R=n.add(O,R),R=n.mul(T,R),T=n.mul(k,T),_=n.mul(v,_),D=n.mul(w,D),k=n.sub(N,D),k=n.mul(w,k),k=n.add(k,_),_=n.add(N,N),N=n.add(_,N),N=n.add(N,D),N=n.mul(N,k),R=n.add(R,N),D=n.mul(C,S),D=n.add(D,D),N=n.mul(D,k),T=n.sub(T,N),_=n.mul(D,O),_=n.add(_,_),_=n.add(_,_),new f(T,R,_)}add(w){d(w);const{px:m,py:v,pz:x}=this,{px:C,py:S,pz:T}=w;let R=n.ZERO,_=n.ZERO,N=n.ZERO;const O=e.a,D=n.mul(e.b,VF);let k=n.mul(m,C),z=n.mul(v,S),K=n.mul(x,T),q=n.add(m,v),I=n.add(C,S);q=n.mul(q,I),I=n.add(k,z),q=n.sub(q,I),I=n.add(m,x);let P=n.add(C,T);return I=n.mul(I,P),P=n.add(k,K),I=n.sub(I,P),P=n.add(v,x),R=n.add(S,T),P=n.mul(P,R),R=n.add(z,K),P=n.sub(P,R),N=n.mul(O,I),R=n.mul(D,K),N=n.add(R,N),R=n.sub(z,N),N=n.add(z,N),_=n.mul(R,N),z=n.add(k,k),z=n.add(z,k),K=n.mul(O,K),I=n.mul(D,I),z=n.add(z,K),K=n.sub(k,K),K=n.mul(O,K),I=n.add(I,K),k=n.mul(z,I),_=n.add(_,k),k=n.mul(P,I),R=n.mul(q,R),R=n.sub(R,k),k=n.mul(q,z),N=n.mul(P,N),N=n.add(N,k),new f(R,_,N)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return g.wNAFCached(this,c,w,m=>{const v=n.invertBatch(m.map(x=>x.pz));return m.map((x,C)=>x.toAffine(v[C])).map(f.fromAffine)})}multiplyUnsafe(w){const m=f.ZERO;if(w===dd)return m;if(a(w),w===hc)return this;const{endo:v}=e;if(!v)return g.unsafeLadder(this,w);let{k1neg:x,k1:C,k2neg:S,k2:T}=v.splitScalar(w),R=m,_=m,N=this;for(;C>dd||T>dd;)C&hc&&(R=R.add(N)),T&hc&&(_=_.add(N)),N=N.double(),C>>=hc,T>>=hc;return x&&(R=R.negate()),S&&(_=_.negate()),_=new f(n.mul(_.px,v.beta),_.py,_.pz),R.add(_)}multiply(w){a(w);let m=w,v,x;const{endo:C}=e;if(C){const{k1neg:S,k1:T,k2neg:R,k2:_}=C.splitScalar(m);let{p:N,f:O}=this.wNAF(T),{p:D,f:k}=this.wNAF(_);N=g.constTimeNegate(S,N),D=g.constTimeNegate(R,D),D=new f(n.mul(D.px,C.beta),D.py,D.pz),v=N.add(D),x=O.add(k)}else{const{p:S,f:T}=this.wNAF(m);v=S,x=T}return f.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(w,m,v){const x=f.BASE,C=(T,R)=>R===dd||R===hc||!T.equals(x)?T.multiplyUnsafe(R):T.multiply(R),S=C(this,m).add(C(w,v));return S.is0()?void 0:S}toAffine(w){const{px:m,py:v,pz:x}=this,C=this.is0();w==null&&(w=C?n.ONE:n.inv(x));const S=n.mul(m,w),T=n.mul(v,w),R=n.mul(x,w);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:S,y:T}}isTorsionFree(){const{h:w,isTorsionFree:m}=e;if(w===hc)return!0;if(m)return m(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:m}=e;return w===hc?this:m?m(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(f,this,w)}toHex(w=!0){return Om(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,g=EIe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function NIe(t){const e=xY(t);return lx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function TIe(t){const e=NIe(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(I){return dd<I&&I<n.ORDER}function a(I){return Fo(I,r)}function l(I){return RO(I,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=_Ie({...e,toBytes(I,P,M){const j=P.toAffine(),G=n.toBytes(j.x),F=mv;return M?F(Uint8Array.from([P.hasEvenY()?2:3]),G):F(Uint8Array.from([4]),G,n.toBytes(j.y))},fromBytes(I){const P=I.length,M=I[0],j=I.subarray(1);if(P===s&&(M===2||M===3)){const G=Yp(j);if(!o(G))throw new Error("Point is not on curve");const F=f(G);let H=n.sqrt(F);const $=(H&hc)===hc;return(M&1)===1!==$&&(H=n.neg(H)),{x:G,y:H}}else if(P===i&&M===4){const G=n.fromBytes(j.subarray(0,n.BYTES)),F=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:G,y:F}}else throw new Error(`Point of length ${P} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),g=I=>Om(km(I,e.nByteLength));function b(I){const P=r>>hc;return I>P}function w(I){return b(I)?a(-I):I}const m=(I,P,M)=>Yp(I.slice(P,M));class v{constructor(P,M,j){this.r=P,this.s=M,this.recovery=j,this.assertValidity()}static fromCompact(P){const M=e.nByteLength;return P=Wc("compactSignature",P,M*2),new v(m(P,0,M),m(P,M,2*M))}static fromDER(P){const{r:M,s:j}=Hp.toSig(Wc("DER",P));return new v(M,j)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new v(this.r,this.s,P)}recoverPublicKey(P){const{r:M,s:j,recovery:G}=this,F=_(Wc("msgHash",P));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const H=G===2||G===3?M+e.n:M;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(G&1)===0?"02":"03",Z=c.fromHex($+g(H)),X=l(H),le=a(-F*X),de=a(j*X),pe=c.BASE.multiplyAndAddUnsafe(Z,le,de);if(!pe)throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Im(this.toDERHex())}toDERHex(){return Hp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Im(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const x={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=vY(e.n);return vIe(e.randomBytes(I),e.n)},precompute(I=8,P=c.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}};function C(I,P=!0){return c.fromPrivateKey(I).toRawBytes(P)}function S(I){const P=I instanceof Uint8Array,M=typeof I=="string",j=(P||M)&&I.length;return P?j===s||j===i:M?j===2*s||j===2*i:I instanceof c}function T(I,P,M=!0){if(S(I))throw new Error("first arg must be private key");if(!S(P))throw new Error("second arg must be public key");return c.fromHex(P).multiply(d(I)).toRawBytes(M)}const R=e.bits2int||function(I){const P=Yp(I),M=I.length*8-e.nBitLength;return M>0?P>>BigInt(M):P},_=e.bits2int_modN||function(I){return a(R(I))},N=uk(e.nBitLength);function O(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(dd<=I&&I<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return km(I,e.nByteLength)}function D(I,P,M=k){if(["recovered","canonical"].some(ce=>ce in M))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:G}=e;let{lowS:F,prehash:H,extraEntropy:$}=M;F==null&&(F=!0),I=Wc("msgHash",I),H&&(I=Wc("prehashed msgHash",j(I)));const Z=_(I),X=d(P),le=[O(X),O(Z)];if($!=null){const ce=$===!0?G(n.BYTES):$;le.push(Wc("extraEntropy",ce))}const de=mv(...le),pe=Z;function ae(ce){const fe=R(ce);if(!p(fe))return;const ve=l(fe),Re=c.BASE.multiply(fe).toAffine(),Se=a(Re.x);if(Se===dd)return;const xe=a(ve*a(pe+Se*X));if(xe===dd)return;let te=(Re.x===Se?0:2)|Number(Re.y&hc),J=xe;return F&&b(xe)&&(J=w(xe),te^=1),new v(Se,J,te)}return{seed:de,k2sig:ae}}const k={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function K(I,P,M=k){const{seed:j,k2sig:G}=D(I,P,M),F=e;return yY(F.hash.outputLen,F.nByteLength,F.hmac)(j,G)}c.BASE._setWindowSize(8);function q(I,P,M,j=z){const G=I;if(P=Wc("msgHash",P),M=Wc("publicKey",M),"strict"in j)throw new Error("options.strict was renamed to lowS");const{lowS:F,prehash:H}=j;let $,Z;try{if(typeof G=="string"||G instanceof Uint8Array)try{$=v.fromDER(G)}catch(Re){if(!(Re instanceof Hp.Err))throw Re;$=v.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:Re,s:Se}=G;$=new v(Re,Se)}else throw new Error("PARSE");Z=c.fromHex(M)}catch(Re){if(Re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(F&&$.hasHighS())return!1;H&&(P=e.hash(P));const{r:X,s:le}=$,de=_(P),pe=l(le),ae=a(de*pe),ce=a(X*pe),fe=c.BASE.multiplyAndAddUnsafe(Z,ae,ce)?.toAffine();return fe?a(fe.x)===X:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:T,sign:K,verify:q,ProjectivePoint:c,Signature:v,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function RIe(t){return{hash:t,hmac:(e,...n)=>JQ(t,e,mOe(...n)),randomBytes:yOe}}function PIe(t,e){const n=r=>TIe({...t,...RIe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),GF=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),OIe=BigInt(1),PO=BigInt(2),KF=(t,e)=>(t+e/PO)/e;function IIe(t){const e=EY,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,f=lc(d,n,e)*d%e,p=lc(f,n,e)*d%e,g=lc(p,PO,e)*c%e,b=lc(g,s,e)*g%e,w=lc(b,i,e)*b%e,m=lc(w,a,e)*w%e,v=lc(m,l,e)*m%e,x=lc(v,a,e)*w%e,C=lc(x,n,e)*d%e,S=lc(C,o,e)*b%e,T=lc(S,r,e)*c%e,R=lc(T,PO,e);if(!OO.eql(OO.sqr(R),t))throw new Error("Cannot find square root");return R}const OO=wIe(EY,void 0,void 0,{sqrt:IIe}),Pf=PIe({a:BigInt(0),b:BigInt(7),Fp:OO,n:GF,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=GF,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-OIe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=KF(i*t,e),l=KF(-r*t,e);let c=Fo(t-a*n-l*s,e),d=Fo(-a*r-l*i,e);const f=c>o,p=d>o;if(f&&(c=e-c),p&&(d=e-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:d}}}},XQ);BigInt(0);Pf.ProjectivePoint;const yv="0x0000000000000000000000000000000000000000",WF="0x0000000000000000000000000000000000000000000000000000000000000000",QF=BigInt(0),YF=BigInt(1),JF=BigInt(2),ZF=BigInt(27),XF=BigInt(28),wA=BigInt(35),$g={};function e$(t){return Nd(Xs(t),32)}class xs{#e;#t;#n;#r;get r(){return this.#e}set r(e){Ne(lm(e)===32,"invalid r","value",e),this.#e=wt(e)}get s(){return Ne(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){Ne(lm(e)===32,"invalid s","value",e),this.#t=wt(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const n=Tn(e,"value");Ne(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:xs.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ln(this.s);return this.yParity&&(e[0]|=128),wt(e)}get compactSerialized(){return As([this.r,this.yParityAndS])}get serialized(){return As([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,s){ax(e,$g,"Signature"),this.#e=n,this.#t=r,this.#n=s,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new xs($g,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Ot(e,"v");return n==ZF||n==XF?QF:(Ne(n>=wA,"invalid EIP-155 v","v",e),(n-wA)/JF)}static getChainIdV(e,n){return Ot(e)*JF+BigInt(35+n-27)}static getNormalizedV(e){const n=Ot(e);return n===QF||n===ZF?27:n===YF||n===XF?28:(Ne(n>=wA,"invalid v","v",e),n&YF?27:28)}static from(e){function n(c,d){Ne(c,d,"signature",e)}if(e==null)return new xs($g,WF,WF,27);if(typeof e=="string"){const c=Ln(e,"signature");if(c.length===64){const d=wt(c.slice(0,32)),f=c.slice(32,64),p=f[0]&128?28:27;return f[0]&=127,new xs($g,d,wt(f),p)}if(c.length===65){const d=wt(c.slice(0,32)),f=wt(c.slice(32,64)),p=xs.getNormalizedV(c[64]);return new xs($g,d,f,p)}n(!1,"invalid raw signature length")}if(e instanceof xs)return e.clone();const r=e.r;n(r!=null,"missing r");const s=e$(r),i=function(c,d){if(c!=null)return e$(c);if(d!=null){n(zr(d,32),"invalid yParityAndS");const f=Ln(d);return f[0]&=127,wt(f)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,d,f){if(c!=null){const p=Ot(c);return{networkV:p>=wA?p:void 0,v:xs.getNormalizedV(p)}}if(d!=null)return n(zr(d,32),"invalid yParityAndS"),{v:Ln(d)[0]&128?28:27};if(f!=null){switch(Tn(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new xs($g,s,i,a);return o&&(l.#r=o),n(e.yParity==null||Tn(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class fd{#e;constructor(e){Ne(lm(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=wt(e)}get privateKey(){return this.#e}get publicKey(){return fd.computePublicKey(this.#e)}get compressedPublicKey(){return fd.computePublicKey(this.#e,!0)}sign(e){Ne(lm(e)===32,"invalid digest length","digest",e);const n=Pf.sign(fo(e),fo(this.#e),{lowS:!0});return xs.from({r:rh(n.r,32),s:rh(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=fd.computePublicKey(e);return wt(Pf.getSharedSecret(fo(this.#e),Ln(n),!1))}static computePublicKey(e,n){let r=Ln(e,"key");if(r.length===32){const i=Pf.getPublicKey(r,!!n);return wt(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=Pf.ProjectivePoint.fromHex(r);return wt(s.toRawBytes(n))}static recoverPublicKey(e,n){Ne(lm(e)===32,"invalid digest length","digest",e);const r=xs.from(n);let s=Pf.Signature.fromCompact(fo(As([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(fo(e));return Ne(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=Pf.ProjectivePoint.fromHex(fd.computePublicKey(e).substring(2)),i=Pf.ProjectivePoint.fromHex(fd.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}}const kIe=BigInt(0),BIe=BigInt(36);function t$(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=Ln(js(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const dk={};for(let t=0;t<10;t++)dk[String(t)]=String(t);for(let t=0;t<26;t++)dk[String.fromCharCode(65+t)]=String(10+t);const n$=15;function DIe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>dk[r]).join("");for(;e.length>=n$;){let r=e.substring(0,n$);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const MIe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function UIe(t){t=t.toLowerCase();let e=kIe;for(let n=0;n<t.length;n++)e=e*BIe+MIe[t[n]];return e}function Er(t){if(Ne(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=t$(t);return Ne(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Ne(t.substring(2,4)===DIe(t),"bad icap checksum","address",t);let e=UIe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return t$("0x"+e)}Ne(!1,"invalid address","address",t)}function LIe(t){const e=Er(t.from);let r=Ot(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Er(vs(js(sh([e,r])),12))}function AY(t){return t&&typeof t.getAddress=="function"}async function ER(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Xe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),Ne(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Er(n)}function po(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Er(t):(Xe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ER(t,e.resolveName(t)));if(AY(t))return ER(t,t.getAddress());if(t&&typeof t.then=="function")return ER(t,t);Ne(!1,"unsupported addressable value","target",t)}const od={};function Rt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Es(od,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function ur(t,e){return new Es(od,`bytes${e||""}`,t,{size:e})}const r$=Symbol.for("_ethers_typed");class Es{type;value;#e;_typedSymbol;constructor(e,n,r,s){s==null&&(s=null),ax(od,e,"Typed"),Xt(this,{_typedSymbol:r$,type:n,value:r}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new Es(od,e,n)}static uint8(e){return Rt(e,8)}static uint16(e){return Rt(e,16)}static uint24(e){return Rt(e,24)}static uint32(e){return Rt(e,32)}static uint40(e){return Rt(e,40)}static uint48(e){return Rt(e,48)}static uint56(e){return Rt(e,56)}static uint64(e){return Rt(e,64)}static uint72(e){return Rt(e,72)}static uint80(e){return Rt(e,80)}static uint88(e){return Rt(e,88)}static uint96(e){return Rt(e,96)}static uint104(e){return Rt(e,104)}static uint112(e){return Rt(e,112)}static uint120(e){return Rt(e,120)}static uint128(e){return Rt(e,128)}static uint136(e){return Rt(e,136)}static uint144(e){return Rt(e,144)}static uint152(e){return Rt(e,152)}static uint160(e){return Rt(e,160)}static uint168(e){return Rt(e,168)}static uint176(e){return Rt(e,176)}static uint184(e){return Rt(e,184)}static uint192(e){return Rt(e,192)}static uint200(e){return Rt(e,200)}static uint208(e){return Rt(e,208)}static uint216(e){return Rt(e,216)}static uint224(e){return Rt(e,224)}static uint232(e){return Rt(e,232)}static uint240(e){return Rt(e,240)}static uint248(e){return Rt(e,248)}static uint256(e){return Rt(e,256)}static uint(e){return Rt(e,256)}static int8(e){return Rt(e,-8)}static int16(e){return Rt(e,-16)}static int24(e){return Rt(e,-24)}static int32(e){return Rt(e,-32)}static int40(e){return Rt(e,-40)}static int48(e){return Rt(e,-48)}static int56(e){return Rt(e,-56)}static int64(e){return Rt(e,-64)}static int72(e){return Rt(e,-72)}static int80(e){return Rt(e,-80)}static int88(e){return Rt(e,-88)}static int96(e){return Rt(e,-96)}static int104(e){return Rt(e,-104)}static int112(e){return Rt(e,-112)}static int120(e){return Rt(e,-120)}static int128(e){return Rt(e,-128)}static int136(e){return Rt(e,-136)}static int144(e){return Rt(e,-144)}static int152(e){return Rt(e,-152)}static int160(e){return Rt(e,-160)}static int168(e){return Rt(e,-168)}static int176(e){return Rt(e,-176)}static int184(e){return Rt(e,-184)}static int192(e){return Rt(e,-192)}static int200(e){return Rt(e,-200)}static int208(e){return Rt(e,-208)}static int216(e){return Rt(e,-216)}static int224(e){return Rt(e,-224)}static int232(e){return Rt(e,-232)}static int240(e){return Rt(e,-240)}static int248(e){return Rt(e,-248)}static int256(e){return Rt(e,-256)}static int(e){return Rt(e,-256)}static bytes1(e){return ur(e,1)}static bytes2(e){return ur(e,2)}static bytes3(e){return ur(e,3)}static bytes4(e){return ur(e,4)}static bytes5(e){return ur(e,5)}static bytes6(e){return ur(e,6)}static bytes7(e){return ur(e,7)}static bytes8(e){return ur(e,8)}static bytes9(e){return ur(e,9)}static bytes10(e){return ur(e,10)}static bytes11(e){return ur(e,11)}static bytes12(e){return ur(e,12)}static bytes13(e){return ur(e,13)}static bytes14(e){return ur(e,14)}static bytes15(e){return ur(e,15)}static bytes16(e){return ur(e,16)}static bytes17(e){return ur(e,17)}static bytes18(e){return ur(e,18)}static bytes19(e){return ur(e,19)}static bytes20(e){return ur(e,20)}static bytes21(e){return ur(e,21)}static bytes22(e){return ur(e,22)}static bytes23(e){return ur(e,23)}static bytes24(e){return ur(e,24)}static bytes25(e){return ur(e,25)}static bytes26(e){return ur(e,26)}static bytes27(e){return ur(e,27)}static bytes28(e){return ur(e,28)}static bytes29(e){return ur(e,29)}static bytes30(e){return ur(e,30)}static bytes31(e){return ur(e,31)}static bytes32(e){return ur(e,32)}static address(e){return new Es(od,"address",e)}static bool(e){return new Es(od,"bool",!!e)}static bytes(e){return new Es(od,"bytes",e)}static string(e){return new Es(od,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Es(od,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===r$}static dereference(e,n){if(Es.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class jIe extends Dd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Es.dereference(n,"string");try{r=Er(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return Er(rh(e.readValue(),20))}}class FIe extends Dd{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function CY(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const d=c.localName;return Xe(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),Xe(!l[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[d]=!0,n[d]})}else Ne(!1,"invalid tuple value","tuple",n);Ne(e.length===r.length,"types/value length mismatch","tuple",n);let s=new _O,i=new _O,o=[];e.forEach((l,c)=>{let d=r[c];if(l.dynamic){let f=i.length;l.encode(i,d);let p=s.writeUpdatableValue();o.push(g=>{p(g+f)})}else l.encode(s,d)}),o.forEach(l=>{l(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function SY(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),l=s.subReader(a);try{o=i.decode(l)}catch(c){if(Ii(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Ii(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),gd.fromItems(n,r)}class $Ie extends Dd{coder;length;constructor(e,n,r){const s=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",s,r,i),Xt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=Es.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,e.writeValue(r.length)),kQ(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return CY(e,i,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Xe(n*ho<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*ho,length:e.dataLength}));let r=[];for(let s=0;s<n;s++)r.push(new FIe(this.coder));return SY(e,r)}}class HIe extends Dd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Es.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class _Y extends Dd{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=fo(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class zIe extends _Y{constructor(e){super("bytes",e)}decode(e){return wt(super.decode(e))}}class qIe extends Dd{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Xt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=fo(Es.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return wt(e.readBytes(this.size))}}const VIe=new Uint8Array([]);class GIe extends Dd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(VIe)}decode(e){return e.readBytes(0),null}}const KIe=BigInt(0),WIe=BigInt(1),QIe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class YIe extends Dd{size;signed;constructor(e,n,r){const s=(n?"int":"uint")+e*8;super(s,s,r,!1),Xt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=Ot(Es.dereference(n,this.type)),s=$p(QIe,ho*8);if(this.signed){let i=$p(s,this.size*8-1);(r>i||r<-(i+WIe))&&this._throwError("value out-of-bounds",n),r=MQ(r,8*ho)}else(r<KIe||r>$p(s,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=$p(e.readValue(),this.size*8);return this.signed&&(n=K2(n,this.size*8)),n}}class JIe extends _Y{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ru(Es.dereference(n,"string")))}decode(e){return W2(super.decode(e))}}class vA extends Dd{coders;constructor(e,n){let r=!1;const s=[];e.forEach(o=>{o.dynamic&&(r=!0),s.push(o.type)});const i="tuple("+s.join(",")+")";super("tuple",i,n,r),Xt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,s)=>{const i=s.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,s)=>{let i=r.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,n){const r=Es.dereference(n,"tuple");return CY(e,this.coders,r)}decode(e){return SY(e,this.coders)}}function AR(t,e){return{address:Er(t),storageKeys:e.map((n,r)=>(Ne(zr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function B0(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(Ne(n.length===2,"invalid slot set",`value[${r}]`,n),AR(n[0],n[1])):(Ne(n!=null&&typeof n=="object","invalid address-slot set","value",t),AR(n.address,n.storageKeys)));Ne(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return AR(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function NY(t){return{address:Er(t.address),nonce:Ot(t.nonce!=null?t.nonce:0),chainId:Ot(t.chainId!=null?t.chainId:0),signature:xs.from(t.signature)}}function ZIe(t){let e;return typeof t=="string"?e=fd.computePublicKey(t,!1):e=t.publicKey,Er(js("0x"+e.substring(4)).substring(26))}function XIe(t,e){return ZIe(fd.recoverPublicKey(t,e))}const di=BigInt(0),e4e=BigInt(2),t4e=BigInt(27),n4e=BigInt(28),r4e=BigInt(35),s4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),CR=4096*32;function i4e(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ln(t.blobToKzgCommitment(wt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ln(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ln(t.blobToKZGCommitment(wt(r)));Ne(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ln(t.computeBlobProof(wt(r),wt(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ln(t.computeBlobKZGProof(wt(r),wt(s)));Ne(!1,"unsupported KZG library","kzg",t)}}}function s$(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=iy(e).substring(4),"0x"+n}function oy(t){return t==="0x"?null:Er(t)}function yS(t,e){try{return B0(t)}catch(n){Ne(!1,n.message,e,t)}}function o4e(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:oy(s[1]),nonce:kr(s[2],"nonce"),chainId:kr(s[0],"chainId"),signature:xs.from({yParity:D0(s[3],"yParity"),r:Nd(s[4],32),s:Nd(s[5],32)})})}return n}catch(n){Ne(!1,n.message,e,t)}}function D0(t,e){return t==="0x"?0:Tn(t,e)}function kr(t,e){if(t==="0x")return di;const n=Ot(t,e);return Ne(n<=s4e,"value exceeds uint size",e,n),n}function Wn(t,e){const n=Ot(t,"value"),r=Xs(n);return Ne(r.length<=32,"value too large",`tx.${e}`,n),r}function bS(t){return B0(t).map(e=>[e.address,e.storageKeys])}function a4e(t){return t.map(e=>[Wn(e.chainId,"chainId"),e.address,Wn(e.nonce,"nonce"),Wn(e.signature.yParity,"yParity"),Xs(e.signature.r),Xs(e.signature.s)])}function c4e(t,e){Ne(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)Ne(zr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function l4e(t){const e=cx(t);Ne(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:D0(e[0],"nonce"),gasPrice:kr(e[1],"gasPrice"),gasLimit:kr(e[2],"gasLimit"),to:oy(e[3]),value:kr(e[4],"value"),data:wt(e[5]),chainId:di};if(e.length===6)return n;const r=kr(e[6],"v"),s=kr(e[7],"r"),i=kr(e[8],"s");if(s===di&&i===di)n.chainId=r;else{let o=(r-r4e)/e4e;o<di&&(o=di),n.chainId=o,Ne(o!==di||r===t4e||r===n4e,"non-canonical legacy v","v",e[6]),n.signature=xs.from({r:Nd(e[7],32),s:Nd(e[8],32),v:r})}return n}function u4e(t,e){const n=[Wn(t.nonce,"nonce"),Wn(t.gasPrice||0,"gasPrice"),Wn(t.gasLimit,"gasLimit"),t.to||"0x",Wn(t.value,"value"),t.data];let r=di;if(t.chainId!=di)r=Ot(t.chainId,"tx.chainId"),Ne(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==di&&(n.push(Xs(r)),n.push("0x"),n.push("0x")),sh(n);let s=BigInt(27+e.yParity);return r!==di?s=xs.getChainIdV(r,e.v):BigInt(e.v)!==s&&Ne(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Xs(s)),n.push(Xs(e.r)),n.push(Xs(e.s)),sh(n)}function wS(t,e){let n;try{if(n=D0(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{Ne(!1,"invalid yParity","yParity",e[0])}const r=Nd(e[1],32),s=Nd(e[2],32),i=xs.from({r,s,yParity:n});t.signature=i}function d4e(t){const e=cx(Ln(t).slice(1));Ne(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",wt(t));const n={type:2,chainId:kr(e[0],"chainId"),nonce:D0(e[1],"nonce"),maxPriorityFeePerGas:kr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kr(e[4],"gasLimit"),to:oy(e[5]),value:kr(e[6],"value"),data:wt(e[7]),accessList:yS(e[8],"accessList")};return e.length===9||wS(n,e.slice(9)),n}function f4e(t,e){const n=[Wn(t.chainId,"chainId"),Wn(t.nonce,"nonce"),Wn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wn(t.maxFeePerGas||0,"maxFeePerGas"),Wn(t.gasLimit,"gasLimit"),t.to||"0x",Wn(t.value,"value"),t.data,bS(t.accessList||[])];return e&&(n.push(Wn(e.yParity,"yParity")),n.push(Xs(e.r)),n.push(Xs(e.s))),As(["0x02",sh(n)])}function h4e(t){const e=cx(Ln(t).slice(1));Ne(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",wt(t));const n={type:1,chainId:kr(e[0],"chainId"),nonce:D0(e[1],"nonce"),gasPrice:kr(e[2],"gasPrice"),gasLimit:kr(e[3],"gasLimit"),to:oy(e[4]),value:kr(e[5],"value"),data:wt(e[6]),accessList:yS(e[7],"accessList")};return e.length===8||wS(n,e.slice(8)),n}function p4e(t,e){const n=[Wn(t.chainId,"chainId"),Wn(t.nonce,"nonce"),Wn(t.gasPrice||0,"gasPrice"),Wn(t.gasLimit,"gasLimit"),t.to||"0x",Wn(t.value,"value"),t.data,bS(t.accessList||[])];return e&&(n.push(Wn(e.yParity,"recoveryParam")),n.push(Xs(e.r)),n.push(Xs(e.s))),As(["0x01",sh(n)])}function g4e(t){let e=cx(Ln(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];Ne(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),Ne(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),Ne(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),Ne(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),Ne(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:i[l],commitment:o[l],proof:a[l]});e=e[0]}Ne(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",wt(t));const s={type:3,chainId:kr(e[0],"chainId"),nonce:D0(e[1],"nonce"),maxPriorityFeePerGas:kr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kr(e[4],"gasLimit"),to:oy(e[5]),value:kr(e[6],"value"),data:wt(e[7]),accessList:yS(e[8],"accessList"),maxFeePerBlobGas:kr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),Ne(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),Ne(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)Ne(zr(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||wS(s,e.slice(11)),s}function m4e(t,e,n){const r=[Wn(t.chainId,"chainId"),Wn(t.nonce,"nonce"),Wn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wn(t.maxFeePerGas||0,"maxFeePerGas"),Wn(t.gasLimit,"gasLimit"),t.to||yv,Wn(t.value,"value"),t.data,bS(t.accessList||[]),Wn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),c4e(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Wn(e.yParity,"yParity")),r.push(Xs(e.r)),r.push(Xs(e.s)),n)?As(["0x03",sh([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):As(["0x03",sh(r)])}function y4e(t){const e=cx(Ln(t).slice(1));Ne(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",wt(t));const n={type:4,chainId:kr(e[0],"chainId"),nonce:D0(e[1],"nonce"),maxPriorityFeePerGas:kr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kr(e[4],"gasLimit"),to:oy(e[5]),value:kr(e[6],"value"),data:wt(e[7]),accessList:yS(e[8],"accessList"),authorizationList:o4e(e[9],"authorizationList")};return e.length===10||wS(n,e.slice(10)),n}function b4e(t,e){const n=[Wn(t.chainId,"chainId"),Wn(t.nonce,"nonce"),Wn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wn(t.maxFeePerGas||0,"maxFeePerGas"),Wn(t.gasLimit,"gasLimit"),t.to||"0x",Wn(t.value,"value"),t.data,bS(t.accessList||[]),a4e(t.authorizationList||[])];return e&&(n.push(Wn(e.yParity,"yParity")),n.push(Xs(e.r)),n.push(Xs(e.s))),As(["0x04",sh(n)])}class Qc{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;#c;#u;#f;#h;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:Ne(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?yv:e}set to(e){this.#t=e==null?null:Er(e)}get nonce(){return this.#r}set nonce(e){this.#r=Tn(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=Ot(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?di:e}set gasPrice(e){this.#o=e==null?null:Ot(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#i;return e??(this.type===2||this.type===3?di:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:Ot(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?di:null)}set maxFeePerGas(e){this.#a=e==null?null:Ot(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=wt(e)}get value(){return this.#d}set value(e){this.#d=Ot(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=Ot(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:xs.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:B0(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>NY(n))}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?di:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Ot(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Ne(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)Ne(zr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(tk(i)){Xe(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ln(i);if(Ne(o.length<=CR,"blob is too large",`blobs[${s}]`,i),o.length!==CR){const c=new Uint8Array(CR);c.set(o),o=c}const a=this.#f.blobToKzgCommitment(o),l=wt(this.#f.computeBlobKzgProof(o,a));n.push({data:wt(o),commitment:wt(a),proof:l}),r.push(s$(1,a))}else{const o=wt(i.commitment);n.push({data:wt(i.data),commitment:o,proof:wt(i.proof)}),r.push(s$(1,o))}}this.#h=n,this.#u=r}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=i4e(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#s=di,this.#o=null,this.#i=null,this.#a=null,this.#n="0x",this.#d=di,this.#l=di,this.#p=null,this.#g=null,this.#c=null,this.#u=null,this.#f=null,this.#h=null,this.#y=null}get hash(){return this.signature==null?null:js(this.#m(!0,!1))}get unsignedHash(){return js(this.unsignedSerialized)}get from(){return this.signature==null?null:XIe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:fd.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,n){Xe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return u4e(this,r);case 1:return p4e(this,r);case 2:return f4e(this,r);case 3:return m4e(this,r,n?this.blobs:null);case 4:return b4e(this,r)}Xe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Xe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Xe(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Xe(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Qc.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Qc;if(typeof e=="string"){const r=Ln(e);if(r[0]>=127)return Qc.from(l4e(r));switch(r[0]){case 1:return Qc.from(h4e(r));case 2:return Qc.from(d4e(r));case 3:return Qc.from(g4e(r));case 4:return Qc.from(y4e(r))}Xe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Qc;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=xs.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(Ne(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Ne(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Ne(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Ne(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function p0(t){return js(ru(t))}var w4e="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const i$=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),o$=4;function v4e(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let T=1;T<r;T++)i.push(s+=n());let o=n(),a=e;e+=o;let l=0,c=0;function d(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,p=2**f,g=p>>>1,b=g>>1,w=p-1;let m=0;for(let T=0;T<f;T++)m=m<<1|d();let v=[],x=0,C=p;for(;;){let T=Math.floor(((m-x+1)*s-1)/C),R=0,_=r;for(;_-R>1;){let D=R+_>>>1;T<i[D]?_=D:R=D}if(R==0)break;v.push(R);let N=x+Math.floor(C*i[R]/s),O=x+Math.floor(C*i[R+1]/s)-1;for(;((N^O)&g)==0;)m=m<<1&w|d(),N=N<<1&w,O=O<<1&w|1;for(;N&~O&b;)m=m&g|m<<1&w>>>1|d(),N=N<<1^g,O=(O^g)<<1|g|1;x=N,C=1+O-N}let S=r-4;return v.map(T=>{switch(T-S){case 3:return S+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return S+256+(t[a++]<<8|t[a++]);case 1:return S+t[a++];default:return T-1}})}function x4e(t){let e=0;return()=>t[e++]}function TY(t){return x4e(v4e(E4e(t)))}function E4e(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function A4e(t){return t&1?~t>>1:t>>1}function C4e(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=A4e(e());return n}function bv(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function RY(t){return wv(()=>{let e=bv(t);if(e.length)return e})}function PY(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(S4e(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(_4e(n,t))}return e.flat()}function wv(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function OY(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)C4e(t,n).forEach((i,o)=>r[o].push(i));return r}function S4e(t,e){let n=1+e(),r=e(),s=wv(e);return OY(s.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(s[a]).fill().map((d,f)=>{let p=f*r;return[l+f*n,c.map(g=>g+p)]})})}function _4e(t,e){let n=1+e();return OY(n,1+t,e).map(s=>[s[0],s.slice(1)])}function N4e(t){let e=[],n=bv(t);return s(r([]),[]),e;function r(i){let o=t(),a=wv(()=>{let l=bv(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,l){if(!(i&4&&l===a[a.length-1])){i&2&&(l=a[a.length-1]),i&1&&e.push(a);for(let c of o)for(let d of c.Q)s(c,[...a,d],l)}}}function T4e(t){return t.toString(16).toUpperCase().padStart(2,"0")}function IY(t){return`{${T4e(t)}}`}function R4e(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Bm(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function P4e(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var O4e="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const vv=44032,Y2=4352,J2=4449,Z2=4519,kY=19,BY=21,Dm=28,X2=BY*Dm,I4e=kY*X2,k4e=vv+I4e,B4e=Y2+kY,D4e=J2+BY,M4e=Z2+Dm;function t1(t){return t>>24&255}function DY(t){return t&16777215}let IO,a$,kO,t2;function U4e(){let t=TY(O4e);IO=new Map(RY(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),a$=new Set(bv(t)),kO=new Map,t2=new Map;for(let[e,n]of PY(t)){if(!a$.has(e)&&n.length==2){let[r,s]=n,i=t2.get(r);i||(i=new Map,t2.set(r,i)),i.set(s,e)}kO.set(e,n.reverse())}}function MY(t){return t>=vv&&t<k4e}function L4e(t,e){if(t>=Y2&&t<B4e&&e>=J2&&e<D4e)return vv+(t-Y2)*X2+(e-J2)*Dm;if(MY(t)&&e>Z2&&e<M4e&&(t-vv)%Dm==0)return t+(e-Z2);{let n=t2.get(t);return n&&(n=n.get(e),n)?n:-1}}function UY(t){IO||U4e();let e=[],n=[],r=!1;function s(i){let o=IO.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(MY(i)){let o=i-vv,a=o/X2|0,l=o%X2/Dm|0,c=o%Dm;s(Y2+a),s(J2+l),c>0&&s(Z2+c)}else{let o=kO.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=t1(e[0]);for(let o=1;o<e.length;o++){let a=t1(e[o]);if(a==0||i<=a){i=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(i=t1(e[--l]),i<=a))break}i=t1(e[o])}}return e}function j4e(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=t1(i),a=DY(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let l=L4e(r,a);l>=0?r=l:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function LY(t){return UY(t).map(DY)}function F4e(t){return j4e(UY(t))}const c$=45,jY=".",FY=65039,$Y=1,eC=t=>Array.from(t);function xv(t,e){return t.P.has(e)||t.Q.has(e)}class $4e extends Array{get is_emoji(){return!0}}let BO,HY,zp,DO,zY,dm,SR,Qg,_p,l$,MO;function fk(){if(BO)return;let t=TY(w4e);const e=()=>bv(t),n=()=>new Set(e()),r=(d,f)=>f.forEach(p=>d.add(p));BO=new Map(PY(t)),HY=n(),zp=e(),DO=new Set(e().map(d=>zp[d])),zp=new Set(zp),zY=n(),n();let s=RY(t),i=t();const o=()=>{let d=new Set;return e().forEach(f=>r(d,s[f])),r(d,e()),d};dm=wv(d=>{let f=wv(t).map(p=>p+96);if(f.length){let p=d>=i;f[0]-=32,f=Bm(f),p&&(f=`Restricted[${f}]`);let g=o(),b=o(),w=!t();return{N:f,P:g,Q:b,M:w,R:p}}}),SR=n(),Qg=new Map;let a=e().concat(eC(SR)).sort((d,f)=>d-f);a.forEach((d,f)=>{let p=t(),g=a[f]=p?a[f-p]:{V:[],M:new Map};g.V.push(d),SR.has(d)||Qg.set(d,g)});for(let{V:d,M:f}of new Set(Qg.values())){let p=[];for(let b of d){let w=dm.filter(v=>xv(v,b)),m=p.find(({G:v})=>w.some(x=>v.has(x)));m||(m={G:new Set,V:[]},p.push(m)),m.V.push(b),r(m.G,w)}let g=p.flatMap(b=>eC(b.G));for(let{G:b,V:w}of p){let m=new Set(g.filter(v=>!b.has(v)));for(let v of w)f.set(v,m)}}_p=new Set;let l=new Set;const c=d=>_p.has(d)?l.add(d):_p.add(d);for(let d of dm){for(let f of d.P)c(f);for(let f of d.Q)c(f)}for(let d of _p)!Qg.has(d)&&!l.has(d)&&Qg.set(d,$Y);r(_p,LY(_p)),l$=N4e(t).map(d=>$4e.from(d)).sort(P4e),MO=new Map;for(let d of l$){let f=[MO];for(let p of d){let g=f.map(b=>{let w=b.get(p);return w||(w=new Map,b.set(p,w)),w});p===FY?f.push(...g):f=g}for(let p of f)p.V=d}}function hk(t){return(qY(t)?"":`${pk(vS([t]))} `)+IY(t)}function pk(t){return`"${t}"`}function H4e(t){if(t.length>=4&&t[2]==c$&&t[3]==c$)throw new Error(`invalid label extension: "${Bm(t.slice(0,4))}"`)}function z4e(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function q4e(t){let e=t[0],n=i$.get(e);if(n)throw x1(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=i$.get(e);if(o){if(s==i)throw x1(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw x1(`trailing ${n}`)}function vS(t,e=1/0,n=IY){let r=[];V4e(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];qY(a)&&(r.push(Bm(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(Bm(t.slice(s,i))),r.join("")}function V4e(t){return fk(),zp.has(t)}function qY(t){return fk(),zY.has(t)}function G4e(t){return Y4e(K4e(t,F4e,X4e))}function K4e(t,e,n){if(!t)return[];fk();let r=0;return t.split(jY).map(s=>{let i=R4e(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=Z4e(i,e,n),l=a.length,c;if(!l)throw new Error("empty label");let d=o.output=a.flat();if(z4e(d),!(o.emoji=l>1||a[0].is_emoji)&&d.every(p=>p<128))H4e(d),c="ASCII";else{let p=a.flatMap(g=>g.is_emoji?[]:g);if(!p.length)c="Emoji";else{if(zp.has(d[0]))throw x1("leading combining mark");for(let w=1;w<l;w++){let m=a[w];if(!m.is_emoji&&zp.has(m[0]))throw x1(`emoji + combining mark: "${Bm(a[w-1])} + ${vS([m[0]])}"`)}q4e(d);let g=eC(new Set(p)),[b]=Q4e(g);J4e(b,p),W4e(b,g),c=b.N}}o.type=c}catch(a){o.error=a}return o})}function W4e(t,e){let n,r=[];for(let s of e){let i=Qg.get(s);if(i===$Y)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):eC(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>xv(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function Q4e(t){let e=dm;for(let n of t){let r=e.filter(s=>xv(s,n));if(!r.length)throw dm.some(s=>xv(s,n))?GY(e[0],n):VY(n);if(e=r,r.length==1)break}return e}function Y4e(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${pk(vS(e,63))}: ${s}`)}return Bm(r)}).join(jY)}function VY(t){return new Error(`disallowed character: ${hk(t)}`)}function GY(t,e){let n=hk(e),r=dm.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function x1(t){return new Error(`illegal placement: ${t}`)}function J4e(t,e){for(let n of e)if(!xv(t,n))throw GY(t,n);if(t.M){let n=LY(e);for(let r=1,s=n.length;r<s;r++)if(DO.has(n[r])){let i=r+1;for(let o;i<s&&DO.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${hk(o)}`);if(i-r>o$)throw new Error(`excessive non-spacing marks: ${pk(vS(n.slice(r-1,i)))} (${i-r}/${o$})`);r=i}}}function Z4e(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=eke(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(_p.has(o))s.push(o);else{let a=BO.get(o);if(a)s.push(...a);else if(!HY.has(o))throw VY(o)}}}return s.length&&r.push(e(s)),r}function X4e(t){return t.filter(e=>e!=FY)}function eke(t,e){let n=MO,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const KY=new Uint8Array(32);KY.fill(0);function u$(t){return Ne(t.length!==0,"invalid ENS name; empty component","comp",t),t}function WY(t){const e=ru(tke(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(u$(e.slice(r,s))),r=s+1);return Ne(r<e.length,"invalid ENS name; empty component","name",t),n.push(u$(e.slice(r))),n}function tke(t){try{if(t.length===0)throw new Error("empty label");return G4e(t)}catch(e){Ne(!1,`invalid ENS name (${e.message})`,"name",t)}}function UO(t){Ne(typeof t=="string","invalid ENS name; not a string","name",t),Ne(t.length,"invalid ENS name (empty label)","name",t);let e=KY;const n=WY(t);for(;n.length;)e=js(As([e,js(n.pop())]));return wt(e)}function nke(t,e){const n=e;return Ne(n<=255,"DNS encoded label cannot exceed 255","length",n),wt(As(WY(t).map(r=>{Ne(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const QY=new Uint8Array(32);QY.fill(0);const rke=BigInt(-1),YY=BigInt(0),JY=BigInt(1),ske=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ike(t){const e=Ln(t),n=e.length%32;return n?As([e,QY.slice(n)]):wt(e)}const oke=rh(JY,32),ake=rh(YY,32),d$={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_R=["name","version","chainId","verifyingContract","salt"];function f$(t){return function(e){return Ne(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const cke={name:f$("name"),version:f$("version"),chainId:function(t){const e=Ot(t,"domain.chainId");return Ne(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Jc(e)},verifyingContract:function(t){try{return Er(t).toLowerCase()}catch{}Ne(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ln(t,"domain.salt");return Ne(e.length===32,'invalid domain value "salt"',"domain.salt",t),wt(e)}};function NR(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);Ne(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=$p(ske,n?r-1:r),i=n?(s+JY)*rke:YY;return function(o){const a=Ot(o,"value");return Ne(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),rh(n?MQ(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return Ne(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=Ln(r);return Ne(s.length===n,`invalid length for ${t}`,"value",r),ike(r)}}}switch(t){case"address":return function(e){return Nd(Er(e),32)};case"bool":return function(e){return e?oke:ake};case"bytes":return function(e){return js(e)};case"string":return function(e){return p0(e)}}return null}function h$(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function xA(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Ca{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:c,type:d})=>{let{base:f,index:p}=xA(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:c,type:f+(p||"")}}),n.set(l,new Set),r.set(l,[]),s.set(l,new Set)}),this.#e=JSON.stringify(i);for(const l in i){const c=new Set;for(const d of i[l]){Ne(!c.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),c.add(d.name);const f=xA(d.type).base;Ne(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!NR(f)&&(Ne(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(l),n.get(l).add(f))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);Ne(o.length!==0,"missing primary type","types",e),Ne(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Xt(this,{primaryType:o[0]});function a(l,c){Ne(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const d of n.get(l))if(r.has(d)){a(d,c);for(const f of c)s.get(f).add(d)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of s){const d=Array.from(c);d.sort(),this.#t.set(l,h$(l,i[l])+d.map(f=>h$(f,i[f])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const s=NR(e);if(s)return s}const n=xA(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{Ne(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return this.#t.has(s)&&(a=a.map(js)),js(As(a))}}const r=this.types[e];if(r){const s=p0(this.#t.get(e));return i=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(i[a]);return this.#t.has(l)?js(c):c});return o.unshift(s),As(o)}}Ne(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return Ne(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return js(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(NR(e))return r(e,n);const s=xA(e).array;if(s)return Ne(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});Ne(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ca(e)}static getPrimaryType(e){return Ca.from(e).primaryType}static hashStruct(e,n,r){return Ca.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=d$[r];Ne(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>_R.indexOf(r.name)-_R.indexOf(s.name)),Ca.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return As(["0x1901",Ca.hashDomain(e),Ca.from(n).hash(r)])}static hash(e,n,r){return js(Ca.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!zr(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Ca.from(n);o.visit(r,(a,l)=>(a==="address"&&!zr(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Ca.hashDomain(e);const s={},i=[];_R.forEach(l=>{const c=e[l];c!=null&&(s[l]=cke[l](c),i.push({name:l,type:d$[l]}))});const o=Ca.from(n);n=o.types;const a=Object.assign({},n);return Ne(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return wt(Ln(c));if(l.match(/^u?int/))return Ot(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return Ne(typeof c=="string","invalid string","value",c),c}Ne(!1,"unsupported type","type",l)})}}}function go(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const lke="external public payable override",uke=go(lke.split(" ")),ZY="constant external internal payable private public pure view override",dke=go(ZY.split(" ")),XY="constructor error event fallback function receive struct",eJ=go(XY.split(" ")),tJ="calldata memory storage payable indexed",fke=go(tJ.split(" ")),hke="tuple returns",pke=[XY,tJ,hke,ZY].join(" "),gke=go(pke.split(" ")),mke={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},yke=new RegExp("^(\\s*)"),bke=new RegExp("^([0-9]+)"),wke=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),nJ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),rJ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class wc{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new wc(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new wc(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function fh(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(yke);a&&(i+=a[1].length,o=t.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let c=mke[o[0]]||"";if(c){if(l.type=c,l.text=o[0],i++,c==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=Tn(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(a=o.match(wke),a){if(l.text=a[1],i+=l.text.length,gke.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(rJ)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(bke),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new wc(e.map(o=>Object.freeze(o)))}function p$(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function xS(t,e){if(e.peekKeyword(eJ)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Td(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function sJ(t){let e=Td(t,dke);return p$(e,go("constant payable nonpayable".split(" "))),p$(e,go("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function xd(t,e){return t.popParams().map(n=>Kr.from(n,e))}function iJ(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ot(t.pop().text);throw new Error("invalid gas")}return null}function g0(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const vke=new RegExp(/^(.*)\[([0-9]*)\]$/);function g$(t){const e=t.match(rJ);if(Ne(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);Ne(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);Ne(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const fs={},Yo=Symbol.for("_ethers_internal"),m$="_ParamTypeInternal",y$="_ErrorInternal",b$="_EventInternal",w$="_ConstructorInternal",v$="_FallbackInternal",x$="_FunctionInternal",E$="_StructInternal";class Kr{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,s,i,o,a,l){if(ax(e,fs,"ParamType"),Object.defineProperty(this,Yo,{value:m$}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Xt(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}#e(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{o.#e(e,l,r,d=>{a[c]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{o[c].#e(e,l,r,d=>{a[c]=d})}),s(a);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)}async walkAsync(e,n){const r=[],s=[e];return this.#e(r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(Kr.isParamType(e))return e;if(typeof e=="string")try{return Kr.from(fh(e),n)}catch{Ne(!1,"invalid param type","obj",e)}else if(e instanceof wc){let a="",l="",c=null;Td(e,go(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(w=>Kr.from(w)),a=`tuple(${c.map(w=>w.format()).join(",")})`):(a=g$(e.popType("TYPE")),l=a);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const w=e.pop();d=new Kr(fs,"",a,l,null,c,f,d),f=w.value,a+=w.text,l="array",c=null}let p=null;if(Td(e,fke).has("indexed")){if(!n)throw new Error("");p=!0}const b=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Kr(fs,b,a,l,p,c,f,d)}const r=e.name;Ne(!r||typeof r=="string"&&r.match(nJ),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(Ne(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(vke);if(o){const a=parseInt(o[2]||"-1"),l=Kr.from({type:o[1],components:e.components});return new Kr(fs,r||"",i,"array",s,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(c=>Kr.from(c)):null;return new Kr(fs,r||"",i,"tuple",s,a,null,null)}return i=g$(e.type),new Kr(fs,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Yo]===m$}}class m0{type;inputs;constructor(e,n,r){ax(e,fs,"Fragment"),r=Object.freeze(r.slice()),Xt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{m0.from(JSON.parse(e))}catch{}return m0.from(fh(e))}if(e instanceof wc)switch(e.peekKeyword(eJ)){case"constructor":return md.from(e);case"error":return Ho.from(e);case"event":return Kl.from(e);case"fallback":case"receive":return ud.from(e);case"function":return Wl.from(e);case"struct":return Jp.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return md.from(e);case"error":return Ho.from(e);case"event":return Kl.from(e);case"fallback":case"receive":return ud.from(e);case"function":return Wl.from(e);case"struct":return Jp.from(e)}Xe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Ne(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return md.isFragment(e)}static isError(e){return Ho.isFragment(e)}static isEvent(e){return Kl.isFragment(e)}static isFunction(e){return Wl.isFragment(e)}static isStruct(e){return Jp.isFragment(e)}}class ES extends m0{name;constructor(e,n,r,s){super(e,n,s),Ne(typeof r=="string"&&r.match(nJ),"invalid identifier","name",r),s=Object.freeze(s.slice()),Xt(this,{name:r})}}function Ev(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Ho extends ES{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Yo,{value:y$})}get selector(){return p0(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Ev(e,this.inputs)),n.join(" ")}static from(e){if(Ho.isFragment(e))return e;if(typeof e=="string")return Ho.from(fh(e));if(e instanceof wc){const n=xS("error",e),r=xd(e);return g0(e),new Ho(fs,n,r)}return new Ho(fs,e.name,e.inputs?e.inputs.map(Kr.from):[])}static isFragment(e){return e&&e[Yo]===y$}}class Kl extends ES{anonymous;constructor(e,n,r,s){super(e,"event",n,r),Object.defineProperty(this,Yo,{value:b$}),Xt(this,{anonymous:s})}get topicHash(){return p0(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Ev(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(s=>Kr.from(s)),new Kl(fs,e,n,!1).topicHash}static from(e){if(Kl.isFragment(e))return e;if(typeof e=="string")try{return Kl.from(fh(e))}catch{Ne(!1,"invalid event fragment","obj",e)}else if(e instanceof wc){const n=xS("event",e),r=xd(e,!0),s=!!Td(e,go(["anonymous"])).has("anonymous");return g0(e),new Kl(fs,n,r,s)}return new Kl(fs,e.name,e.inputs?e.inputs.map(n=>Kr.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Yo]===b$}}class md extends m0{payable;gas;constructor(e,n,r,s,i){super(e,n,r),Object.defineProperty(this,Yo,{value:w$}),Xt(this,{payable:s,gas:i})}format(e){if(Xe(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${Ev(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(md.isFragment(e))return e;if(typeof e=="string")try{return md.from(fh(e))}catch{Ne(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof wc){Td(e,go(["constructor"]));const n=xd(e),r=!!Td(e,uke).has("payable"),s=iJ(e);return g0(e),new md(fs,"constructor",n,r,s)}return new md(fs,"constructor",e.inputs?e.inputs.map(Kr.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yo]===w$}}class ud extends m0{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Yo,{value:v$}),Xt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(ud.isFragment(e))return e;if(typeof e=="string")try{return ud.from(fh(e))}catch{Ne(!1,"invalid fallback fragment","obj",e)}else if(e instanceof wc){const n=e.toString(),r=e.peekKeyword(go(["fallback","receive"]));if(Ne(r,"type must be fallback or receive","obj",n),e.popKeyword(go(["fallback","receive"]))==="receive"){const a=xd(e);return Ne(a.length===0,"receive cannot have arguments","obj.inputs",a),Td(e,go(["payable"])),g0(e),new ud(fs,[],!0)}let i=xd(e);i.length?Ne(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[Kr.from("bytes")];const o=sJ(e);if(Ne(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Td(e,go(["returns"])).has("returns")){const a=xd(e);Ne(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return g0(e),new ud(fs,i,o==="payable")}if(e.type==="receive")return new ud(fs,[],!0);if(e.type==="fallback"){const n=[Kr.from("bytes")],r=e.stateMutability==="payable";return new ud(fs,n,r)}Ne(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Yo]===v$}}class Wl extends ES{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,s,i,o){super(e,"function",n,s),Object.defineProperty(this,Yo,{value:x$}),i=Object.freeze(i.slice()),Xt(this,{constant:r==="view"||r==="pure",gas:o,outputs:i,payable:r==="payable",stateMutability:r})}get selector(){return p0(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Ev(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Ev(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(s=>Kr.from(s)),new Wl(fs,e,"view",n,[],null).selector}static from(e){if(Wl.isFragment(e))return e;if(typeof e=="string")try{return Wl.from(fh(e))}catch{Ne(!1,"invalid function fragment","obj",e)}else if(e instanceof wc){const r=xS("function",e),s=xd(e),i=sJ(e);let o=[];Td(e,go(["returns"])).has("returns")&&(o=xd(e));const a=iJ(e);return g0(e),new Wl(fs,r,i,s,o,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Wl(fs,e.name,n,e.inputs?e.inputs.map(Kr.from):[],e.outputs?e.outputs.map(Kr.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yo]===x$}}class Jp extends ES{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Yo,{value:E$})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Jp.from(fh(e))}catch{Ne(!1,"invalid struct fragment","obj",e)}else if(e instanceof wc){const n=xS("struct",e),r=xd(e);return g0(e),new Jp(fs,n,r)}return new Jp(fs,e.name,e.inputs?e.inputs.map(Kr.from):[])}static isFragment(e){return e&&e[Yo]===E$}}const wl=new Map;wl.set(0,"GENERIC_PANIC");wl.set(1,"ASSERT_FALSE");wl.set(17,"OVERFLOW");wl.set(18,"DIVIDE_BY_ZERO");wl.set(33,"ENUM_RANGE_ERROR");wl.set(34,"BAD_STORAGE_DATA");wl.set(49,"STACK_UNDERFLOW");wl.set(50,"ARRAY_RANGE_ERROR");wl.set(65,"OUT_OF_MEMORY");wl.set(81,"UNINITIALIZED_FUNCTION_CALL");const xke=new RegExp(/^bytes([0-9]*)$/),Eke=new RegExp(/^(u?int)([0-9]*)$/);let TR=null,A$=1024;function Ake(t,e,n,r){let s="missing revert data",i=null;const o=null;let a=null;if(n){s="execution reverted";const c=Ln(n);if(n=wt(n),c.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(wt(c.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(wt(c.slice(0,4))==="0x4e487b71")try{const d=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[d]},i=`Panic due to ${wl.get(d)||"UNKNOWN"}(${d})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const l={to:e.to?Er(e.to):null,data:e.data||"0x"};return e.from&&(l.from=Er(e.from)),as(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:l,invocation:o,revert:a})}class Mm{#e(e){if(e.isArray())return new $Ie(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new vA(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new jIe(e.name);case"bool":return new HIe(e.name);case"string":return new JIe(e.name);case"bytes":return new zIe(e.name);case"":return new GIe(e.name)}let n=e.type.match(Eke);if(n){let r=parseInt(n[2]||"256");return Ne(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new YIe(r/8,n[1]==="int",e.name)}if(n=e.type.match(xke),n){let r=parseInt(n[1]);return Ne(r!==0&&r<=32,"invalid bytes length","param",e),new qIe(r,e.name)}Ne(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(s=>this.#e(Kr.from(s)));return new vA(n,"_").defaultValue()}encode(e,n){kQ(n.length,e.length,"types/values length mismatch");const r=e.map(o=>this.#e(Kr.from(o))),s=new vA(r,"_"),i=new _O;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>this.#e(Kr.from(o)));return new vA(s,"_").decode(new nk(n,r,A$))}static _setDefaultMaxInflation(e){Ne(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),A$=e}static defaultAbiCoder(){return TR==null&&(TR=new Mm),TR}static getBuiltinCallException(e,n,r){return Ake(e,n,r,Mm.defaultAbiCoder())}}class Cke{fragment;name;signature;topic;args;constructor(e,n,r){const s=e.name,i=e.format();Xt(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class Ske{fragment;name;args;signature;selector;value;constructor(e,n,r,s){const i=e.name,o=e.format();Xt(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class _ke{fragment;name;args;signature;selector;constructor(e,n,r){const s=e.name,i=e.format();Xt(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class C${hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Xt(this,{hash:e,_isIndexed:!0})}}const S$={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},_$={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&S$[t.toString()]&&(e=S$[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Ip{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const o of n)try{r.push(m0.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Xt(this,{fragments:Object.freeze(r)});let s=null,i=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Xt(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(Ne(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||Xt(this,{deploy:md.from("constructor()")}),Xt(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Mm.defaultAbiCoder()}#s(e,n,r){if(zr(e)){const i=e.toLowerCase();for(const o of this.#n.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#n)o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;Es.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=i.length-1;c>=0;c--){const d=i[c].inputs.length;d!==a&&(!l||d!==a-1)&&i.splice(c,1)}for(let c=i.length-1;c>=0;c--){const d=i[c].inputs;for(let f=0;f<n.length;f++)if(Es.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;i.splice(c,1);break}if(n[f].type!==d[f].baseType){i.splice(c,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");Ne(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=this.#n.get(Wl.from(e).format());return s||null}getFunctionName(e){const n=this.#s(e,null,!1);return Ne(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,n){return this.#s(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(this.#n.get(s),r)}}#o(e,n,r){if(zr(e)){const i=e.toLowerCase();for(const o of this.#t.values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let l=0;l<n.length;l++)if(Es.isTyped(n[l])&&n[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");Ne(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=this.#t.get(Kl.from(e).format());return s||null}getEventName(e){const n=this.#o(e,null,!1);return Ne(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(this.#t.get(s),r)}}getError(e,n){if(zr(e)){const s=e.toLowerCase();if(_$[s])return Ho.from(_$[s].signature);for(const i of this.#e.values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of this.#e)i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Ho.from("error Error(string)"):e==="Panic"?Ho.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");Ne(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Ho.from(e).format(),e==="Error(string)")return Ho.from("error Error(string)");if(e==="Panic(uint256)")return Ho.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(this.#e.get(s),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);Ne(r,"unknown error","fragment",e),e=r}return Ne(vs(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,vs(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);Ne(r,"unknown error","fragment",e),e=r}return As([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);Ne(r,"unknown function","fragment",e),e=r}return Ne(vs(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,vs(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);Ne(r,"unknown function","fragment",e),e=r}return As([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);Ne(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=fo(n);if(s.length%32===0)try{return this.#r.decode(e.outputs,s)}catch{r="could not decode result data"}Xe(!1,r,"BAD_DATA",{value:wt(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Ln(e,"data"),s=Mm.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=wt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));s.revert={name:l.name,signature:l.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);Ne(r,"unknown function","fragment",e),e=r}return wt(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);Ne(i,"unknown event","eventFragment",e),e=i}Xe(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?p0(o):i.type==="bytes"?js(wt(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=rh(o):i.type.match(/^bytes/)?o=HPe(o,32):i.type==="address"&&this.#r.encode(["address"],[o]),Nd(wt(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){Ne(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?Ne(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(l=>s(a,l))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);Ne(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),Ne(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(p0(l));else if(o.type==="bytes")r.push(js(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([o.type],[l]))}else s.push(o),i.push(l)}),{data:this.#r.encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);Ne(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;Ne(zr(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((g,b)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push(Kr.from({type:"bytes32",name:g.name})),o.push(!0)):(s.push(g),o.push(!1)):(i.push(g),o.push(!1))});const a=r!=null?this.#r.decode(s,As(r)):null,l=this.#r.decode(i,n,!0),c=[],d=[];let f=0,p=0;return e.inputs.forEach((g,b)=>{let w=null;if(g.indexed)if(a==null)w=new C$(null);else if(o[b])w=new C$(a[p++]);else try{w=a[p++]}catch(m){w=m}else try{w=l[f++]}catch(m){w=m}c.push(w),d.push(g.name||null)}),gd.fromItems(c,d)}parseTransaction(e){const n=Ln(e.data,"tx.data"),r=Ot(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(wt(n.slice(0,4)));if(!s)return null;const i=this.#r.decode(s.inputs,n.slice(4));return new Ske(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Cke(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=wt(e),r=this.getError(vs(n,0,4));if(!r)return null;const s=this.#r.decode(r.inputs,vs(n,4));return new _ke(r,r.selector,s)}static from(e){return e instanceof Ip?e:typeof e=="string"?new Ip(JSON.parse(e)):typeof e.formatJson=="function"?new Ip(e.formatJson()):typeof e.format=="function"?new Ip(e.format("json")):new Ip(e)}}const oJ=BigInt(0);function fm(t){return t??null}function Ps(t){return t==null?null:t.toString()}class N${gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Xt(this,{gasPrice:fm(e),maxFeePerGas:fm(n),maxPriorityFeePerGas:fm(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ps(e),maxFeePerGas:Ps(n),maxPriorityFeePerGas:Ps(r)}}}function tC(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=wt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=Ot(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Tn(t[s],`request.${s}`));return t.accessList&&(e.accessList=B0(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>tk(s)?wt(s):Object.assign({},s))),e}class Nke{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new dx(r,n):r),Xt(this,{provider:n,hash:fm(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:fm(e.prevRandao),extraData:e.extraData,baseFeePerGas:fm(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(Xe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:l,nonce:c,number:d,parentHash:f,parentBeaconBlockRoot:p,stateRoot:g,receiptsRoot:b,timestamp:w,transactions:m}=this;return{_type:"Block",baseFeePerGas:Ps(e),difficulty:Ps(n),extraData:r,gasLimit:Ps(s),gasUsed:Ps(i),blobGasUsed:Ps(this.blobGasUsed),excessBlobGas:Ps(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:d,parentHash:f,timestamp:w,parentBeaconBlockRoot:p,stateRoot:g,receiptsRoot:b,transactions:m}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const s of this.#e)if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;Ne(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Tke(this)}}class ux{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());Xt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Xe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Xe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Xe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Rke(this)}}class aJ{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(s=>new ux(s,n)));let r=oJ;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Xt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Ps(this.cumulativeGasUsed),from:n,gasPrice:Ps(this.gasPrice),blobGasUsed:Ps(this.blobGasUsed),blobGasPrice:Ps(this.blobGasPrice),gasUsed:Ps(this.gasUsed),hash:s,index:i,logs:c,logsBloom:l,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return lJ(this)}reorderedEvent(e){return Xe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),cJ(this,e)}}class dx{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:a,nonce:l,data:c,signature:d,accessList:f,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:p,chainId:Ps(this.chainId),data:c,from:a,gasLimit:Ps(this.gasLimit),gasPrice:Ps(this.gasPrice),hash:s,maxFeePerGas:Ps(this.maxFeePerGas),maxPriorityFeePerGas:Ps(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ps(this.maxFeePerBlobGas),nonce:l,signature:d,to:o,index:r,type:i,value:Ps(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await co({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=this.#e,o=-1,a=i===-1;const l=async()=>{if(a)return null;const{blockNumber:p,nonce:g}=await co({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){i=p;return}if(a)return null;const b=await this.getTransaction();if(!(b&&b.blockNumber!=null))for(o===-1&&(o=i-3,o<this.#e&&(o=this.#e));o<=p;){if(a)return null;const w=await this.provider.getBlock(o,!0);if(w==null)return;for(const m of w)if(m===this.hash)return;for(let m=0;m<w.length;m++){const v=await w.getTransaction(m);if(v.from===this.from&&v.nonce===this.nonce){if(a)return null;const x=await this.provider.getTransactionReceipt(v.hash);if(x==null||p-x.blockNumber+1<r)return;let C="replaced";v.data===this.data&&v.to===this.to&&v.value===this.value?C="repriced":v.data==="0x"&&v.from===v.to&&v.value===oJ&&(C="cancelled"),Xe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:v.replaceableTransaction(i),hash:v.hash,receipt:x})}}o++}},c=p=>{if(p==null||p.status!==0)return p;Xe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(d);if(d){if(r===1||await d.confirmations()>=r)return c(d)}else if(await l(),r===0)return null;return await new Promise((p,g)=>{const b=[],w=()=>{b.forEach(v=>v())};if(b.push(()=>{a=!0}),s>0){const v=setTimeout(()=>{w(),g(as("wait for transaction timeout","TIMEOUT"))},s);b.push(()=>{clearTimeout(v)})}const m=async v=>{if(await v.confirmations()>=r){w();try{p(c(v))}catch(x){g(x)}}};if(b.push(()=>{this.provider.off(this.hash,m)}),this.provider.on(this.hash,m),i>=0){const v=async()=>{try{await l()}catch(x){if(Ii(x,"TRANSACTION_REPLACED")){w(),g(x);return}}a||this.provider.once("block",v)};b.push(()=>{this.provider.off("block",v)}),this.provider.once("block",v)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Xe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lJ(this)}reorderedEvent(e){return Xe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Xe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cJ(this,e)}replaceableTransaction(e){Ne(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new dx(this,this.provider);return n.#e=e,n}}function Tke(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function cJ(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function lJ(t){return{orphan:"drop-transaction",tx:t}}function Rke(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class gk extends ux{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const s=n.decodeEventLog(r,e.data,e.topics);Xt(this,{args:s,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class uJ extends ux{error;constructor(e,n){super(e,e.provider),Xt(this,{error:n})}}class Pke extends aJ{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new gk(e,this.#e,n)}catch(r){return new uJ(e,r)}return e})}}class mk extends dx{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new Pke(this.#e,this.provider,r)}}class dJ extends UQ{log;constructor(e,n,r,s){super(e,n,r),Xt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Oke extends dJ{constructor(e,n,r,s,i){super(e,n,r,new gk(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Xt(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const T$=BigInt(0);function fJ(t){return t&&typeof t.call=="function"}function hJ(t){return t&&typeof t.estimateGas=="function"}function AS(t){return t&&typeof t.resolveName=="function"}function pJ(t){return t&&typeof t.sendTransaction=="function"}function gJ(t){if(t!=null){if(AS(t))return t;if(t.provider)return t.provider}}class Ike{#e;fragment;constructor(e,n,r){if(Xt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=y0(e.runner,"resolveName"),i=AS(s)?s:null;this.#e=async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(p=>po(p,i))):po(f,i):f)));return e.interface.encodeFilterTopics(n,o)}()}getTopicFilter(){return this.#e}}function y0(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function qp(t){return t==null?null:t.provider||null}async function mJ(t,e){const n=Es.dereference(t,"overrides");Ne(typeof n=="object","invalid overrides parameter","overrides",t);const r=tC(n);return Ne(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Ne(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function kke(t,e,n){const r=y0(t,"resolveName"),s=AS(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,l)=>(l=Es.dereference(l,a),a==="address"?po(l,s):l))))}function Bke(t){const e=async function(o){const a=await mJ(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await po(a.from,gJ(t.runner)));const l=t.interface,c=Ot(a.value||T$,"overrides.value")===T$,d=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!d&&!c&&Ne(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),Ne(l.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&&l.fallback.payable;return Ne(f||c,"cannot send value to non-payable fallback","overrides.value",a.value),Ne(l.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=y0(t.runner,"call");Xe(fJ(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw ek(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;Xe(pJ(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=qp(t.runner);return new mk(t.interface,c,l)},s=async function(o){const a=y0(t.runner,"estimateGas");return Xe(hJ(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return Xt(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function Dke(t,e){const n=function(...c){const d=t.interface.getFunction(e,c);return Xe(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),d},r=async function(...c){const d=n(...c);let f={};if(d.inputs.length+1===c.length&&(f=await mJ(c.pop()),f.from&&(f.from=await po(f.from,gJ(t.runner)))),d.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await kke(t.runner,d.inputs,c);return Object.assign({},f,await co({to:t.getAddress(),data:t.interface.encodeFunctionData(d,p)}))},s=async function(...c){const d=await a(...c);return d.length===1?d[0]:d},i=async function(...c){const d=t.runner;Xe(pJ(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await r(...c)),p=qp(t.runner);return new mk(t.interface,p,f)},o=async function(...c){const d=y0(t.runner,"estimateGas");return Xe(hJ(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await r(...c))},a=async function(...c){const d=y0(t.runner,"call");Xe(fJ(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...c);let p="0x";try{p=await d.call(f)}catch(b){throw ek(b)&&b.data?t.interface.makeError(b.data,f):b}const g=n(...c);return t.interface.decodeFunctionResult(g,p)},l=async(...c)=>n(...c).constant?await s(...c):await i(...c);return Xt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return Xe(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function Mke(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return Xe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new Ike(t,n(...s),s)};return Xt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return Xe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const nC=Symbol.for("_ethersInternal_contract"),yJ=new WeakMap;function Uke(t,e){yJ.set(t[nC],e)}function Sa(t){return yJ.get(t[nC])}function Lke(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function yk(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(zr(o,32))return o;const a=t.interface.getEvent(o);return Ne(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?zr(e,32)?n=[e]:(r=t.interface.getEvent(e),Ne(r,"unknown fragment","event",e),n=[r.topicHash]):Lke(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):Ne(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function n1(t,e){const{subs:n}=Sa(t);return n.get((await yk(t,e)).tag)||null}async function R$(t,e,n){const r=qp(t.runner);Xe(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await yk(t,n),{addr:a,subs:l}=Sa(t);let c=l.get(i);if(!c){const f={address:a||t,topics:o},p=m=>{let v=s;if(v==null)try{v=t.interface.getEvent(m.topics[0])}catch{}if(v){const x=v,C=s?t.interface.decodeEventLog(s,m.data,m.topics):[];jO(t,n,C,S=>new Oke(t,S,n,x,m))}else jO(t,n,[],x=>new dJ(t,x,n,m))};let g=[];c={tag:i,listeners:[],start:()=>{g.length||g.push(r.on(f,p))},stop:async()=>{if(g.length==0)return;let m=g;g=[],await Promise.all(m),r.off(f,p)}},l.set(i,c)}return c}let LO=Promise.resolve();async function jke(t,e,n,r){await LO;const s=await n1(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Sa(t).subs.delete(s.tag)),i>0}async function jO(t,e,n,r){try{await LO}catch{}const s=jke(t,e,n,r);return LO=s,await s}const EA=["then"];class E1{target;interface;runner;filters;[nC];fallback;constructor(e,n,r,s){Ne(typeof e=="string"||AY(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Ip.from(n);Xt(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,nC,{value:{}});let o,a=null,l=null;if(s){const f=qp(r);l=new mk(this.interface,f,s)}let c=new Map;if(typeof e=="string")if(zr(e))a=e,o=Promise.resolve(e);else{const f=y0(r,"resolveName");if(!AS(f))throw as("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(p=>{if(p==null)throw as("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Sa(this).addr=p,p})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Sa(this).addr=f,f});Uke(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const d=new Proxy({},{get:(f,p,g)=>{if(typeof p=="symbol"||EA.indexOf(p)>=0)return Reflect.get(f,p,g);try{return this.getEvent(p)}catch(b){if(!Ii(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,p)=>EA.indexOf(p)>=0?Reflect.has(f,p):Reflect.has(f,p)||this.interface.hasEvent(String(p))});return Xt(this,{filters:d}),Xt(this,{fallback:i.receive||i.fallback?Bke(this):null}),new Proxy(this,{get:(f,p,g)=>{if(typeof p=="symbol"||p in f||EA.indexOf(p)>=0)return Reflect.get(f,p,g);try{return f.getFunction(p)}catch(b){if(!Ii(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,p)=>typeof p=="symbol"||p in f||EA.indexOf(p)>=0?Reflect.has(f,p):f.interface.hasFunction(p)})}connect(e){return new E1(this.target,this.interface,e)}attach(e){return new E1(e,this.interface,this.runner)}async getAddress(){return await Sa(this).addrPromise}async getDeployedCode(){const e=qp(this.runner);Xe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=qp(this.runner);return Xe(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Sa(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Dke(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Mke(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Sa(this),o=s||await i,{fragment:a,topics:l}=await yk(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},d=qp(this.runner);return Xe(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(c)).map(f=>{let p=a;if(p==null)try{p=this.interface.getEvent(f.topics[0])}catch{}if(p)try{return new gk(f,this.interface,p)}catch(g){return new uJ(f,g)}return new ux(f,d)})}async on(e,n){const r=await R$(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await R$(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await jO(this,e,n,null)}async listenerCount(e){if(e){const s=await n1(this,e);return s?s.listeners.length:0}const{subs:n}=Sa(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await n1(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Sa(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await n1(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Sa(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await n1(this,e);if(!n)return this;n.stop(),Sa(this).subs.delete(n.tag)}else{const{subs:n}=Sa(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends E1{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function Fke(){return E1}class hm extends Fke(){}function RR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ne(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class $ke{name;constructor(e){Xt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const bJ=new RegExp("^(ipfs)://(.*)$","i"),P$=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),bJ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class pm{provider;address;name;#e;#t;constructor(e,n,r){Xt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new hm(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Ii(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(UO(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),Xe(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[nke(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await this.#t[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ii(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await this.#n("addr(bytes32)");return i==null||i===yv?null:i}catch(i){if(Ii(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await this.#n("addr(bytes32,uint)",[i]);if(zr(o,20))return Er(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof $ke&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;Xe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${qPe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Xe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<P$.length;r++){const s=n.match(P$[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=RR(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(s[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const c=l[1],d=new hm(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const w=await d.ownerOf(c);if(a!==w)return e.push({type:"!owner",value:w}),{url:null,linkage:e};e.push({type:"owner",value:w})}else if(i==="erc1155"){const w=await d.balanceOf(a,c);if(!w)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:w.toString()})}let f=await d[o](c);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",rh(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=RR(f)),e.push({type:"metadata-url",value:f});let p={};const g=await new cu(f).send();g.assertOk();try{p=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const v=g.body;return v&&e.push({type:"!metadata",value:wt(v)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let b=p.image;if(typeof b!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(bJ)==null)return e.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:b}),b=RR(b)}return e.push({type:"url",value:b}),{linkage:e,url:b}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Xe(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await pm.getEnsAddress(e);try{const i=await new hm(r,["function resolver(bytes32) view returns (address)"],e).resolver(UO(n),{enableCcipRead:!0});return i===yv?null:i}catch(s){throw s}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await pm.#r(e,r);if(s!=null){const i=new pm(e,s,n);return r!==n&&!await i.supportsWildcard()?null:i}r=r.split(".").slice(1).join(".")}}}const O$=BigInt(0);function Kn(t,e){return function(n){return n==null?e:t(n)}}function Av(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function fx(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Xe(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:n})}}return r}}function Hke(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}Ne(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Um(t){return Ne(zr(t,!0),"invalid data","value",t),t}function Oi(t){return Ne(zr(t,32),"invalid hash","value",t),t}const zke=fx({address:Er,blockHash:Oi,blockNumber:Tn,data:Um,index:Tn,removed:Kn(Hke,!1),topics:Av(Oi),transactionHash:Oi,transactionIndex:Tn},{index:["logIndex"]});function qke(t){return zke(t)}const Vke=fx({hash:Kn(Oi),parentHash:Oi,parentBeaconBlockRoot:Kn(Oi,null),number:Tn,timestamp:Tn,nonce:Kn(Um),difficulty:Ot,gasLimit:Ot,gasUsed:Ot,stateRoot:Kn(Oi,null),receiptsRoot:Kn(Oi,null),blobGasUsed:Kn(Ot,null),excessBlobGas:Kn(Ot,null),miner:Kn(Er),prevRandao:Kn(Oi,null),extraData:Um,baseFeePerGas:Kn(Ot)},{prevRandao:["mixHash"]});function Gke(t){const e=Vke(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:wJ(n)),e}const Kke=fx({transactionIndex:Tn,blockNumber:Tn,transactionHash:Oi,address:Er,topics:Av(Oi),data:Um,index:Tn,blockHash:Oi},{index:["logIndex"]});function Wke(t){return Kke(t)}const Qke=fx({to:Kn(Er,null),from:Kn(Er,null),contractAddress:Kn(Er,null),index:Tn,root:Kn(wt),gasUsed:Ot,blobGasUsed:Kn(Ot,null),logsBloom:Kn(Um),blockHash:Oi,hash:Oi,logs:Av(Wke),blockNumber:Tn,cumulativeGasUsed:Ot,effectiveGasPrice:Kn(Ot),blobGasPrice:Kn(Ot,null),status:Kn(Tn),type:Kn(Tn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Yke(t){return Qke(t)}function wJ(t){t.to&&Ot(t.to)===O$&&(t.to="0x0000000000000000000000000000000000000000");const e=fx({hash:Oi,index:Kn(Tn,void 0),type:n=>n==="0x"||n==null?0:Tn(n),accessList:Kn(B0,null),blobVersionedHashes:Kn(Av(Oi,!0),null),authorizationList:Kn(Av(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:Er(n.address),chainId:Ot(n.chainId),nonce:Ot(n.nonce),signature:xs.from(r)}},!1),null),blockHash:Kn(Oi,null),blockNumber:Kn(Tn,null),transactionIndex:Kn(Tn,null),from:Er,gasPrice:Kn(Ot),maxPriorityFeePerGas:Kn(Ot),maxFeePerGas:Kn(Ot),maxFeePerBlobGas:Kn(Ot,null),gasLimit:Ot,to:Kn(Er,null),value:Ot,nonce:Tn,data:Um,creates:Kn(Er,null),chainId:Kn(Ot,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=LIe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=xs.from(t.signature):e.signature=xs.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Ot(e.blockHash)===O$&&(e.blockHash=null),e}const Jke="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class hx{name;constructor(e){Xt(this,{name:e})}clone(){return new hx(this.name)}}class CS extends hx{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(i,o){let a=(n||{})[i];a==null&&(a=o),Ne(typeof a=="number",`invalud value for ${i}`,"costs",n),r[i]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Xt(this,r)}clone(){return new CS(this.effectiveBlock,this)}}class SS extends hx{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Xt(this,{address:e||Jke,targetNetwork:n??1})}clone(){return new SS(this.address,this.targetNetwork)}}class Zke extends hx{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const PR=new Map;class Ia{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=Ot(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Ot(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ot(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ot(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ot(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ia(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new CS;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=B0(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(Xke(),e==null)return Ia.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=PR.get(e);if(n)return n();if(typeof e=="bigint")return new Ia("unknown",e);Ne(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Ne(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ia(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new SS(e.ensAddress,e.ensNetwork)),n}Ne(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=PR.get(e);r&&Ne(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),PR.set(e,n)}}function I$(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function k$(t){return new Zke(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:I$(a.maxFee,9),maxPriorityFeePerGas:I$(a.maxPriorityFee,9)}}catch(i){Xe(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let B$=!1;function Xke(){if(B$)return;B$=!0;function t(e,n,r){const s=function(){const i=new Ia(e,n);return r.ensNetwork!=null&&i.attachPlugin(new SS(null,r.ensNetwork)),i.attachPlugin(new CS),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Ia.register(e,s),Ia.register(n,s),r.altNames&&r.altNames.forEach(i=>{Ia.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[k$("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[k$("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function FO(t){return JSON.parse(JSON.stringify(t))}class e6e{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#s(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class bk{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class t6e extends bk{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class n6e extends bk{#e;constructor(e,n){super(e),this.#e=FO(n)}async _poll(e,n){throw new Error("@TODO")}}class r6e extends bk{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class wk{#e;#t;#n;#r;#s;constructor(e,n){this.#e=e,this.#t=FO(n),this.#n=this.#o.bind(this),this.#r=!1,this.#s=-2}async#o(e){if(this.#s===-2)return;const n=FO(this.#t);n.fromBlock=this.#s+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#s<e-60&&(this.#s=e-60);return}for(const s of r)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#r||(this.#r=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}const s6e=BigInt(2),i6e=10;function AA(t){return t&&typeof t.then=="function"}function n2(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class vJ{name;constructor(e){Xt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function o6e(t){return JSON.parse(JSON.stringify(t))}function $O(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function OR(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(zr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:n2("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:n2("orphan",n),filter:o6e(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?$O(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=a=>{zr(a)?s.push(a):i.push((async()=>{s.push(await po(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=$O(s.map(a=>a.toLowerCase()))}return{filter:r,tag:n2("event",r),type:"event"}}Ne(!1,"unknown ProviderEvent","event",t)}function IR(){return new Date().getTime()}const a6e={cacheTimeout:250,pollingInterval:4e3};class c6e{#e;#t;#n;#r;#s;#o;#i;#a;#d;#l;#p;#g;constructor(e,n){if(this.#g=Object.assign({},a6e,n||{}),e==="any")this.#o=!0,this.#s=null;else if(e){const r=Ia.from(e);this.#o=!1,this.#s=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#s=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#d=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#c(e){const n=this.#g.cacheTimeout;if(n<0)return await this._perform(e);const r=n2(e.method,e);let s=this.#i.get(r);return s||(s=this._perform(e),this.#i.set(r,s),setTimeout(()=>{this.#i.get(r)===s&&this.#i.delete(r)},n)),await s}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",s).replace("{data}",i),d=new cu(c);l.indexOf("{data}")===-1&&(d.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:a,urls:r});let f="unknown error",p;try{p=await d.send()}catch(g){o.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:g}});continue}try{const g=p.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:g}),g.data;g.message&&(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:g})}catch{}Xe(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),o.push(f)}Xe(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new Nke(Gke(e),this)}_wrapLog(e,n){return new ux(qke(e),this)}_wrapTransactionReceipt(e,n){return new aJ(Yke(e),this)}_wrapTransactionResponse(e,n){return new dx(wJ(e),this)}_detectNetwork(){Xe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Xe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Tn(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return po(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(zr(e))return zr(e,32)?e:Jc(e);if(typeof e=="bigint"&&(e=Tn(e,"blockTag")),typeof e=="number")return e>=0?Jc(e):this.#a>=0?Jc(this.#a+e):this.getBlockNumber().then(n=>Jc(n+e));Ne(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?$O(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(l,c,d)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(r&&(c!=null||d!=null))throw new Error("invalid filter");const p={};return f&&(p.address=f),n.length&&(p.topics=n),c&&(p.fromBlock=c),d&&(p.toBlock=d),r&&(p.blockHash=r),p};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=>s(l[0],l[1],l[2])):s(i,o,a)}_getTransactionRequest(e){const n=tC(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=po(n[s],this);AA(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);AA(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#s==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#s===s&&(this.#s=null),i}})();return this.#s=s,(await s).clone()}const e=this.#s,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#o?(this.emit("network",r,n),this.#s===e&&(this.#s=Promise.resolve(r))):Xe(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await co({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const d=await this.#c({method:"getGasPrice"});return Ot(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await this.#c({method:"getPriorityFee"});return Ot(d,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(s,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*s6e+l),new N$(i,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new cu(r.url),i=await r.processFunc(n,this,s);return new N$(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return AA(n)&&(n=await n),Ot(await this.#c({method:"estimateGas",transaction:n}),"%response")}async#u(e,n,r){Xe(r<i6e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=tC(e);try{return wt(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&ek(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&vs(i.data,0,4)==="0x556f1830"){const o=i.data,a=await po(s.to,this);let l;try{l=h6e(vs(i.data,4))}catch(f){Xe(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}Xe(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(s,l.calldata,l.urls);Xe(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:l.errorArgs}});const d={to:a,data:As([l.selector,f6e([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await this.#u(d,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw i}}async#f(e){const{value:n}=await co({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await co({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#u(n,r,e.enableCcipRead?0:-1))}async#h(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await this.#f(this.#c(Object.assign(e,{address:s,blockTag:i})))}async getBalance(e,n){return Ot(await this.#h({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Tn(await this.#h({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return wt(await this.#h({method:"getCode"},e,n))}async getStorage(e,n,r){const s=Ot(n,"position");return wt(await this.#h({method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await co({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Qc.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async#y(e,n){if(zr(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:s}=await co({network:this.getNetwork(),params:this.#y(e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await co({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await co({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await co({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return n==null?null:wt(n)}async getLogs(e){let n=this._getFilter(e);AA(n)&&(n=await n);const{network:r,params:s}=await co({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){Xe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await pm.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Er(e);const n=UO(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await pm.getEnsAddress(this),i=await new hm(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===yv)return null;const a=await new hm(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Ii(r,"BAD_DATA")&&r.value==="0x"||Ii(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const l=async c=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&c-d.blockNumber+1>=s){i(d),a&&(clearTimeout(a),a=null);return}}catch(d){console.log("EEE",d)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(as("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){Xe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#l.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#l.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#d++,s=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);this.#l.set(r,{timer:i,func:s,time:IR()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new vJ(e.type);case"block":{const n=new e6e(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new t6e(this,e.type);case"event":return new wk(this,e.filter);case"transaction":return new r6e(this,e.hash);case"orphan":return new n6e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#m(e,n){let r=await OR(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await OR({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#b(e){const n=await OR(e,this),r=n.tag;let s=this.#e.get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,s)),s}async on(e,n){const r=await this.#b(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#b(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#m(e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new UQ(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await this.#m(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#m(e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await this.#m(e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await this.#b(e);r&&s.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:s}]of this.#e)r&&s.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;Xe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#l.values())n.timer&&clearTimeout(n.timer),n.time=IR()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#l.values()){let n=e.time;n<0&&(n=0),e.time=IR(),setTimeout(e.func,n)}}}}function l6e(t,e){try{const n=HO(t,e);if(n)return W2(n)}catch{}return null}function HO(t,e){if(t==="0x")return null;try{const n=Tn(vs(t,e,e+32)),r=Tn(vs(t,n,n+32));return vs(t,n+32,n+32+r)}catch{}return null}function D$(t){const e=Xs(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function u6e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const d6e=new Uint8Array([]);function f6e(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(d6e),n+=32;for(let r=0;r<t.length;r++){const s=Ln(t[r]);e[r]=D$(n),e.push(D$(s.length)),e.push(u6e(s)),n+=32+Math.ceil(s.length/32)*32}return As(e)}const M$="0x0000000000000000000000000000000000000000000000000000000000000000";function h6e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Xe(lm(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=vs(t,0,32);Xe(vs(n,0,12)===vs(M$,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=vs(n,12);try{const r=[],s=Tn(vs(t,32,64)),i=Tn(vs(t,s,s+32)),o=vs(t,s+32);for(let a=0;a<i;a++){const l=l6e(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{Xe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=HO(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Xe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Xe(vs(t,100,128)===vs(M$,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=vs(t,96,100);try{const r=HO(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Xe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Ep(t,e){if(t.provider)return t.provider;Xe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function U$(t,e){let n=tC(e);if(n.to!=null&&(n.to=po(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),po(r,t)]).then(([s,i])=>(Ne(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await co(n)}class p6e{provider;constructor(e){Xt(this,{provider:e||null})}async getNonce(e){return Ep(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await U$(this,e)}async populateTransaction(e){const n=Ep(this,"populateTransaction"),r=await U$(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=Ot(r.chainId);Ne(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?Ne(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&Ne(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();Xe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Xe(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Xe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await co(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Ep(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Ep(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ep(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Ep(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Ep(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Qc.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){Xe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function g6e(t){return JSON.parse(JSON.stringify(t))}class xJ{#e;#t;#n;#r;#s;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#i.bind(this),this.#r=!1,this.#s=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(i){if(!Ii(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#s||(this.#s=r),this.#s.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;const s=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,s)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#i(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class m6e extends xJ{#e;constructor(e,n){super(e),this.#e=g6e(n)}_recover(e){return new wk(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class y6e extends xJ{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const b6e="bigint,boolean,function,number,string,symbol".split(/,/g);function r2(t){if(t==null||b6e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(r2);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function w6e(t){return new Promise(e=>{setTimeout(e,t)})}function Hg(t){return t&&t.toLowerCase()}function L$(t){return t&&typeof t.pollingInterval=="number"}const EJ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Wf extends p6e{address;constructor(e,n){super(e),n=Er(n),Xt(this,{address:n})}connect(e){Xe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=r2(e),r=[];if(n.from){const i=n.from;r.push((async()=>{const o=await po(i,this.provider);Ne(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const i=n.to;r.push((async()=>{n.to=await po(i,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((s,i)=>{const o=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){s(c.replaceableTransaction(n));return}}catch(c){if(Ii(c,"CANCELLED")||Ii(c,"BAD_DATA")||Ii(c,"NETWORK_ERROR")||Ii(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,i(c);return}if(Ii(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){i(c);return}this.provider.emit("error",as("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},o.pop()||4e3)};l()})}async signTransaction(e){const n=r2(e);if(n.from){const s=await po(n.from,this.provider);Ne(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?ru(e):e;return await this.provider.send("personal_sign",[wt(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const s=r2(r),i=await Ca.resolveNames(e,n,s,async o=>{const a=await po(o);return Ne(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ca.getPayload(i.domain,n,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?ru(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),wt(n)])}}class v6e extends c6e{#e;#t;#n;#r;#s;#o;#i;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(i=>i.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const s=r.length===1?r[0].payload:r.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const i=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:o,reject:a,payload:l}of r){if(this.destroyed){a(as("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=i.filter(d=>d.id===l.id)[0];if(c==null){const d=as("missing response for request","BAD_DATA",{value:i,info:{payload:l}});this.emit("error",d),a(d);continue}if("error"in c){a(this.getRpcError(l,c));continue}o(c.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(const{reject:o}of r)o(i)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},EJ,n||{}),this.#n=[],this.#r=null,this.#o=null,this.#i=null;{let s=null;const i=new Promise(o=>{s=o});this.#s={promise:i,resolve:s}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(Ne(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#o=Ia.from(e))):r&&(Ne(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return Xe(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&Ot(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const n=Ia.from(Ot(await this.send("eth_chainId",[])));return this.#i=null,n}catch(n){throw this.#i=null,n}})(),await this.#i):(this.#i=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#i=null}catch(s){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Ia.from(Ot(r.result));throw this.getRpcError(n,r)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",as("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await w6e(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new y6e(this):e.type==="event"?this._getOption("polling")?new wk(this,e.filter):new m6e(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new vJ("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let s=r;r==="gasLimit"&&(s="gas"),n[s]=Jc(Ot(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=wt(e[r]))}),e.accessList&&(n.accessList=B0(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const s=NY(r);return{address:s.address,nonce:Jc(s.nonce),chainId:Jc(s.chainId),yParity:Jc(s.signature.yParity),r:Jc(s.signature.r),s:Jc(s.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Hg(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Hg(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Hg(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Hg(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Hg):e.filter.address=Hg(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:s}=n;if(r==="eth_estimateGas"&&s.message){const a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return as("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return as("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=zO(s),l=Mm.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:s,payload:e},l}const i=JSON.stringify(E6e(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return as("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return as("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(i.match(/nonce/i)&&i.match(/too low/i))return as("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return as("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(i.match(/only replay-protected/i))return as("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:s}}})}let o=!!i.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?as("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):as("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(as("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,s=new Promise((i,o)=>{this.#n.push({resolve:i,reject:o,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await n;if(e>=s.length)throw new Error("no such account");return new Wf(this,s[e])}const{accounts:r}=await co({network:this.getNetwork(),accounts:n});e=Er(e);for(const s of r)if(Er(s)===e)return new Wf(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Wf(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(as("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class AJ extends v6e{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=EJ.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return L$(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{L$(n)&&(n.pollingInterval=this.#e)})}}class x6e extends AJ{#e;constructor(e,n,r){e==null&&(e="http://localhost:8545"),super(n,r),typeof e=="string"?this.#e=new cu(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const r=await n.send();r.assertOk();let s=r.bodyJson;return Array.isArray(s)||(s=[s]),s}}function zO(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&zr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=zO(t[e]);if(n)return n}return null}if(typeof t=="string")try{return zO(JSON.parse(t))}catch{}return null}function qO(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)qO(t[n],e);if(typeof t=="string")try{return qO(JSON.parse(t),e)}catch{}}}function E6e(t){const e=[];return qO(t,e),e}class Xc extends AJ{#e;#t;constructor(e,n,r){const s=Object.assign({},r??{},{batchMaxCount:1});Ne(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,s),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(i,o)=>{const a={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){Ne(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Xc(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Xc(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const s=e.timeout?e.timeout:300;return s===0?null:await new Promise((i,o)=>{let a=[];const l=f=>{a.push(f.detail),r&&c()},c=()=>{if(clearTimeout(d),a.length)if(e&&e.filter){const f=e.filter(a.map(p=>Object.assign({},p.info)));if(f==null)i(null);else if(f instanceof Xc)i(f);else{let p=null;if(f.uuid&&(p=a.filter(b=>f.uuid===b.info.uuid)[0]),p){const{provider:g,info:b}=p;i(new Xc(g,void 0,{providerInfo:b}))}else o(as("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:p}=a[0];i(new Xc(f,void 0,{providerInfo:p}))}else i(null);n.removeEventListener("eip6963:announceProvider",l)},d=setTimeout(()=>{c()},s);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Ap={signMessage:async(t,e,n)=>{if(!e)throw new Error("signMessage - provider is undefined");const r=zr(t)?t:wt(ru(t));return await e.request({method:"personal_sign",params:[r,n]})},estimateGas:async(t,e,n,r)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!n)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const s={from:t.address,to:t.to,data:t.data,type:0},i=new Xc(e,r);return await new Wf(i,n).estimateGas(s)},sendTransaction:async(t,e,n,r)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!n)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const s={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},i=new Xc(e,r);return(await(await new Wf(i,n).sendTransaction(s)).wait())?.hash||null},writeContract:async(t,e,n,r)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!n)throw new Error("writeContract - address is undefined");const s=new Xc(e,r),i=new Wf(s,n),o=new hm(t.tokenAddress,t.abi,i);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:lOe,formatUnits:GQ};class CJ extends yW{constructor(){super({adapterType:Fe.ADAPTER_TYPES.ETHERS,namespace:Fe.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let n;function r(){if(n)return n;if(!(typeof window>"u")&&window.ethereum)return n=window.ethereum,n}async function s(){const{SafeProvider:a}=await Qi(async()=>{const{SafeProvider:p}=await import("./SafeProvider-CMjiPtoG.js");return{SafeProvider:p}},__vite__mapDeps([40,41])),{default:l}=await Qi(async()=>{const{default:p}=await import("./index-DKlhDKQO.js");return{default:p}},__vite__mapDeps([42,41])),c=new l,d=await c.safe.getInfo(),f=new a(d,c);return await f.connect().catch(p=>{console.info("Failed to auto-connect to Safe:",p)}),f}async function i(){try{const{createCoinbaseWalletSDK:a}=await Qi(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-D1CsfC-8.js");return{createCoinbaseWalletSDK:c}},[]);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(c=>c.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=r()),e.enableCoinbase!==!1){const a=await i();a&&(o.coinbase=a)}if(Nt.isSafeApp()){const a=await s();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:n,address:r,provider:s}=e;if(!s)throw new Error("Provider is undefined");try{return{signature:await Ap.signMessage(n,s,r)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await Ap.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Pt.state.address},e.provider,Pt.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:n}=uo.parseCaipAddress(e.caipAddress);return{hash:await Ap.writeContract(e,e.provider,n,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:n,caipNetwork:r,address:s}=e;if(!n)throw new Error("Provider is undefined");try{return{gas:await Ap.estimateGas({data:e.data,to:e.to,address:s},n,s,Number(r?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Ap.parseUnits(e.value,e.decimals)}formatUnits(e){return Ap.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:n,chainId:r}=e,s=this.connectors.find(l=>l.id===n),i=s?.provider;if(!i)throw new Error("Provider not found");const o=await i.request({method:"eth_requestAccounts"}),a=await i.request({method:"eth_chainId"});if(this.listenProviderEvents(n,i),!o[0])throw new Error("No accounts found");if(!s?.type)throw new Error("Connector type not found");return{address:o[0],chainId:Number(a)||Number(r),provider:i,type:s.type,id:n}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(r=>r!=="metadata"&&r!=="EIP6963").forEach(r=>{const s=r==="coinbase"?"coinbaseWalletSDK":r,i=r===Fe.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:s,explorerId:Gl.ConnectorExplorerIds[s],imageUrl:e?.connectorImages?.[s],name:Gl.ConnectorNamesMap[s]||"Unknown",imageId:Gl.ConnectorImageIds[s],type:Gl.ConnectorTypesMap[s]??"EXTERNAL",info:i?void 0:{rdns:s},chain:this.namespace,chains:[],provider:this.ethersConfig?.[r]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async n=>{const r=this.connectors.find(s=>mi.isLowerCaseMatch(s.id,n.connectorId));if(!r)throw new Error("Connector not found");return await this.disconnect({id:r.id}),n}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:n}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(r){return n(r)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const n=Fe.CONNECTOR_ID.WALLET_CONNECT;return nu.listenWcProvider({universalProvider:e,namespace:Fe.CHAIN.EVM,onConnect:r=>this.onConnect(r,n),onDisconnect:()=>this.onDisconnect(n),onAccountsChanged:r=>this.onAccountsChanged(r,n,!1),onChainChanged:r=>this.onChainChanged(r,n)}),this.addConnector(new M4({provider:e,caipNetworks:this.getCaipNetworks(),namespace:Fe.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:n,provider:r}=e.detail;if(!this.connectors?.find(i=>i.name===n?.name)){const i=Gl.ConnectorTypesMap[Fe.CONNECTOR_ID.EIP6963],o=n?.rdns||n?.name||n?.uuid;this.namespace&&o&&this.addConnector({id:o,type:i,imageUrl:n?.icon,name:n?.name||"Unknown",provider:r,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const n=this.eip6963EventHandler.bind(this);window.addEventListener(dr.EIP6963_ANNOUNCE_EVENT,n),window.dispatchEvent(new Event(dr.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:n,type:r,chainId:s,socialUri:i}){const o=this.connectors.find(f=>mi.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:n,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:a.account.address,chainId:f.id,connector:o}),{address:a.account.address,chainId:f.id,provider:o.provider,type:o.type,id:e}}const l=o?.provider;if(!l)throw new Error("Provider not found");let c=[],d;if(r===dr.CONNECTOR_TYPE_AUTH){const{address:f,accounts:p}=await Na.authConnectorAuthenticate({authConnector:l,chainNamespace:Fe.CHAIN.EVM,chainId:s,socialUri:i,preferredAccountType:Ba("eip155")}),g=this.getCaipNetworks().find(b=>b.id.toString()===s?.toString());c=[f],this.addConnection({connectorId:e,accounts:p?p.map(b=>({address:b.address})):c.map(b=>({address:b})),caipNetwork:g,auth:{name:ct.getConnectedSocialProvider(),username:ct.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:c[0],chainId:Number(s),connector:o})}else{c=await l.request({method:"eth_requestAccounts"}),d=await l.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(p=>p.id.toString()===s?.toString());if(d!==s){if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:l,providerType:r})}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:c[0],chainId:Number(s),connector:o}),this.addConnection({connectorId:e,accounts:c.map(p=>({address:p})),caipNetwork:f}),o.id!==Fe.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,l)}return{address:c[0],chainId:Number(s),provider:l,type:r,id:e}}async reconnect(e){const{id:n,chainId:r}=e,s=this.connectors.find(i=>i.id===n);s&&s.type==="AUTH"&&r&&await Na.authConnectorAuthenticate({authConnector:s.provider,chainNamespace:Fe.CHAIN.EVM,chainId:r,preferredAccountType:Ba("eip155")})}async getAccounts(e){const n=this.connectors.find(o=>o.id===e.id),r=n?.provider;if(!r||!n)throw new Error("Provider not found");const s=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(s)return{accounts:s.accounts.map(({address:o})=>Nt.createAccount(Fe.CHAIN.EVM,o,"eoa"))};if(e.id===Fe.CONNECTOR_ID.AUTH){const o=n.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:l}=o.user;return Promise.resolve({accounts:(a||[{address:l,type:"eoa"}]).map(c=>Nt.createAccount(Fe.CHAIN.EVM,c.address,c.type))})}return{accounts:(await r.request({method:"eth_requestAccounts"})).map(o=>Nt.createAccount(Fe.CHAIN.EVM,o,"eoa"))}}async disconnect(e){if(e.id){const n=this.connectors.find(s=>mi.isLowerCaseMatch(s.id,e.id));if(!n)throw new Error("Connector not found");const r=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(n.type){case dr.CONNECTOR_TYPE_WALLET_CONNECT:n.provider.session&&n.provider.disconnect();break;case dr.CONNECTOR_TYPE_AUTH:await n.provider?.disconnect();break;case dr.CONNECTOR_TYPE_ANNOUNCED:case dr.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(n.provider);break;default:throw new Error("Unsupported provider type")}return n.id&&(this.removeProviderListeners(n.id),this.deleteConnection(n.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:r?[r]:[]}}return this.disconnectAll()}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id.toString()===e.chainId?.toString());if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&r.chainNamespace===Fe.CHAIN.EVM){const s=`${r.caipNetworkId}:${n}`,i=this.balancePromises[s];if(i)return i;const o=ct.getNativeBalanceCacheForCaipAddress(s);if(o)return{balance:o.balance,symbol:o.symbol};const a=new x6e(r.rpcUrls.default.http[0],{chainId:r.id,name:r.name});if(a)try{return this.balancePromises[s]=new Promise(async l=>{try{const c=await a.getBalance(n),d=uOe(c);ct.updateNativeBalanceCache({caipAddress:s,balance:d,symbol:r.nativeCurrency.symbol,timestamp:Date.now()}),l({balance:d,symbol:r.nativeCurrency.symbol})}catch{l({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:n,provider:r,providerType:s}=e;if(s==="AUTH"){await super.switchNetwork(e);return}try{await r.request({method:"wallet_switchEthereumChain",params:[{chainId:cm.numberToHexString(n.id)}]})}catch(i){if(i.code===pd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===pd.ERROR_INVALID_CHAIN_ID||i.code===pd.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===pd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await cm.addEthereumChain(r,n);else if(s==="ANNOUNCED"||s==="EXTERNAL"||s==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(s=>s.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(n){console.info("Could not revoke permissions from wallet. Disconnecting...",n)}}async getCapabilities(e){const n=er.getProvider(Fe.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");const r=n.session?.sessionProperties?.capabilities;if(r){const i=Ap.parseWalletCapabilities(r)[e];if(i)return i}return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const n=er.getProvider(Fe.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const n=er.getProvider(Fe.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const n=er.getProvider(Fe.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_getAssets",params:[e]})}}const A6e={name:"WebappX",description:"WebappX",url:"https://leledumbo549.github.io/webappx/",icons:["https://leledumbo549.github.io/webappx/vite.svg"]};wW({adapters:[new CJ],networks:[mW,gW],metadata:A6e,projectId:"4c36910043a61e836e1f9fdeec53cba3",defaultAccountTypes:{eip155:"eoa"},enableNetworkSwitch:!1,features:{email:!1,socials:["google","facebook"],emailShowWallets:!1}});function C6e(){const t=gs(),[,e]=ks(Od),[,n]=ks(xc),r=qo(BI),{open:s}=sS(),{address:i,isConnected:o}=XC(),{walletProvider:a}=bW("eip155"),[l,c]=W.useState(null),[d,f]=W.useState(!1),[p,g]=W.useState(!1),{chainId:b}=ZK(),w=async()=>{c(null),g(!0);try{await Promise.resolve(s())}catch(v){let x=v instanceof Error?v.message:"Wallet connection failed";(x.includes("Cross-Origin-Opener-Policy")||x.includes("COOP"))&&(x="Wallet popup blocked by browser security. Please allow popups for this site or try refreshing the page."),c(x),console.error("Wallet connection error:",v)}finally{g(!1)}},m=async()=>{if(!(!a||!i)){f(!0),c(null);try{const v=Math.random().toString(36).substring(2,10),x={domain:window.location.host,address:i,statement:"Sign in with Ethereum to MarketPlace",uri:window.location.origin,version:"1",chainId:b,nonce:v},S=new IQ.SiweMessage(x).prepareMessage(),T=new Xc(a,Number(b)),_=await new Wf(T,i).signMessage(S),N=await en.post("/api/login/siwe",{message:S,signature:_});e(N.data.token),n(N.data.user),await r(),t("/home",{replace:!0})}catch(v){console.log("!!!");const x=v instanceof Error?v.message:"Login failed";c(x)}finally{f(!1)}}};return E.jsx("div",{className:"flex items-center justify-center p-4 bg-gradient-to-br from-background to-muted/20",children:E.jsxs(Mn,{className:"w-full max-w-md shadow-lg border-0",children:[E.jsx(Fr,{children:E.jsx($r,{className:"text-xl text-center",children:"Sign In with Ethereum"})}),E.jsxs(Un,{className:"space-y-4",children:[E.jsxs("p",{className:"text-center text-sm",children:["Wallet Status:"," ",E.jsx(hs,{variant:o?"default":"secondary",children:o?"Connected":"Not Connected"})]}),l&&E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:l})]}),o?E.jsxs("div",{className:"space-y-4",children:[E.jsx(Hr,{readOnly:!0,value:i}),E.jsx(ht,{className:"w-full",onClick:m,disabled:d||p,children:d?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"})," Signing in..."]}):"Sign In"})]}):E.jsxs("div",{className:"space-y-2",children:[E.jsx(ht,{className:"w-full",onClick:w,disabled:p||d,children:p?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"})," ","Connecting..."]}):"Connect Wallet"}),E.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"If connection fails, try allowing popups or refresh the page"})]}),E.jsx("div",{className:"text-center",children:E.jsx(Mq,{})})]})]})})}var S6e="Label",SJ=W.forwardRef((t,e)=>E.jsx(Qt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SJ.displayName=S6e;var _6e=SJ;function Ir({className:t,...e}){return E.jsx(_6e,{"data-slot":"label",className:Ht("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function px(t){const e=t+"CollectionProvider",[n,r]=Ec(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:m,children:v}=w,x=at.useRef(null),C=at.useRef(new Map).current;return E.jsx(s,{scope:m,itemMap:C,collectionRef:x,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=e0(a),c=at.forwardRef((w,m)=>{const{scope:v,children:x}=w,C=i(a,v),S=zn(m,C.collectionRef);return E.jsx(l,{ref:S,children:x})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=e0(d),g=at.forwardRef((w,m)=>{const{scope:v,children:x,...C}=w,S=at.useRef(null),T=zn(m,S),R=i(d,v);return at.useEffect(()=>(R.itemMap.set(S,{ref:S,...C}),()=>void R.itemMap.delete(S))),E.jsx(p,{[f]:"",ref:T,children:x})});g.displayName=d;function b(w){const m=i(t+"CollectionConsumer",w);return at.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const C=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((R,_)=>C.indexOf(R.ref.current)-C.indexOf(_.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},b,r]}var N6e=W.createContext(void 0);function gx(t){const e=W.useContext(N6e);return t||e||"ltr"}var kR="rovingFocusGroup.onEntryFocus",T6e={bubbles:!1,cancelable:!0},mx="RovingFocusGroup",[VO,_J,R6e]=px(mx),[P6e,_S]=Ec(mx,[R6e]),[O6e,I6e]=P6e(mx),NJ=W.forwardRef((t,e)=>E.jsx(VO.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(VO.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(k6e,{...t,ref:e})})}));NJ.displayName=mx;var k6e=W.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=W.useRef(null),g=zn(e,p),b=gx(i),[w,m]=Jf({prop:o,defaultProp:a??null,onChange:l,caller:mx}),[v,x]=W.useState(!1),C=fi(c),S=_J(n),T=W.useRef(!1),[R,_]=W.useState(0);return W.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(kR,C),()=>N.removeEventListener(kR,C)},[C]),E.jsx(O6e,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:w,onItemFocus:W.useCallback(N=>m(N),[m]),onItemShiftTab:W.useCallback(()=>x(!0),[]),onFocusableItemAdd:W.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:W.useCallback(()=>_(N=>N-1),[]),children:E.jsx(Qt.div,{tabIndex:v||R===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:yt(t.onMouseDown,()=>{T.current=!0}),onFocus:yt(t.onFocus,N=>{const O=!T.current;if(N.target===N.currentTarget&&O&&!v){const D=new CustomEvent(kR,T6e);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const k=S().filter(P=>P.focusable),z=k.find(P=>P.active),K=k.find(P=>P.id===w),I=[z,K,...k].filter(Boolean).map(P=>P.ref.current);PJ(I,d)}}T.current=!1}),onBlur:yt(t.onBlur,()=>x(!1))})})}),TJ="RovingFocusGroupItem",RJ=W.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=sl(),c=i||l,d=I6e(TJ,n),f=d.currentTabStopId===c,p=_J(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:w}=d;return W.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),E.jsx(VO.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:E.jsx(Qt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:yt(t.onMouseDown,m=>{r?d.onItemFocus(c):m.preventDefault()}),onFocus:yt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:yt(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=M6e(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let C=p().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const S=C.indexOf(m.currentTarget);C=d.loop?U6e(C,S+1):C.slice(S+1)}setTimeout(()=>PJ(C))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});RJ.displayName=TJ;var B6e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D6e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function M6e(t,e,n){const r=D6e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return B6e[r]}function PJ(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function U6e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OJ=NJ,IJ=RJ;function kJ(t){const[e,n]=W.useState(void 0);return Ss(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function vk(t){const e=W.useRef({value:t,previous:t});return W.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xk="Radio",[L6e,BJ]=Ec(xk),[j6e,F6e]=L6e(xk),DJ=W.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:c,...d}=t,[f,p]=W.useState(null),g=zn(e,m=>p(m)),b=W.useRef(!1),w=f?c||!!f.closest("form"):!0;return E.jsxs(j6e,{scope:n,checked:s,disabled:o,children:[E.jsx(Qt.button,{type:"button",role:"radio","aria-checked":s,"data-state":jJ(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:yt(t.onClick,m=>{s||l?.(),w&&(b.current=m.isPropagationStopped(),b.current||m.stopPropagation())})}),w&&E.jsx(LJ,{control:f,bubbles:!b.current,name:r,value:a,checked:s,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});DJ.displayName=xk;var MJ="RadioIndicator",UJ=W.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=F6e(MJ,n);return E.jsx(qa,{present:r||i.checked,children:E.jsx(Qt.span,{"data-state":jJ(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});UJ.displayName=MJ;var $6e="RadioBubbleInput",LJ=W.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=W.useRef(null),a=zn(o,i),l=vk(n),c=kJ(e);return W.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const b=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(b)}},[l,n,r]),E.jsx(Qt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LJ.displayName=$6e;function jJ(t){return t?"checked":"unchecked"}var H6e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],NS="RadioGroup",[z6e,UFe]=Ec(NS,[_S,BJ]),FJ=_S(),$J=BJ(),[q6e,V6e]=z6e(NS),HJ=W.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=t,g=FJ(n),b=gx(c),[w,m]=Jf({prop:i,defaultProp:s??null,onChange:f,caller:NS});return E.jsx(q6e,{scope:n,name:r,required:o,disabled:a,value:w,onValueChange:m,children:E.jsx(OJ,{asChild:!0,...g,orientation:l,dir:b,loop:d,children:E.jsx(Qt.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:b,...p,ref:e})})})});HJ.displayName=NS;var zJ="RadioGroupItem",qJ=W.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=V6e(zJ,n),o=i.disabled||r,a=FJ(n),l=$J(n),c=W.useRef(null),d=zn(e,c),f=i.value===s.value,p=W.useRef(!1);return W.useEffect(()=>{const g=w=>{H6e.includes(w.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),E.jsx(IJ,{asChild:!0,...a,focusable:!o,active:f,children:E.jsx(DJ,{disabled:o,required:i.required,checked:f,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:yt(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:yt(s.onFocus,()=>{p.current&&c.current?.click()})})})});qJ.displayName=zJ;var G6e="RadioGroupIndicator",VJ=W.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=$J(n);return E.jsx(UJ,{...s,...r,ref:e})});VJ.displayName=G6e;var K6e=HJ,W6e=qJ,Q6e=VJ;function Y6e({className:t,...e}){return E.jsx(K6e,{"data-slot":"radio-group",className:Ht("grid gap-3",t),...e})}function j$({className:t,...e}){return E.jsx(W6e,{"data-slot":"radio-group-item",className:Ht("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:E.jsx(Q6e,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:E.jsx(dae,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const yx=W.forwardRef(({className:t,...e},n)=>E.jsx("textarea",{className:Ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yx.displayName="Textarea";wW({adapters:[new CJ],networks:[mW,gW],projectId:"3dc8fb97b90a536ce400e5d65a3f5ff8",defaultAccountTypes:{eip155:"eoa"},enableNetworkSwitch:!1,features:{email:!1,socials:["google","facebook"],emailShowWallets:!1}});function J6e(){const t=gs(),[,e]=ks(Od),[,n]=ks(xc),r=qo(BI),{open:s}=sS(),{address:i,isConnected:o}=XC(),{walletProvider:a}=bW("eip155"),{chainId:l}=ZK(),[c,d]=W.useState("buyer"),[f,p]=W.useState(!1),[g,b]=W.useState(!1),[w,m]=W.useState(null),[v,x]=W.useState(!1),C=async()=>{m(null),b(!0);try{await Promise.resolve(s())}catch(T){const R=T instanceof Error?T.message:"Wallet connection failed";m(R)}finally{b(!1)}},S=async T=>{if(T.preventDefault(),(!a||!i)&&(await C(),!a||!i))return;m(null),x(!1),p(!0);const R=new FormData(T.currentTarget);try{const _=Math.random().toString(36).substring(2,10),O=new IQ.SiweMessage({domain:window.location.host,address:i,statement:"Sign in with Ethereum to MarketPlace",uri:window.location.origin,version:"1",chainId:l,nonce:_}).prepareMessage(),D=new Xc(a,Number(l)),z=await new Wf(D,i).signMessage(O),K=await en.post("/api/login/siwe",{message:O,signature:z});e(K.data.token),n(K.data.user);const q={name:R.get("name"),username:R.get("username"),role:c};await en.put("/api/me",q,{headers:{Authorization:`Bearer ${K.data.token}`}}),c==="seller"&&await en.put("/api/seller/profile",{name:R.get("storeName"),contact:R.get("contact"),bio:R.get("bio")},{headers:{Authorization:`Bearer ${K.data.token}`}}),await r(),x(!0),setTimeout(()=>t("/home",{replace:!0}),500)}catch(_){const N=_ instanceof Error?_.message:"Failed to register";m(N)}finally{p(!1)}};return E.jsx("div",{className:"flex items-center justify-center p-4 bg-gradient-to-br from-background to-muted/20",children:E.jsxs("div",{className:"w-full max-w-md space-y-6",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(nm,{className:"h-6 w-6 text-primary"})}),E.jsx("span",{className:"font-bold text-2xl",children:"MarketPlace"})]}),E.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Create an account"})]}),E.jsxs(Mn,{className:"shadow-lg border-0",children:[E.jsx(Fr,{className:"space-y-1 pb-4",children:E.jsx($r,{className:"text-xl text-center",children:"Register"})}),E.jsx(Un,{className:"space-y-4",children:E.jsxs("form",{onSubmit:S,className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),E.jsx(Hr,{id:"name",name:"name",required:!0,disabled:f})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),E.jsx(Hr,{id:"username",name:"username",required:!0,disabled:f})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{className:"text-sm font-medium",children:"Role"}),E.jsxs(Y6e,{value:c,onValueChange:T=>d(T),className:"flex gap-4",children:[E.jsxs(Ir,{className:"flex items-center gap-2",children:[E.jsx(j$,{value:"buyer"})," Buyer"]}),E.jsxs(Ir,{className:"flex items-center gap-2",children:[E.jsx(j$,{value:"seller"})," Seller"]})]})]}),c==="seller"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"storeName",className:"text-sm font-medium",children:"Store Name"}),E.jsx(Hr,{id:"storeName",name:"storeName",required:!0,disabled:f})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"contact",className:"text-sm font-medium",children:"Contact"}),E.jsx(Hr,{id:"contact",name:"contact",disabled:f})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"bio",className:"text-sm font-medium",children:"Bio"}),E.jsx(yx,{id:"bio",name:"bio",rows:3,disabled:f})]})]}),w&&E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:w})]}),v&&E.jsxs(nl,{children:[E.jsx(lae,{className:"h-4 w-4"}),E.jsx(rl,{children:"Account created, redirecting..."})]}),o?E.jsxs("div",{className:"space-y-4",children:[E.jsx(Hr,{readOnly:!0,value:i}),E.jsx(ht,{type:"submit",className:"w-full h-10",disabled:f||g,children:f?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"})," ","Registering..."]}):"Register"})]}):E.jsx(ht,{type:"button",className:"w-full",onClick:C,disabled:g||f,children:g?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"})," ","Connecting..."]}):"Connect Wallet"}),E.jsx("div",{className:"text-center",children:E.jsx(Mq,{})})]})})]}),E.jsxs("p",{className:"text-center text-sm",children:["Already have an account?"," ",E.jsx("button",{type:"button",className:"underline",onClick:()=>t("/login"),children:"Login"})]})]})})}var BR={exports:{}},DR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$;function Z6e(){if(F$)return DR;F$=1;var t=yC();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(f,p){var g=p(),b=r({inst:{value:g,getSnapshot:p}}),w=b[0].inst,m=b[1];return i(function(){w.value=g,w.getSnapshot=p,l(w)&&m({inst:w})},[f,g,p]),s(function(){return l(w)&&m({inst:w}),f(function(){l(w)&&m({inst:w})})},[f]),o(g),g}function l(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return DR.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,DR}var $$;function X6e(){return $$||($$=1,BR.exports=Z6e()),BR.exports}var e8e=X6e();function t8e(){return e8e.useSyncExternalStore(n8e,()=>!0,()=>!1)}function n8e(){return()=>{}}var Ek="Avatar",[r8e,LFe]=Ec(Ek),[s8e,GJ]=r8e(Ek),KJ=W.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=W.useState("idle");return E.jsx(s8e,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:E.jsx(Qt.span,{...r,ref:e})})});KJ.displayName=Ek;var WJ="AvatarImage",i8e=W.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=GJ(WJ,n),a=o8e(r,i),l=fi(c=>{s(c),o.onImageLoadingStatusChange(c)});return Ss(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?E.jsx(Qt.img,{...i,ref:e,src:r}):null});i8e.displayName=WJ;var QJ="AvatarFallback",YJ=W.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=GJ(QJ,n),[o,a]=W.useState(r===void 0);return W.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?E.jsx(Qt.span,{...s,ref:e}):null});YJ.displayName=QJ;function H$(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function o8e(t,{referrerPolicy:e,crossOrigin:n}){const r=t8e(),s=W.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=W.useState(()=>H$(i,t));return Ss(()=>{a(H$(i,t))},[i,t]),Ss(()=>{const l=f=>()=>{a(f)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,n,e]),o}var a8e=KJ,c8e=YJ;function l8e({className:t,...e}){return E.jsx(a8e,{"data-slot":"avatar",className:Ht("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function u8e({className:t,...e}){return E.jsx(c8e,{"data-slot":"avatar-fallback",className:Ht("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const d8e=["top","right","bottom","left"],ih=Math.min,Ra=Math.max,rC=Math.round,CA=Math.floor,su=t=>({x:t,y:t}),f8e={left:"right",right:"left",bottom:"top",top:"bottom"},h8e={start:"end",end:"start"};function GO(t,e,n){return Ra(t,ih(e,n))}function Rd(t,e){return typeof t=="function"?t(e):t}function Pd(t){return t.split("-")[0]}function ay(t){return t.split("-")[1]}function Ak(t){return t==="x"?"y":"x"}function Ck(t){return t==="y"?"height":"width"}const p8e=new Set(["top","bottom"]);function Jl(t){return p8e.has(Pd(t))?"y":"x"}function Sk(t){return Ak(Jl(t))}function g8e(t,e,n){n===void 0&&(n=!1);const r=ay(t),s=Sk(t),i=Ck(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sC(o)),[o,sC(o)]}function m8e(t){const e=sC(t);return[KO(t),e,KO(e)]}function KO(t){return t.replace(/start|end/g,e=>h8e[e])}const z$=["left","right"],q$=["right","left"],y8e=["top","bottom"],b8e=["bottom","top"];function w8e(t,e,n){switch(t){case"top":case"bottom":return n?e?q$:z$:e?z$:q$;case"left":case"right":return e?y8e:b8e;default:return[]}}function v8e(t,e,n,r){const s=ay(t);let i=w8e(Pd(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(KO)))),i}function sC(t){return t.replace(/left|right|bottom|top/g,e=>f8e[e])}function x8e(t){return{top:0,right:0,bottom:0,left:0,...t}}function JJ(t){return typeof t!="number"?x8e(t):{top:t,right:t,bottom:t,left:t}}function iC(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function V$(t,e,n){let{reference:r,floating:s}=t;const i=Jl(e),o=Sk(e),a=Ck(o),l=Pd(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ay(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const E8e=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=V$(c,r,l),p=r,g={},b=0;for(let w=0;w<a.length;w++){const{name:m,fn:v}=a[w],{x,y:C,data:S,reset:T}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=C??f,g={...g,[m]:{...g[m],...S}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:d,y:f}=V$(c,p,l)),w=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Cv(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Rd(e,t),b=JJ(g),m=a[p?f==="floating"?"reference":"floating":f],v=iC(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},T=iC(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:C,strategy:l}):x);return{top:(v.top-T.top+b.top)/S.y,bottom:(T.bottom-v.bottom+b.bottom)/S.y,left:(v.left-T.left+b.left)/S.x,right:(T.right-v.right+b.right)/S.x}}const A8e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Rd(t,e)||{};if(c==null)return{};const f=JJ(d),p={x:n,y:r},g=Sk(s),b=Ck(g),w=await o.getDimensions(c),m=g==="y",v=m?"top":"left",x=m?"bottom":"right",C=m?"clientHeight":"clientWidth",S=i.reference[b]+i.reference[g]-p[g]-i.floating[b],T=p[g]-i.reference[g],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=R?R[C]:0;(!_||!await(o.isElement==null?void 0:o.isElement(R)))&&(_=a.floating[C]||i.floating[b]);const N=S/2-T/2,O=_/2-w[b]/2-1,D=ih(f[v],O),k=ih(f[x],O),z=D,K=_-w[b]-k,q=_/2-w[b]/2+N,I=GO(z,q,K),P=!l.arrow&&ay(s)!=null&&q!==I&&i.reference[b]/2-(q<z?D:k)-w[b]/2<0,M=P?q<z?q-z:q-K:0;return{[g]:p[g]+M,data:{[g]:I,centerOffset:q-I-M,...P&&{alignmentOffset:M}},reset:P}}}),C8e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...m}=Rd(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Pd(s),x=Jl(a),C=Pd(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=p||(C||!w?[sC(a)]:m8e(a)),R=b!=="none";!p&&R&&T.push(...v8e(a,w,b,S));const _=[a,...T],N=await Cv(e,m),O=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(N[v]),f){const q=g8e(s,o,S);O.push(N[q[0]],N[q[1]])}if(D=[...D,{placement:s,overflows:O}],!O.every(q=>q<=0)){var k,z;const q=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[q];if(I&&(!(f==="alignment"?x!==Jl(I):!1)||D.every(j=>j.overflows[0]>0&&Jl(j.placement)===x)))return{data:{index:q,overflows:D},reset:{placement:I}};let P=(z=D.filter(M=>M.overflows[0]<=0).sort((M,j)=>M.overflows[1]-j.overflows[1])[0])==null?void 0:z.placement;if(!P)switch(g){case"bestFit":{var K;const M=(K=D.filter(j=>{if(R){const G=Jl(j.placement);return G===x||G==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(G=>G>0).reduce((G,F)=>G+F,0)]).sort((j,G)=>j[1]-G[1])[0])==null?void 0:K[0];M&&(P=M);break}case"initialPlacement":P=a;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function G$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K$(t){return d8e.some(e=>t[e]>=0)}const S8e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Rd(t,e);switch(r){case"referenceHidden":{const i=await Cv(e,{...s,elementContext:"reference"}),o=G$(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K$(o)}}}case"escaped":{const i=await Cv(e,{...s,altBoundary:!0}),o=G$(i,n.floating);return{data:{escapedOffsets:o,escaped:K$(o)}}}default:return{}}}}},ZJ=new Set(["left","top"]);async function _8e(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pd(n),a=ay(n),l=Jl(n)==="y",c=ZJ.has(o)?-1:1,d=i&&l?-1:1,f=Rd(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(g=a==="end"?b*-1:b),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const N8e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await _8e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},T8e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:v,y:x}=m;return{x:v,y:x}}},...l}=Rd(t,e),c={x:n,y:r},d=await Cv(e,l),f=Jl(Pd(s)),p=Ak(f);let g=c[p],b=c[f];if(i){const m=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=g+d[m],C=g-d[v];g=GO(x,g,C)}if(o){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=b+d[m],C=b-d[v];b=GO(x,b,C)}const w=a.fn({...e,[p]:g,[f]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},R8e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rd(t,e),d={x:n,y:r},f=Jl(s),p=Ak(f);let g=d[p],b=d[f];const w=Rd(a,e),m=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const C=p==="y"?"height":"width",S=i.reference[p]-i.floating[C]+m.mainAxis,T=i.reference[p]+i.reference[C]-m.mainAxis;g<S?g=S:g>T&&(g=T)}if(c){var v,x;const C=p==="y"?"width":"height",S=ZJ.has(Pd(s)),T=i.reference[f]-i.floating[C]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:m.crossAxis),R=i.reference[f]+i.reference[C]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?m.crossAxis:0);b<T?b=T:b>R&&(b=R)}return{[p]:g,[f]:b}}}},P8e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Rd(t,e),d=await Cv(e,c),f=Pd(s),p=ay(s),g=Jl(s)==="y",{width:b,height:w}=i.floating;let m,v;f==="top"||f==="bottom"?(m=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,m=p==="end"?"top":"bottom");const x=w-d.top-d.bottom,C=b-d.left-d.right,S=ih(w-d[m],x),T=ih(b-d[v],C),R=!e.middlewareData.shift;let _=S,N=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),R&&!p){const D=Ra(d.left,0),k=Ra(d.right,0),z=Ra(d.top,0),K=Ra(d.bottom,0);g?N=b-2*(D!==0||k!==0?D+k:Ra(d.left,d.right)):_=w-2*(z!==0||K!==0?z+K:Ra(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:_});const O=await o.getDimensions(a.floating);return b!==O.width||w!==O.height?{reset:{rects:!0}}:{}}}};function TS(){return typeof window<"u"}function cy(t){return XJ(t)?(t.nodeName||"").toLowerCase():"#document"}function ka(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pu(t){var e;return(e=(XJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XJ(t){return TS()?t instanceof Node||t instanceof ka(t).Node:!1}function fl(t){return TS()?t instanceof Element||t instanceof ka(t).Element:!1}function lu(t){return TS()?t instanceof HTMLElement||t instanceof ka(t).HTMLElement:!1}function W$(t){return!TS()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ka(t).ShadowRoot}const O8e=new Set(["inline","contents"]);function bx(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=hl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!O8e.has(s)}const I8e=new Set(["table","td","th"]);function k8e(t){return I8e.has(cy(t))}const B8e=[":popover-open",":modal"];function RS(t){return B8e.some(e=>{try{return t.matches(e)}catch{return!1}})}const D8e=["transform","translate","scale","rotate","perspective"],M8e=["transform","translate","scale","rotate","perspective","filter"],U8e=["paint","layout","strict","content"];function _k(t){const e=Nk(),n=fl(t)?hl(t):t;return D8e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||M8e.some(r=>(n.willChange||"").includes(r))||U8e.some(r=>(n.contain||"").includes(r))}function L8e(t){let e=oh(t);for(;lu(e)&&!Lm(e);){if(_k(e))return e;if(RS(e))return null;e=oh(e)}return null}function Nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const j8e=new Set(["html","body","#document"]);function Lm(t){return j8e.has(cy(t))}function hl(t){return ka(t).getComputedStyle(t)}function PS(t){return fl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oh(t){if(cy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W$(t)&&t.host||pu(t);return W$(e)?e.host:e}function eZ(t){const e=oh(t);return Lm(e)?t.ownerDocument?t.ownerDocument.body:t.body:lu(e)&&bx(e)?e:eZ(e)}function Sv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=eZ(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=ka(s);if(i){const a=WO(o);return e.concat(o,o.visualViewport||[],bx(s)?s:[],a&&n?Sv(a):[])}return e.concat(s,Sv(s,[],n))}function WO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tZ(t){const e=hl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=lu(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=rC(n)!==i||rC(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Tk(t){return fl(t)?t:t.contextElement}function gm(t){const e=Tk(t);if(!lu(e))return su(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=tZ(e);let o=(i?rC(n.width):n.width)/r,a=(i?rC(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const F8e=su(0);function nZ(t){const e=ka(t);return!Nk()||!e.visualViewport?F8e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $8e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ka(t)?!1:e}function b0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Tk(t);let o=su(1);e&&(r?fl(r)&&(o=gm(r)):o=gm(t));const a=$8e(i,n,r)?nZ(i):su(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=ka(i),g=r&&fl(r)?ka(r):r;let b=p,w=WO(b);for(;w&&r&&g!==b;){const m=gm(w),v=w.getBoundingClientRect(),x=hl(w),C=v.left+(w.clientLeft+parseFloat(x.paddingLeft))*m.x,S=v.top+(w.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,f*=m.y,l+=C,c+=S,b=ka(w),w=WO(b)}}return iC({width:d,height:f,x:l,y:c})}function Rk(t,e){const n=PS(t).scrollLeft;return e?e.left+n:b0(pu(t)).left+n}function rZ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Rk(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function H8e(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=pu(r),a=e?RS(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=su(1);const d=su(0),f=lu(r);if((f||!f&&!i)&&((cy(r)!=="body"||bx(o))&&(l=PS(r)),lu(r))){const g=b0(r);c=gm(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!i?rZ(o,l,!0):su(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function z8e(t){return Array.from(t.getClientRects())}function q8e(t){const e=pu(t),n=PS(t),r=t.ownerDocument.body,s=Ra(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ra(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rk(t);const a=-n.scrollTop;return hl(r).direction==="rtl"&&(o+=Ra(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function V8e(t,e){const n=ka(t),r=pu(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Nk();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const G8e=new Set(["absolute","fixed"]);function K8e(t,e){const n=b0(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=lu(t)?gm(t):su(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Q$(t,e,n){let r;if(e==="viewport")r=V8e(t,n);else if(e==="document")r=q8e(pu(t));else if(fl(e))r=K8e(e,n);else{const s=nZ(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return iC(r)}function sZ(t,e){const n=oh(t);return n===e||!fl(n)||Lm(n)?!1:hl(n).position==="fixed"||sZ(n,e)}function W8e(t,e){const n=e.get(t);if(n)return n;let r=Sv(t,[],!1).filter(a=>fl(a)&&cy(a)!=="body"),s=null;const i=hl(t).position==="fixed";let o=i?oh(t):t;for(;fl(o)&&!Lm(o);){const a=hl(o),l=_k(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&G8e.has(s.position)||bx(o)&&!l&&sZ(t,o))?r=r.filter(d=>d!==o):s=a,o=oh(o)}return e.set(t,r),r}function Q8e(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?RS(e)?[]:W8e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=Q$(e,d,s);return c.top=Ra(f.top,c.top),c.right=ih(f.right,c.right),c.bottom=ih(f.bottom,c.bottom),c.left=Ra(f.left,c.left),c},Q$(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Y8e(t){const{width:e,height:n}=tZ(t);return{width:e,height:n}}function J8e(t,e,n){const r=lu(e),s=pu(e),i=n==="fixed",o=b0(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=su(0);function c(){l.x=Rk(s)}if(r||!r&&!i)if((cy(e)!=="body"||bx(s))&&(a=PS(e)),r){const g=b0(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?rZ(s,a):su(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function MR(t){return hl(t).position==="static"}function Y$(t,e){if(!lu(t)||hl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pu(t)===n&&(n=n.ownerDocument.body),n}function iZ(t,e){const n=ka(t);if(RS(t))return n;if(!lu(t)){let s=oh(t);for(;s&&!Lm(s);){if(fl(s)&&!MR(s))return s;s=oh(s)}return n}let r=Y$(t,e);for(;r&&k8e(r)&&MR(r);)r=Y$(r,e);return r&&Lm(r)&&MR(r)&&!_k(r)?n:r||L8e(t)||n}const Z8e=async function(t){const e=this.getOffsetParent||iZ,n=this.getDimensions,r=await n(t.floating);return{reference:J8e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function X8e(t){return hl(t).direction==="rtl"}const e5e={convertOffsetParentRelativeRectToViewportRelativeRect:H8e,getDocumentElement:pu,getClippingRect:Q8e,getOffsetParent:iZ,getElementRects:Z8e,getClientRects:z8e,getDimensions:Y8e,getScale:gm,isElement:fl,isRTL:X8e};function oZ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function t5e(t,e){let n=null,r;const s=pu(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const b=CA(f),w=CA(s.clientWidth-(d+p)),m=CA(s.clientHeight-(f+g)),v=CA(d),C={rootMargin:-b+"px "+-w+"px "+-m+"px "+-v+"px",threshold:Ra(0,ih(1,l))||1};let S=!0;function T(R){const _=R[0].intersectionRatio;if(_!==l){if(!S)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!oZ(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(T,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(t)}return o(!0),i}function n5e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Tk(t),d=s||i?[...c?Sv(c):[],...Sv(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&a?t5e(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let b,w=l?b0(t):null;l&&m();function m(){const v=b0(t);w&&!oZ(w,v)&&n(),w=v,b=requestAnimationFrame(m)}return n(),()=>{var v;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f?.(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(b)}}const r5e=N8e,s5e=T8e,i5e=C8e,o5e=P8e,a5e=S8e,J$=A8e,c5e=R8e,l5e=(t,e,n)=>{const r=new Map,s={platform:e5e,...n},i={...s.platform,_c:r};return E8e(t,e,{...s,platform:i})};var u5e=typeof document<"u",d5e=function(){},s2=u5e?W.useLayoutEffect:d5e;function oC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!oC(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!oC(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function aZ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z$(t,e){const n=aZ(t);return Math.round(e*n)/n}function UR(t){const e=W.useRef(t);return s2(()=>{e.current=t}),e}function f5e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=W.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=W.useState(r);oC(p,r)||g(r);const[b,w]=W.useState(null),[m,v]=W.useState(null),x=W.useCallback(j=>{j!==R.current&&(R.current=j,w(j))},[]),C=W.useCallback(j=>{j!==_.current&&(_.current=j,v(j))},[]),S=i||b,T=o||m,R=W.useRef(null),_=W.useRef(null),N=W.useRef(d),O=l!=null,D=UR(l),k=UR(s),z=UR(c),K=W.useCallback(()=>{if(!R.current||!_.current)return;const j={placement:e,strategy:n,middleware:p};k.current&&(j.platform=k.current),l5e(R.current,_.current,j).then(G=>{const F={...G,isPositioned:z.current!==!1};q.current&&!oC(N.current,F)&&(N.current=F,Iv.flushSync(()=>{f(F)}))})},[p,e,n,k,z]);s2(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const q=W.useRef(!1);s2(()=>(q.current=!0,()=>{q.current=!1}),[]),s2(()=>{if(S&&(R.current=S),T&&(_.current=T),S&&T){if(D.current)return D.current(S,T,K);K()}},[S,T,K,D,O]);const I=W.useMemo(()=>({reference:R,floating:_,setReference:x,setFloating:C}),[x,C]),P=W.useMemo(()=>({reference:S,floating:T}),[S,T]),M=W.useMemo(()=>{const j={position:n,left:0,top:0};if(!P.floating)return j;const G=Z$(P.floating,d.x),F=Z$(P.floating,d.y);return a?{...j,transform:"translate("+G+"px, "+F+"px)",...aZ(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:F}},[n,a,P.floating,d.x,d.y]);return W.useMemo(()=>({...d,update:K,refs:I,elements:P,floatingStyles:M}),[d,K,I,P,M])}const h5e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J$({element:r.current,padding:s}).fn(n):{}:r?J$({element:r,padding:s}).fn(n):{}}}},p5e=(t,e)=>({...r5e(t),options:[t,e]}),g5e=(t,e)=>({...s5e(t),options:[t,e]}),m5e=(t,e)=>({...c5e(t),options:[t,e]}),y5e=(t,e)=>({...i5e(t),options:[t,e]}),b5e=(t,e)=>({...o5e(t),options:[t,e]}),w5e=(t,e)=>({...a5e(t),options:[t,e]}),v5e=(t,e)=>({...h5e(t),options:[t,e]});var x5e="Arrow",cZ=W.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return E.jsx(Qt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});cZ.displayName=x5e;var E5e=cZ,Pk="Popper",[lZ,OS]=Ec(Pk),[A5e,uZ]=lZ(Pk),dZ=t=>{const{__scopePopper:e,children:n}=t,[r,s]=W.useState(null);return E.jsx(A5e,{scope:e,anchor:r,onAnchorChange:s,children:n})};dZ.displayName=Pk;var fZ="PopperAnchor",hZ=W.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=uZ(fZ,n),o=W.useRef(null),a=zn(e,o);return W.useEffect(()=>{i.onAnchorChange(r?.current||o.current)}),r?null:E.jsx(Qt.div,{...s,ref:a})});hZ.displayName=fZ;var Ok="PopperContent",[C5e,S5e]=lZ(Ok),pZ=W.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=t,m=uZ(Ok,n),[v,x]=W.useState(null),C=zn(e,pe=>x(pe)),[S,T]=W.useState(null),R=kJ(S),_=R?.width??0,N=R?.height??0,O=r+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],z=k.length>0,K={padding:D,boundary:k.filter(N5e),altBoundary:z},{refs:q,floatingStyles:I,placement:P,isPositioned:M,middlewareData:j}=f5e({strategy:"fixed",placement:O,whileElementsMounted:(...pe)=>n5e(...pe,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[p5e({mainAxis:s+N,alignmentAxis:o}),l&&g5e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?m5e():void 0,...K}),l&&y5e({...K}),b5e({...K,apply:({elements:pe,rects:ae,availableWidth:ce,availableHeight:fe})=>{const{width:ve,height:Re}=ae.reference,Se=pe.floating.style;Se.setProperty("--radix-popper-available-width",`${ce}px`),Se.setProperty("--radix-popper-available-height",`${fe}px`),Se.setProperty("--radix-popper-anchor-width",`${ve}px`),Se.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),S&&v5e({element:S,padding:a}),T5e({arrowWidth:_,arrowHeight:N}),p&&w5e({strategy:"referenceHidden",...K})]}),[G,F]=yZ(P),H=fi(b);Ss(()=>{M&&H?.()},[M,H]);const $=j.arrow?.x,Z=j.arrow?.y,X=j.arrow?.centerOffset!==0,[le,de]=W.useState();return Ss(()=>{v&&de(window.getComputedStyle(v).zIndex)},[v]),E.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:M?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(C5e,{scope:n,placedSide:G,onArrowChange:T,arrowX:$,arrowY:Z,shouldHideArrow:X,children:E.jsx(Qt.div,{"data-side":G,"data-align":F,...w,ref:C,style:{...w.style,animation:M?void 0:"none"}})})})});pZ.displayName=Ok;var gZ="PopperArrow",_5e={top:"bottom",right:"left",bottom:"top",left:"right"},mZ=W.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=S5e(gZ,r),o=_5e[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(E5e,{...s,ref:n,style:{...s.style,display:"block"}})})});mZ.displayName=gZ;function N5e(t){return t!==null}var T5e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=yZ(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(s.arrow?.x??0)+a/2,g=(s.arrow?.y??0)+l/2;let b="",w="";return c==="bottom"?(b=o?f:`${p}px`,w=`${-l}px`):c==="top"?(b=o?f:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,w=o?f:`${g}px`):c==="left"&&(b=`${r.floating.width+l}px`,w=o?f:`${g}px`),{data:{x:b,y:w}}}});function yZ(t){const[e,n="center"]=t.split("-");return[e,n]}var bZ=dZ,wZ=hZ,vZ=pZ,xZ=mZ,QO=["Enter"," "],R5e=["ArrowDown","PageUp","Home"],EZ=["ArrowUp","PageDown","End"],P5e=[...R5e,...EZ],O5e={ltr:[...QO,"ArrowRight"],rtl:[...QO,"ArrowLeft"]},I5e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wx="Menu",[_v,k5e,B5e]=px(wx),[M0,AZ]=Ec(wx,[B5e,OS,_S]),IS=OS(),CZ=_S(),[D5e,U0]=M0(wx),[M5e,vx]=M0(wx),SZ=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=IS(e),[l,c]=W.useState(null),d=W.useRef(!1),f=fi(i),p=gx(s);return W.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),E.jsx(bZ,{...a,children:E.jsx(D5e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:E.jsx(M5e,{scope:e,onClose:W.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};SZ.displayName=wx;var U5e="MenuAnchor",Ik=W.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=IS(n);return E.jsx(wZ,{...s,...r,ref:e})});Ik.displayName=U5e;var kk="MenuPortal",[L5e,_Z]=M0(kk,{forceMount:void 0}),NZ=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=U0(kk,e);return E.jsx(L5e,{scope:e,forceMount:n,children:E.jsx(qa,{present:n||i.open,children:E.jsx(RC,{asChild:!0,container:s,children:r})})})};NZ.displayName=kk;var mc="MenuContent",[j5e,Bk]=M0(mc),TZ=W.forwardRef((t,e)=>{const n=_Z(mc,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=U0(mc,t.__scopeMenu),o=vx(mc,t.__scopeMenu);return E.jsx(_v.Provider,{scope:t.__scopeMenu,children:E.jsx(qa,{present:r||i.open,children:E.jsx(_v.Slot,{scope:t.__scopeMenu,children:o.modal?E.jsx(F5e,{...s,ref:e}):E.jsx($5e,{...s,ref:e})})})})}),F5e=W.forwardRef((t,e)=>{const n=U0(mc,t.__scopeMenu),r=W.useRef(null),s=zn(e,r);return W.useEffect(()=>{const i=r.current;if(i)return jI(i)},[]),E.jsx(Dk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:yt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$5e=W.forwardRef((t,e)=>{const n=U0(mc,t.__scopeMenu);return E.jsx(Dk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),H5e=e0("MenuContent.ScrollLock"),Dk=W.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:b,...w}=t,m=U0(mc,n),v=vx(mc,n),x=IS(n),C=CZ(n),S=k5e(n),[T,R]=W.useState(null),_=W.useRef(null),N=zn(e,_,m.onContentChange),O=W.useRef(0),D=W.useRef(""),k=W.useRef(0),z=W.useRef(null),K=W.useRef("right"),q=W.useRef(0),I=b?OC:W.Fragment,P=b?{as:H5e,allowPinchZoom:!0}:void 0,M=G=>{const F=D.current+G,H=S().filter(pe=>!pe.disabled),$=document.activeElement,Z=H.find(pe=>pe.ref.current===$)?.textValue,X=H.map(pe=>pe.textValue),le=eBe(X,F,Z),de=H.find(pe=>pe.textValue===le)?.ref.current;(function pe(ae){D.current=ae,window.clearTimeout(O.current),ae!==""&&(O.current=window.setTimeout(()=>pe(""),1e3))})(F),de&&setTimeout(()=>de.focus())};W.useEffect(()=>()=>window.clearTimeout(O.current),[]),LI();const j=W.useCallback(G=>K.current===z.current?.side&&nBe(G,z.current?.area),[]);return E.jsx(j5e,{scope:n,searchRef:D,onItemEnter:W.useCallback(G=>{j(G)&&G.preventDefault()},[j]),onItemLeave:W.useCallback(G=>{j(G)||(_.current?.focus(),R(null))},[j]),onTriggerLeave:W.useCallback(G=>{j(G)&&G.preventDefault()},[j]),pointerGraceTimerRef:k,onPointerGraceIntentChange:W.useCallback(G=>{z.current=G},[]),children:E.jsx(I,{...P,children:E.jsx(TC,{asChild:!0,trapped:s,onMountAutoFocus:yt(i,G=>{G.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:E.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:E.jsx(OJ,{asChild:!0,...C,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:yt(l,G=>{v.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(vZ,{role:"menu","aria-orientation":"vertical","data-state":qZ(m.open),"data-radix-menu-content":"",dir:v.dir,...x,...w,ref:N,style:{outline:"none",...w.style},onKeyDown:yt(w.onKeyDown,G=>{const H=G.target.closest("[data-radix-menu-content]")===G.currentTarget,$=G.ctrlKey||G.altKey||G.metaKey,Z=G.key.length===1;H&&(G.key==="Tab"&&G.preventDefault(),!$&&Z&&M(G.key));const X=_.current;if(G.target!==X||!P5e.includes(G.key))return;G.preventDefault();const de=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);EZ.includes(G.key)&&de.reverse(),Z5e(de)}),onBlur:yt(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:yt(t.onPointerMove,Nv(G=>{const F=G.target,H=q.current!==G.clientX;if(G.currentTarget.contains(F)&&H){const $=G.clientX>q.current?"right":"left";K.current=$,q.current=G.clientX}}))})})})})})})});TZ.displayName=mc;var z5e="MenuGroup",Mk=W.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(Qt.div,{role:"group",...r,ref:e})});Mk.displayName=z5e;var q5e="MenuLabel",RZ=W.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(Qt.div,{...r,ref:e})});RZ.displayName=q5e;var aC="MenuItem",X$="menu.itemSelect",kS=W.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=W.useRef(null),o=vx(aC,t.__scopeMenu),a=Bk(aC,t.__scopeMenu),l=zn(e,i),c=W.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(X$,{bubbles:!0,cancelable:!0});f.addEventListener(X$,g=>r?.(g),{once:!0}),h2(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return E.jsx(PZ,{...s,ref:l,disabled:n,onClick:yt(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),c.current=!0},onPointerUp:yt(t.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:yt(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||QO.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kS.displayName=aC;var PZ=W.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Bk(aC,n),a=CZ(n),l=W.useRef(null),c=zn(e,l),[d,f]=W.useState(!1),[p,g]=W.useState("");return W.useEffect(()=>{const b=l.current;b&&g((b.textContent??"").trim())},[i.children]),E.jsx(_v.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:E.jsx(IJ,{asChild:!0,...a,focusable:!r,children:E.jsx(Qt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:yt(t.onPointerMove,Nv(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yt(t.onPointerLeave,Nv(b=>o.onItemLeave(b))),onFocus:yt(t.onFocus,()=>f(!0)),onBlur:yt(t.onBlur,()=>f(!1))})})})}),V5e="MenuCheckboxItem",OZ=W.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return E.jsx(MZ,{scope:t.__scopeMenu,checked:n,children:E.jsx(kS,{role:"menuitemcheckbox","aria-checked":cC(n)?"mixed":n,...s,ref:e,"data-state":Lk(n),onSelect:yt(s.onSelect,()=>r?.(cC(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OZ.displayName=V5e;var IZ="MenuRadioGroup",[G5e,K5e]=M0(IZ,{value:void 0,onValueChange:()=>{}}),kZ=W.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=fi(r);return E.jsx(G5e,{scope:t.__scopeMenu,value:n,onValueChange:i,children:E.jsx(Mk,{...s,ref:e})})});kZ.displayName=IZ;var BZ="MenuRadioItem",DZ=W.forwardRef((t,e)=>{const{value:n,...r}=t,s=K5e(BZ,t.__scopeMenu),i=n===s.value;return E.jsx(MZ,{scope:t.__scopeMenu,checked:i,children:E.jsx(kS,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Lk(i),onSelect:yt(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});DZ.displayName=BZ;var Uk="MenuItemIndicator",[MZ,W5e]=M0(Uk,{checked:!1}),UZ=W.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=W5e(Uk,n);return E.jsx(qa,{present:r||cC(i.checked)||i.checked===!0,children:E.jsx(Qt.span,{...s,ref:e,"data-state":Lk(i.checked)})})});UZ.displayName=Uk;var Q5e="MenuSeparator",LZ=W.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(Qt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});LZ.displayName=Q5e;var Y5e="MenuArrow",jZ=W.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=IS(n);return E.jsx(xZ,{...s,...r,ref:e})});jZ.displayName=Y5e;var J5e="MenuSub",[jFe,FZ]=M0(J5e),r1="MenuSubTrigger",$Z=W.forwardRef((t,e)=>{const n=U0(r1,t.__scopeMenu),r=vx(r1,t.__scopeMenu),s=FZ(r1,t.__scopeMenu),i=Bk(r1,t.__scopeMenu),o=W.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=W.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return W.useEffect(()=>d,[d]),W.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),E.jsx(Ik,{asChild:!0,...c,children:E.jsx(PZ,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":qZ(n.open),...t,ref:Dv(e,s.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:yt(t.onPointerMove,Nv(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:yt(t.onPointerLeave,Nv(f=>{d();const p=n.content?.getBoundingClientRect();if(p){const g=n.content?.dataset.side,b=g==="right",w=b?-5:5,m=p[b?"left":"right"],v=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:m,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x:m,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:yt(t.onKeyDown,f=>{const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||O5e[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});$Z.displayName=r1;var HZ="MenuSubContent",zZ=W.forwardRef((t,e)=>{const n=_Z(mc,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=U0(mc,t.__scopeMenu),o=vx(mc,t.__scopeMenu),a=FZ(HZ,t.__scopeMenu),l=W.useRef(null),c=zn(e,l);return E.jsx(_v.Provider,{scope:t.__scopeMenu,children:E.jsx(qa,{present:r||i.open,children:E.jsx(_v.Slot,{scope:t.__scopeMenu,children:E.jsx(Dk,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:yt(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:yt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:yt(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),p=I5e[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),a.trigger?.focus(),d.preventDefault())})})})})})});zZ.displayName=HZ;function qZ(t){return t?"open":"closed"}function cC(t){return t==="indeterminate"}function Lk(t){return cC(t)?"indeterminate":t?"checked":"unchecked"}function Z5e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function X5e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function eBe(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X5e(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function tBe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function nBe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tBe(n,e)}function Nv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rBe=SZ,sBe=Ik,iBe=NZ,oBe=TZ,aBe=Mk,cBe=RZ,lBe=kS,uBe=OZ,dBe=kZ,fBe=DZ,hBe=UZ,pBe=LZ,gBe=jZ,mBe=$Z,yBe=zZ,BS="DropdownMenu",[bBe,FFe]=Ec(BS,[AZ]),wo=AZ(),[wBe,VZ]=bBe(BS),GZ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=wo(e),c=W.useRef(null),[d,f]=Jf({prop:s,defaultProp:i??!1,onChange:o,caller:BS});return E.jsx(wBe,{scope:e,triggerId:sl(),triggerRef:c,contentId:sl(),open:d,onOpenChange:f,onOpenToggle:W.useCallback(()=>f(p=>!p),[f]),modal:a,children:E.jsx(rBe,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};GZ.displayName=BS;var KZ="DropdownMenuTrigger",WZ=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=VZ(KZ,n),o=wo(n);return E.jsx(sBe,{asChild:!0,...o,children:E.jsx(Qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Dv(e,i.triggerRef),onPointerDown:yt(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:yt(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});WZ.displayName=KZ;var vBe="DropdownMenuPortal",QZ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=wo(e);return E.jsx(iBe,{...r,...n})};QZ.displayName=vBe;var YZ="DropdownMenuContent",JZ=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=VZ(YZ,n),i=wo(n),o=W.useRef(!1);return E.jsx(oBe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:yt(t.onCloseAutoFocus,a=>{o.current||s.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:yt(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JZ.displayName=YZ;var xBe="DropdownMenuGroup",EBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(aBe,{...s,...r,ref:e})});EBe.displayName=xBe;var ABe="DropdownMenuLabel",ZZ=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(cBe,{...s,...r,ref:e})});ZZ.displayName=ABe;var CBe="DropdownMenuItem",XZ=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(lBe,{...s,...r,ref:e})});XZ.displayName=CBe;var SBe="DropdownMenuCheckboxItem",_Be=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(uBe,{...s,...r,ref:e})});_Be.displayName=SBe;var NBe="DropdownMenuRadioGroup",TBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(dBe,{...s,...r,ref:e})});TBe.displayName=NBe;var RBe="DropdownMenuRadioItem",PBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(fBe,{...s,...r,ref:e})});PBe.displayName=RBe;var OBe="DropdownMenuItemIndicator",IBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(hBe,{...s,...r,ref:e})});IBe.displayName=OBe;var kBe="DropdownMenuSeparator",eX=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(pBe,{...s,...r,ref:e})});eX.displayName=kBe;var BBe="DropdownMenuArrow",DBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(gBe,{...s,...r,ref:e})});DBe.displayName=BBe;var MBe="DropdownMenuSubTrigger",UBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(mBe,{...s,...r,ref:e})});UBe.displayName=MBe;var LBe="DropdownMenuSubContent",jBe=W.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wo(n);return E.jsx(yBe,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jBe.displayName=LBe;var FBe=GZ,$Be=WZ,HBe=QZ,zBe=JZ,qBe=ZZ,VBe=XZ,GBe=eX;function KBe({...t}){return E.jsx(FBe,{"data-slot":"dropdown-menu",...t})}function WBe({...t}){return E.jsx($Be,{"data-slot":"dropdown-menu-trigger",...t})}function QBe({className:t,sideOffset:e=4,...n}){return E.jsx(HBe,{children:E.jsx(zBe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ht("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function eH({className:t,inset:e,variant:n="default",...r}){return E.jsx(VBe,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Ht("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function YBe({className:t,inset:e,...n}){return E.jsx(qBe,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ht("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function tH({className:t,...e}){return E.jsx(GBe,{"data-slot":"dropdown-menu-separator",className:Ht("bg-border -mx-1 my-1 h-px",t),...e})}var tX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JBe="VisuallyHidden",nX=W.forwardRef((t,e)=>E.jsx(Qt.span,{...t,ref:e,style:{...tX,...t.style}}));nX.displayName=JBe;var ZBe=nX,L0="NavigationMenu",[jk,rX,XBe]=px(L0),[YO,eDe,tDe]=px(L0),[Fk,$Fe]=Ec(L0,[XBe,tDe]),[nDe,Nc]=Fk(L0),[rDe,sDe]=Fk(L0),sX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:i,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...d}=t,[f,p]=W.useState(null),g=zn(e,O=>p(O)),b=gx(c),w=W.useRef(0),m=W.useRef(0),v=W.useRef(0),[x,C]=W.useState(!0),[S,T]=Jf({prop:r,onChange:O=>{const D=O!=="",k=a>0;D?(window.clearTimeout(v.current),k&&C(!1)):(window.clearTimeout(v.current),v.current=window.setTimeout(()=>C(!0),a)),s?.(O)},defaultProp:i??"",caller:L0}),R=W.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>T(""),150)},[T]),_=W.useCallback(O=>{window.clearTimeout(m.current),T(O)},[T]),N=W.useCallback(O=>{S===O?window.clearTimeout(m.current):w.current=window.setTimeout(()=>{window.clearTimeout(m.current),T(O)},o)},[S,T,o]);return W.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(m.current),window.clearTimeout(v.current)},[]),E.jsx(iX,{scope:n,isRootMenu:!0,value:S,dir:b,orientation:l,rootNavigationMenu:f,onTriggerEnter:O=>{window.clearTimeout(w.current),x?N(O):_(O)},onTriggerLeave:()=>{window.clearTimeout(w.current),R()},onContentEnter:()=>window.clearTimeout(m.current),onContentLeave:R,onItemSelect:O=>{T(D=>D===O?"":O)},onItemDismiss:()=>T(""),children:E.jsx(Qt.nav,{"aria-label":"Main","data-orientation":l,dir:b,...d,ref:g})})});sX.displayName=L0;var JO="NavigationMenuSub",iDe=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",...a}=t,l=Nc(JO,n),[c,d]=Jf({prop:r,onChange:s,defaultProp:i??"",caller:JO});return E.jsx(iX,{scope:n,isRootMenu:!1,value:c,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:f=>d(f),onItemSelect:f=>d(f),onItemDismiss:()=>d(""),children:E.jsx(Qt.div,{"data-orientation":o,...a,ref:e})})});iDe.displayName=JO;var iX=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:s,orientation:i,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:d,onTriggerLeave:f,onContentEnter:p,onContentLeave:g}=t,[b,w]=W.useState(null),[m,v]=W.useState(new Map),[x,C]=W.useState(null);return E.jsx(nDe,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:vk(a),baseId:sl(),dir:s,orientation:i,viewport:b,onViewportChange:w,indicatorTrack:x,onIndicatorTrackChange:C,onTriggerEnter:fi(d),onTriggerLeave:fi(f),onContentEnter:fi(p),onContentLeave:fi(g),onItemSelect:fi(l),onItemDismiss:fi(c),onViewportContentChange:W.useCallback((S,T)=>{v(R=>(R.set(S,T),new Map(R)))},[]),onViewportContentRemove:W.useCallback(S=>{v(T=>T.has(S)?(T.delete(S),new Map(T)):T)},[]),children:E.jsx(jk.Provider,{scope:e,children:E.jsx(rDe,{scope:e,items:m,children:o})})})},oX="NavigationMenuList",aX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Nc(oX,n),i=E.jsx(Qt.ul,{"data-orientation":s.orientation,...r,ref:e});return E.jsx(Qt.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:E.jsx(jk.Slot,{scope:n,children:s.isRootMenu?E.jsx(pX,{asChild:!0,children:i}):i})})});aX.displayName=oX;var cX="NavigationMenuItem",[oDe,lX]=Fk(cX),uX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...s}=t,i=sl(),o=r||i||"LEGACY_REACT_AUTO_VALUE",a=W.useRef(null),l=W.useRef(null),c=W.useRef(null),d=W.useRef(()=>{}),f=W.useRef(!1),p=W.useCallback((b="start")=>{if(a.current){d.current();const w=XO(a.current);w.length&&zk(b==="start"?w:w.reverse())}},[]),g=W.useCallback(()=>{if(a.current){const b=XO(a.current);b.length&&(d.current=mDe(b))}},[]);return E.jsx(oDe,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:f,onEntryKeyDown:p,onFocusProxyEnter:p,onRootContentClose:g,onContentFocusOutside:g,children:E.jsx(Qt.li,{...s,ref:e})})});uX.displayName=cX;var ZO="NavigationMenuTrigger",aDe=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...s}=t,i=Nc(ZO,t.__scopeNavigationMenu),o=lX(ZO,t.__scopeNavigationMenu),a=W.useRef(null),l=zn(a,o.triggerRef,e),c=mX(i.baseId,o.value),d=yX(i.baseId,o.value),f=W.useRef(!1),p=W.useRef(!1),g=o.value===i.value;return E.jsxs(E.Fragment,{children:[E.jsx(jk.ItemSlot,{scope:n,value:o.value,children:E.jsx(gX,{asChild:!0,children:E.jsx(Qt.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":qk(g),"aria-expanded":g,"aria-controls":d,...s,ref:l,onPointerEnter:yt(t.onPointerEnter,()=>{p.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:yt(t.onPointerMove,lC(()=>{r||p.current||o.wasEscapeCloseRef.current||f.current||(i.onTriggerEnter(o.value),f.current=!0)})),onPointerLeave:yt(t.onPointerLeave,lC(()=>{r||(i.onTriggerLeave(),f.current=!1)})),onClick:yt(t.onClick,()=>{i.onItemSelect(o.value),p.current=g}),onKeyDown:yt(t.onKeyDown,b=>{const m={horizontal:"ArrowDown",vertical:i.dir==="rtl"?"ArrowLeft":"ArrowRight"}[i.orientation];g&&b.key===m&&(o.onEntryKeyDown(),b.preventDefault())})})})}),g&&E.jsxs(E.Fragment,{children:[E.jsx(ZBe,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:b=>{const w=o.contentRef.current,m=b.relatedTarget,v=m===a.current,x=w?.contains(m);(v||!x)&&o.onFocusProxyEnter(v?"start":"end")}}),i.viewport&&E.jsx("span",{"aria-owns":d})]})]})});aDe.displayName=ZO;var cDe="NavigationMenuLink",nH="navigationMenu.linkSelect",dX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:s,...i}=t;return E.jsx(gX,{asChild:!0,children:E.jsx(Qt.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...i,ref:e,onClick:yt(t.onClick,o=>{const a=o.target,l=new CustomEvent(nH,{bubbles:!0,cancelable:!0});if(a.addEventListener(nH,c=>s?.(c),{once:!0}),h2(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(i2,{bubbles:!0,cancelable:!0});h2(a,c)}},{checkForDefaultPrevented:!1})})})});dX.displayName=cDe;var $k="NavigationMenuIndicator",lDe=W.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nc($k,t.__scopeNavigationMenu),i=!!s.value;return s.indicatorTrack?NI.createPortal(E.jsx(qa,{present:n||i,children:E.jsx(uDe,{...r,ref:e})}),s.indicatorTrack):null});lDe.displayName=$k;var uDe=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Nc($k,n),i=rX(n),[o,a]=W.useState(null),[l,c]=W.useState(null),d=s.orientation==="horizontal",f=!!s.value;W.useEffect(()=>{const b=i().find(w=>w.value===s.value)?.ref.current;b&&a(b)},[i,s.value]);const p=()=>{o&&c({size:d?o.offsetWidth:o.offsetHeight,offset:d?o.offsetLeft:o.offsetTop})};return eI(o,p),eI(s.indicatorTrack,p),l?E.jsx(Qt.div,{"aria-hidden":!0,"data-state":f?"visible":"hidden","data-orientation":s.orientation,...r,ref:e,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),jm="NavigationMenuContent",dDe=W.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nc(jm,t.__scopeNavigationMenu),i=lX(jm,t.__scopeNavigationMenu),o=zn(i.contentRef,e),a=i.value===s.value,l={value:i.value,triggerRef:i.triggerRef,focusProxyRef:i.focusProxyRef,wasEscapeCloseRef:i.wasEscapeCloseRef,onContentFocusOutside:i.onContentFocusOutside,onRootContentClose:i.onRootContentClose,...r};return s.viewport?E.jsx(fDe,{forceMount:n,...l,ref:o}):E.jsx(qa,{present:n||a,children:E.jsx(fX,{"data-state":qk(a),...l,ref:o,onPointerEnter:yt(t.onPointerEnter,s.onContentEnter),onPointerLeave:yt(t.onPointerLeave,lC(s.onContentLeave)),style:{pointerEvents:!a&&s.isRootMenu?"none":void 0,...l.style}})})});dDe.displayName=jm;var fDe=W.forwardRef((t,e)=>{const n=Nc(jm,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:s}=n;return Ss(()=>{r(t.value,{ref:e,...t})},[t,e,r]),Ss(()=>()=>s(t.value),[t.value,s]),null}),i2="navigationMenu.rootContentDismiss",fX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:s,focusProxyRef:i,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,d=Nc(jm,n),f=W.useRef(null),p=zn(f,e),g=mX(d.baseId,r),b=yX(d.baseId,r),w=rX(n),m=W.useRef(null),{onItemDismiss:v}=d;W.useEffect(()=>{const C=f.current;if(d.isRootMenu&&C){const S=()=>{v(),a(),C.contains(document.activeElement)&&s.current?.focus()};return C.addEventListener(i2,S),()=>C.removeEventListener(i2,S)}},[d.isRootMenu,t.value,s,v,a]);const x=W.useMemo(()=>{const S=w().map(D=>D.value);d.dir==="rtl"&&S.reverse();const T=S.indexOf(d.value),R=S.indexOf(d.previousValue),_=r===d.value,N=R===S.indexOf(r);if(!_&&!N)return m.current;const O=(()=>{if(T!==R){if(_&&R!==-1)return T>R?"from-end":"from-start";if(N&&T!==-1)return T>R?"to-start":"to-end"}return null})();return m.current=O,O},[d.previousValue,d.value,d.dir,w,r]);return E.jsx(pX,{asChild:!0,children:E.jsx(Uv,{id:b,"aria-labelledby":g,"data-motion":x,"data-orientation":d.orientation,...c,ref:p,disableOutsidePointerEvents:!1,onDismiss:()=>{const C=new Event(i2,{bubbles:!0,cancelable:!0});f.current?.dispatchEvent(C)},onFocusOutside:yt(t.onFocusOutside,C=>{l();const S=C.target;d.rootNavigationMenu?.contains(S)&&C.preventDefault()}),onPointerDownOutside:yt(t.onPointerDownOutside,C=>{const S=C.target,T=w().some(_=>_.ref.current?.contains(S)),R=d.isRootMenu&&d.viewport?.contains(S);(T||R||!d.isRootMenu)&&C.preventDefault()}),onKeyDown:yt(t.onKeyDown,C=>{const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const R=XO(C.currentTarget),_=document.activeElement,N=R.findIndex(k=>k===_),D=C.shiftKey?R.slice(0,N).reverse():R.slice(N+1,R.length);zk(D)?C.preventDefault():i.current?.focus()}}),onEscapeKeyDown:yt(t.onEscapeKeyDown,C=>{o.current=!0})})})}),Hk="NavigationMenuViewport",hX=W.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=!!Nc(Hk,t.__scopeNavigationMenu).value;return E.jsx(qa,{present:n||i,children:E.jsx(hDe,{...r,ref:e})})});hX.displayName=Hk;var hDe=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...s}=t,i=Nc(Hk,n),o=zn(e,i.onViewportChange),a=sDe(jm,t.__scopeNavigationMenu),[l,c]=W.useState(null),[d,f]=W.useState(null),p=l?l?.width+"px":void 0,g=l?l?.height+"px":void 0,b=!!i.value,w=b?i.value:i.previousValue;return eI(d,()=>{d&&c({width:d.offsetWidth,height:d.offsetHeight})}),E.jsx(Qt.div,{"data-state":qk(b),"data-orientation":i.orientation,...s,ref:o,style:{pointerEvents:!b&&i.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":p,"--radix-navigation-menu-viewport-height":g,...s.style},onPointerEnter:yt(t.onPointerEnter,i.onContentEnter),onPointerLeave:yt(t.onPointerLeave,lC(i.onContentLeave)),children:Array.from(a.items).map(([v,{ref:x,forceMount:C,...S}])=>{const T=w===v;return E.jsx(qa,{present:C||T,children:E.jsx(fX,{...S,ref:Dv(x,R=>{T&&R&&f(R)})})},v)})})}),pDe="FocusGroup",pX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=Nc(pDe,n);return E.jsx(YO.Provider,{scope:n,children:E.jsx(YO.Slot,{scope:n,children:E.jsx(Qt.div,{dir:s.dir,...r,ref:e})})})}),rH=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],gDe="FocusGroupItem",gX=W.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,s=eDe(n),i=Nc(gDe,n);return E.jsx(YO.ItemSlot,{scope:n,children:E.jsx(Qt.button,{...r,ref:e,onKeyDown:yt(t.onKeyDown,o=>{if(["Home","End",...rH].includes(o.key)){let l=s().map(f=>f.ref.current);if([i.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),rH.includes(o.key)){const f=l.indexOf(o.currentTarget);l=l.slice(f+1)}setTimeout(()=>zk(l)),o.preventDefault()}})})})});function XO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zk(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function mDe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function eI(t,e){const n=fi(e);Ss(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function qk(t){return t?"open":"closed"}function mX(t,e){return`${t}-trigger-${e}`}function yX(t,e){return`${t}-content-${e}`}function lC(t){return e=>e.pointerType==="mouse"?t(e):void 0}var yDe=sX,bDe=aX,wDe=uX,vDe=dX,xDe=hX;function EDe({className:t,children:e,viewport:n=!0,...r}){return E.jsxs(yDe,{"data-slot":"navigation-menu","data-viewport":n,className:Ht("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...r,children:[e,n&&E.jsx(_De,{})]})}function ADe({className:t,...e}){return E.jsx(bDe,{"data-slot":"navigation-menu-list",className:Ht("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function CDe({className:t,...e}){return E.jsx(wDe,{"data-slot":"navigation-menu-item",className:Ht("relative",t),...e})}const SDe=NC("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");function _De({className:t,...e}){return E.jsx("div",{className:Ht("absolute top-full left-0 isolate z-50 flex justify-center"),children:E.jsx(xDe,{"data-slot":"navigation-menu-viewport",className:Ht("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function NDe({className:t,...e}){return E.jsx(vDe,{"data-slot":"navigation-menu-link",className:Ht("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}function bX({children:t,className:e=""}){return E.jsx("div",{className:`mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 ${e}`,children:t})}function TDe(){const[t]=ks(xc),[,e]=ks(zie),n=gs(),r=lh(),[s,i]=W.useState(!1),{isConnected:o}=XC(),{open:a}=sS(),l=()=>{e(),n("/login")},c=x=>r.pathname===x,d=()=>[{label:"Home",path:"/home",icon:iD,description:"Browse products and discover deals"},{label:"Catalog",path:"/catalog",icon:Ql,description:"View all available products"},{label:"Cart",path:"/cart",icon:t0,description:"Manage your shopping cart"},{label:"Login",path:"/login",icon:Kw,description:"Sign in to your account"}],f=()=>[{label:"Home",path:"/home",icon:iD,description:"Browse products and discover deals"},{label:"Catalog",path:"/catalog",icon:Ql,description:"View all available products"},{label:"Cart",path:"/cart",icon:t0,description:"Manage your shopping cart"},{label:"Orders",path:"/orders",icon:bT,description:"Track your order history"},{label:"Profile",path:"/profile",icon:Kw,description:"Manage your account settings"}],p=()=>[{label:"Dashboard",path:"/seller/dashboard",icon:sD,description:"View your store analytics"},{label:"My Products",path:"/seller/products",icon:Ql,description:"Manage your product catalog"},{label:"Orders",path:"/seller/orders",icon:bT,description:"Process customer orders"},{label:"Payouts",path:"/seller/payouts",icon:nm,description:"Track your earnings and payouts"},{label:"Store Profile",path:"/seller/profile",icon:Kw,description:"Update your store information"}],g=()=>[{label:"Dashboard",path:"/admin",icon:sD,description:"Platform overview and statistics"},{label:"Users",path:"/admin/users",icon:Gz,description:"Manage user accounts and permissions"},{label:"Sellers",path:"/admin/sellers",icon:nm,description:"Approve and manage seller accounts"},{label:"Products",path:"/admin/products",icon:Ql,description:"Review and moderate products"},{label:"Wallets",path:"/admin/wallets",icon:pae,description:"Manage user wallets"},{label:"Reports",path:"/admin/reports",icon:bT,description:"Handle user reports and issues"},{label:"Settings",path:"/admin/settings",icon:qz,description:"Configure platform settings"}],w=(()=>{if(!t)return d();switch(t.role){case"buyer":return f();case"seller":return p();case"admin":return g();default:return[]}})(),m=x=>x.split(" ").map(C=>C[0]).join("").toUpperCase(),v=x=>{switch(x){case"admin":return"destructive";case"seller":return"secondary";case"buyer":return"default";default:return"outline"}};return E.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:E.jsxs(bX,{children:[E.jsxs("div",{className:"flex h-16 items-center justify-between",children:[E.jsx("div",{className:"flex items-center space-x-4",children:E.jsxs(ht,{variant:"ghost",className:"flex items-center space-x-2 p-0 h-auto",onClick:()=>n("/home"),children:[E.jsx("div",{className:"p-1 bg-primary/10 rounded-lg",children:E.jsx(nm,{className:"h-5 w-5 text-primary"})}),E.jsx("span",{className:"font-bold text-xl hidden sm:inline",children:"MarketPlace"}),E.jsx("span",{className:"font-bold text-xl sm:hidden",children:"MP"})]})}),E.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:E.jsx(EDe,{children:E.jsx(ADe,{children:w.map(x=>{const C=x.icon;return E.jsx(CDe,{children:E.jsx(NDe,{asChild:!0,className:Ht(SDe(),c(x.path)&&"bg-accent text-accent-foreground"),children:E.jsxs(ht,{variant:"ghost",onClick:()=>n(x.path),className:"flex items-center space-x-2",children:[E.jsx(C,{className:"h-4 w-4"}),E.jsx("span",{children:x.label})]})})},x.path)})})})}),E.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t?E.jsxs(KBe,{children:[E.jsx(WBe,{asChild:!0,children:E.jsxs(ht,{variant:"ghost",className:"flex items-center space-x-2",children:[E.jsx(l8e,{className:"h-8 w-8",children:E.jsx(u8e,{className:"text-xs",children:m(t.name||t.username||"U")})}),E.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[E.jsx("span",{className:"text-sm font-medium",children:t.name||t.username}),E.jsx(hs,{variant:v(t.role||"buyer"),className:"text-xs",children:t.role})]})]})}),E.jsxs(QBe,{align:"end",className:"w-56",children:[E.jsx(YBe,{children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium leading-none",children:t.name||t.username}),E.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.username})]})}),E.jsx(tH,{}),E.jsxs(eH,{onClick:()=>n("/profile"),children:[E.jsx(Kw,{className:"mr-2 h-4 w-4"}),"Profile"]}),E.jsx(tH,{}),E.jsxs(eH,{onClick:l,children:[E.jsx(vae,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}):E.jsx(ht,{variant:"ghost",onClick:()=>n("/login"),className:"hidden sm:flex",children:"Login"}),E.jsxs(ht,{variant:o?"default":"secondary",onClick:()=>a(),className:"flex items-center",size:"sm",children:[E.jsx("span",{className:"hidden sm:inline",children:o?"Wallet Connected":"Connect Wallet"}),E.jsx("span",{className:"sm:hidden",children:o?"Connected":"Connect"})]}),E.jsx(ht,{variant:"ghost",size:"sm",className:"lg:hidden ml-1",onClick:()=>i(!s),children:s?E.jsx(Kz,{className:"h-4 w-4"}):E.jsx(Eae,{className:"h-4 w-4"})})]})]}),s&&E.jsx("div",{className:"lg:hidden py-4 border-t",children:E.jsx("div",{className:"flex flex-col space-y-2",children:w.map(x=>{const C=x.icon;return E.jsxs(ht,{variant:c(x.path)?"default":"ghost",onClick:()=>{n(x.path),i(!1)},className:"justify-start h-auto py-3",children:[E.jsx(C,{className:"mr-3 h-4 w-4"}),E.jsxs("div",{className:"flex flex-col items-start",children:[E.jsx("span",{className:"font-medium",children:x.label}),E.jsx("span",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.path)})})})]})})}function wX({children:t,className:e}){return E.jsx("h2",{className:Ht("text-2xl font-bold mb-4",e),children:t})}function RDe(){const[t]=ks(xc),e=t?`Welcome, ${t.name}`:"Welcome to MarketPlace",n=[{icon:t0,title:"Seamless Shopping",description:"Browse and purchase from thousands of products with ease."},{icon:nm,title:"Open Your Store",description:"Become a seller and reach customers across the globe in minutes."},{icon:Oae,title:"Secure Payments",description:"Every transaction is protected with industry-standard security."},{icon:Gz,title:"Community Support",description:"Join a vibrant network of buyers and sellers."}];return E.jsxs("div",{className:"space-y-12",children:[E.jsxs("div",{className:"space-y-4 text-center",children:[E.jsx(wX,{className:"text-4xl md:text-5xl",children:e}),E.jsx("p",{className:"text-lg text-muted-foreground",children:"Discover a new way to buy and sell online with MarketPlace"}),E.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 pt-4 md:flex-row",children:[E.jsx(ht,{size:"lg",onClick:()=>window.location.hash="/catalog",children:"Explore Catalog"}),!t&&E.jsx(ht,{size:"lg",variant:"secondary",onClick:()=>window.location.hash="/register",children:"Create Account"})]})]}),E.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:n.map(({icon:r,title:s,description:i})=>E.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-lg border p-6 text-center",children:[E.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:E.jsx(r,{className:"h-8 w-8 text-primary"})}),E.jsx("h3",{className:"text-lg font-semibold",children:s}),E.jsx("p",{className:"text-sm text-muted-foreground",children:i})]},s))})]})}function PDe({product:t,onAdd:e,onView:n}){const r=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(i),s=i=>{switch(i){case"active":return"default";case"inactive":return"secondary";case"pending":return"outline";case"flagged":return"destructive";default:return"outline"}};return E.jsxs(Mn,{className:"group overflow-hidden transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[E.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[t.imageUrl?E.jsx("img",{src:t.imageUrl,alt:t.name,className:"h-full w-full object-cover transition-transform duration-200 group-hover:scale-105"}):E.jsx("div",{className:"flex h-full w-full items-center justify-center",children:E.jsx(Ql,{className:"h-12 w-12 text-muted-foreground"})}),E.jsx("div",{className:"absolute top-2 right-2",children:E.jsx(hs,{variant:s(t.status),className:"text-xs",children:t.status||"unknown"})})]}),E.jsx(Fr,{className:"pb-3",children:E.jsx($r,{className:"text-lg font-semibold line-clamp-2 leading-tight",children:t.name})}),E.jsx(Un,{className:"pb-3",children:t.description?E.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 leading-relaxed",children:t.description}):E.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No description available"})}),E.jsxs(Ioe,{className:"flex flex-col gap-3 pt-0",children:[E.jsx("div",{className:"w-full",children:E.jsx("span",{className:"text-xl font-bold text-primary",children:r(t.price)})}),E.jsxs("div",{className:"flex w-full gap-2",children:[n&&E.jsxs(ht,{variant:"outline",size:"sm",onClick:n,className:"flex-1",children:[E.jsx(Mv,{className:"mr-2 h-4 w-4"}),"View"]}),e&&E.jsxs(ht,{size:"sm",onClick:e,className:"flex-1",children:[E.jsx(t0,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})]})]})]})}function tr({className:t,...e}){return E.jsx("div",{"data-slot":"skeleton",className:Ht("bg-accent animate-pulse rounded-md",t),...e})}const vX="cart_items",xX=()=>{try{const t=localStorage.getItem(vX);return t?JSON.parse(t):[]}catch{return[]}},DS=t=>{try{localStorage.setItem(vX,JSON.stringify(t))}catch{}},Wo=_s(xX()),ODe=_s(t=>t(Wo).reduce((e,n)=>e+n.product.price*n.quantity,0)),IDe=_s(null,async(t,e)=>{const n=xX();e(Wo,n)}),EX=_s(null,async(t,e,n)=>{const r=t(Wo),s=r.find(o=>o.productId===n.id);let i;if(s)i=r.map(o=>o.productId===n.id?{...o,quantity:o.quantity+1}:o);else{const o={id:n.id,userId:0,productId:n.id,quantity:1,product:n};i=[...r,o]}e(Wo,i),DS(i)}),kDe=_s(null,async(t,e,n)=>{const r=t(Wo).filter(s=>s.productId!==n);e(Wo,r),DS(r)}),BDe=_s(null,async(t,e,{productId:n,quantity:r})=>{let s;r<=0?s=t(Wo).filter(i=>i.productId!==n):s=t(Wo).map(i=>i.productId===n?{...i,quantity:r}:i),e(Wo,s),DS(s)}),DDe=_s(null,async(t,e)=>{e(Wo,[]),DS([])});function MDe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const UDe=t=>{switch(t){case"success":return FDe;case"info":return HDe;case"warning":return $De;case"error":return zDe;default:return null}},LDe=Array(12).fill(0),jDe=({visible:t,className:e})=>at.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},at.createElement("div",{className:"sonner-spinner"},LDe.map((n,r)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FDe=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$De=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HDe=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zDe=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qDe=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VDe=()=>{const[t,e]=at.useState(document.hidden);return at.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let tI=1;class GDe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:tI++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async c=>{if(o=["resolve",c],at.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(WDe(c)&&!c.ok){i=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,b=typeof f=="object"&&!at.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...b})}else if(c instanceof Error){i=!1;const f=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,b=typeof f=="object"&&!at.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...b})}else if(n.success!==void 0){i=!1;const f=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,b=typeof f=="object"&&!at.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...b})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description,g=typeof d=="object"&&!at.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||tI++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lo=new GDe,KDe=(t,e)=>{const n=e?.id||tI++;return Lo.addToast({title:t,...e,id:n}),n},WDe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QDe=KDe,YDe=()=>Lo.toasts,JDe=()=>Lo.getActiveToasts(),gi=Object.assign(QDe,{success:Lo.success,info:Lo.info,warning:Lo.warning,error:Lo.error,custom:Lo.custom,message:Lo.message,promise:Lo.promise,dismiss:Lo.dismiss,loading:Lo.loading},{getHistory:YDe,getToasts:JDe});MDe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function SA(t){return t.label!==void 0}const ZDe=3,XDe="24px",eMe="16px",sH=4e3,tMe=356,nMe=14,rMe=45,sMe=200;function jl(...t){return t.filter(Boolean).join(" ")}function iMe(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const oMe=t=>{var e,n,r,s,i,o,a,l,c;const{invert:d,toast:f,unstyled:p,interacting:g,setHeights:b,visibleToasts:w,heights:m,index:v,toasts:x,expanded:C,removeToast:S,defaultRichColors:T,closeButton:R,style:_,cancelButtonStyle:N,actionButtonStyle:O,className:D="",descriptionClassName:k="",duration:z,position:K,gap:q,expandByDefault:I,classNames:P,icons:M,closeButtonAriaLabel:j="Close toast"}=t,[G,F]=at.useState(null),[H,$]=at.useState(null),[Z,X]=at.useState(!1),[le,de]=at.useState(!1),[pe,ae]=at.useState(!1),[ce,fe]=at.useState(!1),[ve,Re]=at.useState(!1),[Se,xe]=at.useState(0),[te,J]=at.useState(0),V=at.useRef(f.duration||z||sH),Y=at.useRef(null),se=at.useRef(null),me=v===0,_e=v+1<=w,Te=f.type,ot=f.dismissible!==!1,It=f.className||"",Ft=f.descriptionClassName||"",Ce=at.useMemo(()=>m.findIndex(Ge=>Ge.toastId===f.id)||0,[m,f.id]),ye=at.useMemo(()=>{var Ge;return(Ge=f.closeButton)!=null?Ge:R},[f.closeButton,R]),re=at.useMemo(()=>f.duration||z||sH,[f.duration,z]),ge=at.useRef(0),ke=at.useRef(0),$e=at.useRef(0),et=at.useRef(null),[xt,gt]=K.split("-"),Rn=at.useMemo(()=>m.reduce((Ge,Qr,ns)=>ns>=Ce?Ge:Ge+Qr.height,0),[m,Ce]),Jt=VDe(),Yn=f.invert||d,ls=Te==="loading";ke.current=at.useMemo(()=>Ce*q+Rn,[Ce,Rn]),at.useEffect(()=>{V.current=re},[re]),at.useEffect(()=>{X(!0)},[]),at.useEffect(()=>{const Ge=se.current;if(Ge){const Qr=Ge.getBoundingClientRect().height;return J(Qr),b(ns=>[{toastId:f.id,height:Qr,position:f.position},...ns]),()=>b(ns=>ns.filter(nr=>nr.toastId!==f.id))}},[b,f.id]),at.useLayoutEffect(()=>{if(!Z)return;const Ge=se.current,Qr=Ge.style.height;Ge.style.height="auto";const ns=Ge.getBoundingClientRect().height;Ge.style.height=Qr,J(ns),b(nr=>nr.find(Yr=>Yr.toastId===f.id)?nr.map(Yr=>Yr.toastId===f.id?{...Yr,height:ns}:Yr):[{toastId:f.id,height:ns,position:f.position},...nr])},[Z,f.title,f.description,b,f.id,f.jsx,f.action,f.cancel]);const ms=at.useCallback(()=>{de(!0),xe(ke.current),b(Ge=>Ge.filter(Qr=>Qr.toastId!==f.id)),setTimeout(()=>{S(f)},sMe)},[f,S,b,ke]);at.useEffect(()=>{if(f.promise&&Te==="loading"||f.duration===1/0||f.type==="loading")return;let Ge;return C||g||Jt?(()=>{if($e.current<ge.current){const nr=new Date().getTime()-ge.current;V.current=V.current-nr}$e.current=new Date().getTime()})():(()=>{V.current!==1/0&&(ge.current=new Date().getTime(),Ge=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ms()},V.current))})(),()=>clearTimeout(Ge)},[C,g,f,Te,Jt,ms]),at.useEffect(()=>{f.delete&&(ms(),f.onDismiss==null||f.onDismiss.call(f,f))},[ms,f.delete]);function Mi(){var Ge;if(M?.loading){var Qr;return at.createElement("div",{className:jl(P?.loader,f==null||(Qr=f.classNames)==null?void 0:Qr.loader,"sonner-loader"),"data-visible":Te==="loading"},M.loading)}return at.createElement(jDe,{className:jl(P?.loader,f==null||(Ge=f.classNames)==null?void 0:Ge.loader),visible:Te==="loading"})}const Ka=f.icon||M?.[Te]||UDe(Te);var na,mu;return at.createElement("li",{tabIndex:0,ref:se,className:jl(D,It,P?.toast,f==null||(e=f.classNames)==null?void 0:e.toast,P?.default,P?.[Te],f==null||(n=f.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(na=f.richColors)!=null?na:T,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":Z,"data-promise":!!f.promise,"data-swiped":ve,"data-removed":le,"data-visible":_e,"data-y-position":xt,"data-x-position":gt,"data-index":v,"data-front":me,"data-swiping":pe,"data-dismissible":ot,"data-type":Te,"data-invert":Yn,"data-swipe-out":ce,"data-swipe-direction":H,"data-expanded":!!(C||I&&Z),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${le?Se:ke.current}px`,"--initial-height":I?"auto":`${te}px`,..._,...f.style},onDragEnd:()=>{ae(!1),F(null),et.current=null},onPointerDown:Ge=>{Ge.button!==2&&(ls||!ot||(Y.current=new Date,xe(ke.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ae(!0),et.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Qr,ns;if(ce||!ot)return;et.current=null;const nr=Number(((Ge=se.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),to=Number(((Qr=se.current)==null?void 0:Qr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yr=new Date().getTime()-((ns=Y.current)==null?void 0:ns.getTime()),Br=G==="x"?nr:to,rr=Math.abs(Br)/Yr;if(Math.abs(Br)>=rMe||rr>.11){xe(ke.current),f.onDismiss==null||f.onDismiss.call(f,f),$(G==="x"?nr>0?"right":"left":to>0?"down":"up"),ms(),fe(!0);return}else{var sr,qn;(sr=se.current)==null||sr.style.setProperty("--swipe-amount-x","0px"),(qn=se.current)==null||qn.style.setProperty("--swipe-amount-y","0px")}Re(!1),ae(!1),F(null)},onPointerMove:Ge=>{var Qr,ns,nr;if(!et.current||!ot||((Qr=window.getSelection())==null?void 0:Qr.toString().length)>0)return;const Yr=Ge.clientY-et.current.y,Br=Ge.clientX-et.current.x;var rr;const sr=(rr=t.swipeDirections)!=null?rr:iMe(K);!G&&(Math.abs(Br)>1||Math.abs(Yr)>1)&&F(Math.abs(Br)>Math.abs(Yr)?"x":"y");let qn={x:0,y:0};const no=ni=>1/(1.5+Math.abs(ni)/20);if(G==="y"){if(sr.includes("top")||sr.includes("bottom"))if(sr.includes("top")&&Yr<0||sr.includes("bottom")&&Yr>0)qn.y=Yr;else{const ni=Yr*no(Yr);qn.y=Math.abs(ni)<Math.abs(Yr)?ni:Yr}}else if(G==="x"&&(sr.includes("left")||sr.includes("right")))if(sr.includes("left")&&Br<0||sr.includes("right")&&Br>0)qn.x=Br;else{const ni=Br*no(Br);qn.x=Math.abs(ni)<Math.abs(Br)?ni:Br}(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Re(!0),(ns=se.current)==null||ns.style.setProperty("--swipe-amount-x",`${qn.x}px`),(nr=se.current)==null||nr.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},ye&&!f.jsx&&Te!=="loading"?at.createElement("button",{"aria-label":j,"data-disabled":ls,"data-close-button":!0,onClick:ls||!ot?()=>{}:()=>{ms(),f.onDismiss==null||f.onDismiss.call(f,f)},className:jl(P?.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(mu=M?.close)!=null?mu:qDe):null,(Te||f.icon||f.promise)&&f.icon!==null&&(M?.[Te]!==null||f.icon)?at.createElement("div",{"data-icon":"",className:jl(P?.icon,f==null||(s=f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mi():null,f.type!=="loading"?Ka:null):null,at.createElement("div",{"data-content":"",className:jl(P?.content,f==null||(i=f.classNames)==null?void 0:i.content)},at.createElement("div",{"data-title":"",className:jl(P?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?at.createElement("div",{"data-description":"",className:jl(k,Ft,P?.description,f==null||(a=f.classNames)==null?void 0:a.description)},typeof f.description=="function"?f.description():f.description):null),at.isValidElement(f.cancel)?f.cancel:f.cancel&&SA(f.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:Ge=>{SA(f.cancel)&&ot&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ge),ms())},className:jl(P?.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,at.isValidElement(f.action)?f.action:f.action&&SA(f.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||O,onClick:Ge=>{SA(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ge),!Ge.defaultPrevented&&ms())},className:jl(P?.actionButton,f==null||(c=f.classNames)==null?void 0:c.actionButton)},f.action.label):null)};function iH(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function aMe(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?eMe:XDe;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}const cMe=at.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:p,duration:g,style:b,visibleToasts:w=ZDe,toastOptions:m,dir:v=iH(),gap:x=nMe,icons:C,containerAriaLabel:S="Notifications"}=e,[T,R]=at.useState([]),_=at.useMemo(()=>Array.from(new Set([s].concat(T.filter(H=>H.position).map(H=>H.position)))),[T,s]),[N,O]=at.useState([]),[D,k]=at.useState(!1),[z,K]=at.useState(!1),[q,I]=at.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=at.useRef(null),M=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=at.useRef(null),G=at.useRef(!1),F=at.useCallback(H=>{R($=>{var Z;return(Z=$.find(X=>X.id===H.id))!=null&&Z.delete||Lo.dismiss(H.id),$.filter(({id:X})=>X!==H.id)})},[]);return at.useEffect(()=>Lo.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{R($=>$.map(Z=>Z.id===H.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{NI.flushSync(()=>{R($=>{const Z=$.findIndex(X=>X.id===H.id);return Z!==-1?[...$.slice(0,Z),{...$[Z],...H},...$.slice(Z+1)]:[H,...$]})})})}),[T]),at.useEffect(()=>{if(f!=="system"){I(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:$})=>{I($?"dark":"light")})}catch{H.addListener(({matches:Z})=>{try{I(Z?"dark":"light")}catch(X){console.error(X)}})}},[f]),at.useEffect(()=>{T.length<=1&&k(!1)},[T]),at.useEffect(()=>{const H=$=>{var Z;if(i.every(de=>$[de]||$.code===de)){var le;k(!0),(le=P.current)==null||le.focus()}$.code==="Escape"&&(document.activeElement===P.current||(Z=P.current)!=null&&Z.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),at.useEffect(()=>{if(P.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,G.current=!1)}},[P.current]),at.createElement("section",{ref:n,"aria-label":`${S} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((H,$)=>{var Z;const[X,le]=H.split("-");return T.length?at.createElement("ol",{key:H,dir:v==="auto"?iH():v,tabIndex:-1,ref:P,className:l,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":X,"data-x-position":le,style:{"--front-toast-height":`${((Z=N[0])==null?void 0:Z.height)||0}px`,"--width":`${tMe}px`,"--gap":`${x}px`,...b,...aMe(c,d)},onBlur:de=>{G.current&&!de.currentTarget.contains(de.relatedTarget)&&(G.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G.current||(G.current=!0,j.current=de.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{z||k(!1)},onDragEnd:()=>k(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},T.filter(de=>!de.position&&$===0||de.position===H).map((de,pe)=>{var ae,ce;return at.createElement(oMe,{key:de.id,icons:C,index:pe,toast:de,defaultRichColors:p,duration:(ae=m?.duration)!=null?ae:g,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(ce=m?.closeButton)!=null?ce:a,interacting:z,position:H,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,closeButtonAriaLabel:m?.closeButtonAriaLabel,removeToast:F,toasts:T.filter(fe=>fe.position==de.position),heights:N.filter(fe=>fe.position==de.position),setHeights:O,expandByDefault:o,gap:x,expanded:D,swipeDirections:e.swipeDirections})})):null}))});var AX="AlertDialog",[lMe,HFe]=Ec(AX,[oq]),Md=oq(),CX=t=>{const{__scopeAlertDialog:e,...n}=t,r=Md(e);return E.jsx(Eq,{...r,...n,modal:!0})};CX.displayName=AX;var uMe="AlertDialogTrigger",dMe=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Md(n);return E.jsx(Aq,{...s,...r,ref:e})});dMe.displayName=uMe;var fMe="AlertDialogPortal",SX=t=>{const{__scopeAlertDialog:e,...n}=t,r=Md(e);return E.jsx(Cq,{...r,...n})};SX.displayName=fMe;var hMe="AlertDialogOverlay",_X=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Md(n);return E.jsx(Sq,{...s,...r,ref:e})});_X.displayName=hMe;var mm="AlertDialogContent",[pMe,gMe]=lMe(mm),mMe=Wie("AlertDialogContent"),NX=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Md(n),o=W.useRef(null),a=zn(e,o),l=W.useRef(null);return E.jsx(ole,{contentName:mm,titleName:TX,docsSlug:"alert-dialog",children:E.jsx(pMe,{scope:n,cancelRef:l,children:E.jsxs(_q,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:yt(s.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[E.jsx(mMe,{children:r}),E.jsx(wMe,{contentRef:o})]})})})});NX.displayName=mm;var TX="AlertDialogTitle",RX=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Md(n);return E.jsx(Nq,{...s,...r,ref:e})});RX.displayName=TX;var PX="AlertDialogDescription",yMe=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Md(n);return E.jsx(Tq,{...s,...r,ref:e})});yMe.displayName=PX;var bMe="AlertDialogAction",OX=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Md(n);return E.jsx(kC,{...s,...r,ref:e})});OX.displayName=bMe;var IX="AlertDialogCancel",kX=W.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=gMe(IX,n),i=Md(n),o=zn(e,s);return E.jsx(kC,{...i,...r,ref:o})});kX.displayName=IX;var wMe=({contentRef:t})=>{const e=`\`${mm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mm}\` by passing a \`${PX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return W.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},vMe=CX,xMe=SX,EMe=_X,AMe=NX,CMe=OX,SMe=kX,_Me=RX;function Ma({...t}){return E.jsx(vMe,{"data-slot":"alert-dialog",...t})}function NMe({...t}){return E.jsx(xMe,{"data-slot":"alert-dialog-portal",...t})}function TMe({className:t,...e}){return E.jsx(EMe,{"data-slot":"alert-dialog-overlay",className:Ht("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ua({className:t,...e}){return E.jsxs(NMe,{children:[E.jsx(TMe,{}),E.jsx(AMe,{"data-slot":"alert-dialog-content",className:Ht("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function La({className:t,...e}){return E.jsx("div",{"data-slot":"alert-dialog-header",className:Ht("flex flex-col gap-2 text-center sm:text-left",t),...e})}function ja({className:t,...e}){return E.jsx("div",{"data-slot":"alert-dialog-footer",className:Ht("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Fa({className:t,...e}){return E.jsx(_Me,{"data-slot":"alert-dialog-title",className:Ht("text-lg font-semibold",t),...e})}function $a({className:t,...e}){return E.jsx(CMe,{className:Ht(MI(),t),...e})}function Ha({className:t,...e}){return E.jsx(SMe,{className:Ht(MI({variant:"outline"}),t),...e})}function RMe(){const[t,e]=W.useState([]),[n,r]=W.useState([]),[s,i]=W.useState(!1),[o,a]=W.useState(null),[l,c]=W.useState(""),d=qo(EX),[f]=ks(Wo),p=gs(),[g,b]=W.useState(null),w=async()=>{i(!0);try{const x=await en.get("/api/buyer/products");e(x.data),r(x.data)}catch(x){Xp(x)?a(x.message):a("Failed to load products")}finally{i(!1)}};W.useEffect(()=>{w()},[]),W.useEffect(()=>{const x=t.filter(C=>C.name.toLowerCase().includes(l.toLowerCase())||C.description&&C.description.toLowerCase().includes(l.toLowerCase()));r(x)},[l,t]);const m=async x=>{try{const C=f.find(S=>S.productId===x.id);await d(x),C?gi.success(`${x.name} quantity updated in cart!`):gi.success(`${x.name} added to cart!`)}catch{gi.error("Failed to add item to cart")}},v=()=>t.filter(C=>C.status==="active").length;return s?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-8 w-48"}),E.jsx(tr,{className:"h-4 w-32"})]}),E.jsx(tr,{className:"h-10 w-64"})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((x,C)=>E.jsx(Mn,{children:E.jsxs(Un,{className:"p-6",children:[E.jsx(tr,{className:"h-48 w-full mb-4"}),E.jsx(tr,{className:"h-4 w-3/4 mb-2"}),E.jsx(tr,{className:"h-4 w-1/2 mb-2"}),E.jsx(tr,{className:"h-8 w-full"})]})},C))})]}):o?E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:o})]}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Product Catalog"}),E.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Ql,{className:"h-4 w-4"}),E.jsxs("span",{children:[t.length," products"]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(t0,{className:"h-4 w-4"}),E.jsxs("span",{children:[f.length," items in cart"]})]}),E.jsxs(hs,{variant:"secondary",children:[v()," active products"]})]})]}),E.jsxs("div",{className:"relative w-full sm:w-80",children:[E.jsx(oD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),E.jsx(Hr,{placeholder:"Search products...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]})]}),!n.length&&t.length>0?E.jsx(Mn,{children:E.jsxs(Un,{className:"flex flex-col items-center justify-center py-12",children:[E.jsx(oD,{className:"h-12 w-12 text-muted-foreground mb-4"}),E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),E.jsx("p",{className:"text-muted-foreground text-center",children:"Try adjusting your search terms or browse all products"}),E.jsx(ht,{variant:"outline",onClick:()=>c(""),className:"mt-4",children:"Clear search"})]})}):t.length?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(x=>E.jsx(PDe,{product:x,onAdd:()=>b(x),onView:()=>p(`/buyer/product/${x.id}`)},x.id))}):E.jsx(Mn,{children:E.jsxs(Un,{className:"flex flex-col items-center justify-center py-12",children:[E.jsx(Ql,{className:"h-12 w-12 text-muted-foreground mb-4"}),E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products available"}),E.jsx("p",{className:"text-muted-foreground text-center",children:"Check back later for new products"})]})}),E.jsx(Ma,{open:!!g,onOpenChange:x=>!x&&b(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Add this item to cart?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{g&&m(g),b(null)},children:"Confirm"})]})]})})]})}function PMe({product:t,quantity:e,onRemove:n,onChange:r}){const s=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a),i=a=>{a>=1&&a<=99&&r?.(a)},o=t.price*e;return E.jsx(Mn,{children:E.jsx(Un,{className:"p-4",children:E.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[E.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:t.imageUrl?E.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}):E.jsx("div",{className:"flex items-center justify-center w-full h-full",children:E.jsx(Ql,{className:"h-6 w-6 text-muted-foreground"})})}),E.jsx("div",{className:"flex-1 min-w-0",children:E.jsx("div",{className:"flex items-start justify-between",children:E.jsxs("div",{className:"space-y-1",children:[E.jsx("h3",{className:"font-semibold text-sm leading-tight line-clamp-2",children:t.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm font-medium text-primary",children:s(t.price)}),E.jsx(hs,{variant:"outline",className:"text-xs",children:t.status||"unknown"})]})]})})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>i(e-1),disabled:e<=1,className:"h-8 w-8 p-0",children:E.jsx(Cae,{className:"h-3 w-3"})}),E.jsx(Hr,{type:"number",min:1,max:99,value:e,onChange:a=>i(Number(a.target.value)),className:"w-16 h-8 text-center text-sm"}),E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>i(e+1),disabled:e>=99,className:"h-8 w-8 p-0",children:E.jsx(zz,{className:"h-3 w-3"})})]}),E.jsxs("div",{className:"text-right min-w-0",children:[E.jsx("div",{className:"font-semibold text-sm",children:s(o)}),e>1&&E.jsxs("div",{className:"text-xs text-muted-foreground",children:[e,"  ",s(t.price)]})]}),n&&E.jsx(ht,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:E.jsx(Vz,{className:"h-4 w-4"})})]})})})}function OMe(){const[t]=ks(Wo),e=ks(ODe)[0],n=qo(kDe),r=qo(BDe),s=qo(IDe),i=gs(),[o,a]=W.useState(!0),[l,c]=W.useState(null),[d,f]=W.useState(null),[p,g]=W.useState(!1);W.useEffect(()=>{(async()=>{a(!0),c(null);try{await s()}catch(v){console.error("Failed to load cart:",v),c("Failed to load your cart. Please try again.")}finally{a(!1)}})()},[s]);const b=m=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(m),w=()=>{t.forEach(m=>n(m.productId))};return o?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-8 w-48"}),E.jsx(tr,{className:"h-4 w-32"})]}),E.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((m,v)=>E.jsx(Mn,{children:E.jsx(Un,{className:"p-6",children:E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx(tr,{className:"h-16 w-16 rounded"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx(tr,{className:"h-4 w-3/4"}),E.jsx(tr,{className:"h-4 w-1/2"})]}),E.jsx(tr,{className:"h-8 w-20"})]})})},v))})]}):l?E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:l})]}):t.length?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Shopping Cart"}),E.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(t0,{className:"h-4 w-4"}),E.jsxs("span",{children:[t.length," items"]})]}),E.jsxs(hs,{variant:"secondary",children:[t.reduce((m,v)=>m+v.quantity,0)," total items"]})]})]}),E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"text-destructive hover:text-destructive",children:[E.jsx(Vz,{className:"mr-2 h-4 w-4"}),"Clear Cart"]})]}),E.jsx("div",{className:"space-y-4",children:t.map(m=>E.jsx(PMe,{product:m.product,quantity:m.quantity,onRemove:()=>f(m.productId),onChange:v=>r({productId:m.productId,quantity:v})},m.id))}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Order Summary"})}),E.jsxs(Un,{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[E.jsx("span",{className:"text-sm text-muted-foreground",children:"Subtotal"}),E.jsx("span",{className:"font-medium",children:b(e)})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[E.jsx("span",{className:"text-sm text-muted-foreground",children:"Shipping"}),E.jsx("span",{className:"font-medium",children:"Free"})]}),E.jsxs("div",{className:"flex justify-between items-center py-2",children:[E.jsx("span",{className:"text-lg font-semibold",children:"Total"}),E.jsx("span",{className:"text-xl font-bold text-primary",children:b(e)})]}),E.jsxs(ht,{onClick:()=>i("/buyer/checkout"),className:"w-full",size:"lg",children:["Proceed to Checkout",E.jsx(qoe,{className:"ml-2 h-4 w-4"})]})]})]}),E.jsx(Ma,{open:p,onOpenChange:m=>!m&&g(!1),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Clear all items from cart?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{w(),g(!1)},children:"Confirm"})]})]})}),E.jsx(Ma,{open:d!==null,onOpenChange:m=>!m&&f(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Remove this item from cart?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{d!==null&&n(d),f(null)},children:"Confirm"})]})]})})]}):E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[E.jsx("div",{className:"p-4 bg-muted rounded-full",children:E.jsx(t0,{className:"h-12 w-12 text-muted-foreground"})}),E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-2xl font-semibold",children:"Your cart is empty"}),E.jsx("p",{className:"text-muted-foreground",children:"Start shopping to add items to your cart"})]}),E.jsxs(ht,{onClick:()=>i("/catalog"),children:[E.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Browse Products"]})]})}function IMe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=gs(),a=async()=>{r(!0);try{const c=await en.get("/api/buyer/orders");e(c.data)}catch(c){Xp(c)?i(c.message):i("Failed to load orders")}finally{r(!1)}};W.useEffect(()=>{a()},[]);const l=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?E.jsx(tr,{className:"h-20"}):s?E.jsx("div",{className:"text-red-600",children:s}):t.length?E.jsxs("div",{className:"space-y-4",children:[E.jsx("h2",{className:"text-2xl font-bold",children:"My Orders"}),E.jsx("div",{className:"space-y-4",children:t.map(c=>E.jsx("div",{className:"border p-4 rounded-lg",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{children:E.jsxs("span",{className:"font-semibold",children:["Order #",c.id]})}),E.jsxs("div",{children:[E.jsx("span",{className:"text-sm text-gray-600",children:"Status: "}),E.jsx(hs,{variant:"secondary",className:`rounded-full ${l(c.status||"pending")}`,children:c.status})]})]}),E.jsxs("div",{className:"mt-2",children:[E.jsx("span",{className:"text-sm text-gray-600",children:"Total: "}),E.jsx("span",{className:"font-semibold",children:Id(c.total)})]}),E.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:c.createdAt?new Date(c.createdAt).toLocaleString("en-US"):"N/A"})]}),E.jsxs(ht,{size:"sm",variant:"outline",onClick:()=>o(`/orders/${c.id}`),children:[E.jsx(Mv,{className:"h-4 w-4 mr-2"}),"View Details"]})]})},c.id))})]}):E.jsx("div",{children:"No orders yet."})}function Ud({className:t}){return E.jsxs("div",{className:Ht("flex justify-center items-center py-10",t),children:[E.jsx(Yf,{className:"h-8 w-8 animate-spin text-muted-foreground"}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})}function kMe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),l=W.useCallback(async()=>{if(t){i(!0);try{const p=await en.get(`/api/buyer/orders/${t}`);r(p.data)}catch(p){console.error("Failed to load order:",p),a("Failed to load order details")}finally{i(!1)}}},[t]);if(W.useEffect(()=>{l()},[l]),s)return E.jsx(Ud,{});if(o)return E.jsx("div",{className:"text-red-600",children:o});if(!n)return E.jsx("div",{children:"Order not found."});const c=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=p=>{switch(p){case"pending":return E.jsx(yT,{className:"h-4 w-4"});case"processing":return E.jsx(Ql,{className:"h-4 w-4"});case"shipped":return E.jsx(Mae,{className:"h-4 w-4"});case"delivered":return E.jsx(aae,{className:"h-4 w-4"});case"cancelled":return E.jsx(yT,{className:"h-4 w-4"});default:return E.jsx(yT,{className:"h-4 w-4"})}},f=n.items?JSON.parse(n.items):[];return E.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>e("/orders"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),E.jsxs("h1",{className:"text-2xl font-bold",children:["Order #",n.id]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsxs($r,{className:"flex items-center gap-2",children:[d(n.status),"Order Status"]})}),E.jsx(Un,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(hs,{variant:"secondary",className:`rounded-full ${c(n.status||"pending")}`,children:n.status}),E.jsx("span",{className:"text-sm text-gray-500",children:n.createdAt&&new Date(n.createdAt).toLocaleDateString()})]})})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Order Items"})}),E.jsx(Un,{children:f.length>0?E.jsx("div",{className:"space-y-3",children:f.map((p,g)=>E.jsx("div",{className:"flex items-center justify-between p-3 border rounded",children:E.jsxs("div",{children:[E.jsxs("p",{className:"font-medium",children:["Product ID: ",p.productId]}),E.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.quantity]})]})},g))}):E.jsx("p",{className:"text-gray-500",children:"No items found"})})]}),n.shippingAddress&&E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Shipping Address"})}),E.jsx(Un,{children:E.jsx("p",{className:"text-gray-700",children:n.shippingAddress})})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Order Summary"})}),E.jsxs(Un,{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Order ID:"}),E.jsxs("span",{className:"font-medium",children:["#",n.id]})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Total Amount:"}),E.jsx("span",{className:"font-bold text-lg text-green-600",children:Id(n.total??0)})]}),n.paymentMethod&&E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Payment Method:"}),E.jsx("span",{className:"font-medium capitalize",children:n.paymentMethod.replace("_"," ")})]}),n.trackingNumber&&E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Tracking Number:"}),E.jsx("span",{className:"font-medium",children:n.trackingNumber})]})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Timeline"})}),E.jsx(Un,{children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium",children:"Order Placed"}),E.jsx("p",{className:"text-xs text-gray-500",children:n.createdAt&&new Date(n.createdAt).toLocaleString()})]})]}),n.status!=="pending"&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium",children:"Processing"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Order is being processed"})]})]}),["shipped","delivered"].includes(n.status)&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium",children:"Shipped"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Order has been shipped"})]})]}),n.status==="delivered"&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium",children:"Delivered"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Order has been delivered"})]})]})]})})]})]})]})]})}function BMe(){const[t,e]=ks(xc),[n,r]=W.useState(t?.name||""),[s,i]=W.useState(t?.username||""),[o,a]=W.useState(!1),[l,c]=W.useState(null),[d]=ks(jie),f=qo(BI),{open:p}=sS(),{isConnected:g}=XC(),b=gs(),[w,m]=W.useState(!1);W.useEffect(()=>{t&&(r(t.name||""),i(t.username||""))},[t]),W.useEffect(()=>{f()},[f]);const v=async()=>{m(!0);try{await Promise.resolve(p()),await f()}catch(T){const R=T instanceof Error?T.message:"Wallet connection failed";gi.error(R)}finally{m(!1)}},x=async T=>{if(T.preventDefault(),!t){gi.error("User data not available");return}a(!0),c(null);try{const R=await en.put("/api/me",{name:n.trim(),username:s.trim()});e(R.data),gi.success("Profile updated successfully!")}catch(R){console.error("Failed to update profile:",R);const _=R;_.response?.status===409?(c("Username already exists. Please choose a different username."),gi.error("Username already exists")):_.response?.status===400?(c("Invalid data provided. Please check your input."),gi.error("Invalid data provided")):(c("Failed to update profile. Please try again."),gi.error("Failed to update profile"))}finally{a(!1)}},C=T=>{switch(T){case"admin":return"destructive";case"seller":return"secondary";case"buyer":return"default";default:return"outline"}},S=T=>{switch(T){case"active":return"default";case"banned":return"destructive";case"inactive":return"secondary";default:return"outline"}};return t?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(Kw,{className:"h-5 w-5 text-primary"})}),E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile Settings"})]}),E.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and preferences"})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Wallet"})}),E.jsxs(Un,{className:"space-y-4",children:[E.jsxs("p",{children:["Status:"," ",E.jsx(hs,{variant:g?"default":"secondary",children:g?"Connected":"Not Connected"})]}),E.jsx("p",{className:"text-2xl font-bold",children:d}),E.jsx(Hr,{readOnly:!0,value:t.ethereumAddress}),!g&&E.jsx(ht,{onClick:v,disabled:w,children:w?"Connecting...":"Connect Wallet"})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Account Information"})}),E.jsxs(Un,{children:[E.jsxs("form",{onSubmit:x,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),E.jsx(Hr,{id:"name",value:n,onChange:T=>r(T.target.value),placeholder:"Enter your full name",disabled:o,required:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),E.jsx(Hr,{id:"username",value:s,onChange:T=>i(T.target.value),placeholder:"Enter your username",disabled:o,required:!0})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{className:"text-sm font-medium",children:"Role"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(hs,{variant:C(t.role||"buyer"),children:t.role}),E.jsx(Lae,{className:"h-4 w-4 text-muted-foreground"})]}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account role cannot be changed"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{className:"text-sm font-medium",children:"Status"}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsx(hs,{variant:S(t.status||"active"),children:t.status})}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Account status is managed by administrators"})]})]}),l&&E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:l})]}),E.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[E.jsx(ht,{type:"submit",disabled:o,className:"min-w-[120px]",children:o?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):E.jsxs(E.Fragment,{children:[E.jsx(UI,{className:"mr-2 h-4 w-4"}),"Save Changes"]})}),o&&E.jsx("p",{className:"text-sm text-muted-foreground",children:"Updating profile..."})]})]}),E.jsx("div",{className:"text-sm",children:E.jsx("button",{type:"button",className:"underline",onClick:()=>b("/account-recovery"),children:"Account Recovery"})})]})]})]}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-8 w-48"}),E.jsx(tr,{className:"h-4 w-64"})]}),E.jsx(Mn,{children:E.jsxs(Un,{className:"p-6 space-y-4",children:[Array.from({length:4}).map((T,R)=>E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-4 w-32"}),E.jsx(tr,{className:"h-10 w-full"})]},R)),E.jsx(tr,{className:"h-10 w-24"})]})})]})}function DMe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),l=qo(EX),[c]=ks(Wo),[d,f]=W.useState(!1),p=async b=>{if(b){i(!0);try{const w=await en.get(`/api/buyer/products/${b}`);r(w.data)}catch(w){Xp(w)?a(w.message):a("Failed to load product")}finally{i(!1)}}};W.useEffect(()=>{t&&p(t)},[t]);const g=async()=>{if(n)try{const b=c.find(w=>w.productId===n.id);await l(n),b?gi.success(`${n.name} quantity updated in cart!`):gi.success(`${n.name} added to cart!`)}catch{gi.error("Failed to add item to cart")}};return s?E.jsx(Ud,{}):o?E.jsx("div",{className:"text-red-600",children:o}):n?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>e("/catalog"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to Catalog"]}),E.jsx(wX,{children:n.name})]}),E.jsx(Mn,{children:E.jsx(Un,{className:"p-6",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Description"}),E.jsx("p",{className:"text-muted-foreground",children:n.description})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Price"}),E.jsx("p",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n.price)})]}),E.jsx(ht,{onClick:()=>f(!0),className:"w-full",children:"Add to Cart"})]})})}),E.jsx(Ma,{open:d,onOpenChange:b=>!b&&f(!1),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Add this item to cart?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{g(),f(!1)},children:"Confirm"})]})]})})]}):E.jsx("div",{children:"Product not found."})}const uC=_s(0),BX=_s(null,(t,e)=>{const n=t(uC);e(uC,n+1)});function oH(){const t=gs(),[e,n]=W.useState([]),[r,s]=W.useState([]),[i,o]=W.useState(!1),[a,l]=W.useState(null),[c]=ks(uC),d=async()=>{o(!0);try{const p=await en.get("/api/seller/products");n(p.data);const g=await en.get("/api/seller/orders");s(g.data)}catch(p){console.error("Failed to load dashboard data:",p),l("Failed to load dashboard data")}finally{o(!1)}},f=()=>{t("/seller/products")};return W.useEffect(()=>{d()},[c]),i?E.jsx(Ud,{}):a?E.jsx("div",{className:"text-red-600",children:a}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Products"})}),E.jsxs(Un,{children:[E.jsx("div",{className:"text-2xl font-bold",children:e.length}),E.jsx("div",{className:"text-sm text-muted-foreground",children:"Total products"})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Orders"})}),E.jsxs(Un,{children:[E.jsx("div",{className:"text-2xl font-bold",children:r.length}),E.jsx("div",{className:"text-sm text-muted-foreground",children:"Total orders"})]})]})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx(ht,{onClick:f,children:"Manage Products"})})]})}function MMe(){const t=gs(),e=qo(BX),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=async a=>{a.preventDefault(),r(!0),i(null);const l=new FormData(a.currentTarget),c={name:l.get("name"),price:Number(l.get("price")),description:l.get("description"),imageUrl:l.get("imageUrl")||void 0};try{await en.post("/api/seller/products",c),e(),t("/seller/products")}catch(d){console.error("Failed to create product:",d);const f=d instanceof Error?d.message:"Failed to create product";i(f)}finally{r(!1)}};return E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Add Product"})}),E.jsx(Un,{children:E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"name",children:"Product Name"}),E.jsx(Hr,{id:"name",name:"name",required:!0})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"price",children:"Price"}),E.jsx(Hr,{id:"price",name:"price",type:"number",step:"0.01",min:"0",required:!0})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"description",children:"Description"}),E.jsx(yx,{id:"description",name:"description",rows:3})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"imageUrl",children:"Image URL (optional)"}),E.jsx(Hr,{id:"imageUrl",name:"imageUrl",type:"url"})]}),s&&E.jsx("div",{className:"text-red-600",children:s}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{type:"submit",disabled:n,children:n?"Creating...":"Create Product"}),E.jsx(ht,{type:"button",variant:"outline",onClick:()=>t("/seller/products"),children:"Cancel"})]})]})})]})}function UMe(){const{id:t}=C0(),e=gs(),n=qo(BX),[r,s]=W.useState(null),[i,o]=W.useState(!1),[a,l]=W.useState(null),c=W.useCallback(async()=>{if(t){o(!0);try{const f=await en.get(`/api/seller/products/${t}`);s(f.data)}catch(f){console.error("Failed to load product:",f),l("Failed to load product details")}finally{o(!1)}}},[t]),d=async f=>{if(f.preventDefault(),!r)return;o(!0),l(null);const p=new FormData(f.currentTarget),g={name:p.get("name"),price:Number(p.get("price")),description:p.get("description"),imageUrl:p.get("imageUrl")||void 0};try{await en.put(`/api/seller/products/${t}`,g),n(),e("/seller/products")}catch(b){console.error("Failed to update product:",b);const w=b instanceof Error?b.message:"Failed to update product";l(w)}finally{o(!1)}};return W.useEffect(()=>{c()},[c]),i&&!r?E.jsx(Ud,{}):a&&!r?E.jsx("div",{className:"text-red-600",children:a}):r?E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Edit Product"})}),E.jsx(Un,{children:E.jsxs("form",{onSubmit:d,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"name",children:"Product Name"}),E.jsx(Hr,{id:"name",name:"name",defaultValue:r.name,required:!0})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"price",children:"Price"}),E.jsx(Hr,{id:"price",name:"price",type:"number",step:"0.01",min:"0",defaultValue:r.price,required:!0})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"description",children:"Description"}),E.jsx(yx,{id:"description",name:"description",rows:3,defaultValue:r.description||""})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"imageUrl",children:"Image URL (optional)"}),E.jsx(Hr,{id:"imageUrl",name:"imageUrl",type:"url",defaultValue:r.imageUrl||""})]}),a&&E.jsx("div",{className:"text-red-600",children:a}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{type:"submit",disabled:i,children:i?"Updating...":"Update Product"}),E.jsx(ht,{type:"button",variant:"outline",onClick:()=>e("/seller/products"),children:"Cancel"})]})]})})]}):E.jsx("div",{children:"Product not found."})}function LMe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),l=W.useCallback(async()=>{if(t){i(!0);try{const d=await en.get(`/api/seller/products/${t}`);r(d.data)}catch(d){console.error("Failed to load product:",d),a("Failed to load product details")}finally{i(!1)}}},[t]);W.useEffect(()=>{l()},[l]);const c=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"flagged":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?E.jsx(Ud,{}):o?E.jsx("div",{className:"text-red-600",children:o}):n?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-bold",children:"Product Details"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{variant:"outline",onClick:()=>e(`/seller/edit-product/${n.id}`),children:"Edit Product"}),E.jsxs(ht,{variant:"outline",onClick:()=>e("/seller/products"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to My Products"]})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:n.name})}),E.jsxs(Un,{className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Price"}),E.jsx("p",{className:"text-lg font-bold",children:Id(n.price)})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Status"}),E.jsx(hs,{variant:"secondary",className:`rounded-full ${c(n.status||"inactive")}`,children:n.status})]})]}),n.description&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Description"}),E.jsx("p",{className:"text-sm",children:n.description})]}),n.imageUrl&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Image"}),E.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-32 h-32 object-cover rounded-lg"})]})]})]})]}):E.jsx("div",{children:"Product not found."})}function jMe(){const t=gs(),[e,n]=W.useState([]),[r,s]=W.useState(!1),[i,o]=W.useState(null),[a]=ks(uC),l=async()=>{s(!0);try{const d=await en.get("/api/seller/products");n(d.data)}catch(d){Xp(d)?o(d.message):o("Failed to load products")}finally{s(!1)}},c=async d=>{if(confirm("Are you sure you want to delete this product?"))try{await en.delete(`/api/seller/products/${d}`),await l()}catch(f){Xp(f)?o(f.message):o("Failed to delete product")}};return W.useEffect(()=>{l()},[a]),r?E.jsx(Ud,{}):i?E.jsx("div",{className:"text-red-600",children:i}):E.jsxs(Mn,{children:[E.jsxs(Fr,{className:"flex flex-row items-center justify-between",children:[E.jsx($r,{children:"My Products"}),E.jsx(ht,{onClick:()=>t("/seller/add-product"),children:"Create Product"})]}),E.jsx(Un,{children:e.length===0?E.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No products yet. Create your first product!"}):E.jsx("div",{className:"space-y-4",children:e.map(d=>E.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold",children:d.name}),E.jsx("p",{className:"text-sm text-muted-foreground",children:Id(d.price)}),d.description&&E.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.description})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>t(`/seller/view-product/${d.id}`),children:"View"}),E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>t(`/seller/edit-product/${d.id}`),children:"Edit"}),E.jsx(ht,{variant:"destructive",size:"sm",onClick:()=>c(d.id),children:"Delete"})]})]},d.id))})})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function $f(t,e){return typeof t=="function"?t(e):t}function za(t,e){return n=>{e.setState(r=>({...r,[t]:$f(n,r[t])}))}}function MS(t){return t instanceof Function}function FMe(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function $Me(t,e){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&r(o)})};return r(t),n}function rn(t,e,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=t(i);if(!(a.length!==r.length||a.some((d,f)=>r[f]!==d)))return s;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),s=e(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-c)*100)/100,p=f/16,g=(b,w)=>{for(b=String(b);b.length<w;)b=" "+b;return b};console.info(`%c ${g(f,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return s}}function sn(t,e,n,r){return{debug:()=>{var s;return(s=t?.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function HMe(t,e,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:rn(()=>[t,n,e,i],(o,a,l,c)=>({table:o,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),sn(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function zMe(t,e,n,r){var s,i;const a={...t._getDefaultColumnDef(),...e},l=a.accessorKey;let c=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:l&&(l.includes(".")?d=p=>{let g=p;for(const w of l.split(".")){var b;g=(b=g)==null?void 0:b[w]}return g}:d=p=>p[a.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:rn(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(g=>g.getFlatColumns())]},sn(t.options,"debugColumns")),getLeafColumns:rn(()=>[t._getOrderColumnsFn()],p=>{var g;if((g=f.columns)!=null&&g.length){let b=f.columns.flatMap(w=>w.getLeafColumns());return p(b)}return[f]},sn(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const Wi="debugHeaders";function aH(t,e,n){var r;let i={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const qMe={createTable:t=>{t.getHeaderGroups=rn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var i,o;const a=(i=r?.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?i:[],l=(o=s?.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],c=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(s!=null&&s.includes(f.id)));return _A(e,[...a,...c,...l],t)},sn(t.options,Wi)),t.getCenterHeaderGroups=rn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),_A(e,n,t,"center")),sn(t.options,Wi)),t.getLeftHeaderGroups=rn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return _A(e,i,t,"left")},sn(t.options,Wi)),t.getRightHeaderGroups=rn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return _A(e,i,t,"right")},sn(t.options,Wi)),t.getFooterGroups=rn(()=>[t.getHeaderGroups()],e=>[...e].reverse(),sn(t.options,Wi)),t.getLeftFooterGroups=rn(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),sn(t.options,Wi)),t.getCenterFooterGroups=rn(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),sn(t.options,Wi)),t.getRightFooterGroups=rn(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),sn(t.options,Wi)),t.getFlatHeaders=rn(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),sn(t.options,Wi)),t.getLeftFlatHeaders=rn(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),sn(t.options,Wi)),t.getCenterFlatHeaders=rn(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),sn(t.options,Wi)),t.getRightFlatHeaders=rn(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),sn(t.options,Wi)),t.getCenterLeafHeaders=rn(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),sn(t.options,Wi)),t.getLeftLeafHeaders=rn(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),sn(t.options,Wi)),t.getRightLeafHeaders=rn(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),sn(t.options,Wi)),t.getLeafHeaders=rn(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,i,o,a,l,c;return[...(s=(i=e[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},sn(t.options,Wi))}};function _A(t,e,n,r){var s,i;let o=0;const a=function(p,g){g===void 0&&(g=1),o=Math.max(o,g),p.filter(b=>b.getIsVisible()).forEach(b=>{var w;(w=b.columns)!=null&&w.length&&a(b.columns,g+1)},0)};a(t);let l=[];const c=(p,g)=>{const b={depth:g,id:[r,`${g}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(m=>{const v=[...w].reverse()[0],x=m.column.depth===b.depth;let C,S=!1;if(x&&m.column.parent?C=m.column.parent:(C=m.column,S=!0),v&&v?.column===C)v.subHeaders.push(m);else{const T=aH(n,C,{id:[r,g,C.id,m?.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${w.filter(R=>R.column===C).length}`:void 0,depth:g,index:w.length});T.subHeaders.push(m),w.push(T)}b.headers.push(m),m.headerGroup=b}),l.push(b),g>0&&c(w,g-1)},d=e.map((p,g)=>aH(n,p,{depth:o,index:g}));c(d,o-1),l.reverse();const f=p=>p.filter(b=>b.column.getIsVisible()).map(b=>{let w=0,m=0,v=[0];b.subHeaders&&b.subHeaders.length?(v=[],f(b.subHeaders).forEach(C=>{let{colSpan:S,rowSpan:T}=C;w+=S,v.push(T)})):w=1;const x=Math.min(...v);return m=m+x,b.colSpan=w,b.rowSpan=m,{colSpan:w,rowSpan:m}});return f((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const Vk=(t,e,n,r,s,i,o)=>{let a={id:e,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=t.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=t.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>$Me(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const d=c.getParentRow();if(!d)break;l.push(d),c=d}return l.reverse()},getAllCells:rn(()=>[t.getAllLeafColumns()],l=>l.map(c=>HMe(t,a,c,c.id)),sn(t.options,"debugRows")),_getAllCellsByColumnId:rn(()=>[a.getAllCells()],l=>l.reduce((c,d)=>(c[d.column.id]=d,c),{}),sn(t.options,"debugRows"))};for(let l=0;l<t._features.length;l++){const c=t._features[l];c==null||c.createRow==null||c.createRow(a,t)}return a},VMe={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},DX=(t,e,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};DX.autoRemove=t=>cl(t);const MX=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};MX.autoRemove=t=>cl(t);const UX=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};UX.autoRemove=t=>cl(t);const LX=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};LX.autoRemove=t=>cl(t);const jX=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});jX.autoRemove=t=>cl(t)||!(t!=null&&t.length);const FX=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});FX.autoRemove=t=>cl(t)||!(t!=null&&t.length);const $X=(t,e,n)=>t.getValue(e)===n;$X.autoRemove=t=>cl(t);const HX=(t,e,n)=>t.getValue(e)==n;HX.autoRemove=t=>cl(t);const Gk=(t,e,n)=>{let[r,s]=n;const i=t.getValue(e);return i>=r&&i<=s};Gk.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Gk.autoRemove=t=>cl(t)||cl(t[0])&&cl(t[1]);const ad={includesString:DX,includesStringSensitive:MX,equalsString:UX,arrIncludes:LX,arrIncludesAll:jX,arrIncludesSome:FX,equals:$X,weakEquals:HX,inNumberRange:Gk};function cl(t){return t==null||t===""}const GMe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:za("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?ad.includesString:typeof r=="number"?ad.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ad.equals:Array.isArray(r)?ad.arrIncludes:ad.weakEquals},t.getFilterFn=()=>{var n,r;return MS(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:ad[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),i=r?.find(d=>d.id===t.id),o=$f(n,i?i.value:void 0);if(cH(s,o,t)){var a;return(a=r?.filter(d=>d.id!==t.id))!=null?a:[]}const l={id:t.id,value:o};if(i){var c;return(c=r?.map(d=>d.id===t.id?l:d))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var i;return(i=$f(e,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(cH(l,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function cH(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const KMe=(t,e,n)=>n.reduce((r,s)=>{const i=s.getValue(t);return r+(typeof i=="number"?i:0)},0),WMe=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},QMe=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},YMe=(t,e,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},JMe=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let i=s.getValue(t);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},ZMe=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!FMe(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},XMe=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),eUe=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,tUe=(t,e)=>e.length,LR={sum:KMe,min:WMe,max:QMe,extent:YMe,mean:JMe,median:ZMe,unique:XMe,uniqueCount:eUe,count:tUe},nUe={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:za("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return LR.sum;if(Object.prototype.toString.call(r)==="[object Date]")return LR.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return MS(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:LR[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function rUe(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(i=>!e.includes(i.id));return n==="remove"?r:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...r]}const sUe={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:za("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=rn(n=>[A1(e,n)],n=>n.findIndex(r=>r.id===t.id),sn(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=A1(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=A1(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=rn(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let i=[];if(!(e!=null&&e.length))i=s;else{const o=[...e],a=[...s];for(;a.length&&o.length;){const l=o.shift(),c=a.findIndex(d=>d.id===l);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return rUe(i,n,r)},sn(t.options,"debugTable"))}},jR=()=>({left:[],right:[]}),iUe={getInitialState:t=>({columnPinning:jR(),...t}),getDefaultOptions:t=>({onColumnPinningChange:za("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s?.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=s?.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var c,d;return{left:[...((c=s?.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=s?.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=s?.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=s?.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:s}=e.getState().columnPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=rn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},sn(e.options,"debugRows")),t.getLeftVisibleCells=rn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),sn(e.options,"debugRows")),t.getRightVisibleCells=rn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),sn(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?jR():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:jR())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=rn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),sn(t.options,"debugColumns")),t.getRightLeafColumns=rn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),sn(t.options,"debugColumns")),t.getCenterLeafColumns=rn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(i=>!s.includes(i.id))},sn(t.options,"debugColumns"))}};function oUe(t){return t||(typeof document<"u"?document:null)}const NA={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},FR=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),aUe={getDefaultColumnDef:()=>NA,getInitialState:t=>({columnSizing:{},columnSizingInfo:FR(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:za("columnSizing",t),onColumnSizingInfoChange:za("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:NA.minSize,(r=i??t.columnDef.size)!=null?r:NA.size),(s=t.columnDef.maxSize)!=null?s:NA.maxSize)},t.getStart=rn(n=>[n,A1(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),sn(e.options,"debugColumns")),t.getAfter=rn(n=>[n,A1(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),sn(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r?.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),$R(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=$R(i)?Math.round(i.touches[0].clientX):i.clientX,c={},d=(v,x)=>{typeof x=="number"&&(e.setColumnSizingInfo(C=>{var S,T;const R=e.options.columnResizeDirection==="rtl"?-1:1,_=(x-((S=C?.startOffset)!=null?S:0))*R,N=Math.max(_/((T=C?.startSize)!=null?T:0),-.999999);return C.columnSizingStart.forEach(O=>{let[D,k]=O;c[D]=Math.round(Math.max(k+k*N,0)*100)/100}),{...C,deltaOffset:_,deltaPercentage:N}}),(e.options.columnResizeMode==="onChange"||v==="end")&&e.setColumnSizing(C=>({...C,...c})))},f=v=>d("move",v),p=v=>{d("end",v),e.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=oUe(n),b={moveHandler:v=>f(v.clientX),upHandler:v=>{g?.removeEventListener("mousemove",b.moveHandler),g?.removeEventListener("mouseup",b.upHandler),p(v.clientX)}},w={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var x;g?.removeEventListener("touchmove",w.moveHandler),g?.removeEventListener("touchend",w.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),p((x=v.touches[0])==null?void 0:x.clientX)}},m=cUe()?{passive:!1}:!1;$R(i)?(g?.addEventListener("touchmove",w.moveHandler,m),g?.addEventListener("touchend",w.upHandler,m)):(g?.addEventListener("mousemove",b.moveHandler,m),g?.addEventListener("mouseup",b.upHandler,m)),e.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?FR():(n=t.initialState.columnSizingInfo)!=null?n:FR())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let TA=null;function cUe(){if(typeof TA=="boolean")return TA;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return TA=t,TA}function $R(t){return t.type==="touchstart"}const lUe={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:za("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=rn(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),sn(e.options,"debugRows")),t.getVisibleCells=rn(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],sn(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>rn(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),sn(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function A1(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const uUe={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},dUe={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:za("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ad.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return MS(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:ad[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},fUe={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:za("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,i;t.setExpanded(r?{}:(s=(i=t.initialState)==null?void 0:i.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:a,...l}=o;return l}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},nI=0,rI=10,HR=()=>({pageIndex:nI,pageSize:rI}),hUe={getInitialState:t=>({...t,pagination:{...HR(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:za("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=i=>$f(r,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?HR():(s=t.initialState.pagination)!=null?s:HR())},t.setPageIndex=r=>{t.setPagination(s=>{let i=$f(r,s.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},t.resetPageIndex=r=>{var s,i;t.setPageIndex(r?nI:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:nI)},t.resetPageSize=r=>{var s,i;t.setPageSize(r?rI:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:rI)},t.setPageSize=r=>{t.setPagination(s=>{const i=Math.max(1,$f(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},t.setPageCount=r=>t.setPagination(s=>{var i;let o=$f(r,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),t.getPageOptions=rn(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},sn(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},zR=()=>({top:[],bottom:[]}),pUe={getInitialState:t=>({rowPinning:zR(),...t}),getDefaultOptions:t=>({onRowPinningChange:za("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const i=r?t.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=s?t.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...o,t.id,...i]);e.setRowPinning(l=>{var c,d;if(n==="bottom"){var f,p;return{top:((f=l?.top)!=null?f:[]).filter(w=>!(a!=null&&a.has(w))),bottom:[...((p=l?.bottom)!=null?p:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)]}}if(n==="top"){var g,b;return{top:[...((g=l?.top)!=null?g:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)],bottom:((b=l?.bottom)!=null?b:[]).filter(w=>!(a!=null&&a.has(w)))}}return{top:((c=l?.top)!=null?c:[]).filter(w=>!(a!=null&&a.has(w))),bottom:((d=l?.bottom)!=null?d:[]).filter(w=>!(a!=null&&a.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const i=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?zR():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:zR())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=rn(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),sn(t.options,"debugRows")),t.getBottomRows=rn(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),sn(t.options,"debugRows")),t.getCenterRows=rn(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(i=>!s.has(i.id))},sn(t.options,"debugRows"))}},gUe={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:za("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(i=>{sI(s,i.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=rn(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?qR(t,n):{rows:[],flatRows:[],rowsById:{}},sn(t.options,"debugTable")),t.getFilteredSelectedRowModel=rn(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?qR(t,n):{rows:[],flatRows:[],rowsById:{}},sn(t.options,"debugTable")),t.getGroupedSelectedRowModel=rn(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?qR(t,n):{rows:[],flatRows:[],rowsById:{}},sn(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return i;const a={...i};return sI(a,t.id,n,(o=r?.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Kk(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return iI(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return iI(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},sI=(t,e,n,r,s)=>{var i;const o=s.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>sI(t,a.id,n,r,s))};function qR(t,e){const n=t.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var c;const d=Kk(l,n);if(d&&(r.push(l),s[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),d)return l}).filter(Boolean)};return{rows:i(e.rows),flatRows:r,rowsById:s}}function Kk(t,e){var n;return(n=e[t.id])!=null?n:!1}function iI(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Kk(o,e)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=iI(o,e);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const oI=/([0-9]+)/gm,mUe=(t,e,n)=>zX(ah(t.getValue(n)).toLowerCase(),ah(e.getValue(n)).toLowerCase()),yUe=(t,e,n)=>zX(ah(t.getValue(n)),ah(e.getValue(n))),bUe=(t,e,n)=>Wk(ah(t.getValue(n)).toLowerCase(),ah(e.getValue(n)).toLowerCase()),wUe=(t,e,n)=>Wk(ah(t.getValue(n)),ah(e.getValue(n))),vUe=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},xUe=(t,e,n)=>Wk(t.getValue(n),e.getValue(n));function Wk(t,e){return t===e?0:t>e?1:-1}function ah(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function zX(t,e){const n=t.split(oI).filter(Boolean),r=e.split(oI).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Vw={alphanumeric:mUe,alphanumericCaseSensitive:yUe,text:bUe,textCaseSensitive:wUe,datetime:vUe,basic:xUe},EUe={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:za("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s?.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return Vw.datetime;if(typeof i=="string"&&(r=!0,i.split(oI).length>1))return Vw.alphanumeric}return r?Vw.text:Vw.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return MS(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Vw[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o?.find(g=>g.id===t.id),l=o?.findIndex(g=>g.id===t.id);let c=[],d,f=i?n:s==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?d="toggle":d="add":o!=null&&o.length&&l!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(i||s||(d="remove")),d==="add"){var p;c=[...o,{id:t.id,desc:f}],c.splice(0,c.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(g=>g.id===t.id?{...g,desc:f}:g):d==="remove"?c=o.filter(g=>g.id!==t.id):c=[{id:t.id,desc:f}];return c})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},AUe=[qMe,lUe,sUe,iUe,VMe,GMe,uUe,dUe,EUe,nUe,fUe,hUe,pUe,gUe,aUe];function CUe(t){var e,n;const r=[...AUe,...(e=t._features)!=null?e:[]];let s={_features:r};const i=s._features.reduce((p,g)=>Object.assign(p,g.getDefaultOptions==null?void 0:g.getDefaultOptions(s)),{}),o=p=>s.options.mergeOptions?s.options.mergeOptions(i,p):{...i,...p};let l={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(p=>{var g;l=(g=p.getInitialState==null?void 0:p.getInitialState(l))!=null?g:l});const c=[];let d=!1;const f={_features:r,options:{...i,...t},initialState:l,_queue:p=>{c.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{s.setState(s.initialState)},setOptions:p=>{const g=$f(p,s.options);s.options=o(g)},getState:()=>s.options.state,setState:p=>{s.options.onStateChange==null||s.options.onStateChange(p)},_getRowId:(p,g,b)=>{var w;return(w=s.options.getRowId==null?void 0:s.options.getRowId(p,g,b))!=null?w:`${b?[b.id,g].join("."):g}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(p,g)=>{let b=(g?s.getPrePaginationRowModel():s.getRowModel()).rowsById[p];if(!b&&(b=s.getCoreRowModel().rowsById[p],!b))throw new Error;return b},_getDefaultColumnDef:rn(()=>[s.options.defaultColumn],p=>{var g;return p=(g=p)!=null?g:{},{header:b=>{const w=b.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:b=>{var w,m;return(w=(m=b.renderValue())==null||m.toString==null?void 0:m.toString())!=null?w:null},...s._features.reduce((b,w)=>Object.assign(b,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},sn(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:rn(()=>[s._getColumnDefs()],p=>{const g=function(b,w,m){return m===void 0&&(m=0),b.map(v=>{const x=zMe(s,v,m,w),C=v;return x.columns=C.columns?g(C.columns,x,m+1):[],x})};return g(p)},sn(t,"debugColumns")),getAllFlatColumns:rn(()=>[s.getAllColumns()],p=>p.flatMap(g=>g.getFlatColumns()),sn(t,"debugColumns")),_getAllFlatColumnsById:rn(()=>[s.getAllFlatColumns()],p=>p.reduce((g,b)=>(g[b.id]=b,g),{}),sn(t,"debugColumns")),getAllLeafColumns:rn(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(p,g)=>{let b=p.flatMap(w=>w.getLeafColumns());return g(b)},sn(t,"debugColumns")),getColumn:p=>s._getAllFlatColumnsById()[p]};Object.assign(s,f);for(let p=0;p<s._features.length;p++){const g=s._features[p];g==null||g.createTable==null||g.createTable(s)}return s}function SUe(){return t=>rn(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let c=0;c<s.length;c++){const d=Vk(t,t._getRowId(s[c],c,o),s[c],c,i,void 0,o?.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var l;d.originalSubRows=t.options.getSubRows(s[c],c),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return a};return n.rows=r(e),n},sn(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function _Ue(t){const e=[],n=r=>{var s;e.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function NUe(t,e,n){return n.options.filterFromLeafRows?TUe(t,e,n):RUe(t,e,n)}function TUe(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){var f;let g=l[p];const b=Vk(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(b.columnFilters=g.columnFilters,(f=g.subRows)!=null&&f.length&&c<o){if(b.subRows=a(g.subRows,c+1),g=b,e(g)&&!b.subRows.length){d.push(g),i[g.id]=g,s.push(g);continue}if(e(g)||b.subRows.length){d.push(g),i[g.id]=g,s.push(g);continue}}else g=b,e(g)&&(d.push(g),i[g.id]=g,s.push(g))}return d};return{rows:a(t),flatRows:s,rowsById:i}}function RUe(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){let g=l[p];if(e(g)){var f;if((f=g.subRows)!=null&&f.length&&c<o){const w=Vk(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);w.subRows=a(g.subRows,c+1),g=w}d.push(g),s.push(g),i[g.id]=g}}return d};return{rows:a(t),flatRows:s,rowsById:i}}function PUe(){return t=>rn(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const s=[],i=[];(n??[]).forEach(p=>{var g;const b=t.getColumn(p.id);if(!b)return;const w=b.getFilterFn();w&&s.push({id:p.id,filterFn:w,resolvedValue:(g=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?g:p.value})});const o=(n??[]).map(p=>p.id),a=t.getGlobalFilterFn(),l=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(p=>{var g;i.push({id:p.id,filterFn:a,resolvedValue:(g=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?g:r})}));let c,d;for(let p=0;p<e.flatRows.length;p++){const g=e.flatRows[p];if(g.columnFilters={},s.length)for(let b=0;b<s.length;b++){c=s[b];const w=c.id;g.columnFilters[w]=c.filterFn(g,w,c.resolvedValue,m=>{g.columnFiltersMeta[w]=m})}if(i.length){for(let b=0;b<i.length;b++){d=i[b];const w=d.id;if(d.filterFn(g,w,d.resolvedValue,m=>{g.columnFiltersMeta[w]=m})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const f=p=>{for(let g=0;g<o.length;g++)if(p.columnFilters[o[g]]===!1)return!1;return!0};return NUe(e.rows,f,t)},sn(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function OUe(t){return e=>rn(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const c=s*i,d=c+s;o=o.slice(c,d);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:a,rowsById:l}:f=_Ue({rows:o,flatRows:a,rowsById:l}),f.flatRows=[];const p=g=>{f.flatRows.push(g),g.subRows.length&&g.subRows.forEach(p)};return f.rows.forEach(p),f},sn(e.options,"debugTable"))}function IUe(){return t=>rn(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,s=[],i=r.filter(l=>{var c;return(c=t.getColumn(l.id))==null?void 0:c.getCanSort()}),o={};i.forEach(l=>{const c=t.getColumn(l.id);c&&(o[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(d=>({...d}));return c.sort((d,f)=>{for(let g=0;g<i.length;g+=1){var p;const b=i[g],w=o[b.id],m=w.sortUndefined,v=(p=b?.desc)!=null?p:!1;let x=0;if(m){const C=d.getValue(b.id),S=f.getValue(b.id),T=C===void 0,R=S===void 0;if(T||R){if(m==="first")return T?-1:1;if(m==="last")return T?1:-1;x=T&&R?0:T?m:-m}}if(x===0&&(x=w.sortingFn(d,f,b.id)),x!==0)return v&&(x*=-1),w.invertSorting&&(x*=-1),x}return d.index-f.index}),c.forEach(d=>{var f;s.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=a(d.subRows))}),c};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},sn(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function RA(t,e){return t?kUe(t)?W.createElement(t,e):t:null}function kUe(t){return BUe(t)||typeof t=="function"||DUe(t)}function BUe(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function DUe(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function MUe(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=W.useState(()=>({current:CUe(e)})),[r,s]=W.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...r,...t.state},onStateChange:o=>{s(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function UUe({className:t,...e}){return E.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:E.jsx("table",{"data-slot":"table",className:Ht("w-full caption-bottom text-sm",t),...e})})}function LUe({className:t,...e}){return E.jsx("thead",{"data-slot":"table-header",className:Ht("[&_tr]:border-b",t),...e})}function jUe({className:t,...e}){return E.jsx("tbody",{"data-slot":"table-body",className:Ht("[&_tr:last-child]:border-0",t),...e})}function PA({className:t,...e}){return E.jsx("tr",{"data-slot":"table-row",className:Ht("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function FUe({className:t,...e}){return E.jsx("th",{"data-slot":"table-head",className:Ht("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function VR({className:t,...e}){return E.jsx("td",{"data-slot":"table-cell",className:Ht("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function lH(t,[e,n]){return Math.min(n,Math.max(e,t))}var $Ue=[" ","Enter","ArrowUp","ArrowDown"],HUe=[" ","Enter"],w0="Select",[US,LS,zUe]=px(w0),[ly,zFe]=Ec(w0,[zUe,OS]),jS=OS(),[qUe,hh]=ly(w0),[VUe,GUe]=ly(w0),qX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:b}=t,w=jS(e),[m,v]=W.useState(null),[x,C]=W.useState(null),[S,T]=W.useState(!1),R=gx(c),[_,N]=Jf({prop:r,defaultProp:s??!1,onChange:i,caller:w0}),[O,D]=Jf({prop:o,defaultProp:a,onChange:l,caller:w0}),k=W.useRef(null),z=m?b||!!m.closest("form"):!0,[K,q]=W.useState(new Set),I=Array.from(K).map(P=>P.props.value).join(";");return E.jsx(bZ,{...w,children:E.jsxs(qUe,{required:g,scope:e,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:C,valueNodeHasChildren:S,onValueNodeHasChildrenChange:T,contentId:sl(),value:O,onValueChange:D,open:_,onOpenChange:N,dir:R,triggerPointerDownPosRef:k,disabled:p,children:[E.jsx(US.Provider,{scope:e,children:E.jsx(VUe,{scope:t.__scopeSelect,onNativeOptionAdd:W.useCallback(P=>{q(M=>new Set(M).add(P))},[]),onNativeOptionRemove:W.useCallback(P=>{q(M=>{const j=new Set(M);return j.delete(P),j})},[]),children:n})}),z?E.jsxs(fee,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:P=>D(P.target.value),disabled:p,form:b,children:[O===void 0?E.jsx("option",{value:""}):null,Array.from(K)]},I):null]})})};qX.displayName=w0;var VX="SelectTrigger",GX=W.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=jS(n),o=hh(VX,n),a=o.disabled||r,l=zn(e,o.onTriggerChange),c=LS(n),d=W.useRef("touch"),[f,p,g]=pee(w=>{const m=c().filter(C=>!C.disabled),v=m.find(C=>C.value===o.value),x=gee(m,w,v);x!==void 0&&o.onValueChange(x.value)}),b=w=>{a||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return E.jsx(wZ,{asChild:!0,...i,children:E.jsx(Qt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":hee(o.value)?"":void 0,...s,ref:l,onClick:yt(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&b(w)}),onPointerDown:yt(s.onPointerDown,w=>{d.current=w.pointerType;const m=w.target;m.hasPointerCapture(w.pointerId)&&m.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:yt(s.onKeyDown,w=>{const m=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(m&&w.key===" ")&&$Ue.includes(w.key)&&(b(),w.preventDefault())})})})});GX.displayName=VX;var KX="SelectValue",WX=W.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=hh(KX,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=zn(e,l.onValueNodeChange);return Ss(()=>{c(d)},[c,d]),E.jsx(Qt.span,{...a,ref:f,style:{pointerEvents:"none"},children:hee(l.value)?E.jsx(E.Fragment,{children:o}):i})});WX.displayName=KX;var KUe="SelectIcon",QX=W.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return E.jsx(Qt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});QX.displayName=KUe;var WUe="SelectPortal",YX=t=>E.jsx(RC,{asChild:!0,...t});YX.displayName=WUe;var v0="SelectContent",JX=W.forwardRef((t,e)=>{const n=hh(v0,t.__scopeSelect),[r,s]=W.useState();if(Ss(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Iv.createPortal(E.jsx(ZX,{scope:t.__scopeSelect,children:E.jsx(US.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),i):null}return E.jsx(XX,{...t,ref:e})});JX.displayName=v0;var Kc=10,[ZX,ph]=ly(v0),QUe="SelectContentImpl",YUe=e0("SelectContent.RemoveScroll"),XX=W.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:m,...v}=t,x=hh(v0,n),[C,S]=W.useState(null),[T,R]=W.useState(null),_=zn(e,pe=>S(pe)),[N,O]=W.useState(null),[D,k]=W.useState(null),z=LS(n),[K,q]=W.useState(!1),I=W.useRef(!1);W.useEffect(()=>{if(C)return jI(C)},[C]),LI();const P=W.useCallback(pe=>{const[ae,...ce]=z().map(Re=>Re.ref.current),[fe]=ce.slice(-1),ve=document.activeElement;for(const Re of pe)if(Re===ve||(Re?.scrollIntoView({block:"nearest"}),Re===ae&&T&&(T.scrollTop=0),Re===fe&&T&&(T.scrollTop=T.scrollHeight),Re?.focus(),document.activeElement!==ve))return},[z,T]),M=W.useCallback(()=>P([N,C]),[P,N,C]);W.useEffect(()=>{K&&M()},[K,M]);const{onOpenChange:j,triggerPointerDownPosRef:G}=x;W.useEffect(()=>{if(C){let pe={x:0,y:0};const ae=fe=>{pe={x:Math.abs(Math.round(fe.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(fe.pageY)-(G.current?.y??0))}},ce=fe=>{pe.x<=10&&pe.y<=10?fe.preventDefault():C.contains(fe.target)||j(!1),document.removeEventListener("pointermove",ae),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ce,{capture:!0})}}},[C,j,G]),W.useEffect(()=>{const pe=()=>j(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[j]);const[F,H]=pee(pe=>{const ae=z().filter(ve=>!ve.disabled),ce=ae.find(ve=>ve.ref.current===document.activeElement),fe=gee(ae,pe,ce);fe&&setTimeout(()=>fe.ref.current.focus())}),$=W.useCallback((pe,ae,ce)=>{const fe=!I.current&&!ce;(x.value!==void 0&&x.value===ae||fe)&&(O(pe),fe&&(I.current=!0))},[x.value]),Z=W.useCallback(()=>C?.focus(),[C]),X=W.useCallback((pe,ae,ce)=>{const fe=!I.current&&!ce;(x.value!==void 0&&x.value===ae||fe)&&k(pe)},[x.value]),le=r==="popper"?aI:eee,de=le===aI?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:m}:{};return E.jsx(ZX,{scope:n,content:C,viewport:T,onViewportChange:R,itemRefCallback:$,selectedItem:N,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:M,selectedItemText:D,position:r,isPositioned:K,searchRef:F,children:E.jsx(OC,{as:YUe,allowPinchZoom:!0,children:E.jsx(TC,{asChild:!0,trapped:x.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:yt(s,pe=>{x.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:E.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:E.jsx(le,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:pe=>pe.preventDefault(),...v,...de,onPlaced:()=>q(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:yt(v.onKeyDown,pe=>{const ae=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!ae&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let fe=z().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const ve=pe.target,Re=fe.indexOf(ve);fe=fe.slice(Re+1)}setTimeout(()=>P(fe)),pe.preventDefault()}})})})})})})});XX.displayName=QUe;var JUe="SelectItemAlignedPosition",eee=W.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hh(v0,n),o=ph(v0,n),[a,l]=W.useState(null),[c,d]=W.useState(null),f=zn(e,_=>d(_)),p=LS(n),g=W.useRef(!1),b=W.useRef(!0),{viewport:w,selectedItem:m,selectedItemText:v,focusSelectedItem:x}=o,C=W.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&w&&m&&v){const _=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),D=v.getBoundingClientRect();if(i.dir!=="rtl"){const ve=D.left-N.left,Re=O.left-ve,Se=_.left-Re,xe=_.width+Se,te=Math.max(xe,N.width),J=window.innerWidth-Kc,V=lH(Re,[Kc,Math.max(Kc,J-te)]);a.style.minWidth=xe+"px",a.style.left=V+"px"}else{const ve=N.right-D.right,Re=window.innerWidth-O.right-ve,Se=window.innerWidth-_.right-Re,xe=_.width+Se,te=Math.max(xe,N.width),J=window.innerWidth-Kc,V=lH(Re,[Kc,Math.max(Kc,J-te)]);a.style.minWidth=xe+"px",a.style.right=V+"px"}const k=p(),z=window.innerHeight-Kc*2,K=w.scrollHeight,q=window.getComputedStyle(c),I=parseInt(q.borderTopWidth,10),P=parseInt(q.paddingTop,10),M=parseInt(q.borderBottomWidth,10),j=parseInt(q.paddingBottom,10),G=I+P+K+j+M,F=Math.min(m.offsetHeight*5,G),H=window.getComputedStyle(w),$=parseInt(H.paddingTop,10),Z=parseInt(H.paddingBottom,10),X=_.top+_.height/2-Kc,le=z-X,de=m.offsetHeight/2,pe=m.offsetTop+de,ae=I+P+pe,ce=G-ae;if(ae<=X){const ve=k.length>0&&m===k[k.length-1].ref.current;a.style.bottom="0px";const Re=c.clientHeight-w.offsetTop-w.offsetHeight,Se=Math.max(le,de+(ve?Z:0)+Re+M),xe=ae+Se;a.style.height=xe+"px"}else{const ve=k.length>0&&m===k[0].ref.current;a.style.top="0px";const Se=Math.max(X,I+w.offsetTop+(ve?$:0)+de)+ce;a.style.height=Se+"px",w.scrollTop=ae-X+w.offsetTop}a.style.margin=`${Kc}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,w,m,v,i.dir,r]);Ss(()=>C(),[C]);const[S,T]=W.useState();Ss(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const R=W.useCallback(_=>{_&&b.current===!0&&(C(),x?.(),b.current=!1)},[C,x]);return E.jsx(XUe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:E.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:E.jsx(Qt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eee.displayName=JUe;var ZUe="SelectPopperPosition",aI=W.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Kc,...i}=t,o=jS(n);return E.jsx(vZ,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aI.displayName=ZUe;var[XUe,Qk]=ly(v0,{}),cI="SelectViewport",tee=W.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ph(cI,n),o=Qk(cI,n),a=zn(e,i.onViewportChange),l=W.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(US.Slot,{scope:n,children:E.jsx(Qt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:yt(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p?.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const b=window.innerHeight-Kc*2,w=parseFloat(f.style.minHeight),m=parseFloat(f.style.height),v=Math.max(w,m);if(v<b){const x=v+g,C=Math.min(b,x),S=x-C;f.style.height=C+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});tee.displayName=cI;var nee="SelectGroup",[eLe,tLe]=ly(nee),nLe=W.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=sl();return E.jsx(eLe,{scope:n,id:s,children:E.jsx(Qt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});nLe.displayName=nee;var ree="SelectLabel",rLe=W.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tLe(ree,n);return E.jsx(Qt.div,{id:s.id,...r,ref:e})});rLe.displayName=ree;var dC="SelectItem",[sLe,see]=ly(dC),iee=W.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hh(dC,n),l=ph(dC,n),c=a.value===r,[d,f]=W.useState(i??""),[p,g]=W.useState(!1),b=zn(e,x=>l.itemRefCallback?.(x,r,s)),w=sl(),m=W.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(sLe,{scope:n,value:r,disabled:s,textId:w,isSelected:c,onItemTextChange:W.useCallback(x=>{f(C=>C||(x?.textContent??"").trim())},[]),children:E.jsx(US.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:E.jsx(Qt.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:yt(o.onFocus,()=>g(!0)),onBlur:yt(o.onBlur,()=>g(!1)),onClick:yt(o.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:yt(o.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:yt(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:yt(o.onPointerMove,x=>{m.current=x.pointerType,s?l.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(o.onPointerLeave,x=>{x.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:yt(o.onKeyDown,x=>{l.searchRef?.current!==""&&x.key===" "||(HUe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});iee.displayName=dC;var s1="SelectItemText",oee=W.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hh(s1,n),a=ph(s1,n),l=see(s1,n),c=GUe(s1,n),[d,f]=W.useState(null),p=zn(e,v=>f(v),l.onItemTextChange,v=>a.itemTextRefCallback?.(v,l.value,l.disabled)),g=d?.textContent,b=W.useMemo(()=>E.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:m}=c;return Ss(()=>(w(b),()=>m(b)),[w,m,b]),E.jsxs(E.Fragment,{children:[E.jsx(Qt.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Iv.createPortal(i.children,o.valueNode):null]})});oee.displayName=s1;var aee="SelectItemIndicator",cee=W.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return see(aee,n).isSelected?E.jsx(Qt.span,{"aria-hidden":!0,...r,ref:e}):null});cee.displayName=aee;var lI="SelectScrollUpButton",lee=W.forwardRef((t,e)=>{const n=ph(lI,t.__scopeSelect),r=Qk(lI,t.__scopeSelect),[s,i]=W.useState(!1),o=zn(e,r.onScrollButtonChange);return Ss(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?E.jsx(dee,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});lee.displayName=lI;var uI="SelectScrollDownButton",uee=W.forwardRef((t,e)=>{const n=ph(uI,t.__scopeSelect),r=Qk(uI,t.__scopeSelect),[s,i]=W.useState(!1),o=zn(e,r.onScrollButtonChange);return Ss(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?E.jsx(dee,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uee.displayName=uI;var dee=W.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ph("SelectScrollButton",n),o=W.useRef(null),a=LS(n),l=W.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return W.useEffect(()=>()=>l(),[l]),Ss(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),E.jsx(Qt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:yt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:yt(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:yt(s.onPointerLeave,()=>{l()})})}),iLe="SelectSeparator",oLe=W.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E.jsx(Qt.div,{"aria-hidden":!0,...r,ref:e})});oLe.displayName=iLe;var dI="SelectArrow",aLe=W.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jS(n),i=hh(dI,n),o=ph(dI,n);return i.open&&o.position==="popper"?E.jsx(xZ,{...s,...r,ref:e}):null});aLe.displayName=dI;var cLe="SelectBubbleInput",fee=W.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=W.useRef(null),i=zn(r,s),o=vk(e);return W.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),E.jsx(Qt.select,{...n,style:{...tX,...n.style},ref:i,defaultValue:e})});fee.displayName=cLe;function hee(t){return t===""||t===void 0}function pee(t){const e=fi(t),n=W.useRef(""),r=W.useRef(0),s=W.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=W.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return W.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gee(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=lLe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lLe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uLe=qX,dLe=GX,fLe=WX,hLe=QX,pLe=YX,gLe=JX,mLe=tee,yLe=iee,bLe=oee,wLe=cee,vLe=lee,xLe=uee;function uH({...t}){return E.jsx(uLe,{"data-slot":"select",...t})}function dH({...t}){return E.jsx(fLe,{"data-slot":"select-value",...t})}function fH({className:t,size:e="default",children:n,...r}){return E.jsxs(dLe,{"data-slot":"select-trigger","data-size":e,className:Ht("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,E.jsx(hLe,{asChild:!0,children:E.jsx(Hz,{className:"size-4 opacity-50"})})]})}function hH({className:t,children:e,position:n="popper",...r}){return E.jsx(pLe,{children:E.jsxs(gLe,{"data-slot":"select-content",className:Ht("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[E.jsx(ELe,{}),E.jsx(mLe,{className:Ht("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),E.jsx(ALe,{})]})})}function GR({className:t,children:e,...n}){return E.jsxs(yLe,{"data-slot":"select-item",className:Ht("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[E.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:E.jsx(wLe,{children:E.jsx(Joe,{className:"size-4"})})}),E.jsx(bLe,{children:e})]})}function ELe({className:t,...e}){return E.jsx(vLe,{"data-slot":"select-scroll-up-button",className:Ht("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(sae,{className:"size-4"})})}function ALe({className:t,...e}){return E.jsx(xLe,{"data-slot":"select-scroll-down-button",className:Ht("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(Hz,{className:"size-4"})})}function gh({columns:t,data:e,isLoading:n,filterColumnId:r,filterOptions:s=[],onRowClick:i}){const[o,a]=W.useState([]),[l,c]=W.useState(""),[d,f]=W.useState([]),[p,g]=W.useState({pageIndex:0,pageSize:10}),b=MUe({data:e,columns:t,state:{sorting:o,globalFilter:l,columnFilters:d,pagination:p},onSortingChange:a,onGlobalFilterChange:c,onColumnFiltersChange:f,onPaginationChange:g,getCoreRowModel:SUe(),getSortedRowModel:IUe(),getFilteredRowModel:PUe(),getPaginationRowModel:OUe()});return E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[E.jsx(Hr,{placeholder:"Search...",value:l,onChange:w=>c(w.target.value),className:"max-w-xs"}),r&&s.length>0&&E.jsxs(uH,{value:b.getColumn(r)?.getFilterValue()??"__all__",onValueChange:w=>{w==="__all__"?b.getColumn(r)?.setFilterValue(void 0):b.getColumn(r)?.setFilterValue(w)},children:[E.jsx(fH,{className:"w-[150px]",children:E.jsx(dH,{placeholder:"All"})}),E.jsxs(hH,{children:[E.jsx(GR,{value:"__all__",children:"All"}),s.map(w=>E.jsx(GR,{value:w,children:w},w))]})]})]}),E.jsx("div",{className:"hidden md:block rounded-md border overflow-x-auto",children:E.jsxs(UUe,{className:"table-fixed",children:[E.jsx(LUe,{children:b.getHeaderGroups().map(w=>E.jsx(PA,{children:w.headers.map(m=>{const v=m.column.getCanSort(),x=m.column.getIsSorted(),C=m.column.columnDef.meta;return E.jsx(FUe,{onClick:v?m.column.getToggleSortingHandler():void 0,className:Ht(v?"cursor-pointer select-none":"",C?.widthClass,m.column.id==="actions"?"text-right":""),children:E.jsxs("div",{className:Ht("flex items-center gap-1",m.column.id==="actions"?"justify-end":""),children:[RA(m.column.columnDef.header,m.getContext()),v&&(x==="asc"?E.jsx(Woe,{className:"size-3.5"}):x==="desc"?E.jsx($oe,{className:"size-3.5"}):E.jsx(Goe,{className:"size-3.5 text-muted-foreground"}))]})},m.id)})},w.id))}),E.jsx(jUe,{children:n?[...Array(3)].map((w,m)=>E.jsx(PA,{children:E.jsx(VR,{colSpan:t.length,children:E.jsx(tr,{className:"h-6 w-full"})})},m)):b.getRowModel().rows.length?b.getRowModel().rows.map(w=>E.jsx(PA,{onClick:()=>i?.(w),className:i?"cursor-pointer hover:bg-muted/50":"",children:w.getVisibleCells().map(m=>{const v=m.column.columnDef.meta;return E.jsx(VR,{className:Ht(m.column.id==="actions"?"text-right":"",v?.widthClass,v?.cellClass),style:v?.widthClass?void 0:{},children:RA(m.column.columnDef.cell,m.getContext())},m.id)})},w.id)):E.jsx(PA,{children:E.jsx(VR,{colSpan:t.length,className:"h-24 text-center",children:"No results"})})})]})}),E.jsx("div",{className:"md:hidden space-y-3",children:n?[...Array(3)].map((w,m)=>E.jsx(Mn,{children:E.jsxs(Un,{className:"p-4",children:[E.jsx(tr,{className:"h-4 w-full mb-2"}),E.jsx(tr,{className:"h-4 w-3/4"})]})},m)):b.getRowModel().rows.length?b.getRowModel().rows.map(w=>E.jsx(Mn,{onClick:()=>i?.(w),className:Ht(i?"cursor-pointer hover:bg-muted/50 transition-colors":"","border-border"),children:E.jsx(Un,{className:"p-4",children:E.jsx("div",{className:"space-y-3",children:w.getVisibleCells().map(m=>{const v=m.column.columnDef.header,x=typeof v=="string"?v:m.column.id;return m.column.id==="actions"?E.jsx("div",{className:"flex justify-end pt-2 border-t",children:RA(m.column.columnDef.cell,m.getContext())},m.id):E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:x}),E.jsx("div",{className:"text-sm",children:RA(m.column.columnDef.cell,m.getContext())})]},m.id)})})})},w.id)):E.jsx(Mn,{children:E.jsx(Un,{className:"p-8 text-center",children:E.jsx("div",{className:"text-muted-foreground",children:"No results"})})})}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[E.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",b.getState().pagination.pageIndex+1," of"," ",b.getPageCount()]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs(uH,{value:String(b.getState().pagination.pageSize),onValueChange:w=>b.setPageSize(Number(w)),children:[E.jsx(fH,{className:"h-8 w-[70px]",children:E.jsx(dH,{})}),E.jsx(hH,{children:[5,10,50,100].map(w=>E.jsx(GR,{value:String(w),children:w},w))})]}),E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>b.previousPage(),disabled:!b.getCanPreviousPage(),children:E.jsx(eae,{className:"size-4"})}),E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>b.nextPage(),disabled:!b.getCanNextPage(),children:E.jsx(nae,{className:"size-4"})})]})]})]})}function CLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),[o,a]=W.useState(null),l=async()=>{r(!0);try{const p=await en.get("/api/seller/orders");e(p.data)}catch(p){Xp(p)?i(p.message):i("Failed to load orders")}finally{r(!1)}},c=async(p,g)=>{try{await en.patch(`/api/seller/orders/${p.id}`,{status:g}),await l(),i(null)}catch(b){Xp(b)?i(b.message):i("Failed to update order status")}};W.useEffect(()=>{l()},[]);const d=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=[{accessorKey:"productName",header:"Product",meta:{widthClass:"w-40",cellClass:"truncate"}},{accessorKey:"quantity",header:"Qty",meta:{widthClass:"w-12"}},{accessorKey:"total",header:"Total",cell:({row:p})=>Id(p.original.total),meta:{widthClass:"w-28",cellClass:"truncate"}},{accessorKey:"status",header:"Status",cell:({row:p})=>E.jsx(hs,{variant:"secondary",className:`rounded-full ${d(p.original.status||"pending")}`,children:p.original.status}),meta:{widthClass:"w-24",cellClass:"truncate"}},{id:"actions",header:"Actions",cell:({row:p})=>{const g=p.original;return E.jsxs("div",{className:"flex gap-1",children:[g.status!=="shipped"&&g.status!=="delivered"&&E.jsx(ht,{size:"sm",onClick:()=>a({order:g,action:"shipped"}),children:"Ship"}),g.status!=="delivered"&&E.jsx(ht,{size:"sm",onClick:()=>a({order:g,action:"delivered"}),children:"Deliver"})]})},enableSorting:!1,meta:{widthClass:"w-40"}}];return E.jsxs(E.Fragment,{children:[E.jsx(gh,{columns:f,data:t,isLoading:n}),s&&E.jsx("div",{className:"text-red-600 mt-2",children:s}),E.jsx(Ma,{open:!!o,onOpenChange:p=>!p&&a(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:o?.action==="shipped"?"Mark as shipped?":"Mark as delivered?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{o&&c(o.order,o.action),a(null)},children:"Confirm"})]})]})})]})}function SLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),[o,a]=W.useState(!1),[l,c]=W.useState(!1),[d,f]=W.useState(null),p=async()=>{r(!0);try{const m=await en.get("/api/seller/payouts");e(m.data),i(null)}catch(m){console.error("Failed to load payouts:",m),i("Failed to load payouts")}finally{r(!1)}},g=async m=>{m.preventDefault(),c(!0),f(null);const v=new FormData(m.currentTarget),x=Number(v.get("amount")),C=v.get("bankAccount");try{await en.post("/api/seller/payouts",{amount:x,bankAccount:C}),await p(),a(!1),m.currentTarget.reset()}catch(S){console.error("Failed to request payout:",S),f("Failed to request payout")}finally{c(!1)}};W.useEffect(()=>{p()},[]);const b=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800";case"processed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=[{accessorKey:"id",header:"ID",meta:{widthClass:"w-16"}},{accessorKey:"amount",header:"Amount",cell:({row:m})=>Id(m.original.amount??0),meta:{widthClass:"w-28",cellClass:"truncate"}},{accessorKey:"processedAt",header:"Date",cell:({row:m})=>m.original.processedAt?new Date(m.original.processedAt).toLocaleDateString():m.original.createdAt?new Date(m.original.createdAt).toLocaleDateString():"N/A",meta:{widthClass:"w-28",cellClass:"truncate"}},{accessorKey:"status",header:"Status",cell:({row:m})=>E.jsx(hs,{variant:"secondary",className:`rounded-full ${b(m.original.status||"pending")}`,children:m.original.status}),meta:{widthClass:"w-28",cellClass:"truncate"}}];return s?E.jsx("div",{className:"text-red-600",children:s}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-2xl font-bold",children:"Payouts"}),E.jsx(Pq,{asChild:!0,children:E.jsxs(ht,{children:[E.jsx(zz,{className:"h-4 w-4 mr-2"}),"Request Payout"]})})]}),E.jsx(Rq,{open:o,onOpenChange:a,children:E.jsxs(Iq,{children:[E.jsx(kq,{children:E.jsx(Dq,{children:"Request New Payout"})}),E.jsxs("form",{onSubmit:g,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"amount",children:"Amount ($)"}),E.jsx(Hr,{id:"amount",name:"amount",type:"number",step:"0.01",min:"0",required:!0,placeholder:"Enter amount"})]}),E.jsxs("div",{children:[E.jsx(Ir,{htmlFor:"bankAccount",children:"Bank Account Details"}),E.jsx(yx,{id:"bankAccount",name:"bankAccount",required:!0,placeholder:"Enter your bank account information",rows:3})]}),d&&E.jsx("div",{className:"text-red-600 text-sm",children:d}),E.jsxs(Bq,{children:[E.jsx(ht,{type:"submit",disabled:l,className:"flex-1",children:l?"Requesting...":"Request Payout"}),E.jsx(Oq,{asChild:!0,children:E.jsx(ht,{type:"button",variant:"outline",children:"Cancel"})})]})]})]})}),E.jsx(gh,{columns:w,data:t,isLoading:n})]})}function _Le(){const[t,e]=W.useState(null),[n,r]=W.useState(!1),[s,i]=W.useState(!1),[o,a]=W.useState(null),l=async()=>{r(!0),a(null);try{const f=await en.get("/api/seller/profile");e(f.data)}catch(f){console.error("Failed to load profile:",f),a("Failed to load profile. Please try again."),gi.error("Failed to load profile")}finally{r(!1)}},c=async f=>{if(f.preventDefault(),!!t){i(!0),a(null);try{const p=await en.put("/api/seller/profile",t);e(p.data),gi.success("Store profile updated successfully!")}catch(p){console.error("Failed to update profile:",p),a("Failed to update profile. Please try again."),gi.error("Failed to update profile")}finally{i(!1)}}};W.useEffect(()=>{l()},[]);const d=f=>{switch(f){case"active":return"default";case"inactive":return"secondary";case"pending":return"outline";default:return"outline"}};return n?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-8 w-48"}),E.jsx(tr,{className:"h-4 w-64"})]}),E.jsx(Mn,{children:E.jsxs(Un,{className:"p-6 space-y-4",children:[Array.from({length:3}).map((f,p)=>E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-4 w-32"}),E.jsx(tr,{className:"h-10 w-full"})]},p)),E.jsx(tr,{className:"h-10 w-32"})]})})]}):o&&!t?E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:o})]}):t?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(nm,{className:"h-5 w-5 text-primary"})}),E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Store Profile"})]}),E.jsx("p",{className:"text-muted-foreground",children:"Manage your store information and settings"})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsxs($r,{className:"flex items-center justify-between",children:[E.jsx("span",{children:"Store Information"}),E.jsx(hs,{variant:d(t.status||"pending"),children:t.status||"pending"})]})}),E.jsx(Un,{children:E.jsxs("form",{onSubmit:c,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"name",className:"text-sm font-medium",children:"Store Name"}),E.jsx(Hr,{id:"name",name:"name",value:t.name||"",onChange:f=>e({...t,name:f.target.value}),placeholder:"Enter your store name",disabled:s,required:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"contact",className:"text-sm font-medium",children:"Contact Information"}),E.jsx(Hr,{id:"contact",name:"contact",value:t.contact||"",onChange:f=>e({...t,contact:f.target.value}),placeholder:"Email, phone, or website",disabled:s})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"bio",className:"text-sm font-medium",children:"Store Description"}),E.jsx(Hr,{id:"bio",name:"bio",value:t.bio||"",onChange:f=>e({...t,bio:f.target.value}),placeholder:"Tell customers about your store",disabled:s}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"This description will be visible to customers browsing your store"})]}),o&&E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:o})]}),E.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[E.jsx(ht,{type:"submit",disabled:s||n,className:"min-w-[140px]",children:s?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):E.jsxs(E.Fragment,{children:[E.jsx(UI,{className:"mr-2 h-4 w-4"}),"Update Profile"]})}),s&&E.jsx("p",{className:"text-sm text-muted-foreground",children:"Saving store information..."})]})]})})]})]}):E.jsxs(nl,{children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:"No store profile data available"})]})}function NLe(){const[t,e]=W.useState(null),[n,r]=W.useState(!1);return W.useEffect(()=>{(async()=>{r(!0);try{const i=await en.get("/api/admin/dashboard");e(i.data)}catch(i){console.error("AdminDashboard: Error fetching stats:",i)}finally{r(!1)}})()},[]),n||!t?E.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((s,i)=>E.jsx(tr,{className:"h-24"},i))}):E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"p-4 border rounded",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),E.jsx("p",{className:"text-2xl font-bold",children:t.totalUsers})]}),E.jsxs("div",{className:"p-4 border rounded",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sellers"}),E.jsx("p",{className:"text-2xl font-bold",children:t.totalSellers})]}),E.jsxs("div",{className:"p-4 border rounded",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sales"}),E.jsx("p",{className:"text-2xl font-bold",children:Id(t.totalSales)})]}),E.jsxs("div",{className:"p-4 border rounded",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Reports"}),E.jsx("p",{className:"text-2xl font-bold",children:t.openReports})]}),E.jsxs("div",{className:"p-4 border rounded",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Wallets"}),E.jsx("p",{className:"text-2xl font-bold",children:t.totalWallets})]})]})}const mee=_s(0),yee=_s([]),TLe=_s(null,async(t,e)=>{const n=await en.get("/api/balance");e(mee,n.data.balance)}),RLe=_s(null,async(t,e)=>{const n=await en.get("/api/transactions");e(yee,n.data.transactions)});function PLe(){const[t,e]=W.useState(""),[n,r]=W.useState(""),[s,i]=W.useState([]),[o]=ks(mee),a=u2(yee),l=qo(TLe),c=qo(RLe);W.useEffect(()=>{l(),c()},[l,c]),W.useEffect(()=>{if(!s.length)return;const b=setInterval(()=>{c(),l()},3e3);return()=>clearInterval(b)},[s,c,l]),W.useEffect(()=>{s.length&&i(b=>b.filter(w=>!a.find(m=>m.reference===w.id)))},[a,s]);const d=async()=>{try{await en.post("/api/mint",{amount:Number(t)}),e(""),l(),c()}catch(b){console.error("Mint failed:",b)}},f=async()=>{try{const b=await en.post("/api/payments/initiate",{amount:Number(n)});window.open(b.data.paymentUrl,"_blank"),i(w=>[...w,{id:b.data.paymentId,amount:Number(n)}]),r("")}catch(b){console.error("Payment initiate failed:",b)}},p=[{accessorKey:"id",header:"ID",meta:{widthClass:"w-24"}},{accessorKey:"type",header:"Type",meta:{widthClass:"w-28"}},{accessorKey:"amount",header:"Amount",meta:{widthClass:"w-28"}},{accessorKey:"status",header:"Status",meta:{widthClass:"w-28"}},{accessorKey:"createdAt",header:"Date",meta:{widthClass:"w-36"}}],g=[...s.map((b,w)=>({id:-1-w,userId:0,amount:b.amount,type:"payment",reference:b.id,createdAt:new Date().toISOString(),status:"pending"})),...a.map(b=>({...b,status:"completed"}))];return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("h2",{className:"text-xl font-semibold",children:"Your Stabletoken Balance"}),E.jsx("div",{className:"text-2xl font-bold",children:o}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Hr,{type:"number",value:t,onChange:b=>e(b.target.value),placeholder:"Amount"}),E.jsx(ht,{onClick:d,children:"Mint"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Mint Stabletoken (Pay by Fiat)"}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Hr,{type:"number",value:n,onChange:b=>r(b.target.value),placeholder:"Amount"}),E.jsx(ht,{onClick:f,children:"Pay"})]})]}),E.jsxs("div",{className:"pt-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recent Transactions"}),E.jsx(gh,{columns:p,data:g,isLoading:!1})]})]})}function OLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=gs(),a=p=>{switch(p){case"admin":return"bg-purple-100 text-purple-800";case"seller":return"bg-blue-100 text-blue-800";case"buyer":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},l=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"banned":return"bg-red-100 text-red-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=async()=>{r(!0);const p=await en.get("/api/admin/users");e(p.data),r(!1)};W.useEffect(()=>{c()},[]);const d=async p=>{await en.patch(`/api/admin/users/${p.id}`,{action:"toggleBan"}),c()},f=[{accessorKey:"name",header:"Name",meta:{widthClass:"w-40",cellClass:"truncate"}},{accessorKey:"ethereumAddress",header:"Address",meta:{widthClass:"hidden md:table-cell w-64",cellClass:"truncate"}},{accessorKey:"role",header:"Role",cell:({row:p})=>E.jsx(hs,{variant:"secondary",className:`capitalize rounded-full ${a(p.original.role||"buyer")}`,children:p.original.role}),meta:{widthClass:"hidden md:table-cell w-24",cellClass:"truncate"}},{accessorKey:"status",header:"Status",cell:({row:p})=>E.jsx(hs,{variant:"secondary",className:`capitalize rounded-full ${l(p.original.status||"active")}`,children:p.original.status}),meta:{widthClass:"w-24",cellClass:"truncate"}},{id:"actions",header:"Actions",cell:({row:p})=>{const g=p.original;return E.jsxs("div",{className:"flex gap-1 justify-end",children:[E.jsx(ht,{size:"sm",variant:"outline",onClick:()=>o(`/admin/users/${g.id}`),children:E.jsx(Mv,{className:"h-4 w-4"})}),E.jsx(ht,{variant:g.status==="banned"?"secondary":"destructive",size:"sm",onClick:()=>i(g),children:g.status==="banned"?"Unban":"Ban"})]})},enableSorting:!1,meta:{widthClass:"w-24"}}];return E.jsxs(E.Fragment,{children:[E.jsx(gh,{columns:f,data:t,isLoading:n}),E.jsx(Ma,{open:!!s,onOpenChange:p=>!p&&i(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsxs(Fa,{children:[s?.status==="banned"?"Unban":"Ban"," this user?"]})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{s&&d(s),i(null)},children:"Confirm"})]})]})})]})}function ILe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),[l,c]=W.useState(!1),d=W.useCallback(async()=>{if(t){i(!0);try{const b=await en.get(`/api/admin/users/${t}`);r(b.data)}catch(b){console.error("Failed to load user:",b),a("Failed to load user details")}finally{i(!1)}}},[t]),f=async()=>{if(n)try{await en.patch(`/api/admin/users/${n.id}`,{action:"toggleBan"}),await d()}catch(b){console.error("Failed to toggle user ban status:",b),a("Failed to update user status")}};if(W.useEffect(()=>{d()},[d]),s)return E.jsx(Ud,{});if(o)return E.jsx("div",{className:"text-red-600",children:o});if(!n)return E.jsx("div",{children:"User not found."});const p=b=>{switch(b){case"active":return"bg-green-100 text-green-800";case"banned":return"bg-red-100 text-red-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=b=>{switch(b){case"admin":return"bg-purple-100 text-purple-800";case"seller":return"bg-blue-100 text-blue-800";case"buyer":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>e("/admin/users"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to Users"]}),E.jsx("h1",{className:"text-2xl font-bold",children:"User Details"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsxs($r,{className:"flex items-center justify-between",children:[n.name,E.jsxs("div",{className:"flex gap-2",children:[E.jsx(hs,{variant:"secondary",className:`rounded-full ${g(n.role||"buyer")}`,children:n.role}),E.jsx(hs,{variant:"secondary",className:`rounded-full ${p(n.status||"inactive")}`,children:n.status})]})]})}),E.jsx(Un,{className:"space-y-4",children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"User ID:"})," ",n.id]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Username:"})," ",n.username]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Ethereum Address:"})," ",n.ethereumAddress]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Name:"})," ",n.name]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Role:"}),E.jsx(hs,{variant:"secondary",className:`ml-2 rounded-full ${g(n.role||"buyer")}`,children:n.role})]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Status:"}),E.jsx(hs,{variant:"secondary",className:`ml-2 rounded-full ${p(n.status||"inactive")}`,children:n.status})]}),n.createdAt&&E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Created:"}),E.jsx("p",{className:"mt-1 text-sm text-gray-600",children:new Date(n.createdAt).toLocaleString()})]}),n.updatedAt&&E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Last Updated:"}),E.jsx("p",{className:"mt-1 text-sm text-gray-600",children:new Date(n.updatedAt).toLocaleString()})]})]})})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Admin Actions"})}),E.jsxs(Un,{className:"space-y-3",children:[E.jsx(ht,{variant:n.status==="banned"?"secondary":"destructive",className:"w-full",onClick:()=>c(!0),children:n.status==="banned"?"Unban User":"Ban User"}),E.jsxs("div",{className:"text-sm text-gray-600 mt-4",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Note:"})," Banning a user will prevent them from accessing the platform."]}),E.jsx("p",{className:"mt-2",children:"Unbanning will restore their access."})]})]})]})]})]}),E.jsx(Ma,{open:l,onOpenChange:b=>!b&&c(!1),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsxs(Fa,{children:[n?.status==="banned"?"Unban":"Ban"," this user?"]})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{f(),c(!1)},children:"Confirm"})]})]})})]})}function kLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=gs(),a=async()=>{r(!0);const d=await en.get("/api/admin/sellers");e(d.data),r(!1)};W.useEffect(()=>{a()},[]);const l=async(d,f)=>{await en.patch(`/api/admin/sellers/${d.id}`,{action:f}),a()},c=[{accessorKey:"name",header:"Name",meta:{widthClass:"w-40",cellClass:"truncate"}},{accessorKey:"status",header:"Status",meta:{widthClass:"hidden md:table-cell w-28",cellClass:"truncate"}},{id:"actions",header:"Actions",cell:({row:d})=>{const f=d.original;return E.jsxs("div",{className:"flex gap-1 justify-end",children:[E.jsx(ht,{size:"sm",variant:"outline",onClick:()=>o(`/admin/sellers/${f.id}`),children:E.jsx(Mv,{className:"h-4 w-4"})}),f.status==="pending"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{size:"sm",onClick:()=>i({seller:f,action:"approve"}),children:"Approve"}),E.jsx(ht,{variant:"destructive",size:"sm",onClick:()=>i({seller:f,action:"reject"}),children:"Reject"})]}),f.status==="active"&&E.jsx(ht,{variant:"destructive",size:"sm",onClick:()=>i({seller:f,action:"deactivate"}),children:"Deactivate"}),f.status==="inactive"&&E.jsx(ht,{size:"sm",onClick:()=>i({seller:f,action:"activate"}),children:"Activate"})]})},enableSorting:!1,meta:{widthClass:"w-40"}}];return E.jsxs(E.Fragment,{children:[E.jsx(gh,{columns:c,data:t,isLoading:n}),E.jsx(Ma,{open:!!s,onOpenChange:d=>!d&&i(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsxs(Fa,{children:[`${s?.action?s.action.charAt(0).toUpperCase()+s.action.slice(1):""}`," ","this seller?"]})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{s&&l(s.seller,s.action),i(null)},children:"Confirm"})]})]})})]})}function BLe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),[l,c]=W.useState(null),d=W.useCallback(async()=>{if(t){i(!0);try{const g=await en.get(`/api/admin/sellers/${t}`);r(g.data)}catch(g){console.error("Failed to load seller:",g),a("Failed to load seller details")}finally{i(!1)}}},[t]),f=async g=>{if(n)try{await en.patch(`/api/admin/sellers/${n.id}`,{action:g}),await d()}catch(b){console.error("Failed to update seller status:",b),a("Failed to update seller status")}};if(W.useEffect(()=>{d()},[d]),s)return E.jsx(Ud,{});if(o)return E.jsx("div",{className:"text-red-600",children:o});if(!n)return E.jsx("div",{children:"Seller not found."});const p=g=>{switch(g){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>e("/admin/sellers"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to Sellers"]}),E.jsx("h1",{className:"text-2xl font-bold",children:"Seller Details"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsxs($r,{className:"flex items-center justify-between",children:[n.name,E.jsx(hs,{variant:"secondary",className:`rounded-full ${p(n.status||"inactive")}`,children:n.status})]})}),E.jsxs(Un,{className:"space-y-4",children:[n.logo&&E.jsx("div",{className:"aspect-square w-32 overflow-hidden rounded-lg",children:E.jsx("img",{src:n.logo,alt:n.name,className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Seller ID:"})," ",n.id]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"User ID:"})," ",n.userId]}),n.bio&&E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Bio:"}),E.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.bio})]}),n.contact&&E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Contact:"}),E.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.contact})]})]})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Admin Actions"})}),E.jsxs(Un,{className:"space-y-3",children:[n.status==="pending"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{className:"w-full",onClick:()=>c("approve"),children:"Approve Seller"}),E.jsx(ht,{variant:"destructive",className:"w-full",onClick:()=>c("reject"),children:"Reject Seller"})]}),n.status==="active"&&E.jsx(ht,{variant:"destructive",className:"w-full",onClick:()=>c("deactivate"),children:"Deactivate Seller"}),n.status==="inactive"&&E.jsx(ht,{className:"w-full",onClick:()=>c("activate"),children:"Activate Seller"})]})]})]})]}),E.jsx(Ma,{open:!!l,onOpenChange:g=>!g&&c(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsxs(Fa,{children:[l?`${l.charAt(0).toUpperCase()}${l.slice(1)}`:""," ","seller?"]})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{l&&f(l),c(null)},children:"Confirm"})]})]})})]})}function DLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=gs(),a=async()=>{r(!0);const d=await en.get("/api/admin/products");e(d.data),r(!1)};W.useEffect(()=>{a()},[]);const l=async(d,f)=>{await en.patch(`/api/admin/products/${d.id}`,{action:f}),a()},c=[{accessorKey:"name",header:"Name",meta:{widthClass:"w-40",cellClass:"truncate"}},{accessorKey:"price",header:"Price",cell:({row:d})=>Id(d.original.price),meta:{widthClass:"hidden md:table-cell w-24",cellClass:"truncate"}},{accessorKey:"status",header:"Status",meta:{widthClass:"w-24",cellClass:"truncate"}},{id:"actions",header:"Actions",cell:({row:d})=>{const f=d.original;return E.jsxs("div",{className:"flex gap-1 justify-end",children:[E.jsx(ht,{size:"sm",variant:"outline",onClick:()=>o(`/admin/products/${f.id}`),children:E.jsx(Mv,{className:"h-4 w-4"})}),f.status==="pending"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{size:"sm",onClick:()=>i({product:f,action:"approve"}),children:"Approve"}),E.jsx(ht,{variant:"destructive",size:"sm",onClick:()=>i({product:f,action:"reject"}),children:"Reject"})]}),f.status==="active"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{variant:"outline",size:"sm",onClick:()=>i({product:f,action:"flag"}),children:"Flag"}),E.jsx(ht,{variant:"destructive",size:"sm",onClick:()=>i({product:f,action:"remove"}),children:"Remove"})]})]})},enableSorting:!1,meta:{widthClass:"w-40"}}];return E.jsxs(E.Fragment,{children:[E.jsx(gh,{columns:c,data:t,isLoading:n}),E.jsx(Ma,{open:!!s,onOpenChange:d=>!d&&i(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:s?`${s.action==="unflag"?"Unflag":s.action.charAt(0).toUpperCase()+s.action.slice(1)} this product?`:""})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{s&&l(s.product,s.action==="unflag"?"approve":s.action),i(null)},children:"Confirm"})]})]})})]})}function MLe(){const{id:t}=C0(),e=gs(),[n,r]=W.useState(null),[s,i]=W.useState(!1),[o,a]=W.useState(null),[l,c]=W.useState(null),d=W.useCallback(async()=>{if(t){i(!0);try{const g=await en.get(`/api/admin/products/${t}`);r(g.data)}catch(g){console.error("Failed to load product:",g),a("Failed to load product details")}finally{i(!1)}}},[t]),f=async g=>{if(n)try{await en.patch(`/api/admin/products/${n.id}`,{action:g}),await d()}catch(b){console.error("Failed to update product status:",b),a("Failed to update product status")}};if(W.useEffect(()=>{d()},[d]),s)return E.jsx(Ud,{});if(o)return E.jsx("div",{className:"text-red-600",children:o});if(!n)return E.jsx("div",{children:"Product not found."});const p=g=>{switch(g){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"flagged":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsxs(ht,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),children:[E.jsx(Km,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),E.jsx("h1",{className:"text-2xl font-bold",children:"Product Details"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsxs($r,{className:"flex items-center justify-between",children:[n.name,E.jsx(hs,{variant:"secondary",className:`rounded-full ${p(n.status||"inactive")}`,children:n.status})]})}),E.jsxs(Un,{className:"space-y-4",children:[n.imageUrl&&E.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:E.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Price:"})," ",Id(n.price)]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Seller ID:"})," ",n.sellerId]}),n.description&&E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:"Description:"}),E.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.description})]})]})]})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Admin Actions"})}),E.jsxs(Un,{className:"space-y-3",children:[n.status==="pending"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{className:"w-full",onClick:()=>c("approve"),children:"Approve Product"}),E.jsx(ht,{variant:"destructive",className:"w-full",onClick:()=>c("reject"),children:"Reject Product"})]}),n.status==="active"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{variant:"outline",className:"w-full",onClick:()=>c("flag"),children:"Flag Product"}),E.jsx(ht,{variant:"destructive",className:"w-full",onClick:()=>c("remove"),children:"Remove Product"})]}),n.status==="flagged"&&E.jsxs(E.Fragment,{children:[E.jsx(ht,{className:"w-full",onClick:()=>c("unflag"),children:"Unflag Product"}),E.jsx(ht,{variant:"destructive",className:"w-full",onClick:()=>c("remove"),children:"Remove Product"})]})]})]})]})]}),E.jsx(Ma,{open:!!l,onOpenChange:g=>!g&&c(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:l?`${l==="unflag"?"Unflag":l.charAt(0).toUpperCase()+l.slice(1)} product?`:""})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{l&&f(l==="unflag"?"approve":l),c(null)},children:"Confirm"})]})]})})]})}function ULe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),[s,i]=W.useState(null),o=async()=>{r(!0);const c=await en.get("/api/admin/reports");e(c.data),r(!1)};W.useEffect(()=>{o()},[]);const a=async c=>{await en.patch(`/api/admin/reports/${c.id}`,{action:"resolve"}),o()},l=[{accessorKey:"message",header:"Message",meta:{widthClass:"w-64",cellClass:"whitespace-normal break-words"}},{accessorKey:"status",header:"Status",meta:{widthClass:"hidden md:table-cell w-24",cellClass:"truncate"}},{id:"actions",header:"Actions",cell:({row:c})=>{const d=c.original;return d.status==="open"?E.jsx(ht,{size:"sm",onClick:()=>i(d),children:"Resolve"}):null},enableSorting:!1,meta:{widthClass:"w-24"}}];return E.jsxs(E.Fragment,{children:[E.jsx(gh,{columns:l,data:t,isLoading:n}),E.jsx(Ma,{open:!!s,onOpenChange:c=>!c&&i(null),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Resolve this report?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{s&&a(s),i(null)},children:"Confirm"})]})]})})]})}function LLe(){const[t,e]=W.useState(null),[n,r]=W.useState(!1),[s,i]=W.useState(!1),[o,a]=W.useState(null),l=async()=>{r(!0),a(null);try{const d=await en.get("/api/admin/settings");e(d.data)}catch(d){console.error("Failed to load settings:",d),a("Failed to load settings. Please try again."),gi.error("Failed to load settings")}finally{r(!1)}};W.useEffect(()=>{l()},[]);const c=async d=>{if(d.preventDefault(),!!t){i(!0),a(null);try{const f=await en.put("/api/admin/settings",t);e(f.data),gi.success("Settings saved successfully!")}catch(f){console.error("Failed to save settings:",f),a("Failed to save settings. Please try again."),gi.error("Failed to save settings")}finally{i(!1)}}};return n?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-8 w-48"}),E.jsx(tr,{className:"h-4 w-64"})]}),E.jsx(Mn,{children:E.jsxs(Un,{className:"p-6 space-y-4",children:[Array.from({length:2}).map((d,f)=>E.jsxs("div",{className:"space-y-2",children:[E.jsx(tr,{className:"h-4 w-32"}),E.jsx(tr,{className:"h-10 w-full"})]},f)),E.jsx(tr,{className:"h-10 w-24"})]})})]}):o?E.jsxs(nl,{variant:"destructive",children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:o})]}):t?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(qz,{className:"h-5 w-5 text-primary"})}),E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Site Settings"})]}),E.jsx("p",{className:"text-muted-foreground",children:"Configure global marketplace settings and preferences"})]}),E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"General Settings"})}),E.jsx(Un,{children:E.jsxs("form",{onSubmit:c,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"fees",className:"text-sm font-medium",children:"Marketplace Fee (%)"}),E.jsx(Hr,{id:"fees",type:"number",min:"0",max:"100",step:"0.1",value:t.fees||"",onChange:d=>e({...t,fees:Number(d.target.value)}),placeholder:"Enter fee percentage",disabled:s}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage fee charged on each transaction"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{htmlFor:"payout",className:"text-sm font-medium",children:"Payout Delay (days)"}),E.jsx(Hr,{id:"payout",type:"number",min:"0",max:"365",value:t.payoutDelay||"",onChange:d=>e({...t,payoutDelay:Number(d.target.value)}),placeholder:"Enter delay in days",disabled:s}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of days before sellers receive payouts"})]})]}),E.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[E.jsx(ht,{type:"submit",disabled:s||n,className:"min-w-[120px]",children:s?E.jsxs(E.Fragment,{children:[E.jsx(Yf,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):E.jsxs(E.Fragment,{children:[E.jsx(UI,{className:"mr-2 h-4 w-4"}),"Save Settings"]})}),s&&E.jsx("p",{className:"text-sm text-muted-foreground",children:"Updating settings..."})]})]})})]})]}):E.jsxs(nl,{children:[E.jsx(Zl,{className:"h-4 w-4"}),E.jsx(rl,{children:"No settings data available"})]})}function jLe(){const[t,e]=W.useState([]),[n,r]=W.useState(!1),s=async()=>{r(!0);const[o,a]=await Promise.all([en.get("/api/admin/wallets"),en.get("/api/admin/users")]),l=new Map(a.data.map(c=>[c.id,c]));e(o.data.map(c=>({...c,username:l.get(c.userId)?.username||"",ethereumAddress:l.get(c.userId)?.ethereumAddress||""}))),r(!1)};W.useEffect(()=>{s()},[]);const i=[{accessorKey:"userId",header:"User ID",meta:{widthClass:"w-16"}},{accessorKey:"username",header:"Username",meta:{widthClass:"w-32",cellClass:"truncate"}},{accessorKey:"ethereumAddress",header:"Address",meta:{widthClass:"w-64",cellClass:"truncate"}},{accessorKey:"balance",header:"Balance",meta:{widthClass:"w-24"}}];return E.jsx(gh,{columns:i,data:t,isLoading:n})}function FLe(){const t=u2(Wo),e=u2(qie),n=qo(DDe),r=gs(),[s,i]=W.useState(!1),[o,a]=W.useState(null),[l,c]=W.useState(!1),d=t.reduce((p,g)=>p+g.product.price*g.quantity,0),f=async()=>{if(!e){r("/login");return}i(!0),a(null);try{const p=t.map(g=>({productId:g.product.id,quantity:g.quantity}));await en.post("/api/buyer/orders",{items:p,shippingAddress:"123 Main St, City, Country",paymentMethod:"credit_card"}),n(),r("/orders")}catch{a("Failed to create order")}finally{i(!1)}};return t.length?E.jsxs(E.Fragment,{children:[E.jsxs(Mn,{children:[E.jsx(Fr,{children:E.jsx($r,{children:"Checkout"})}),E.jsx(Un,{children:E.jsxs("div",{className:"space-y-4",children:[t.map(p=>E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:p.product.name}),E.jsx("span",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(p.product.price*p.quantity)})]},p.id)),E.jsx("div",{className:"border-t pt-4",children:E.jsxs("div",{className:"flex justify-between font-bold",children:[E.jsx("span",{children:"Total:"}),E.jsx("span",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(d)})]})}),o&&E.jsx("div",{className:"text-red-600",children:o}),E.jsx(ht,{onClick:()=>{e?c(!0):r("/login")},disabled:s,className:"w-full",children:s?"Processing...":"Place Order"})]})})]}),E.jsx(Ma,{open:l,onOpenChange:p=>!p&&c(!1),children:E.jsxs(Ua,{children:[E.jsx(La,{children:E.jsx(Fa,{children:"Place this order?"})}),E.jsxs(ja,{children:[E.jsx(Ha,{children:"Cancel"}),E.jsx($a,{onClick:()=>{f(),c(!1)},children:"Confirm"})]})]})})]}):E.jsx("div",{children:"Your cart is empty."})}function $Le(){const[t]=ks(xc);return E.jsx("div",{className:"flex justify-center p-4",children:E.jsxs(Mn,{className:"w-full max-w-lg",children:[E.jsx(Fr,{children:E.jsx($r,{children:"Account Recovery"})}),E.jsxs(Un,{className:"space-y-4",children:[E.jsx("p",{children:"If you lost access to your wallet, contact our support team to verify your identity and update your address."}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Ir,{children:"Registered Address"}),E.jsx(Hr,{readOnly:!0,value:t?.ethereumAddress||""})]}),E.jsx(ht,{asChild:!0,children:E.jsx("a",{href:"mailto:support@example.com",children:"Contact Support"})})]})]})})}var HLe=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(g){(Array.isArray(t)?t:[t]).forEach(b=>{let w=b==="class",m=w&&i?s.map(v=>i[v]||v):s;w?(l.classList.remove(...m),l.classList.add(i&&i[g]?i[g]:g)):l.setAttribute(b,g)}),f(g)}function f(g){a&&c.includes(g)&&(l.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let g=localStorage.getItem(e)||n,b=o&&g==="system"?p():g;d(b)}catch{}},zLe=W.createContext(void 0),qLe={setTheme:t=>{},themes:[]},VLe=()=>{var t;return(t=W.useContext(zLe))!=null?t:qLe};W.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return W.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${HLe.toString()})(${d})`}})});const GLe=({...t})=>{const{theme:e="system"}=VLe();return E.jsx(cMe,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function KLe(){const[t]=ks(Od),[,e]=ks(xc);return W.useEffect(()=>{(async()=>{if(t)try{const r=await en.get("/api/me");e(r.data)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.hash="/login"}})()},[t,e]),E.jsxs(Ure,{children:[E.jsxs("div",{className:"min-h-screen bg-background",children:[E.jsx(TDe,{}),E.jsx("main",{className:"py-6",children:E.jsx(bX,{children:E.jsxs(hre,{children:[E.jsx(Xn,{path:"/",element:E.jsx(Gie,{})}),E.jsx(Xn,{path:"/login",element:E.jsx(C6e,{})}),E.jsx(Xn,{path:"/register",element:E.jsx(J6e,{})}),E.jsx(Xn,{path:"/dashboard",element:E.jsx(PLe,{})}),E.jsx(Xn,{path:"/account-recovery",element:E.jsx($Le,{})}),E.jsx(Xn,{path:"/home",element:E.jsx(RDe,{})}),E.jsx(Xn,{path:"/catalog",element:E.jsx(RMe,{})}),E.jsx(Xn,{path:"/cart",element:E.jsx(OMe,{})}),E.jsx(Xn,{path:"/buyer/checkout",element:E.jsx(FLe,{})}),E.jsx(Xn,{path:"/orders",element:E.jsx(IMe,{})}),E.jsx(Xn,{path:"/orders/:id",element:E.jsx(kMe,{})}),E.jsx(Xn,{path:"/profile",element:E.jsx(BMe,{})}),E.jsx(Xn,{path:"/buyer/product/:id",element:E.jsx(DMe,{})}),E.jsx(Xn,{path:"/seller",element:E.jsx(oH,{})}),E.jsx(Xn,{path:"/seller/dashboard",element:E.jsx(oH,{})}),E.jsx(Xn,{path:"/seller/products",element:E.jsx(jMe,{})}),E.jsx(Xn,{path:"/seller/add-product",element:E.jsx(MMe,{})}),E.jsx(Xn,{path:"/seller/edit-product/:id",element:E.jsx(UMe,{})}),E.jsx(Xn,{path:"/seller/view-product/:id",element:E.jsx(LMe,{})}),E.jsx(Xn,{path:"/seller/orders",element:E.jsx(CLe,{})}),E.jsx(Xn,{path:"/seller/payouts",element:E.jsx(SLe,{})}),E.jsx(Xn,{path:"/seller/profile",element:E.jsx(_Le,{})}),E.jsx(Xn,{path:"/admin",element:E.jsx(NLe,{})}),E.jsx(Xn,{path:"/admin/users",element:E.jsx(OLe,{})}),E.jsx(Xn,{path:"/admin/users/:id",element:E.jsx(ILe,{})}),E.jsx(Xn,{path:"/admin/wallets",element:E.jsx(jLe,{})}),E.jsx(Xn,{path:"/admin/sellers",element:E.jsx(kLe,{})}),E.jsx(Xn,{path:"/admin/sellers/:id",element:E.jsx(BLe,{})}),E.jsx(Xn,{path:"/admin/products",element:E.jsx(DLe,{})}),E.jsx(Xn,{path:"/admin/products/:id",element:E.jsx(MLe,{})}),E.jsx(Xn,{path:"/admin/reports",element:E.jsx(ULe,{})}),E.jsx(Xn,{path:"/admin/settings",element:E.jsx(LLe,{})})]})})})]}),E.jsx(GLe,{})]})}var KR={exports:{}},pH;function WLe(){return pH||(pH=1,function(t,e){var n=void 0,r=function(s){return n||(n=new Promise(function(i,o){var a=typeof s<"u"?s:{},l=a.onAbort;a.onAbort=function(U){o(new Error(U)),l&&l(U)},a.postRun=a.postRun||[],a.postRun.push(function(){i(a)}),t=void 0;var c;c||=typeof a<"u"?a:{};var d=typeof window=="object",f=typeof WorkerGlobalScope<"u",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";c.onRuntimeInitialized=function(){function U(Ie,Ze){switch(typeof Ze){case"boolean":c_(Ie,Ze?1:0);break;case"number":i_(Ie,Ze);break;case"string":o_(Ie,Ze,-1,-1);break;case"object":if(Ze===null)Nx(Ie);else if(Ze.length!=null){var Bt=jd(Ze,yh);a_(Ie,Bt,Ze.length,-1),$d(Bt)}else zd(Ie,"Wrong API use : tried to return a value of an unknown type ("+Ze+").",-1);break;default:Nx(Ie)}}function Q(Ie,Ze){for(var Bt=[],Kt=0;Kt<Ie;Kt+=1){var tn=Re(Ze+4*Kt,"i32"),mr=_x(tn);if(mr===1||mr===2)tn=s_(tn);else if(mr===3)tn=n_(tn);else if(mr===4){mr=tn,tn=t_(mr),mr=r_(mr);for(var ia=new Uint8Array(tn),Eo=0;Eo<tn;Eo+=1)ia[Eo]=D[mr+Eo];tn=ia}else tn=null;Bt.push(tn)}return Bt}function ne(Ie,Ze){this.Qa=Ie,this.db=Ze,this.Oa=1,this.lb=[]}function ue(Ie,Ze){if(this.db=Ze,Ze=Ce(Ie)+1,this.eb=F0(Ze),this.eb===null)throw Error("Unable to allocate memory for the SQL string");ye(Ie,k,this.eb,Ze),this.kb=this.eb,this.Za=this.pb=null}function we(Ie){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Ie!=null){var Ze=this.filename,Bt="/",Kt=Ze;if(Bt&&(Bt=typeof Bt=="string"?Bt:to(Bt),Kt=Ze?se(Bt+"/"+Ze):Bt),Ze=Rn(!0,!0),Kt=sa(Kt,Ze),Ie){if(typeof Ie=="string"){Bt=Array(Ie.length);for(var tn=0,mr=Ie.length;tn<mr;++tn)Bt[tn]=Ie.charCodeAt(tn);Ie=Bt}Je(Kt,Ze|146),Bt=pt(Kt,577),vn(Bt,Ie,0,Ie.length,0),dn(Bt),Je(Kt,Ze)}}this.handleError(jt(this.filename,De)),this.db=Re(De,"i32"),Tx(this.db),this.fb={},this.Sa={}}var De=Ja(4),ze=c.cwrap,jt=ze("sqlite3_open","number",["string","number"]),xn=ze("sqlite3_close_v2","number",["number"]),gn=ze("sqlite3_exec","number",["number","string","number","number","number"]),ss=ze("sqlite3_changes","number",["number"]),si=ze("sqlite3_prepare_v2","number",["number","string","number","number","number"]),$0=ze("sqlite3_sql","string",["number"]),bh=ze("sqlite3_normalized_sql","string",["number"]),wh=ze("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ax=ze("sqlite3_bind_text","number",["number","number","number","number","number"]),Cx=ze("sqlite3_bind_blob","number",["number","number","number","number","number"]),HS=ze("sqlite3_bind_double","number",["number","number","number"]),zS=ze("sqlite3_bind_int","number",["number","number","number"]),gy=ze("sqlite3_bind_parameter_index","number",["number","string"]),qS=ze("sqlite3_step","number",["number"]),VS=ze("sqlite3_errmsg","string",["number"]),GS=ze("sqlite3_column_count","number",["number"]),KS=ze("sqlite3_data_count","number",["number"]),WS=ze("sqlite3_column_double","number",["number","number"]),my=ze("sqlite3_column_text","string",["number","number"]),QS=ze("sqlite3_column_blob","number",["number","number"]),YS=ze("sqlite3_column_bytes","number",["number","number"]),JS=ze("sqlite3_column_type","number",["number","number"]),ZS=ze("sqlite3_column_name","string",["number","number"]),yy=ze("sqlite3_reset","number",["number"]),XS=ze("sqlite3_clear_bindings","number",["number"]),e_=ze("sqlite3_finalize","number",["number"]),Sx=ze("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_x=ze("sqlite3_value_type","number",["number"]),t_=ze("sqlite3_value_bytes","number",["number"]),n_=ze("sqlite3_value_text","string",["number"]),r_=ze("sqlite3_value_blob","number",["number"]),s_=ze("sqlite3_value_double","number",["number"]),i_=ze("sqlite3_result_double","",["number","number"]),Nx=ze("sqlite3_result_null","",["number"]),o_=ze("sqlite3_result_text","",["number","string","number","number"]),a_=ze("sqlite3_result_blob","",["number","number","number","number"]),c_=ze("sqlite3_result_int","",["number","number"]),zd=ze("sqlite3_result_error","",["number","string","number"]),qd=ze("sqlite3_aggregate_context","number",["number","number"]),Tx=ze("RegisterExtensionFunctions","number",["number"]),by=ze("sqlite3_update_hook","number",["number","number","number"]);ne.prototype.bind=function(Ie){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Ie)?this.Cb(Ie):Ie!=null&&typeof Ie=="object"?this.Db(Ie):!0},ne.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Ie=qS(this.Qa);switch(Ie){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Ie)}},ne.prototype.wb=function(Ie){return Ie==null&&(Ie=this.Oa,this.Oa+=1),WS(this.Qa,Ie)},ne.prototype.Gb=function(Ie){if(Ie==null&&(Ie=this.Oa,this.Oa+=1),Ie=my(this.Qa,Ie),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Ie)},ne.prototype.Hb=function(Ie){return Ie==null&&(Ie=this.Oa,this.Oa+=1),my(this.Qa,Ie)},ne.prototype.getBlob=function(Ie){Ie==null&&(Ie=this.Oa,this.Oa+=1);var Ze=YS(this.Qa,Ie);Ie=QS(this.Qa,Ie);for(var Bt=new Uint8Array(Ze),Kt=0;Kt<Ze;Kt+=1)Bt[Kt]=D[Ie+Kt];return Bt},ne.prototype.get=function(Ie,Ze){Ze=Ze||{},Ie!=null&&this.bind(Ie)&&this.step(),Ie=[];for(var Bt=KS(this.Qa),Kt=0;Kt<Bt;Kt+=1)switch(JS(this.Qa,Kt)){case 1:var tn=Ze.useBigInt?this.Gb(Kt):this.wb(Kt);Ie.push(tn);break;case 2:Ie.push(this.wb(Kt));break;case 3:Ie.push(this.Hb(Kt));break;case 4:Ie.push(this.getBlob(Kt));break;default:Ie.push(null)}return Ie},ne.prototype.getColumnNames=function(){for(var Ie=[],Ze=GS(this.Qa),Bt=0;Bt<Ze;Bt+=1)Ie.push(ZS(this.Qa,Bt));return Ie},ne.prototype.getAsObject=function(Ie,Ze){Ie=this.get(Ie,Ze),Ze=this.getColumnNames();for(var Bt={},Kt=0;Kt<Ze.length;Kt+=1)Bt[Ze[Kt]]=Ie[Kt];return Bt},ne.prototype.getSQL=function(){return $0(this.Qa)},ne.prototype.getNormalizedSQL=function(){return bh(this.Qa)},ne.prototype.run=function(Ie){return Ie!=null&&this.bind(Ie),this.step(),this.reset()},ne.prototype.sb=function(Ie,Ze){Ze==null&&(Ze=this.Oa,this.Oa+=1),Ie=re(Ie);var Bt=jd(Ie,yh);this.lb.push(Bt),this.db.handleError(Ax(this.Qa,Ze,Bt,Ie.length-1,0))},ne.prototype.Bb=function(Ie,Ze){Ze==null&&(Ze=this.Oa,this.Oa+=1);var Bt=jd(Ie,yh);this.lb.push(Bt),this.db.handleError(Cx(this.Qa,Ze,Bt,Ie.length,0))},ne.prototype.rb=function(Ie,Ze){Ze==null&&(Ze=this.Oa,this.Oa+=1),this.db.handleError((Ie===(Ie|0)?zS:HS)(this.Qa,Ze,Ie))},ne.prototype.Eb=function(Ie){Ie==null&&(Ie=this.Oa,this.Oa+=1),Cx(this.Qa,Ie,0,0,0)},ne.prototype.tb=function(Ie,Ze){switch(Ze==null&&(Ze=this.Oa,this.Oa+=1),typeof Ie){case"string":this.sb(Ie,Ze);return;case"number":this.rb(Ie,Ze);return;case"bigint":this.sb(Ie.toString(),Ze);return;case"boolean":this.rb(Ie+0,Ze);return;case"object":if(Ie===null){this.Eb(Ze);return}if(Ie.length!=null){this.Bb(Ie,Ze);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Ie+")."},ne.prototype.Db=function(Ie){var Ze=this;return Object.keys(Ie).forEach(function(Bt){var Kt=gy(Ze.Qa,Bt);Kt!==0&&Ze.tb(Ie[Bt],Kt)}),!0},ne.prototype.Cb=function(Ie){for(var Ze=0;Ze<Ie.length;Ze+=1)this.tb(Ie[Ze],Ze+1);return!0},ne.prototype.reset=function(){return this.freemem(),XS(this.Qa)===0&&yy(this.Qa)===0},ne.prototype.freemem=function(){for(var Ie;(Ie=this.lb.pop())!==void 0;)$d(Ie)},ne.prototype.free=function(){this.freemem();var Ie=e_(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Ie},ue.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Ie=Rc(),Ze=Ja(4);xe(De),xe(Ze);try{this.db.handleError(wh(this.db.db,this.kb,-1,De,Ze)),this.kb=Re(Ze,"i32");var Bt=Re(De,"i32");return Bt===0?(this.mb(),{done:!0}):(this.Za=new ne(Bt,this.db),this.db.fb[Bt]=this.Za,{value:this.Za,done:!1})}catch(Kt){throw this.pb=V(this.kb),this.mb(),Kt}finally{ro(Ie)}},ue.prototype.mb=function(){$d(this.eb),this.eb=null},ue.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:V(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(ue.prototype[Symbol.iterator]=function(){return this}),we.prototype.run=function(Ie,Ze){if(!this.db)throw"Database closed";if(Ze){Ie=this.prepare(Ie,Ze);try{Ie.step()}finally{Ie.free()}}else this.handleError(gn(this.db,Ie,0,0,De));return this},we.prototype.exec=function(Ie,Ze,Bt){if(!this.db)throw"Database closed";var Kt=Rc(),tn=null;try{var mr=fy(Ie),ia=Ja(4);for(Ie=[];Re(mr,"i8")!==0;){xe(De),xe(ia),this.handleError(wh(this.db,mr,-1,De,ia));var Eo=Re(De,"i32");if(mr=Re(ia,"i32"),Eo!==0){var Fi=null;for(tn=new ne(Eo,this),Ze!=null&&tn.bind(Ze);tn.step();)Fi===null&&(Fi={columns:tn.getColumnNames(),values:[]},Ie.push(Fi)),Fi.values.push(tn.get(null,Bt));tn.free()}}return Ie}catch(Ao){throw tn&&tn.free(),Ao}finally{ro(Kt)}},we.prototype.each=function(Ie,Ze,Bt,Kt,tn){typeof Ze=="function"&&(Kt=Bt,Bt=Ze,Ze=void 0),Ie=this.prepare(Ie,Ze);try{for(;Ie.step();)Bt(Ie.getAsObject(null,tn))}finally{Ie.free()}if(typeof Kt=="function")return Kt()},we.prototype.prepare=function(Ie,Ze){if(xe(De),this.handleError(si(this.db,Ie,-1,De,0)),Ie=Re(De,"i32"),Ie===0)throw"Nothing to prepare";var Bt=new ne(Ie,this);return Ze!=null&&Bt.bind(Ze),this.fb[Ie]=Bt},we.prototype.iterateStatements=function(Ie){return new ue(Ie,this)},we.prototype.export=function(){Object.values(this.fb).forEach(function(Ze){Ze.free()}),Object.values(this.Sa).forEach(Ya),this.Sa={},this.handleError(xn(this.db));var Ie=yn(this.filename);return this.handleError(jt(this.filename,De)),this.db=Re(De,"i32"),Tx(this.db),Ie},we.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Ie){Ie.free()}),Object.values(this.Sa).forEach(Ya),this.Sa={},this.Ya&&(Ya(this.Ya),this.Ya=void 0),this.handleError(xn(this.db)),He("/"+this.filename),this.db=null)},we.prototype.handleError=function(Ie){if(Ie===0)return null;throw Ie=VS(this.db),Error(Ie)},we.prototype.getRowsModified=function(){return ss(this.db)},we.prototype.create_function=function(Ie,Ze){Object.prototype.hasOwnProperty.call(this.Sa,Ie)&&(Ya(this.Sa[Ie]),delete this.Sa[Ie]);var Bt=vu(function(Kt,tn,mr){tn=Q(tn,mr);try{var ia=Ze.apply(null,tn)}catch(Eo){zd(Kt,Eo,-1);return}U(Kt,ia)},"viii");return this.Sa[Ie]=Bt,this.handleError(Sx(this.db,Ie,Ze.length,1,0,Bt,0,0,0)),this},we.prototype.create_aggregate=function(Ie,Ze){var Bt=Ze.init||function(){return null},Kt=Ze.finalize||function(Fi){return Fi},tn=Ze.step;if(!tn)throw"An aggregate function must have a step function in "+Ie;var mr={};Object.hasOwnProperty.call(this.Sa,Ie)&&(Ya(this.Sa[Ie]),delete this.Sa[Ie]),Ze=Ie+"__finalize",Object.hasOwnProperty.call(this.Sa,Ze)&&(Ya(this.Sa[Ze]),delete this.Sa[Ze]);var ia=vu(function(Fi,Ao,xu){var oa=qd(Fi,1);Object.hasOwnProperty.call(mr,oa)||(mr[oa]=Bt()),Ao=Q(Ao,xu),Ao=[mr[oa]].concat(Ao);try{mr[oa]=tn.apply(null,Ao)}catch(l_){delete mr[oa],zd(Fi,l_,-1)}},"viii"),Eo=vu(function(Fi){var Ao=qd(Fi,1);try{var xu=Kt(mr[Ao])}catch(oa){delete mr[Ao],zd(Fi,oa,-1);return}U(Fi,xu),delete mr[Ao]},"vi");return this.Sa[Ie]=ia,this.Sa[Ze]=Eo,this.handleError(Sx(this.db,Ie,tn.length-1,1,0,0,ia,Eo,0)),this},we.prototype.updateHook=function(Ie){this.Ya&&(by(this.db,0,0),Ya(this.Ya),this.Ya=void 0),Ie&&(this.Ya=vu(function(Ze,Bt,Kt,tn,mr){switch(Bt){case 18:Ze="insert";break;case 23:Ze="update";break;case 9:Ze="delete";break;default:throw"unknown operationCode in updateHook callback: "+Bt}if(Kt=Kt?J(k,Kt):"",tn=tn?J(k,tn):"",mr>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Ie(Ze,Kt,tn,Number(mr))},"viiiij"),by(this.db,this.Ya,0))},c.Database=we};var g={...c},b="./this.program",w=(U,Q)=>{throw Q},m="",v,x;if(p){var C=AO;m=__dirname+"/",x=U=>(U=j(U)?new URL(U):U,C.readFileSync(U)),v=async U=>(U=j(U)?new URL(U):U,C.readFileSync(U,void 0)),!c.thisProgram&&1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=c,w=(U,Q)=>{throw process.exitCode=U,Q}}else(d||f)&&(f?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),m=m.startsWith("blob:")?"":m.slice(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(x=U=>{var Q=new XMLHttpRequest;return Q.open("GET",U,!1),Q.responseType="arraybuffer",Q.send(null),new Uint8Array(Q.response)}),v=async U=>{if(j(U))return new Promise((ne,ue)=>{var we=new XMLHttpRequest;we.open("GET",U,!0),we.responseType="arraybuffer",we.onload=()=>{we.status==200||we.status==0&&we.response?ne(we.response):ue(we.status)},we.onerror=ue,we.send(null)});var Q=await fetch(U,{credentials:"same-origin"});if(Q.ok)return Q.arrayBuffer();throw Error(Q.status+" : "+Q.url)});var S=c.print||console.log.bind(console),T=c.printErr||console.error.bind(console);Object.assign(c,g),g=null,c.thisProgram&&(b=c.thisProgram);var R=c.wasmBinary,_,N=!1,O,D,k,z,K,q,I,P,M,j=U=>U.startsWith("file://");function G(){var U=_.buffer;c.HEAP8=D=new Int8Array(U),c.HEAP16=z=new Int16Array(U),c.HEAPU8=k=new Uint8Array(U),c.HEAPU16=new Uint16Array(U),c.HEAP32=K=new Int32Array(U),c.HEAPU32=q=new Uint32Array(U),c.HEAPF32=I=new Float32Array(U),c.HEAPF64=M=new Float64Array(U),c.HEAP64=P=new BigInt64Array(U),c.HEAPU64=new BigUint64Array(U)}var F=0,H=null;function $(U){throw c.onAbort?.(U),U="Aborted("+U+")",T(U),N=!0,new WebAssembly.RuntimeError(U+". Build with -sASSERTIONS for more info.")}var Z;async function X(U){if(!R)try{var Q=await v(U);return new Uint8Array(Q)}catch{}if(U==Z&&R)U=new Uint8Array(R);else if(x)U=x(U);else throw"both async and sync fetching of the wasm failed";return U}async function le(U,Q){try{var ne=await X(U);return await WebAssembly.instantiate(ne,Q)}catch(ue){T(`failed to asynchronously prepare wasm: ${ue}`),$(ue)}}async function de(U){var Q=Z;if(!R&&typeof WebAssembly.instantiateStreaming=="function"&&!j(Q)&&!p)try{var ne=fetch(Q,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(ne,U)}catch(ue){T(`wasm streaming compile failed: ${ue}`),T("falling back to ArrayBuffer instantiation")}return le(Q,U)}class pe{name="ExitStatus";constructor(Q){this.message=`Program terminated with exit(${Q})`,this.status=Q}}var ae=U=>{for(;0<U.length;)U.shift()(c)},ce=[],fe=[],ve=()=>{var U=c.preRun.shift();fe.unshift(U)};function Re(U,Q="i8"){switch(Q.endsWith("*")&&(Q="*"),Q){case"i1":return D[U];case"i8":return D[U];case"i16":return z[U>>1];case"i32":return K[U>>2];case"i64":return P[U>>3];case"float":return I[U>>2];case"double":return M[U>>3];case"*":return q[U>>2];default:$(`invalid type for getValue: ${Q}`)}}var Se=c.noExitRuntime||!0;function xe(U){var Q="i32";switch(Q.endsWith("*")&&(Q="*"),Q){case"i1":D[U]=0;break;case"i8":D[U]=0;break;case"i16":z[U>>1]=0;break;case"i32":K[U>>2]=0;break;case"i64":P[U>>3]=BigInt(0);break;case"float":I[U>>2]=0;break;case"double":M[U>>3]=0;break;case"*":q[U>>2]=0;break;default:$(`invalid type for setValue: ${Q}`)}}var te=typeof TextDecoder<"u"?new TextDecoder:void 0,J=(U,Q=0,ne=NaN)=>{var ue=Q+ne;for(ne=Q;U[ne]&&!(ne>=ue);)++ne;if(16<ne-Q&&U.buffer&&te)return te.decode(U.subarray(Q,ne));for(ue="";Q<ne;){var we=U[Q++];if(we&128){var De=U[Q++]&63;if((we&224)==192)ue+=String.fromCharCode((we&31)<<6|De);else{var ze=U[Q++]&63;we=(we&240)==224?(we&15)<<12|De<<6|ze:(we&7)<<18|De<<12|ze<<6|U[Q++]&63,65536>we?ue+=String.fromCharCode(we):(we-=65536,ue+=String.fromCharCode(55296|we>>10,56320|we&1023))}}else ue+=String.fromCharCode(we)}return ue},V=(U,Q)=>U?J(k,U,Q):"",Y=(U,Q)=>{for(var ne=0,ue=U.length-1;0<=ue;ue--){var we=U[ue];we==="."?U.splice(ue,1):we===".."?(U.splice(ue,1),ne++):ne&&(U.splice(ue,1),ne--)}if(Q)for(;ne;ne--)U.unshift("..");return U},se=U=>{var Q=U.charAt(0)==="/",ne=U.slice(-1)==="/";return(U=Y(U.split("/").filter(ue=>!!ue),!Q).join("/"))||Q||(U="."),U&&ne&&(U+="/"),(Q?"/":"")+U},me=U=>{var Q=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(U).slice(1);return U=Q[0],Q=Q[1],!U&&!Q?".":(Q&&=Q.slice(0,-1),U+Q)},_e=U=>U&&U.match(/([^\/]+|\/)\/*$/)[1],Te=()=>{if(p){var U=AO;return Q=>U.randomFillSync(Q)}return Q=>crypto.getRandomValues(Q)},ot=U=>{(ot=Te())(U)},It=(...U)=>{for(var Q="",ne=!1,ue=U.length-1;-1<=ue&&!ne;ue--){if(ne=0<=ue?U[ue]:"/",typeof ne!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!ne)return"";Q=ne+"/"+Q,ne=ne.charAt(0)==="/"}return Q=Y(Q.split("/").filter(we=>!!we),!ne).join("/"),(ne?"/":"")+Q||"."},Ft=[],Ce=U=>{for(var Q=0,ne=0;ne<U.length;++ne){var ue=U.charCodeAt(ne);127>=ue?Q++:2047>=ue?Q+=2:55296<=ue&&57343>=ue?(Q+=4,++ne):Q+=3}return Q},ye=(U,Q,ne,ue)=>{if(!(0<ue))return 0;var we=ne;ue=ne+ue-1;for(var De=0;De<U.length;++De){var ze=U.charCodeAt(De);if(55296<=ze&&57343>=ze){var jt=U.charCodeAt(++De);ze=65536+((ze&1023)<<10)|jt&1023}if(127>=ze){if(ne>=ue)break;Q[ne++]=ze}else{if(2047>=ze){if(ne+1>=ue)break;Q[ne++]=192|ze>>6}else{if(65535>=ze){if(ne+2>=ue)break;Q[ne++]=224|ze>>12}else{if(ne+3>=ue)break;Q[ne++]=240|ze>>18,Q[ne++]=128|ze>>12&63}Q[ne++]=128|ze>>6&63}Q[ne++]=128|ze&63}}return Q[ne]=0,ne-we},re=(U,Q)=>{var ne=Array(Ce(U)+1);return U=ye(U,ne,0,ne.length),Q&&(ne.length=U),ne},ge=[];function ke(U,Q){ge[U]={input:[],output:[],cb:Q},rs(U,$e)}var $e={open(U){var Q=ge[U.node.rdev];if(!Q)throw new Ge(43);U.tty=Q,U.seekable=!1},close(U){U.tty.cb.fsync(U.tty)},fsync(U){U.tty.cb.fsync(U.tty)},read(U,Q,ne,ue){if(!U.tty||!U.tty.cb.xb)throw new Ge(60);for(var we=0,De=0;De<ue;De++){try{var ze=U.tty.cb.xb(U.tty)}catch{throw new Ge(29)}if(ze===void 0&&we===0)throw new Ge(6);if(ze==null)break;we++,Q[ne+De]=ze}return we&&(U.node.atime=Date.now()),we},write(U,Q,ne,ue){if(!U.tty||!U.tty.cb.qb)throw new Ge(60);try{for(var we=0;we<ue;we++)U.tty.cb.qb(U.tty,Q[ne+we])}catch{throw new Ge(29)}return ue&&(U.node.mtime=U.node.ctime=Date.now()),we}},et={xb(){e:{if(!Ft.length){var U=null;if(p){var Q=Buffer.alloc(256),ne=0,ue=process.stdin.fd;try{ne=C.readSync(ue,Q,0,256)}catch(we){if(we.toString().includes("EOF"))ne=0;else throw we}0<ne&&(U=Q.slice(0,ne).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(U=window.prompt("Input: "),U!==null&&(U+=`
`));if(!U){U=null;break e}Ft=re(U,!0)}U=Ft.shift()}return U},qb(U,Q){Q===null||Q===10?(S(J(U.output)),U.output=[]):Q!=0&&U.output.push(Q)},fsync(U){0<U.output?.length&&(S(J(U.output)),U.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},xt={qb(U,Q){Q===null||Q===10?(T(J(U.output)),U.output=[]):Q!=0&&U.output.push(Q)},fsync(U){0<U.output?.length&&(T(J(U.output)),U.output=[])}},gt={Wa:null,Xa(){return gt.createNode(null,"/",16895,0)},createNode(U,Q,ne,ue){if((ne&61440)===24576||(ne&61440)===4096)throw new Ge(63);return gt.Wa||(gt.Wa={dir:{node:{Ta:gt.La.Ta,Ua:gt.La.Ua,lookup:gt.La.lookup,hb:gt.La.hb,rename:gt.La.rename,unlink:gt.La.unlink,rmdir:gt.La.rmdir,readdir:gt.La.readdir,symlink:gt.La.symlink},stream:{Va:gt.Ma.Va}},file:{node:{Ta:gt.La.Ta,Ua:gt.La.Ua},stream:{Va:gt.Ma.Va,read:gt.Ma.read,write:gt.Ma.write,ib:gt.Ma.ib,jb:gt.Ma.jb}},link:{node:{Ta:gt.La.Ta,Ua:gt.La.Ua,readlink:gt.La.readlink},stream:{}},ub:{node:{Ta:gt.La.Ta,Ua:gt.La.Ua},stream:El}}),ne=sr(U,Q,ne,ue),qn(ne.mode)?(ne.La=gt.Wa.dir.node,ne.Ma=gt.Wa.dir.stream,ne.Na={}):(ne.mode&61440)===32768?(ne.La=gt.Wa.file.node,ne.Ma=gt.Wa.file.stream,ne.Ra=0,ne.Na=null):(ne.mode&61440)===40960?(ne.La=gt.Wa.link.node,ne.Ma=gt.Wa.link.stream):(ne.mode&61440)===8192&&(ne.La=gt.Wa.ub.node,ne.Ma=gt.Wa.ub.stream),ne.atime=ne.mtime=ne.ctime=Date.now(),U&&(U.Na[Q]=ne,U.atime=U.mtime=U.ctime=ne.atime),ne},Sb(U){return U.Na?U.Na.subarray?U.Na.subarray(0,U.Ra):new Uint8Array(U.Na):new Uint8Array(0)},La:{Ta(U){var Q={};return Q.dev=(U.mode&61440)===8192?U.id:1,Q.ino=U.id,Q.mode=U.mode,Q.nlink=1,Q.uid=0,Q.gid=0,Q.rdev=U.rdev,qn(U.mode)?Q.size=4096:(U.mode&61440)===32768?Q.size=U.Ra:(U.mode&61440)===40960?Q.size=U.link.length:Q.size=0,Q.atime=new Date(U.atime),Q.mtime=new Date(U.mtime),Q.ctime=new Date(U.ctime),Q.blksize=4096,Q.blocks=Math.ceil(Q.size/Q.blksize),Q},Ua(U,Q){for(var ne of["mode","atime","mtime","ctime"])Q[ne]!=null&&(U[ne]=Q[ne]);Q.size!==void 0&&(Q=Q.size,U.Ra!=Q&&(Q==0?(U.Na=null,U.Ra=0):(ne=U.Na,U.Na=new Uint8Array(Q),ne&&U.Na.set(ne.subarray(0,Math.min(Q,U.Ra))),U.Ra=Q)))},lookup(){throw gt.vb},hb(U,Q,ne,ue){return gt.createNode(U,Q,ne,ue)},rename(U,Q,ne){try{var ue=rr(Q,ne)}catch{}if(ue){if(qn(U.mode))for(var we in ue.Na)throw new Ge(55);Br(ue)}delete U.parent.Na[U.name],Q.Na[ne]=U,U.name=ne,Q.ctime=Q.mtime=U.parent.ctime=U.parent.mtime=Date.now()},unlink(U,Q){delete U.Na[Q],U.ctime=U.mtime=Date.now()},rmdir(U,Q){var ne=rr(U,Q),ue;for(ue in ne.Na)throw new Ge(55);delete U.Na[Q],U.ctime=U.mtime=Date.now()},readdir(U){return[".","..",...Object.keys(U.Na)]},symlink(U,Q,ne){return U=gt.createNode(U,Q,41471,0),U.link=ne,U},readlink(U){if((U.mode&61440)!==40960)throw new Ge(28);return U.link}},Ma:{read(U,Q,ne,ue,we){var De=U.node.Na;if(we>=U.node.Ra)return 0;if(U=Math.min(U.node.Ra-we,ue),8<U&&De.subarray)Q.set(De.subarray(we,we+U),ne);else for(ue=0;ue<U;ue++)Q[ne+ue]=De[we+ue];return U},write(U,Q,ne,ue,we,De){if(Q.buffer===D.buffer&&(De=!1),!ue)return 0;if(U=U.node,U.mtime=U.ctime=Date.now(),Q.subarray&&(!U.Na||U.Na.subarray)){if(De)return U.Na=Q.subarray(ne,ne+ue),U.Ra=ue;if(U.Ra===0&&we===0)return U.Na=Q.slice(ne,ne+ue),U.Ra=ue;if(we+ue<=U.Ra)return U.Na.set(Q.subarray(ne,ne+ue),we),ue}De=we+ue;var ze=U.Na?U.Na.length:0;if(ze>=De||(De=Math.max(De,ze*(1048576>ze?2:1.125)>>>0),ze!=0&&(De=Math.max(De,256)),ze=U.Na,U.Na=new Uint8Array(De),0<U.Ra&&U.Na.set(ze.subarray(0,U.Ra),0)),U.Na.subarray&&Q.subarray)U.Na.set(Q.subarray(ne,ne+ue),we);else for(De=0;De<ue;De++)U.Na[we+De]=Q[ne+De];return U.Ra=Math.max(U.Ra,we+ue),ue},Va(U,Q,ne){if(ne===1?Q+=U.position:ne===2&&(U.node.mode&61440)===32768&&(Q+=U.node.Ra),0>Q)throw new Ge(28);return Q},ib(U,Q,ne,ue,we){if((U.node.mode&61440)!==32768)throw new Ge(43);if(U=U.node.Na,we&2||!U||U.buffer!==D.buffer){we=!0,ue=65536*Math.ceil(Q/65536);var De=py(65536,ue);if(De&&k.fill(0,De,De+ue),ue=De,!ue)throw new Ge(48);U&&((0<ne||ne+Q<U.length)&&(U.subarray?U=U.subarray(ne,ne+Q):U=Array.prototype.slice.call(U,ne,ne+Q)),D.set(U,ue))}else we=!1,ue=U.byteOffset;return{Kb:ue,Ab:we}},jb(U,Q,ne,ue){return gt.Ma.write(U,Q,0,ue,ne,!1),0}}},Rn=(U,Q)=>{var ne=0;return U&&(ne|=365),Q&&(ne|=146),ne},Jt=null,Yn={},ls=[],ms=1,Mi=null,Ka=!1,na=!0,mu={},Ge=class{name="ErrnoError";constructor(U){this.Pa=U}},Qr=class{gb={};node=null;get flags(){return this.gb.flags}set flags(U){this.gb.flags=U}get position(){return this.gb.position}set position(U){this.gb.position=U}},ns=class{La={};Ma={};ab=null;constructor(U,Q,ne,ue){U||=this,this.parent=U,this.Xa=U.Xa,this.id=ms++,this.name=Q,this.mode=ne,this.rdev=ue,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(U){U?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(U){U?this.mode|=146:this.mode&=-147}};function nr(U,Q={}){if(!U)throw new Ge(44);Q.nb??(Q.nb=!0),U.charAt(0)==="/"||(U="//"+U);var ne=0;e:for(;40>ne;ne++){U=U.split("/").filter(jt=>!!jt);for(var ue=Jt,we="/",De=0;De<U.length;De++){var ze=De===U.length-1;if(ze&&Q.parent)break;if(U[De]!==".")if(U[De]==="..")we=me(we),ue=ue.parent;else{we=se(we+"/"+U[De]);try{ue=rr(ue,U[De])}catch(jt){if(jt?.Pa===44&&ze&&Q.Jb)return{path:we};throw jt}if(!ue.ab||ze&&!Q.nb||(ue=ue.ab.root),(ue.mode&61440)===40960&&(!ze||Q.$a)){if(!ue.La.readlink)throw new Ge(52);ue=ue.La.readlink(ue),ue.charAt(0)==="/"||(ue=me(we)+"/"+ue),U=ue+"/"+U.slice(De+1).join("/");continue e}}}return{path:we,node:ue}}throw new Ge(32)}function to(U){for(var Q;;){if(U===U.parent)return U=U.Xa.zb,Q?U[U.length-1]!=="/"?`${U}/${Q}`:U+Q:U;Q=Q?`${U.name}/${Q}`:U.name,U=U.parent}}function Yr(U,Q){for(var ne=0,ue=0;ue<Q.length;ue++)ne=(ne<<5)-ne+Q.charCodeAt(ue)|0;return(U+ne>>>0)%Mi.length}function Br(U){var Q=Yr(U.parent.id,U.name);if(Mi[Q]===U)Mi[Q]=U.bb;else for(Q=Mi[Q];Q;){if(Q.bb===U){Q.bb=U.bb;break}Q=Q.bb}}function rr(U,Q){var ne=qn(U.mode)?(ne=ni(U,"x"))?ne:U.La.lookup?0:2:54;if(ne)throw new Ge(ne);for(ne=Mi[Yr(U.id,Q)];ne;ne=ne.bb){var ue=ne.name;if(ne.parent.id===U.id&&ue===Q)return ne}return U.La.lookup(U,Q)}function sr(U,Q,ne,ue){return U=new ns(U,Q,ne,ue),Q=Yr(U.parent.id,U.name),U.bb=Mi[Q],Mi[Q]=U}function qn(U){return(U&61440)===16384}function no(U){var Q=["r","w","rw"][U&3];return U&512&&(Q+="w"),Q}function ni(U,Q){if(na)return 0;if(!Q.includes("r")||U.mode&292){if(Q.includes("w")&&!(U.mode&146)||Q.includes("x")&&!(U.mode&73))return 2}else return 2;return 0}function Ld(U,Q){if(!qn(U.mode))return 54;try{return rr(U,Q),20}catch{}return ni(U,"wx")}function xl(U,Q,ne){try{var ue=rr(U,Q)}catch(we){return we.Pa}if(U=ni(U,"wx"))return U;if(ne){if(!qn(ue.mode))return 54;if(ue===ue.parent||to(ue)==="/")return 10}else if(qn(ue.mode))return 31;return 0}function ra(U){if(!U)throw new Ge(63);return U}function Jr(U){if(U=ls[U],!U)throw new Ge(8);return U}function Wa(U,Q=-1){if(U=Object.assign(new Qr,U),Q==-1)e:{for(Q=0;4096>=Q;Q++)if(!ls[Q])break e;throw new Ge(33)}return U.fd=Q,ls[Q]=U}function Qa(U,Q=-1){return U=Wa(U,Q),U.Ma?.Rb?.(U),U}function Tc(U,Q,ne){var ue=U?.Ma.Ua;U=ue?U:Q,ue??=Q.La.Ua,ra(ue),ue(U,ne)}var El={open(U){U.Ma=Yn[U.node.rdev].Ma,U.Ma.open?.(U)},Va(){throw new Ge(70)}};function rs(U,Q){Yn[U]={Ma:Q}}function mh(U,Q){var ne=Q==="/";if(ne&&Jt)throw new Ge(10);if(!ne&&Q){var ue=nr(Q,{nb:!1});if(Q=ue.path,ue=ue.node,ue.ab)throw new Ge(10);if(!qn(ue.mode))throw new Ge(54)}Q={type:U,Wb:{},zb:Q,Ib:[]},U=U.Xa(Q),U.Xa=Q,Q.root=U,ne?Jt=U:ue&&(ue.ab=Q,ue.Xa&&ue.Xa.Ib.push(Q))}function Al(U,Q,ne){var ue=nr(U,{parent:!0}).node;if(U=_e(U),!U)throw new Ge(28);if(U==="."||U==="..")throw new Ge(20);var we=Ld(ue,U);if(we)throw new Ge(we);if(!ue.La.hb)throw new Ge(63);return ue.La.hb(ue,U,Q,ne)}function sa(U,Q=438){return Al(U,Q&4095|32768,0)}function Bs(U,Q=511){return Al(U,Q&1023|16384,0)}function yu(U,Q,ne){typeof ne>"u"&&(ne=Q,Q=438),Al(U,Q|8192,ne)}function Ee(U,Q){if(!It(U))throw new Ge(44);var ne=nr(Q,{parent:!0}).node;if(!ne)throw new Ge(44);Q=_e(Q);var ue=Ld(ne,Q);if(ue)throw new Ge(ue);if(!ne.La.symlink)throw new Ge(63);ne.La.symlink(ne,Q,U)}function Ue(U){var Q=nr(U,{parent:!0}).node;U=_e(U);var ne=rr(Q,U),ue=xl(Q,U,!0);if(ue)throw new Ge(ue);if(!Q.La.rmdir)throw new Ge(63);if(ne.ab)throw new Ge(10);Q.La.rmdir(Q,U),Br(ne)}function He(U){var Q=nr(U,{parent:!0}).node;if(!Q)throw new Ge(44);U=_e(U);var ne=rr(Q,U),ue=xl(Q,U,!1);if(ue)throw new Ge(ue);if(!Q.La.unlink)throw new Ge(63);if(ne.ab)throw new Ge(10);Q.La.unlink(Q,U),Br(ne)}function We(U,Q){return U=nr(U,{$a:!Q}).node,ra(U.La.Ta)(U)}function Ve(U,Q,ne,ue){Tc(U,Q,{mode:ne&4095|Q.mode&-4096,ctime:Date.now(),Fb:ue})}function Je(U,Q){U=typeof U=="string"?nr(U,{$a:!0}).node:U,Ve(null,U,Q)}function it(U,Q,ne){if(qn(Q.mode))throw new Ge(31);if((Q.mode&61440)!==32768)throw new Ge(28);var ue=ni(Q,"w");if(ue)throw new Ge(ue);Tc(U,Q,{size:ne,timestamp:Date.now()})}function pt(U,Q,ne=438){if(U==="")throw new Ge(44);if(typeof Q=="string"){var ue={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[Q];if(typeof ue>"u")throw Error(`Unknown file open mode: ${Q}`);Q=ue}if(ne=Q&64?ne&4095|32768:0,typeof U=="object")ue=U;else{var we=U.endsWith("/");U=nr(U,{$a:!(Q&131072),Jb:!0}),ue=U.node,U=U.path}var De=!1;if(Q&64)if(ue){if(Q&128)throw new Ge(20)}else{if(we)throw new Ge(31);ue=Al(U,ne|511,0),De=!0}if(!ue)throw new Ge(44);if((ue.mode&61440)===8192&&(Q&=-513),Q&65536&&!qn(ue.mode))throw new Ge(54);if(!De&&(we=ue?(ue.mode&61440)===40960?32:qn(ue.mode)&&(no(Q)!=="r"||Q&576)?31:ni(ue,no(Q)):44))throw new Ge(we);return Q&512&&!De&&(we=ue,we=typeof we=="string"?nr(we,{$a:!0}).node:we,it(null,we,0)),Q&=-131713,we=Wa({node:ue,path:to(ue),flags:Q,seekable:!0,position:0,Ma:ue.Ma,Lb:[],error:!1}),we.Ma.open&&we.Ma.open(we),De&&Je(ue,ne&511),!c.logReadFiles||Q&1||U in mu||(mu[U]=1),we}function dn(U){if(U.fd===null)throw new Ge(8);U.ob&&(U.ob=null);try{U.Ma.close&&U.Ma.close(U)}catch(Q){throw Q}finally{ls[U.fd]=null}U.fd=null}function Jn(U,Q,ne){if(U.fd===null)throw new Ge(8);if(!U.seekable||!U.Ma.Va)throw new Ge(70);if(ne!=0&&ne!=1&&ne!=2)throw new Ge(28);U.position=U.Ma.Va(U,Q,ne),U.Lb=[]}function zt(U,Q,ne,ue,we){if(0>ue||0>we)throw new Ge(28);if(U.fd===null)throw new Ge(8);if((U.flags&2097155)===1)throw new Ge(8);if(qn(U.node.mode))throw new Ge(31);if(!U.Ma.read)throw new Ge(28);var De=typeof we<"u";if(!De)we=U.position;else if(!U.seekable)throw new Ge(70);return Q=U.Ma.read(U,Q,ne,ue,we),De||(U.position+=Q),Q}function vn(U,Q,ne,ue,we){if(0>ue||0>we)throw new Ge(28);if(U.fd===null)throw new Ge(8);if((U.flags&2097155)===0)throw new Ge(8);if(qn(U.node.mode))throw new Ge(31);if(!U.Ma.write)throw new Ge(28);U.seekable&&U.flags&1024&&Jn(U,0,2);var De=typeof we<"u";if(!De)we=U.position;else if(!U.seekable)throw new Ge(70);return Q=U.Ma.write(U,Q,ne,ue,we,void 0),De||(U.position+=Q),Q}function yn(U){var Q,ne=pt(U,ne||0);U=We(U).size;var ue=new Uint8Array(U);return zt(ne,ue,0,U,0),Q=ue,dn(ne),Q}function on(U,Q,ne){U=se("/dev/"+U);var ue=Rn(!!Q,!!ne);on.yb??(on.yb=64);var we=on.yb++<<8|0;rs(we,{open(De){De.seekable=!1},close(){ne?.buffer?.length&&ne(10)},read(De,ze,jt,xn){for(var gn=0,ss=0;ss<xn;ss++){try{var si=Q()}catch{throw new Ge(29)}if(si===void 0&&gn===0)throw new Ge(6);if(si==null)break;gn++,ze[jt+ss]=si}return gn&&(De.node.atime=Date.now()),gn},write(De,ze,jt,xn){for(var gn=0;gn<xn;gn++)try{ne(ze[jt+gn])}catch{throw new Ge(29)}return xn&&(De.node.mtime=De.node.ctime=Date.now()),gn}}),yu(U,ue,we)}var fn={};function gr(U,Q,ne){if(Q.charAt(0)==="/")return Q;if(U=U===-100?"/":Jr(U).path,Q.length==0){if(!ne)throw new Ge(44);return U}return U+"/"+Q}function vr(U,Q){K[U>>2]=Q.dev,K[U+4>>2]=Q.mode,q[U+8>>2]=Q.nlink,K[U+12>>2]=Q.uid,K[U+16>>2]=Q.gid,K[U+20>>2]=Q.rdev,P[U+24>>3]=BigInt(Q.size),K[U+32>>2]=4096,K[U+36>>2]=Q.blocks;var ne=Q.atime.getTime(),ue=Q.mtime.getTime(),we=Q.ctime.getTime();return P[U+40>>3]=BigInt(Math.floor(ne/1e3)),q[U+48>>2]=ne%1e3*1e6,P[U+56>>3]=BigInt(Math.floor(ue/1e3)),q[U+64>>2]=ue%1e3*1e6,P[U+72>>3]=BigInt(Math.floor(we/1e3)),q[U+80>>2]=we%1e3*1e6,P[U+88>>3]=BigInt(Q.ino),0}var ri=void 0,Ui=()=>{var U=K[+ri>>2];return ri+=4,U},Cl=0,$s=[0,31,60,91,121,152,182,213,244,274,305,335],Li=[0,31,59,90,120,151,181,212,243,273,304,334],ji={},Sl=U=>{O=U,Se||0<Cl||(c.onExit?.(U),N=!0),w(U,new pe(U))},vi=U=>{if(!N)try{if(U(),!(Se||0<Cl))try{O=U=O,Sl(U)}catch(Q){Q instanceof pe||Q=="unwind"||w(1,Q)}}catch(Q){Q instanceof pe||Q=="unwind"||w(1,Q)}},vo={},bu=()=>{if(!_l){var U={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"},Q;for(Q in vo)vo[Q]===void 0?delete U[Q]:U[Q]=vo[Q];var ne=[];for(Q in U)ne.push(`${Q}=${U[Q]}`);_l=ne}return _l},_l,fy=U=>{var Q=Ce(U)+1,ne=Ja(Q);return ye(U,k,ne,Q),ne},Ex=(U,Q,ne,ue)=>{var we={string:gn=>{var ss=0;return gn!=null&&gn!==0&&(ss=fy(gn)),ss},array:gn=>{var ss=Ja(gn.length);return D.set(gn,ss),ss}};U=c["_"+U];var De=[],ze=0;if(ue)for(var jt=0;jt<ue.length;jt++){var xn=we[ne[jt]];xn?(ze===0&&(ze=Rc()),De[jt]=xn(ue[jt])):De[jt]=ue[jt]}return ne=U(...De),ne=function(gn){return ze!==0&&ro(ze),Q==="string"?gn?J(k,gn):"":Q==="boolean"?!!gn:gn}(ne)},yh=0,jd=(U,Q)=>(Q=Q==1?Ja(U.length):F0(U.length),U.subarray||U.slice||(U=new Uint8Array(U)),k.set(U,Q),Q),wu,hy=[],xo,Ya=U=>{wu.delete(xo.get(U)),xo.set(U,null),hy.push(U)},vu=(U,Q)=>{if(!wu){wu=new WeakMap;var ne=xo.length;if(wu)for(var ue=0;ue<0+ne;ue++){var we=xo.get(ue);we&&wu.set(we,ue)}}if(ne=wu.get(U)||0)return ne;if(hy.length)ne=hy.pop();else{try{xo.grow(1)}catch(xn){throw xn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":xn}ne=xo.length-1}try{xo.set(ne,U)}catch(xn){if(!(xn instanceof TypeError))throw xn;if(typeof WebAssembly.Function=="function"){var De=WebAssembly.Function;ue={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},we={parameters:[],results:Q[0]=="v"?[]:[ue[Q[0]]]};for(var ze=1;ze<Q.length;++ze)we.parameters.push(ue[Q[ze]]);Q=new De(we,U)}else{ue=[1],we=Q.slice(0,1),Q=Q.slice(1),ze={i:127,p:127,j:126,f:125,d:124,e:111},ue.push(96);var jt=Q.length;128>jt?ue.push(jt):ue.push(jt%128|128,jt>>7);for(De of Q)ue.push(ze[De]);we=="v"?ue.push(0):ue.push(1,ze[we]),Q=[0,97,115,109,1,0,0,0,1],De=ue.length,128>De?Q.push(De):Q.push(De%128|128,De>>7),Q.push(...ue),Q.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),Q=new WebAssembly.Module(new Uint8Array(Q)),Q=new WebAssembly.Instance(Q,{e:{f:U}}).exports.f}xo.set(ne,Q)}return wu.set(U,ne),ne};Mi=Array(4096),mh(gt,"/"),Bs("/tmp"),Bs("/home"),Bs("/home/web_user"),function(){Bs("/dev"),rs(259,{read:()=>0,write:(ue,we,De,ze)=>ze,Va:()=>0}),yu("/dev/null",259),ke(1280,et),ke(1536,xt),yu("/dev/tty",1280),yu("/dev/tty1",1536);var U=new Uint8Array(1024),Q=0,ne=()=>(Q===0&&(ot(U),Q=U.byteLength),U[--Q]);on("random",ne),on("urandom",ne),Bs("/dev/shm"),Bs("/dev/shm/tmp")}(),function(){Bs("/proc");var U=Bs("/proc/self");Bs("/proc/self/fd"),mh({Xa(){var Q=sr(U,"fd",16895,73);return Q.Ma={Va:gt.Ma.Va},Q.La={lookup(ne,ue){ne=+ue;var we=Jr(ne);return ne={parent:null,Xa:{zb:"fake"},La:{readlink:()=>we.path},id:ne+1},ne.parent=ne},readdir(){return Array.from(ls.entries()).filter(([,ne])=>ne).map(([ne])=>ne.toString())}},Q}},"/proc/self/fd")}(),gt.vb=new Ge(44),gt.vb.stack="<generic error, no stack>";var Fd={a:(U,Q,ne,ue)=>$(`Assertion failed: ${U?J(k,U):""}, at: `+[Q?Q?J(k,Q):"":"unknown filename",ne,ue?ue?J(k,ue):"":"unknown function"]),i:function(U,Q){try{return U=U?J(k,U):"",Je(U,Q),0}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return-ne.Pa}},L:function(U,Q,ne){try{if(Q=Q?J(k,Q):"",Q=gr(U,Q),ne&-8)return-28;var ue=nr(Q,{$a:!0}).node;return ue?(U="",ne&4&&(U+="r"),ne&2&&(U+="w"),ne&1&&(U+="x"),U&&ni(ue,U)?-2:0):-44}catch(we){if(typeof fn>"u"||we.name!=="ErrnoError")throw we;return-we.Pa}},j:function(U,Q){try{var ne=Jr(U);return Ve(ne,ne.node,Q,!1),0}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},h:function(U){try{var Q=Jr(U);return Tc(Q,Q.node,{timestamp:Date.now(),Fb:!1}),0}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return-ne.Pa}},b:function(U,Q,ne){ri=ne;try{var ue=Jr(U);switch(Q){case 0:var we=Ui();if(0>we)break;for(;ls[we];)we++;return Qa(ue,we).fd;case 1:case 2:return 0;case 3:return ue.flags;case 4:return we=Ui(),ue.flags|=we,0;case 12:return we=Ui(),z[we+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(De){if(typeof fn>"u"||De.name!=="ErrnoError")throw De;return-De.Pa}},g:function(U,Q){try{var ne=Jr(U),ue=ne.node,we=ne.Ma.Ta;U=we?ne:ue,we??=ue.La.Ta,ra(we);var De=we(U);return vr(Q,De)}catch(ze){if(typeof fn>"u"||ze.name!=="ErrnoError")throw ze;return-ze.Pa}},H:function(U,Q){Q=-9007199254740992>Q||9007199254740992<Q?NaN:Number(Q);try{if(isNaN(Q))return 61;var ne=Jr(U);if(0>Q||(ne.flags&2097155)===0)throw new Ge(28);return it(ne,ne.node,Q),0}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},G:function(U,Q){try{if(Q===0)return-28;var ne=Ce("/")+1;return Q<ne?-68:(ye("/",k,U,Q),ne)}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},K:function(U,Q){try{return U=U?J(k,U):"",vr(Q,We(U,!0))}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return-ne.Pa}},C:function(U,Q,ne){try{return Q=Q?J(k,Q):"",Q=gr(U,Q),Bs(Q,ne),0}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},J:function(U,Q,ne,ue){try{Q=Q?J(k,Q):"";var we=ue&256;return Q=gr(U,Q,ue&4096),vr(ne,we?We(Q,!0):We(Q))}catch(De){if(typeof fn>"u"||De.name!=="ErrnoError")throw De;return-De.Pa}},x:function(U,Q,ne,ue){ri=ue;try{Q=Q?J(k,Q):"",Q=gr(U,Q);var we=ue?Ui():0;return pt(Q,ne,we).fd}catch(De){if(typeof fn>"u"||De.name!=="ErrnoError")throw De;return-De.Pa}},v:function(U,Q,ne,ue){try{if(Q=Q?J(k,Q):"",Q=gr(U,Q),0>=ue)return-28;var we=nr(Q).node;if(!we)throw new Ge(44);if(!we.La.readlink)throw new Ge(28);var De=we.La.readlink(we),ze=Math.min(ue,Ce(De)),jt=D[ne+ze];return ye(De,k,ne,ue+1),D[ne+ze]=jt,ze}catch(xn){if(typeof fn>"u"||xn.name!=="ErrnoError")throw xn;return-xn.Pa}},u:function(U){try{return U=U?J(k,U):"",Ue(U),0}catch(Q){if(typeof fn>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Pa}},f:function(U,Q){try{return U=U?J(k,U):"",vr(Q,We(U))}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return-ne.Pa}},r:function(U,Q,ne){try{return Q=Q?J(k,Q):"",Q=gr(U,Q),ne===0?He(Q):ne===512?Ue(Q):$("Invalid flags passed to unlinkat"),0}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},q:function(U,Q,ne){try{Q=Q?J(k,Q):"",Q=gr(U,Q,!0);var ue=Date.now(),we,De;if(ne){var ze=q[ne>>2]+4294967296*K[ne+4>>2],jt=K[ne+8>>2];jt==1073741823?we=ue:jt==1073741822?we=null:we=1e3*ze+jt/1e6,ne+=16,ze=q[ne>>2]+4294967296*K[ne+4>>2],jt=K[ne+8>>2],jt==1073741823?De=ue:jt==1073741822?De=null:De=1e3*ze+jt/1e6}else De=we=ue;if((De??we)!==null){U=we;var xn=nr(Q,{$a:!0}).node;ra(xn.La.Ua)(xn,{atime:U,mtime:De})}return 0}catch(gn){if(typeof fn>"u"||gn.name!=="ErrnoError")throw gn;return-gn.Pa}},m:()=>$(""),l:()=>{Se=!1,Cl=0},A:function(U,Q){U=-9007199254740992>U||9007199254740992<U?NaN:Number(U),U=new Date(1e3*U),K[Q>>2]=U.getSeconds(),K[Q+4>>2]=U.getMinutes(),K[Q+8>>2]=U.getHours(),K[Q+12>>2]=U.getDate(),K[Q+16>>2]=U.getMonth(),K[Q+20>>2]=U.getFullYear()-1900,K[Q+24>>2]=U.getDay();var ne=U.getFullYear();K[Q+28>>2]=(ne%4!==0||ne%100===0&&ne%400!==0?Li:$s)[U.getMonth()]+U.getDate()-1|0,K[Q+36>>2]=-(60*U.getTimezoneOffset()),ne=new Date(U.getFullYear(),6,1).getTimezoneOffset();var ue=new Date(U.getFullYear(),0,1).getTimezoneOffset();K[Q+32>>2]=(ne!=ue&&U.getTimezoneOffset()==Math.min(ue,ne))|0},y:function(U,Q,ne,ue,we,De,ze){we=-9007199254740992>we||9007199254740992<we?NaN:Number(we);try{if(isNaN(we))return 61;var jt=Jr(ue);if((Q&2)!==0&&(ne&2)===0&&(jt.flags&2097155)!==2)throw new Ge(2);if((jt.flags&2097155)===1)throw new Ge(2);if(!jt.Ma.ib)throw new Ge(43);if(!U)throw new Ge(28);var xn=jt.Ma.ib(jt,U,we,Q,ne),gn=xn.Kb;return K[De>>2]=xn.Ab,q[ze>>2]=gn,0}catch(ss){if(typeof fn>"u"||ss.name!=="ErrnoError")throw ss;return-ss.Pa}},z:function(U,Q,ne,ue,we,De){De=-9007199254740992>De||9007199254740992<De?NaN:Number(De);try{var ze=Jr(we);if(ne&2){if(ne=De,(ze.node.mode&61440)!==32768)throw new Ge(43);if(!(ue&2)){var jt=k.slice(U,U+Q);ze.Ma.jb&&ze.Ma.jb(ze,jt,ne,Q,ue)}}}catch(xn){if(typeof fn>"u"||xn.name!=="ErrnoError")throw xn;return-xn.Pa}},n:(U,Q)=>{if(ji[U]&&(clearTimeout(ji[U].id),delete ji[U]),!Q)return 0;var ne=setTimeout(()=>{delete ji[U],vi(()=>Hd(U,performance.now()))},Q);return ji[U]={id:ne,Xb:Q},0},B:(U,Q,ne,ue)=>{var we=new Date().getFullYear(),De=new Date(we,0,1).getTimezoneOffset();we=new Date(we,6,1).getTimezoneOffset(),q[U>>2]=60*Math.max(De,we),K[Q>>2]=+(De!=we),Q=ze=>{var jt=Math.abs(ze);return`UTC${0<=ze?"-":"+"}${String(Math.floor(jt/60)).padStart(2,"0")}${String(jt%60).padStart(2,"0")}`},U=Q(De),Q=Q(we),we<De?(ye(U,k,ne,17),ye(Q,k,ue,17)):(ye(U,k,ue,17),ye(Q,k,ne,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:U=>{var Q=k.length;if(U>>>=0,2147483648<U)return!1;for(var ne=1;4>=ne;ne*=2){var ue=Q*(1+.2/ne);ue=Math.min(ue,U+100663296);e:{ue=(Math.min(2147483648,65536*Math.ceil(Math.max(U,ue)/65536))-_.buffer.byteLength+65535)/65536|0;try{_.grow(ue),G();var we=1;break e}catch{}we=void 0}if(we)return!0}return!1},E:(U,Q)=>{var ne=0;return bu().forEach((ue,we)=>{var De=Q+ne;for(we=q[U+4*we>>2]=De,De=0;De<ue.length;++De)D[we++]=ue.charCodeAt(De);D[we]=0,ne+=ue.length+1}),0},F:(U,Q)=>{var ne=bu();q[U>>2]=ne.length;var ue=0;return ne.forEach(we=>ue+=we.length+1),q[Q>>2]=ue,0},e:function(U){try{var Q=Jr(U);return dn(Q),0}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return ne.Pa}},p:function(U,Q){try{var ne=Jr(U);return D[Q]=ne.tty?2:qn(ne.mode)?3:(ne.mode&61440)===40960?7:4,z[Q+2>>1]=0,P[Q+8>>3]=BigInt(0),P[Q+16>>3]=BigInt(0),0}catch(ue){if(typeof fn>"u"||ue.name!=="ErrnoError")throw ue;return ue.Pa}},w:function(U,Q,ne,ue){try{e:{var we=Jr(U);U=Q;for(var De,ze=Q=0;ze<ne;ze++){var jt=q[U>>2],xn=q[U+4>>2];U+=8;var gn=zt(we,D,jt,xn,De);if(0>gn){var ss=-1;break e}if(Q+=gn,gn<xn)break;typeof De<"u"&&(De+=gn)}ss=Q}return q[ue>>2]=ss,0}catch(si){if(typeof fn>"u"||si.name!=="ErrnoError")throw si;return si.Pa}},D:function(U,Q,ne,ue){Q=-9007199254740992>Q||9007199254740992<Q?NaN:Number(Q);try{if(isNaN(Q))return 61;var we=Jr(U);return Jn(we,Q,ne),P[ue>>3]=BigInt(we.position),we.ob&&Q===0&&ne===0&&(we.ob=null),0}catch(De){if(typeof fn>"u"||De.name!=="ErrnoError")throw De;return De.Pa}},I:function(U){try{var Q=Jr(U);return Q.Ma?.fsync?Q.Ma.fsync(Q):0}catch(ne){if(typeof fn>"u"||ne.name!=="ErrnoError")throw ne;return ne.Pa}},t:function(U,Q,ne,ue){try{e:{var we=Jr(U);U=Q;for(var De,ze=Q=0;ze<ne;ze++){var jt=q[U>>2],xn=q[U+4>>2];U+=8;var gn=vn(we,D,jt,xn,De);if(0>gn){var ss=-1;break e}if(Q+=gn,gn<xn)break;typeof De<"u"&&(De+=gn)}ss=Q}return q[ue>>2]=ss,0}catch(si){if(typeof fn>"u"||si.name!=="ErrnoError")throw si;return si.Pa}},k:Sl},Lt;(async function(){function U(ne){return Lt=ne.exports,_=Lt.M,G(),xo=Lt.O,F--,c.monitorRunDependencies?.(F),F==0&&H&&(ne=H,H=null,ne()),Lt}F++,c.monitorRunDependencies?.(F);var Q={a:Fd};return c.instantiateWasm?new Promise(ne=>{c.instantiateWasm(Q,(ue,we)=>{U(ue),ne(ue.exports)})}):(Z??=c.locateFile?c.locateFile("sql-wasm.wasm",m):m+"sql-wasm.wasm",U((await de(Q)).instance))})(),c._sqlite3_free=U=>(c._sqlite3_free=Lt.P)(U),c._sqlite3_value_text=U=>(c._sqlite3_value_text=Lt.Q)(U),c._sqlite3_prepare_v2=(U,Q,ne,ue,we)=>(c._sqlite3_prepare_v2=Lt.R)(U,Q,ne,ue,we),c._sqlite3_step=U=>(c._sqlite3_step=Lt.S)(U),c._sqlite3_reset=U=>(c._sqlite3_reset=Lt.T)(U),c._sqlite3_exec=(U,Q,ne,ue,we)=>(c._sqlite3_exec=Lt.U)(U,Q,ne,ue,we),c._sqlite3_finalize=U=>(c._sqlite3_finalize=Lt.V)(U),c._sqlite3_column_name=(U,Q)=>(c._sqlite3_column_name=Lt.W)(U,Q),c._sqlite3_column_text=(U,Q)=>(c._sqlite3_column_text=Lt.X)(U,Q),c._sqlite3_column_type=(U,Q)=>(c._sqlite3_column_type=Lt.Y)(U,Q),c._sqlite3_errmsg=U=>(c._sqlite3_errmsg=Lt.Z)(U),c._sqlite3_clear_bindings=U=>(c._sqlite3_clear_bindings=Lt._)(U),c._sqlite3_value_blob=U=>(c._sqlite3_value_blob=Lt.$)(U),c._sqlite3_value_bytes=U=>(c._sqlite3_value_bytes=Lt.aa)(U),c._sqlite3_value_double=U=>(c._sqlite3_value_double=Lt.ba)(U),c._sqlite3_value_int=U=>(c._sqlite3_value_int=Lt.ca)(U),c._sqlite3_value_type=U=>(c._sqlite3_value_type=Lt.da)(U),c._sqlite3_result_blob=(U,Q,ne,ue)=>(c._sqlite3_result_blob=Lt.ea)(U,Q,ne,ue),c._sqlite3_result_double=(U,Q)=>(c._sqlite3_result_double=Lt.fa)(U,Q),c._sqlite3_result_error=(U,Q,ne)=>(c._sqlite3_result_error=Lt.ga)(U,Q,ne),c._sqlite3_result_int=(U,Q)=>(c._sqlite3_result_int=Lt.ha)(U,Q),c._sqlite3_result_int64=(U,Q)=>(c._sqlite3_result_int64=Lt.ia)(U,Q),c._sqlite3_result_null=U=>(c._sqlite3_result_null=Lt.ja)(U),c._sqlite3_result_text=(U,Q,ne,ue)=>(c._sqlite3_result_text=Lt.ka)(U,Q,ne,ue),c._sqlite3_aggregate_context=(U,Q)=>(c._sqlite3_aggregate_context=Lt.la)(U,Q),c._sqlite3_column_count=U=>(c._sqlite3_column_count=Lt.ma)(U),c._sqlite3_data_count=U=>(c._sqlite3_data_count=Lt.na)(U),c._sqlite3_column_blob=(U,Q)=>(c._sqlite3_column_blob=Lt.oa)(U,Q),c._sqlite3_column_bytes=(U,Q)=>(c._sqlite3_column_bytes=Lt.pa)(U,Q),c._sqlite3_column_double=(U,Q)=>(c._sqlite3_column_double=Lt.qa)(U,Q),c._sqlite3_bind_blob=(U,Q,ne,ue,we)=>(c._sqlite3_bind_blob=Lt.ra)(U,Q,ne,ue,we),c._sqlite3_bind_double=(U,Q,ne)=>(c._sqlite3_bind_double=Lt.sa)(U,Q,ne),c._sqlite3_bind_int=(U,Q,ne)=>(c._sqlite3_bind_int=Lt.ta)(U,Q,ne),c._sqlite3_bind_text=(U,Q,ne,ue,we)=>(c._sqlite3_bind_text=Lt.ua)(U,Q,ne,ue,we),c._sqlite3_bind_parameter_index=(U,Q)=>(c._sqlite3_bind_parameter_index=Lt.va)(U,Q),c._sqlite3_sql=U=>(c._sqlite3_sql=Lt.wa)(U),c._sqlite3_normalized_sql=U=>(c._sqlite3_normalized_sql=Lt.xa)(U),c._sqlite3_changes=U=>(c._sqlite3_changes=Lt.ya)(U),c._sqlite3_close_v2=U=>(c._sqlite3_close_v2=Lt.za)(U),c._sqlite3_create_function_v2=(U,Q,ne,ue,we,De,ze,jt,xn)=>(c._sqlite3_create_function_v2=Lt.Aa)(U,Q,ne,ue,we,De,ze,jt,xn),c._sqlite3_update_hook=(U,Q,ne)=>(c._sqlite3_update_hook=Lt.Ba)(U,Q,ne),c._sqlite3_open=(U,Q)=>(c._sqlite3_open=Lt.Ca)(U,Q);var F0=c._malloc=U=>(F0=c._malloc=Lt.Da)(U),$d=c._free=U=>($d=c._free=Lt.Ea)(U);c._RegisterExtensionFunctions=U=>(c._RegisterExtensionFunctions=Lt.Fa)(U);var py=(U,Q)=>(py=Lt.Ga)(U,Q),Hd=(U,Q)=>(Hd=Lt.Ha)(U,Q),ro=U=>(ro=Lt.Ia)(U),Ja=U=>(Ja=Lt.Ja)(U),Rc=()=>(Rc=Lt.Ka)();c.stackSave=()=>Rc(),c.stackRestore=U=>ro(U),c.stackAlloc=U=>Ja(U),c.cwrap=(U,Q,ne,ue)=>{var we=!ne||ne.every(De=>De==="number"||De==="boolean");return Q!=="string"&&we&&!ue?c["_"+U]:(...De)=>Ex(U,Q,ne,De)},c.addFunction=vu,c.removeFunction=Ya,c.UTF8ToString=V,c.ALLOC_NORMAL=yh,c.allocate=jd,c.allocateUTF8OnStack=fy;function Za(){function U(){if(c.calledRun=!0,!N){if(!c.noFSInit&&!Ka){var Q,ne;Ka=!0,ue??=c.stdin,Q??=c.stdout,ne??=c.stderr,ue?on("stdin",ue):Ee("/dev/tty","/dev/stdin"),Q?on("stdout",null,Q):Ee("/dev/tty","/dev/stdout"),ne?on("stderr",null,ne):Ee("/dev/tty1","/dev/stderr"),pt("/dev/stdin",0),pt("/dev/stdout",1),pt("/dev/stderr",1)}if(Lt.N(),na=!1,c.onRuntimeInitialized?.(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var ue=c.postRun.shift();ce.unshift(ue)}ae(ce)}}if(0<F)H=Za;else{if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)ve();ae(fe),0<F?H=Za:c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),U()},1)):U()}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Za(),a}),n)};t.exports=r,t.exports.default=r}(KR)),KR.exports}var QLe=WLe();const YLe=$m(QLe),rt=Symbol.for("drizzle:entityKind");function nt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,rt))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(rt in n&&n[rt]===e[rt])return!0;n=Object.getPrototypeOf(n)}return!1}class JLe{static[rt]="ConsoleLogWriter";write(e){console.log(e)}}class ZLe{static[rt]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new JLe}logQuery(e,n){const r=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),s=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${s}`)}}class XLe{static[rt]="NoopLogger";logQuery(){}}const Qf=Symbol.for("drizzle:Name"),o2=Symbol.for("drizzle:Schema"),fI=Symbol.for("drizzle:Columns"),gH=Symbol.for("drizzle:ExtraConfigColumns"),WR=Symbol.for("drizzle:OriginalName"),QR=Symbol.for("drizzle:BaseName"),fC=Symbol.for("drizzle:IsAlias"),mH=Symbol.for("drizzle:ExtraConfigBuilder"),eje=Symbol.for("drizzle:IsDrizzleTable");class Ct{static[rt]="Table";static Symbol={Name:Qf,Schema:o2,OriginalName:WR,Columns:fI,ExtraConfigColumns:gH,BaseName:QR,IsAlias:fC,ExtraConfigBuilder:mH};[Qf];[WR];[o2];[fI];[gH];[QR];[fC]=!1;[eje]=!0;[mH]=void 0;constructor(e,n,r){this[Qf]=this[WR]=e,this[o2]=n,this[QR]=r}}function tm(t){return t[Qf]}function Tv(t){return`${t[o2]??"public"}.${t[Qf]}`}class Js{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[rt]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class tje{static[rt]="ColumnBuilder";config;constructor(e,n,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const yH=Symbol.for("drizzle:isPgEnum");function nje(t){return!!t&&typeof t=="function"&&yH in t&&t[yH]===!0}class vc{static[rt]="Subquery";constructor(e,n,r,s=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s,usedTables:i}}}class bee extends vc{static[rt]="WithSubquery"}const rje={startActiveSpan(t,e){return e()}},Ji=Symbol.for("drizzle:ViewBaseConfig");function wee(t){return t!=null&&typeof t.getSQL=="function"}function sje(t){const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}class Ri{static[rt]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e;for(const n of e)if(nt(n,Ct)){const r=n[Ct.Symbol.Schema];this.usedTables.push(r===void 0?n[Ct.Symbol.Name]:r+"."+n[Ct.Symbol.Name])}}static[rt]="SQL";decoder=vee;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return rje.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:c}=r;return sje(e.map(d=>{if(nt(d,Ri))return{sql:d.value.join(""),params:[]};if(nt(d,hI))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const f=[new Ri("(")];for(const[p,g]of d.entries())f.push(g),p<d.length-1&&f.push(new Ri(", "));return f.push(new Ri(")")),this.buildQueryFromSourceParams(f,r)}if(nt(d,Vt))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(nt(d,Ct)){const f=d[Ct.Symbol.Schema],p=d[Ct.Symbol.Name];return{sql:f===void 0||d[fC]?i(p):i(f)+"."+i(p),params:[]}}if(nt(d,Js)){const f=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(f),params:[]};const p=d.table[Ct.Symbol.Schema];return{sql:d.table[fC]||p===void 0?i(d.table[Ct.Symbol.Name])+"."+i(f):i(p)+"."+i(d.table[Ct.Symbol.Name])+"."+i(f),params:[]}}if(nt(d,uy)){const f=d[Ji].schema,p=d[Ji].name;return{sql:f===void 0||d[Ji].isAlias?i(p):i(f)+"."+i(p),params:[]}}if(nt(d,ch)){if(nt(d.value,Fm))return{sql:o(c.value++,d),params:[d],typings:["none"]};const f=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(nt(f,Vt))return this.buildQueryFromSourceParams([f],r);if(l)return{sql:this.mapInlineParam(f,r),params:[]};let p=["none"];return a&&(p=[a(d.encoder)]),{sql:o(c.value++,f),params:[f],typings:p}}return nt(d,Fm)?{sql:o(c.value++,d),params:[d],typings:["none"]}:nt(d,Vt.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:nt(d,vc)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ri("("),d._.sql,new Ri(") "),new hI(d._.alias)],r):nje(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:wee(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Ri("("),d.getSQL(),new Ri(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class hI{constructor(e){this.value=e}static[rt]="Name";brand;getSQL(){return new Vt([this])}}function ije(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const vee={mapFromDriverValue:t=>t},xee={mapToDriverValue:t=>t};({...vee,...xee});class ch{constructor(e,n=xee){this.value=e,this.encoder=n}static[rt]="Param";brand;getSQL(){return new Vt([this])}}function Pe(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Ri(t[0]));for(const[r,s]of e.entries())n.push(s,new Ri(t[r+1]));return new Vt(n)}(t=>{function e(){return new Vt([])}t.empty=e;function n(l){return new Vt(l)}t.fromList=n;function r(l){return new Vt([new Ri(l)])}t.raw=r;function s(l,c){const d=[];for(const[f,p]of l.entries())f>0&&c!==void 0&&d.push(c),d.push(p);return new Vt(d)}t.join=s;function i(l){return new hI(l)}t.identifier=i;function o(l){return new Fm(l)}t.placeholder=o;function a(l,c){return new ch(l,c)}t.param=a})(Pe||(Pe={}));(t=>{class e{constructor(r,s){this.sql=r,this.fieldAlias=s}static[rt]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class Fm{constructor(e){this.name=e}static[rt]="Placeholder";getSQL(){return new Vt([this])}}function OA(t,e){return t.map(n=>{if(nt(n,Fm)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(nt(n,ch)&&nt(n.value,Fm)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}const oje=Symbol.for("drizzle:IsDrizzleView");class uy{static[rt]="View";[Ji];[oje]=!0;constructor({name:e,schema:n,selectedFields:r,query:s}){this[Ji]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Vt([this])}}Js.prototype.getSQL=function(){return new Vt([this])};Ct.prototype.getSQL=function(){return new Vt([this])};vc.prototype.getSQL=function(){return new Vt([this])};function bH(t,e,n){const r={},s=t.reduce((i,{path:o,field:a},l)=>{let c;nt(a,Js)?c=a:nt(a,Vt)?c=a.decoder:c=a.sql.decoder;let d=i;for(const[f,p]of o.entries())if(f<o.length-1)p in d||(d[p]={}),d=d[p];else{const g=e[l],b=d[p]=g===null?null:c.mapFromDriverValue(g);if(n&&nt(a,Js)&&o.length===2){const w=o[0];w in r?typeof r[w]=="string"&&r[w]!==tm(a.table)&&(r[w]=!1):r[w]=b===null?tm(a.table):!1}}return i},{});if(n&&Object.keys(r).length>0)for(const[i,o]of Object.entries(r))typeof o=="string"&&!n[o]&&(s[i]=null);return s}function x0(t,e){return Object.entries(t).reduce((n,[r,s])=>{if(typeof r!="string")return n;const i=e?[...e,r]:[r];return nt(s,Js)||nt(s,Vt)||nt(s,Vt.Aliased)?n.push({path:i,field:s}):nt(s,Ct)?n.push(...x0(s[Ct.Symbol.Columns],i)):n.push(...x0(s,i)),n},[])}function Yk(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const[s,i]of n.entries())if(i!==r[s])return!1;return!0}function Eee(t,e){const n=Object.entries(e).filter(([,r])=>r!==void 0).map(([r,s])=>nt(s,Vt)||nt(s,Js)?[r,s]:[r,new ch(s,t[Ct.Symbol.Columns][r])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function aje(t,e){for(const n of e)for(const r of Object.getOwnPropertyNames(n.prototype))r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))}function cje(t){return t[Ct.Symbol.Columns]}function pI(t){return nt(t,vc)?t._.alias:nt(t,uy)?t[Ji].name:nt(t,Vt)?void 0:t[Ct.Symbol.IsAlias]?t[Ct.Symbol.Name]:t[Ct.Symbol.BaseName]}function xx(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}const wH=Symbol.for("drizzle:PgInlineForeignKeys"),vH=Symbol.for("drizzle:EnableRLS");class lje extends Ct{static[rt]="PgTable";static Symbol=Object.assign({},Ct.Symbol,{InlineForeignKeys:wH,EnableRLS:vH});[wH]=[];[vH]=!1;[Ct.Symbol.ExtraConfigBuilder]=void 0;[Ct.Symbol.ExtraConfigColumns]={}}let uje=class{static[rt]="PgPrimaryKeyBuilder";columns;name;constructor(e,n){this.columns=e,this.name=n}build(e){return new dje(e,this.columns,this.name)}},dje=class{constructor(e,n,r){this.table=e,this.columns=n,this.name=r}static[rt]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[lje.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}};function Jo(t,e){return ije(e)&&!wee(t)&&!nt(t,ch)&&!nt(t,Fm)&&!nt(t,Js)&&!nt(t,Ct)&&!nt(t,uy)?new ch(t,e):t}const Aee=(t,e)=>Pe`${t} = ${Jo(e,t)}`,fje=(t,e)=>Pe`${t} <> ${Jo(e,t)}`;function gI(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new Vt(e):new Vt([new Ri("("),Pe.join(e,new Ri(" and ")),new Ri(")")])}function hje(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new Vt(e):new Vt([new Ri("("),Pe.join(e,new Ri(" or ")),new Ri(")")])}function pje(t){return Pe`not ${t}`}const gje=(t,e)=>Pe`${t} > ${Jo(e,t)}`,mje=(t,e)=>Pe`${t} >= ${Jo(e,t)}`,yje=(t,e)=>Pe`${t} < ${Jo(e,t)}`,bje=(t,e)=>Pe`${t} <= ${Jo(e,t)}`;function wje(t,e){return Array.isArray(e)?e.length===0?Pe`false`:Pe`${t} in ${e.map(n=>Jo(n,t))}`:Pe`${t} in ${Jo(e,t)}`}function vje(t,e){return Array.isArray(e)?e.length===0?Pe`true`:Pe`${t} not in ${e.map(n=>Jo(n,t))}`:Pe`${t} not in ${Jo(e,t)}`}function xje(t){return Pe`${t} is null`}function Eje(t){return Pe`${t} is not null`}function Aje(t){return Pe`exists ${t}`}function Cje(t){return Pe`not exists ${t}`}function Sje(t,e,n){return Pe`${t} between ${Jo(e,t)} and ${Jo(n,t)}`}function _je(t,e,n){return Pe`${t} not between ${Jo(e,t)} and ${Jo(n,t)}`}function Nje(t,e){return Pe`${t} like ${e}`}function Tje(t,e){return Pe`${t} not like ${e}`}function Rje(t,e){return Pe`${t} ilike ${e}`}function Pje(t,e){return Pe`${t} not ilike ${e}`}function Oje(t){return Pe`${t} asc`}function Ije(t){return Pe`${t} desc`}class Cee{constructor(e,n,r){this.sourceTable=e,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[Ct.Symbol.Name]}static[rt]="Relation";referencedTableName;fieldName}class kje{constructor(e,n){this.table=e,this.config=n}static[rt]="Relations"}class E0 extends Cee{constructor(e,n,r,s){super(e,n,r?.relationName),this.config=r,this.isNullable=s}static[rt]="One";withFieldName(e){const n=new E0(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}}class FS extends Cee{constructor(e,n,r){super(e,n,r?.relationName),this.config=r}static[rt]="Many";withFieldName(e){const n=new FS(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}}function Bje(){return{and:gI,between:Sje,eq:Aee,exists:Aje,gt:gje,gte:mje,ilike:Rje,inArray:wje,isNull:xje,isNotNull:Eje,like:Nje,lt:yje,lte:bje,ne:fje,not:pje,notBetween:_je,notExists:Cje,notLike:Tje,notIlike:Pje,notInArray:vje,or:hje,sql:Pe}}function Dje(){return{sql:Pe,asc:Oje,desc:Ije}}function Mje(t,e){Object.keys(t).length===1&&"default"in t&&!nt(t.default,Ct)&&(t=t.default);const n={},r={},s={};for(const[i,o]of Object.entries(t))if(nt(o,Ct)){const a=Tv(o),l=r[a];n[a]=i,s[i]={tsName:i,dbName:o[Ct.Symbol.Name],schema:o[Ct.Symbol.Schema],columns:o[Ct.Symbol.Columns],relations:l?.relations??{},primaryKey:l?.primaryKey??[]};for(const d of Object.values(o[Ct.Symbol.Columns]))d.primary&&s[i].primaryKey.push(d);const c=o[Ct.Symbol.ExtraConfigBuilder]?.(o[Ct.Symbol.ExtraConfigColumns]);if(c)for(const d of Object.values(c))nt(d,uje)&&s[i].primaryKey.push(...d.columns)}else if(nt(o,kje)){const a=Tv(o.table),l=n[a],c=o.config(e(o.table));let d;for(const[f,p]of Object.entries(c))if(l){const g=s[l];g.relations[f]=p}else a in r||(r[a]={relations:{},primaryKey:d}),r[a].relations[f]=p}return{tables:s,tableNamesMap:n}}function Uje(t){return function(n,r){return new E0(t,n,r,r?.fields.reduce((s,i)=>s&&i.notNull,!0)??!1)}}function Lje(t){return function(n,r){return new FS(t,n,r)}}function jje(t,e,n){if(nt(n,E0)&&n.config)return{fields:n.config.fields,references:n.config.references};const r=e[Tv(n.referencedTable)];if(!r)throw new Error(`Table "${n.referencedTable[Ct.Symbol.Name]}" not found in schema`);const s=t[r];if(!s)throw new Error(`Table "${r}" not found in schema`);const i=n.sourceTable,o=e[Tv(i)];if(!o)throw new Error(`Table "${i[Ct.Symbol.Name]}" not found in schema`);const a=[];for(const l of Object.values(s.relations))(n.relationName&&n!==l&&l.relationName===n.relationName||!n.relationName&&l.referencedTable===n.sourceTable)&&a.push(l);if(a.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${r}"`):new Error(`There are multiple relations between "${r}" and "${n.sourceTable[Ct.Symbol.Name]}". Please specify relation name`);if(a[0]&&nt(a[0],E0)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${o}.${n.fieldName}"`)}function Fje(t){return{one:Uje(t),many:Lje(t)}}function mI(t,e,n,r,s=i=>i){const i={};for(const[o,a]of r.entries())if(a.isJson){const l=e.relations[a.tsKey],c=n[o],d=typeof c=="string"?JSON.parse(c):c;i[a.tsKey]=nt(l,E0)?d&&mI(t,t[a.relationTableTsKey],d,a.selection,s):d.map(f=>mI(t,t[a.relationTableTsKey],f,a.selection,s))}else{const l=s(n[o]),c=a.field;let d;nt(c,Js)?d=c:nt(c,Vt)?d=c.decoder:d=c.sql.decoder,i[a.tsKey]=l===null?null:d.mapFromDriverValue(l)}return i}class hC{constructor(e){this.table=e}static[rt]="ColumnAliasProxyHandler";get(e,n){return n==="table"?this.table:e[n]}}class Jk{constructor(e,n){this.alias=e,this.replaceOriginalName=n}static[rt]="TableAliasProxyHandler";get(e,n){if(n===Ct.Symbol.IsAlias)return!0;if(n===Ct.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===Ct.Symbol.OriginalName)return this.alias;if(n===Ji)return{...e[Ji],name:this.alias,isAlias:!0};if(n===Ct.Symbol.Columns){const s=e[Ct.Symbol.Columns];if(!s)return s;const i={};return Object.keys(s).map(o=>{i[o]=new Proxy(s[o],new hC(new Proxy(e,this)))}),i}const r=e[n];return nt(r,Js)?new Proxy(r,new hC(new Proxy(e,this))):r}}function YR(t,e){return new Proxy(t,new Jk(e,!1))}function id(t,e){return new Proxy(t,new hC(new Proxy(t.table,new Jk(e,!1))))}function See(t,e){return new Vt.Aliased(pC(t.sql,e),t.fieldAlias)}function pC(t,e){return Pe.join(t.queryChunks.map(n=>nt(n,Js)?id(n,e):nt(n,Vt)?pC(n,e):nt(n,Vt.Aliased)?See(n,e):n))}class lo{static[rt]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===Ji)return{...e[Ji],selectedFields:new Proxy(e[Ji].selectedFields,this)};if(typeof n=="symbol")return e[n];const s=(nt(e,vc)?e._.selectedFields:nt(e,uy)?e[Ji].selectedFields:e)[n];if(nt(s,Vt.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!s.isSelectionField)return s.sql;const i=s.clone();return i.isSelectionField=!0,i}if(nt(s,Vt)){if(this.config.sqlBehavior==="sql")return s;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return nt(s,Js)?this.config.alias?new Proxy(s,new hC(new Proxy(s.table,new Jk(this.config.alias,this.config.replaceOriginalName??!1)))):s:typeof s!="object"||s===null?s:new Proxy(s,new lo(this.config))}}class j0{static[rt]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}then(e,n){return this.execute().then(e,n)}}class $je{static[rt]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,n){this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new Hje(e,this)}}class Hje{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[rt]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[Qf],...s,r[0].table[Qf],...i];return e??`${o.join("_")}_fk`}}function zje(t,e){return`${t[Qf]}_${e.join("_")}_unique`}class vl extends tje{static[rt]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,n){return this.config.generated={as:e,type:"always",mode:n?.mode??"virtual"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:r,actions:s})=>((i,o)=>{const a=new $je(()=>{const l=i();return{columns:[e],foreignColumns:[l]}});return o.onUpdate&&a.onUpdate(o.onUpdate),o.onDelete&&a.onDelete(o.onDelete),a.build(n)})(r,s))}}class Qo extends Js{constructor(e,n){n.uniqueName||(n.uniqueName=zje(e,[n.name])),super(e,n),this.table=e}static[rt]="SQLiteColumn"}class qje extends vl{static[rt]="SQLiteBigIntBuilder";constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new Vje(e,this.config)}}class Vje extends Qo{static[rt]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(e){if(Buffer.isBuffer(e))return BigInt(e.toString());if(e instanceof ArrayBuffer){const n=new TextDecoder;return BigInt(n.decode(e))}return BigInt(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(e.toString())}}class Gje extends vl{static[rt]="SQLiteBlobJsonBuilder";constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new Kje(e,this.config)}}class Kje extends Qo{static[rt]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(e){if(Buffer.isBuffer(e))return JSON.parse(e.toString());if(e instanceof ArrayBuffer){const n=new TextDecoder;return JSON.parse(n.decode(e))}return JSON.parse(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}class Wje extends vl{static[rt]="SQLiteBlobBufferBuilder";constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new Qje(e,this.config)}}class Qje extends Qo{static[rt]="SQLiteBlobBuffer";mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}function Yje(t,e){const{name:n,config:r}=xx(t,e);return r?.mode==="json"?new Gje(n):r?.mode==="bigint"?new qje(n):new Wje(n)}class Jje extends vl{static[rt]="SQLiteCustomColumnBuilder";constructor(e,n,r){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new Zje(e,this.config)}}class Zje extends Qo{static[rt]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function Xje(t){return(e,n)=>{const{name:r,config:s}=xx(e,n);return new Jje(r,s,t)}}class Zk extends vl{static[rt]="SQLiteBaseIntegerBuilder";constructor(e,n,r){super(e,n,r),this.config.autoIncrement=!1}primaryKey(e){return e?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class Xk extends Qo{static[rt]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class e9e extends Zk{static[rt]="SQLiteIntegerBuilder";constructor(e){super(e,"number","SQLiteInteger")}build(e){return new t9e(e,this.config)}}class t9e extends Xk{static[rt]="SQLiteInteger"}class n9e extends Zk{static[rt]="SQLiteTimestampBuilder";constructor(e,n){super(e,"date","SQLiteTimestamp"),this.config.mode=n}defaultNow(){return this.default(Pe`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new r9e(e,this.config)}}class r9e extends Xk{static[rt]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(e){return this.config.mode==="timestamp"?new Date(e*1e3):new Date(e)}mapToDriverValue(e){const n=e.getTime();return this.config.mode==="timestamp"?Math.floor(n/1e3):n}}class s9e extends Zk{static[rt]="SQLiteBooleanBuilder";constructor(e,n){super(e,"boolean","SQLiteBoolean"),this.config.mode=n}build(e){return new i9e(e,this.config)}}class i9e extends Xk{static[rt]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(e){return Number(e)===1}mapToDriverValue(e){return e?1:0}}function Zs(t,e){const{name:n,config:r}=xx(t,e);return r?.mode==="timestamp"||r?.mode==="timestamp_ms"?new n9e(n,r.mode):r?.mode==="boolean"?new s9e(n,r.mode):new e9e(n)}class o9e extends vl{static[rt]="SQLiteNumericBuilder";constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new a9e(e,this.config)}}class a9e extends Qo{static[rt]="SQLiteNumeric";mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return"numeric"}}class c9e extends vl{static[rt]="SQLiteNumericNumberBuilder";constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new l9e(e,this.config)}}class l9e extends Qo{static[rt]="SQLiteNumericNumber";mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return"numeric"}}class u9e extends vl{static[rt]="SQLiteNumericBigIntBuilder";constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new d9e(e,this.config)}}class d9e extends Qo{static[rt]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function f9e(t,e){const{name:n,config:r}=xx(t,e),s=r?.mode;return s==="number"?new c9e(n):s==="bigint"?new u9e(n):new o9e(n)}class h9e extends vl{static[rt]="SQLiteRealBuilder";constructor(e){super(e,"number","SQLiteReal")}build(e){return new p9e(e,this.config)}}class p9e extends Qo{static[rt]="SQLiteReal";getSQLType(){return"real"}}function dy(t){return new h9e(t??"")}class g9e extends vl{static[rt]="SQLiteTextBuilder";constructor(e,n){super(e,"string","SQLiteText"),this.config.enumValues=n.enum,this.config.length=n.length}build(e){return new m9e(e,this.config)}}class m9e extends Qo{static[rt]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(e,n){super(e,n)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class y9e extends vl{static[rt]="SQLiteTextJsonBuilder";constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new b9e(e,this.config)}}class b9e extends Qo{static[rt]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}function cn(t,e={}){const{name:n,config:r}=xx(t,e);return r.mode==="json"?new y9e(n):new g9e(n,r)}function w9e(){return{blob:Yje,customType:Xje,integer:Zs,numeric:f9e,real:dy,text:cn}}const yI=Symbol.for("drizzle:SQLiteInlineForeignKeys");class Pa extends Ct{static[rt]="SQLiteTable";static Symbol=Object.assign({},Ct.Symbol,{InlineForeignKeys:yI});[Ct.Symbol.Columns];[yI]=[];[Ct.Symbol.ExtraConfigBuilder]=void 0}function v9e(t,e,n,r,s=t){const i=new Pa(t,r,s),o=typeof e=="function"?e(w9e()):e,a=Object.fromEntries(Object.entries(o).map(([c,d])=>{const f=d;f.setName(c);const p=f.build(i);return i[yI].push(...f.buildForeignKeys(p,i)),[c,p]})),l=Object.assign(i,a);return l[Ct.Symbol.Columns]=a,l[Ct.Symbol.ExtraConfigColumns]=a,n&&(l[Pa.Symbol.ExtraConfigBuilder]=n),l}const gu=(t,e,n)=>v9e(t,e,n);class _ee{constructor(e,n){this.name=e,this.unique=n}static[rt]="SQLiteIndexBuilderOn";on(...e){return new x9e(this.name,e,this.unique)}}class x9e{static[rt]="SQLiteIndexBuilder";config;constructor(e,n,r){this.config={name:e,columns:n,unique:r,where:void 0}}where(e){return this.config.where=e,this}build(e){return new E9e(this.config,e)}}class E9e{static[rt]="SQLiteIndex";config;constructor(e,n){this.config={...e,table:n}}}function xH(t){return new _ee(t,!1)}function EH(t){return new _ee(t,!0)}function A9e(...t){return t[0].columns?new AH(t[0].columns,t[0].name):new AH(t)}class AH{static[rt]="SQLitePrimaryKeyBuilder";columns;name;constructor(e,n){this.columns=e,this.name=n}build(e){return new C9e(e,this.columns,this.name)}}class C9e{constructor(e,n,r){this.table=e,this.columns=n,this.name=r}static[rt]="SQLitePrimaryKey";columns;name;getName(){return this.name??`${this.table[Pa.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function Vp(t){return nt(t,Pa)?[`${t[Ct.Symbol.BaseName]}`]:nt(t,vc)?t._.usedTables??[]:nt(t,Vt)?t.usedTables??[]:[]}class CH extends j0{constructor(e,n,r,s){super(),this.table=e,this.session=n,this.dialect=r,this.config={table:e,withList:s}}static[rt]="SQLiteDelete";config;where(e){return this.config.where=e,this}orderBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.table[Ct.Symbol.Columns],new lo({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(n)?n:[n];this.config.orderBy=r}else{const n=e;this.config.orderBy=n}return this}limit(e){return this.config.limit=e,this}returning(e=this.table[Pa.Symbol.Columns]){return this.config.returning=x0(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:Vp(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(e){return this._prepare().execute(e)}$dynamic(){return this}}function S9e(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function _9e(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,r,s)=>{const i=s===0?r.toLowerCase():`${r[0].toUpperCase()}${r.slice(1)}`;return n+i},"")}function N9e(t){return t}class T9e{static[rt]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?S9e:e==="camelCase"?_9e:N9e}getColumnCasing(e){if(!e.keyAsName)return e.name;const n=e.table[Ct.Symbol.Schema]??"public",r=e.table[Ct.Symbol.OriginalName],s=`${n}.${r}.${e.name}`;return this.cache[s]||this.cacheTable(e.table),this.cache[s]}cacheTable(e){const n=e[Ct.Symbol.Schema]??"public",r=e[Ct.Symbol.OriginalName],s=`${n}.${r}`;if(!this.cachedTables[s]){for(const i of Object.values(e[Ct.Symbol.Columns])){const o=`${s}.${i.name}`;this.cache[o]=this.convert(i.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class e6 extends Error{static[rt]="DrizzleError";constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}}class R9e extends e6{static[rt]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class t6 extends uy{static[rt]="SQLiteViewBase"}class bI{static[rt]="SQLiteDialect";casing;constructor(e){this.casing=new T9e(e?.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;const n=[Pe`with `];for(const[r,s]of e.entries())n.push(Pe`${Pe.identifier(s._.alias)} as (${s._.sql})`),r<e.length-1&&n.push(Pe`, `);return n.push(Pe` `),Pe.join(n)}buildDeleteQuery({table:e,where:n,returning:r,withList:s,limit:i,orderBy:o}){const a=this.buildWithCTE(s),l=r?Pe` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,c=n?Pe` where ${n}`:void 0,d=this.buildOrderBy(o),f=this.buildLimit(i);return Pe`${a}delete from ${e}${c}${l}${d}${f}`}buildUpdateSet(e,n){const r=e[Ct.Symbol.Columns],s=Object.keys(r).filter(o=>n[o]!==void 0||r[o]?.onUpdateFn!==void 0),i=s.length;return Pe.join(s.flatMap((o,a)=>{const l=r[o],c=n[o]??Pe.param(l.onUpdateFn(),l),d=Pe`${Pe.identifier(this.casing.getColumnCasing(l))} = ${c}`;return a<i-1?[d,Pe.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:n,where:r,returning:s,withList:i,joins:o,from:a,limit:l,orderBy:c}){const d=this.buildWithCTE(i),f=this.buildUpdateSet(e,n),p=a&&Pe.join([Pe.raw(" from "),this.buildFromTable(a)]),g=this.buildJoins(o),b=s?Pe` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,w=r?Pe` where ${r}`:void 0,m=this.buildOrderBy(c),v=this.buildLimit(l);return Pe`${d}update ${e} set ${f}${p}${g}${w}${b}${m}${v}`}buildSelection(e,{isSingleTable:n=!1}={}){const r=e.length,s=e.flatMap(({field:i},o)=>{const a=[];if(nt(i,Vt.Aliased)&&i.isSelectionField)a.push(Pe.identifier(i.fieldAlias));else if(nt(i,Vt.Aliased)||nt(i,Vt)){const l=nt(i,Vt.Aliased)?i.sql:i;n?a.push(new Vt(l.queryChunks.map(c=>nt(c,Js)?Pe.identifier(this.casing.getColumnCasing(c)):c))):a.push(l),nt(i,Vt.Aliased)&&a.push(Pe` as ${Pe.identifier(i.fieldAlias)}`)}else if(nt(i,Js)){const l=i.table[Ct.Symbol.Name];i.columnType==="SQLiteNumericBigInt"?n?a.push(Pe`cast(${Pe.identifier(this.casing.getColumnCasing(i))} as text)`):a.push(Pe`cast(${Pe.identifier(l)}.${Pe.identifier(this.casing.getColumnCasing(i))} as text)`):n?a.push(Pe.identifier(this.casing.getColumnCasing(i))):a.push(Pe`${Pe.identifier(l)}.${Pe.identifier(this.casing.getColumnCasing(i))}`)}return o<r-1&&a.push(Pe`, `),a});return Pe.join(s)}buildJoins(e){if(!e||e.length===0)return;const n=[];if(e)for(const[r,s]of e.entries()){r===0&&n.push(Pe` `);const i=s.table,o=s.on?Pe` on ${s.on}`:void 0;if(nt(i,Pa)){const a=i[Pa.Symbol.Name],l=i[Pa.Symbol.Schema],c=i[Pa.Symbol.OriginalName],d=a===c?void 0:s.alias;n.push(Pe`${Pe.raw(s.joinType)} join ${l?Pe`${Pe.identifier(l)}.`:void 0}${Pe.identifier(c)}${d&&Pe` ${Pe.identifier(d)}`}${o}`)}else n.push(Pe`${Pe.raw(s.joinType)} join ${i}${o}`);r<e.length-1&&n.push(Pe` `)}return Pe.join(n)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?Pe` limit ${e}`:void 0}buildOrderBy(e){const n=[];if(e)for(const[r,s]of e.entries())n.push(s),r<e.length-1&&n.push(Pe`, `);return n.length>0?Pe` order by ${Pe.join(n)}`:void 0}buildFromTable(e){return nt(e,Ct)&&e[Ct.Symbol.IsAlias]?Pe`${Pe`${Pe.identifier(e[Ct.Symbol.Schema]??"")}.`.if(e[Ct.Symbol.Schema])}${Pe.identifier(e[Ct.Symbol.OriginalName])} ${Pe.identifier(e[Ct.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:n,fieldsFlat:r,where:s,having:i,table:o,joins:a,orderBy:l,groupBy:c,limit:d,offset:f,distinct:p,setOperators:g}){const b=r??x0(n);for(const K of b)if(nt(K.field,Js)&&tm(K.field.table)!==(nt(o,vc)?o._.alias:nt(o,t6)?o[Ji].name:nt(o,Vt)?void 0:tm(o))&&!(q=>a?.some(({alias:I})=>I===(q[Ct.Symbol.IsAlias]?tm(q):q[Ct.Symbol.BaseName])))(K.field.table)){const q=tm(K.field.table);throw new Error(`Your "${K.path.join("->")}" field references a column "${q}"."${K.field.name}", but the table "${q}" is not part of the query! Did you forget to join it?`)}const w=!a||a.length===0,m=this.buildWithCTE(e),v=p?Pe` distinct`:void 0,x=this.buildSelection(b,{isSingleTable:w}),C=this.buildFromTable(o),S=this.buildJoins(a),T=s?Pe` where ${s}`:void 0,R=i?Pe` having ${i}`:void 0,_=[];if(c)for(const[K,q]of c.entries())_.push(q),K<c.length-1&&_.push(Pe`, `);const N=_.length>0?Pe` group by ${Pe.join(_)}`:void 0,O=this.buildOrderBy(l),D=this.buildLimit(d),k=f?Pe` offset ${f}`:void 0,z=Pe`${m}select${v} ${x} from ${C}${S}${T}${N}${R}${O}${D}${k}`;return g.length>0?this.buildSetOperations(z,g):z}buildSetOperations(e,n){const[r,...s]=n;if(!r)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:r,rightSelect:s,limit:i,orderBy:o,offset:a}}){const l=Pe`${e.getSQL()} `,c=Pe`${s.getSQL()}`;let d;if(o&&o.length>0){const b=[];for(const w of o)if(nt(w,Qo))b.push(Pe.identifier(w.name));else if(nt(w,Vt)){for(let m=0;m<w.queryChunks.length;m++){const v=w.queryChunks[m];nt(v,Qo)&&(w.queryChunks[m]=Pe.identifier(this.casing.getColumnCasing(v)))}b.push(Pe`${w}`)}else b.push(Pe`${w}`);d=Pe` order by ${Pe.join(b,Pe`, `)}`}const f=typeof i=="object"||typeof i=="number"&&i>=0?Pe` limit ${i}`:void 0,p=Pe.raw(`${n} ${r?"all ":""}`),g=a?Pe` offset ${a}`:void 0;return Pe`${l}${p}${c}${d}${f}${g}`}buildInsertQuery({table:e,values:n,onConflict:r,returning:s,withList:i,select:o}){const a=[],l=e[Ct.Symbol.Columns],c=Object.entries(l).filter(([w,m])=>!m.shouldDisableInsert()),d=c.map(([,w])=>Pe.identifier(this.casing.getColumnCasing(w)));if(o){const w=n;nt(w,Vt)?a.push(w):a.push(w.getSQL())}else{const w=n;a.push(Pe.raw("values "));for(const[m,v]of w.entries()){const x=[];for(const[C,S]of c){const T=v[C];if(T===void 0||nt(T,ch)&&T.value===void 0){let R;if(S.default!==null&&S.default!==void 0)R=nt(S.default,Vt)?S.default:Pe.param(S.default,S);else if(S.defaultFn!==void 0){const _=S.defaultFn();R=nt(_,Vt)?_:Pe.param(_,S)}else if(!S.default&&S.onUpdateFn!==void 0){const _=S.onUpdateFn();R=nt(_,Vt)?_:Pe.param(_,S)}else R=Pe`null`;x.push(R)}else x.push(T)}a.push(x),m<w.length-1&&a.push(Pe`, `)}}const f=this.buildWithCTE(i),p=Pe.join(a),g=s?Pe` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,b=r?.length?Pe.join(r):void 0;return Pe`${f}insert into ${e} ${d} ${p}${b}${g}`}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:n})}buildRelationalQuery({fullSchema:e,schema:n,tableNamesMap:r,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:c}){let d=[],f,p,g=[],b;const w=[];if(o===!0)d=Object.entries(i.columns).map(([x,C])=>({dbKey:C.name,tsKey:x,field:id(C,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const v=Object.fromEntries(Object.entries(i.columns).map(([_,N])=>[_,id(N,a)]));if(o.where){const _=typeof o.where=="function"?o.where(v,Bje()):o.where;b=_&&pC(_,a)}const x=[];let C=[];if(o.columns){let _=!1;for(const[N,O]of Object.entries(o.columns))O!==void 0&&N in i.columns&&(!_&&O===!0&&(_=!0),C.push(N));C.length>0&&(C=_?C.filter(N=>o.columns?.[N]===!0):Object.keys(i.columns).filter(N=>!C.includes(N)))}else C=Object.keys(i.columns);for(const _ of C){const N=i.columns[_];x.push({tsKey:_,value:N})}let S=[];o.with&&(S=Object.entries(o.with).filter(_=>!!_[1]).map(([_,N])=>({tsKey:_,queryConfig:N,relation:i.relations[_]})));let T;if(o.extras){T=typeof o.extras=="function"?o.extras(v,{sql:Pe}):o.extras;for(const[_,N]of Object.entries(T))x.push({tsKey:_,value:See(N,a)})}for(const{tsKey:_,value:N}of x)d.push({dbKey:nt(N,Vt.Aliased)?N.fieldAlias:i.columns[_].name,tsKey:_,field:nt(N,Js)?id(N,a):N,relationTableTsKey:void 0,isJson:!1,selection:[]});let R=typeof o.orderBy=="function"?o.orderBy(v,Dje()):o.orderBy??[];Array.isArray(R)||(R=[R]),g=R.map(_=>nt(_,Js)?id(_,a):pC(_,a)),f=o.limit,p=o.offset;for(const{tsKey:_,queryConfig:N,relation:O}of S){const D=jje(n,r,O),k=Tv(O.referencedTable),z=r[k],K=`${a}_${_}`,q=gI(...D.fields.map((M,j)=>Aee(id(D.references[j],K),id(M,a)))),I=this.buildRelationalQuery({fullSchema:e,schema:n,tableNamesMap:r,table:e[z],tableConfig:n[z],queryConfig:nt(O,E0)?N===!0?{limit:1}:{...N,limit:1}:N,tableAlias:K,joinOn:q,nestedQueryRelation:O}),P=Pe`(${I.sql})`.as(_);d.push({dbKey:_,tsKey:_,field:P,relationTableTsKey:z,isJson:!0,selection:I.selection})}}if(d.length===0)throw new e6({message:`No fields selected for table "${i.tsName}" ("${a}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let m;if(b=gI(c,b),l){let v=Pe`json_array(${Pe.join(d.map(({field:S})=>nt(S,Qo)?Pe.identifier(this.casing.getColumnCasing(S)):nt(S,Vt.Aliased)?S.sql:S),Pe`, `)})`;nt(l,FS)&&(v=Pe`coalesce(json_group_array(${v}), json_array())`);const x=[{dbKey:"data",tsKey:"data",field:v.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:d}];f!==void 0||p!==void 0||g.length>0?(m=this.buildSelectQuery({table:YR(s,a),fields:{},fieldsFlat:[{path:[],field:Pe.raw("*")}],where:b,limit:f,offset:p,orderBy:g,setOperators:[]}),b=void 0,f=void 0,p=void 0,g=void 0):m=YR(s,a),m=this.buildSelectQuery({table:nt(m,Pa)?m:new vc(m,{},a),fields:{},fieldsFlat:x.map(({field:S})=>({path:[],field:nt(S,Js)?id(S,a):S})),joins:w,where:b,limit:f,offset:p,orderBy:g,setOperators:[]})}else m=this.buildSelectQuery({table:YR(s,a),fields:{},fieldsFlat:d.map(({field:v})=>({path:[],field:nt(v,Js)?id(v,a):v})),joins:w,where:b,limit:f,offset:p,orderBy:g,setOperators:[]});return{tableTsKey:i.tsName,sql:m,selection:d}}}class Nee extends bI{static[rt]="SQLiteSyncDialect";migrate(e,n,r){const s=r===void 0||typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=Pe`
			CREATE TABLE IF NOT EXISTS ${Pe.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;n.run(i);const a=n.values(Pe`SELECT id, hash, created_at FROM ${Pe.identifier(s)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;n.run(Pe`BEGIN`);try{for(const l of e)if(!a||Number(a[2])<l.folderMillis){for(const c of l.sql)n.run(Pe.raw(c));n.run(Pe`INSERT INTO ${Pe.identifier(s)} ("hash", "created_at") VALUES(${l.hash}, ${l.folderMillis})`)}n.run(Pe`COMMIT`)}catch(l){throw n.run(Pe`ROLLBACK`),l}}}class P9e{static[rt]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class Hf{static[rt]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){const n=!!this.fields;let r;return this.fields?r=this.fields:nt(e,vc)?r=Object.fromEntries(Object.keys(e._.selectedFields).map(s=>[s,e[s]])):nt(e,t6)?r=e[Ji].selectedFields:nt(e,Vt)?r={}:r=cje(e),new Tee({table:e,fields:r,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class O9e extends P9e{static[rt]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:n,isPartialSelect:r,session:s,dialect:i,withList:o,distinct:a}){super(),this.config={withList:o,table:e,fields:{...n},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=s,this.dialect=i,this._={selectedFields:n,config:this.config},this.tableName=pI(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const l of Vp(e))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(e){return(n,r)=>{const s=this.tableName,i=pI(n);for(const o of Vp(n))this.usedTables.add(o);if(typeof i=="string"&&this.config.joins?.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof s=="string"&&(this.config.fields={[s]:this.config.fields}),typeof i=="string"&&!nt(n,Vt))){const o=nt(n,vc)?n._.selectedFields:nt(n,uy)?n[Ji].selectedFields:n[Ct.Symbol.Columns];this.config.fields[i]=o}if(typeof r=="function"&&(r=r(new Proxy(this.config.fields,new lo({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:n,joinType:e,alias:i}),typeof i=="string")switch(e){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");crossJoin=this.createJoin("cross");createSetOperator(e,n){return r=>{const s=typeof r=="function"?r(I9e()):r;if(!Yk(this.getSelectedFields(),s.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:n,rightSelect:s}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new lo({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new lo({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.fields,new lo({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.fields,new lo({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{const n=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(e){const n=[];if(n.push(...Vp(this.config.table)),this.config.joins)for(const r of this.config.joins)n.push(...Vp(r.table));return new Proxy(new vc(this.getSQL(),this.config.fields,e,!1,[...new Set(n)]),new lo({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new lo({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class Tee extends O9e{static[rt]="SQLiteSelect";_prepare(e=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const n=x0(this.config.fields),r=this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),n,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.all()}}aje(Tee,[j0]);function $S(t,e){return(n,r,...s)=>{const i=[r,...s].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Yk(n.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}const I9e=()=>({union:k9e,unionAll:B9e,intersect:D9e,except:M9e}),k9e=$S("union",!1),B9e=$S("union",!0),D9e=$S("intersect",!1),M9e=$S("except",!1);class Ree{static[rt]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=nt(e,bI)?e:void 0,this.dialectConfig=nt(e,bI)?void 0:e}$with=(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(r)),new Proxy(new bee(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new lo({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){const n=this;function r(i){return new Hf({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function s(i){return new Hf({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:e,distinct:!0})}return{select:r,selectDistinct:s}}select(e){return new Hf({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Hf({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new Nee(this.dialectConfig)),this.dialect}}class SH{constructor(e,n,r,s){this.table=e,this.session=n,this.dialect=r,this.withList=s}static[rt]="SQLiteInsertBuilder";values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const n=e.map(r=>{const s={},i=this.table[Ct.Symbol.Columns];for(const o of Object.keys(r)){const a=r[o];s[o]=nt(a,Vt)?a:new ch(a,i[o])}return s});return new _H(this.table,n,this.session,this.dialect,this.withList)}select(e){const n=typeof e=="function"?e(new Ree):e;if(!nt(n,Vt)&&!Yk(this.table[fI],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new _H(this.table,n,this.session,this.dialect,this.withList,!0)}}class _H extends j0{constructor(e,n,r,s,i,o){super(),this.session=r,this.dialect=s,this.config={table:e,values:n,withList:i,select:o}}static[rt]="SQLiteInsert";config;returning(e=this.config.table[Pa.Symbol.Columns]){return this.config.returning=x0(e),this}onConflictDoNothing(e={}){if(this.config.onConflict||(this.config.onConflict=[]),e.target===void 0)this.config.onConflict.push(Pe` on conflict do nothing`);else{const n=Array.isArray(e.target)?Pe`${e.target}`:Pe`${[e.target]}`,r=e.where?Pe` where ${e.where}`:Pe``;this.config.onConflict.push(Pe` on conflict ${n} do nothing${r}`)}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const n=e.where?Pe` where ${e.where}`:void 0,r=e.targetWhere?Pe` where ${e.targetWhere}`:void 0,s=e.setWhere?Pe` where ${e.setWhere}`:void 0,i=Array.isArray(e.target)?Pe`${e.target}`:Pe`${[e.target]}`,o=this.dialect.buildUpdateSet(this.config.table,Eee(this.config.table,e.set));return this.config.onConflict.push(Pe` on conflict ${i}${r} do update set ${o}${n}${s}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Vp(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class NH{constructor(e,n,r,s){this.table=e,this.session=n,this.dialect=r,this.withList=s}static[rt]="SQLiteUpdateBuilder";set(e){return new U9e(this.table,Eee(this.table,e),this.session,this.dialect,this.withList)}}class U9e extends j0{constructor(e,n,r,s,i){super(),this.session=r,this.dialect=s,this.config={set:n,table:e,withList:i,joins:[]}}static[rt]="SQLiteUpdate";config;from(e){return this.config.from=e,this}createJoin(e){return(n,r)=>{const s=pI(n);if(typeof s=="string"&&this.config.joins.some(i=>i.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(typeof r=="function"){const i=this.config.from?nt(n,Pa)?n[Ct.Symbol.Columns]:nt(n,vc)?n._.selectedFields:nt(n,t6)?n[Ji].selectedFields:void 0:void 0;r=r(new Proxy(this.config.table[Ct.Symbol.Columns],new lo({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),i&&new Proxy(i,new lo({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:r,table:n,joinType:e,alias:s}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}orderBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.table[Ct.Symbol.Columns],new lo({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(n)?n:[n];this.config.orderBy=r}else{const n=e;this.config.orderBy=n}return this}limit(e){return this.config.limit=e,this}returning(e=this.config.table[Pa.Symbol.Columns]){return this.config.returning=x0(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Vp(this.config.table)})}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class gC extends Vt{constructor(e){super(gC.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.session=e.session,this.sql=gC.buildCount(e.source,e.filters)}sql;static[rt]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(e,n){return Pe`(select count(*) from ${e}${Pe.raw(" where ").if(n)}${n})`}static buildCount(e,n){return Pe`select count(*) from ${e}${Pe.raw(" where ").if(n)}${n}`}then(e,n){return Promise.resolve(this.session.count(this.sql)).then(e,n)}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}}class L9e{constructor(e,n,r,s,i,o,a,l){this.mode=e,this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=a,this.session=l}static[rt]="SQLiteAsyncRelationalQueryBuilder";findMany(e){return this.mode==="sync"?new TH(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new wI(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new TH(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new wI(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class wI extends j0{constructor(e,n,r,s,i,o,a,l,c){super(),this.fullSchema=e,this.schema=n,this.tableNamesMap=r,this.table=s,this.tableConfig=i,this.dialect=o,this.session=a,this.config=l,this.mode=c}static[rt]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(e=!1){const{query:n,builtQuery:r}=this._toSQL();return this.session[e?"prepareOneTimeQuery":"prepareQuery"](r,void 0,this.mode==="first"?"get":"all",!0,(s,i)=>{const o=s.map(a=>mI(this.schema,this.tableConfig,a,n.selection,i));return this.mode==="first"?o[0]:o})}prepare(){return this._prepare(!1)}_toSQL(){const e=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),n=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class TH extends wI{static[rt]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}class IA extends j0{constructor(e,n,r,s,i){super(),this.execute=e,this.getSQL=n,this.dialect=s,this.mapBatchResult=i,this.config={action:r}}static[rt]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(e,n){return n?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class Pee{constructor(e,n,r,s){this.resultKind=e,this.dialect=n,this.session=r,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const i=this.query;if(this._.schema)for(const[o,a]of Object.entries(this._.schema))i[o]=new L9e(e,s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[o],a,n,r);this.$cache={invalidate:async o=>{}}}static[rt]="BaseSQLiteDatabase";query;$with=(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(new Ree(r.dialect))),new Proxy(new bee(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new lo({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,n){return new gC({source:e,filters:n,session:this.session})}with(...e){const n=this;function r(l){return new Hf({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e})}function s(l){return new Hf({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function i(l){return new NH(l,n.session,n.dialect,e)}function o(l){return new SH(l,n.session,n.dialect,e)}function a(l){return new CH(l,n.session,n.dialect,e)}return{select:r,selectDistinct:s,update:i,insert:o,delete:a}}select(e){return new Hf({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Hf({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new NH(e,this.session,this.dialect)}$cache;insert(e){return new SH(e,this.session,this.dialect)}delete(e){return new CH(e,this.session,this.dialect)}run(e){const n=typeof e=="string"?Pe.raw(e):e.getSQL();return this.resultKind==="async"?new IA(async()=>this.session.run(n),()=>n,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(n)}all(e){const n=typeof e=="string"?Pe.raw(e):e.getSQL();return this.resultKind==="async"?new IA(async()=>this.session.all(n),()=>n,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(n)}get(e){const n=typeof e=="string"?Pe.raw(e):e.getSQL();return this.resultKind==="async"?new IA(async()=>this.session.get(n),()=>n,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(n)}values(e){const n=typeof e=="string"?Pe.raw(e):e.getSQL();return this.resultKind==="async"?new IA(async()=>this.session.values(n),()=>n,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(n)}transaction(e,n){return this.session.transaction(e,n)}}class j9e{static[rt]="Cache"}class F9e extends j9e{strategy(){return"all"}static[rt]="NoopCache";async get(e){}async put(e,n,r,s){}async onMutate(e){}}async function RH(t,e){const n=`${t}-${JSON.stringify(e)}`,s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s);return[...new Uint8Array(i)].map(l=>l.toString(16).padStart(2,"0")).join("")}class Df extends Error{constructor(e,n,r){super(`Failed query: ${e}
params: ${n}`),this.query=e,this.params=n,this.cause=r,Error.captureStackTrace(this,Df),r&&(this.cause=r)}}class $9e extends j0{constructor(e){super(),this.resultCb=e}static[rt]="ExecuteResultSync";async execute(){return this.resultCb()}sync(){return this.resultCb()}}class H9e{constructor(e,n,r,s,i,o){this.mode=e,this.executeMethod=n,this.query=r,this.cache=s,this.queryMetadata=i,this.cacheConfig=o,s&&s.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}static[rt]="PreparedQuery";joinsNotNullableMap;async queryWithCache(e,n,r){if(this.cache===void 0||nt(this.cache,F9e)||this.queryMetadata===void 0)try{return await r()}catch(s){throw new Df(e,n,s)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(s){throw new Df(e,n,s)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[s]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return s}catch(s){throw new Df(e,n,s)}if(!this.cacheConfig)try{return await r()}catch(s){throw new Df(e,n,s)}if(this.queryMetadata.type==="select"){const s=await this.cache.get(this.cacheConfig.tag??await RH(e,n),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(s===void 0){let i;try{i=await r()}catch(o){throw new Df(e,n,o)}return await this.cache.put(this.cacheConfig.tag??await RH(e,n),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return s}try{return await r()}catch(s){throw new Df(e,n,s)}}getQuery(){return this.query}mapRunResult(e,n){return e}mapAllResult(e,n){throw new Error("Not implemented")}mapGetResult(e,n){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new $9e(()=>this[this.executeMethod](e))}mapResult(e,n){switch(this.executeMethod){case"run":return this.mapRunResult(e,n);case"all":return this.mapAllResult(e,n);case"get":return this.mapGetResult(e,n)}}}class z9e{constructor(e){this.dialect=e}static[rt]="SQLiteSession";prepareOneTimeQuery(e,n,r,s,i,o,a){return this.prepareQuery(e,n,r,s,i,o,a)}run(e){const n=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(n,void 0,"run",!1).run()}catch(r){throw new e6({cause:r,message:`Failed to run the query '${n.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}}class q9e extends Pee{constructor(e,n,r,s,i=0){super(e,n,r,s),this.schema=s,this.nestedIndex=i}static[rt]="SQLiteTransaction";rollback(){throw new R9e}}class V9e extends z9e{constructor(e,n,r,s={}){super(n),this.client=e,this.schema=r,this.logger=s.logger??new XLe}static[rt]="SQLJsSession";logger;prepareQuery(e,n,r,s){return new G9e(this.client,e,this.logger,n,r,s)}transaction(e,n={}){const r=new n6("sync",this.dialect,this,this.schema);this.run(Pe.raw(`begin${n.behavior?` ${n.behavior}`:""}`));try{const s=e(r);return this.run(Pe`commit`),s}catch(s){throw this.run(Pe`rollback`),s}}}class n6 extends q9e{static[rt]="SQLJsTransaction";transaction(e){const n=`sp${this.nestedIndex+1}`,r=new n6("sync",this.dialect,this.session,this.schema,this.nestedIndex+1);r.run(Pe.raw(`savepoint ${n}`));try{const s=e(r);return r.run(Pe.raw(`release savepoint ${n}`)),s}catch(s){throw r.run(Pe.raw(`rollback to savepoint ${n}`)),s}}}class G9e extends H9e{constructor(e,n,r,s,i,o,a){super("sync",i,n),this.client=e,this.logger=r,this.fields=s,this._isResponseInArrayMode=o,this.customResultMapper=a}static[rt]="SQLJsPreparedQuery";run(e){const n=this.client.prepare(this.query.sql),r=OA(this.query.params,e??{});this.logger.logQuery(this.query.sql,r);const s=n.run(r);return n.free(),s}all(e){const n=this.client.prepare(this.query.sql),{fields:r,joinsNotNullableMap:s,logger:i,query:o,customResultMapper:a}=this;if(!r&&!a){const c=OA(o.params,e??{});i.logQuery(o.sql,c),n.bind(c);const d=[];for(;n.step();)d.push(n.getAsObject());return n.free(),d}const l=this.values(e);return a?a(l,kA):l.map(c=>bH(r,c.map(d=>kA(d)),s))}get(e){const n=this.client.prepare(this.query.sql),r=OA(this.query.params,e??{});this.logger.logQuery(this.query.sql,r);const{fields:s,joinsNotNullableMap:i,customResultMapper:o}=this;if(!s&&!o){const l=n.getAsObject(r);return n.free(),l}const a=n.get(r);if(n.free(),!(!a||a.length===0&&s.length>0))return o?o([a],kA):bH(s,a.map(l=>kA(l)),i)}values(e){const n=this.client.prepare(this.query.sql),r=OA(this.query.params,e??{});this.logger.logQuery(this.query.sql,r),n.bind(r);const s=[];for(;n.step();)s.push(n.get());return n.free(),s}isResponseInArrayMode(){return this._isResponseInArrayMode}}function kA(t){if(t instanceof Uint8Array){if(typeof Buffer<"u")return t instanceof Buffer?t:Buffer.from(t);if(typeof TextDecoder<"u")return new TextDecoder().decode(t);throw new Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.")}return t}function K9e(t,e={}){const n=new Nee({casing:e.casing});let r;e.logger===!0?r=new ZLe:e.logger!==!1&&(r=e.logger);let s;if(e.schema){const o=Mje(e.schema,Fje);s={fullSchema:e.schema,schema:o.tables,tableNamesMap:o.tableNamesMap}}const i=new V9e(t,n,s,{logger:r});return new Pee("sync",n,i,s)}const vI=gu("users",{id:Zs("id").primaryKey(),name:cn("name"),username:cn("username").notNull(),ethereumAddress:cn("ethereum_address").notNull().unique(),authMethod:cn("auth_method").default("siwe"),role:cn("role"),status:cn("status"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)},t=>({usernameIndex:EH("username_unique").on(t.username),nameIndex:EH("name_unique").on(t.name),authMethodIndex:xH("auth_method_idx").on(t.authMethod),ethereumAddressIndex:xH("ethereum_address_idx").on(t.ethereumAddress)})),Oee=gu("stabletokenBalances",{userId:Zs("userId").primaryKey(),balance:dy("balance").default(0).notNull()}),W9e=gu("stabletokenTransactions",{id:Zs("id").primaryKey(),userId:Zs("userId").notNull(),amount:dy("amount").notNull(),type:cn("type").notNull(),reference:cn("reference"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`)}),Iee=gu("sellers",{id:Zs("id").primaryKey(),userId:Zs("userId").notNull().unique(),name:cn("name").notNull(),logo:cn("logo"),bio:cn("bio"),contact:cn("contact"),address:cn("address"),website:cn("website"),status:cn("status"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),kee=gu("products",{id:Zs("id").primaryKey(),name:cn("name").notNull(),price:dy("price").notNull(),description:cn("description"),imageUrl:cn("imageUrl"),sellerId:Zs("sellerId"),status:cn("status"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),Bee=gu("wallets",{id:Zs("id").primaryKey(),userId:Zs("userId").notNull().unique(),balance:cn("balance").notNull().default("0"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),Dee=gu("orders",{id:Zs("id").primaryKey(),productId:Zs("productId").notNull(),productName:cn("productName").notNull(),quantity:Zs("quantity").notNull(),items:cn("items"),total:dy("total").notNull(),status:cn("status"),shippingAddress:cn("shippingAddress"),paymentMethod:cn("paymentMethod"),trackingNumber:cn("trackingNumber"),buyerId:Zs("buyerId"),sellerId:Zs("sellerId"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),Mee=gu("sellerPayouts",{id:Zs("id").primaryKey(),amount:dy("amount").notNull(),bankAccount:cn("bankAccount"),processedAt:cn("processedAt"),sellerId:Zs("sellerId"),status:cn("status"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),Uee=gu("reports",{id:Zs("id").primaryKey(),message:cn("message"),status:cn("status"),createdAt:cn("createdAt").default(Pe`CURRENT_TIMESTAMP`),updatedAt:cn("updatedAt").default(Pe`CURRENT_TIMESTAMP`)}),xI=gu("settings",{key:cn("key").notNull(),value:cn("value")},t=>({pk:A9e({columns:[t.key]})})),Lee=[`
  CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY,
    name TEXT UNIQUE,
    username TEXT NOT NULL UNIQUE,
    ethereum_address TEXT NOT NULL UNIQUE,
    auth_method TEXT DEFAULT 'siwe',
    role TEXT,
    status TEXT,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS sellers (
    id INTEGER PRIMARY KEY,
    userId INTEGER NOT NULL UNIQUE,
    name TEXT NOT NULL,
    logo TEXT,
    bio TEXT,
    contact TEXT,
    address TEXT,
    website TEXT,
    status TEXT,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS products (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    price REAL NOT NULL,
    description TEXT,
    imageUrl TEXT,
    sellerId INTEGER,
    status TEXT,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS wallets (
    id INTEGER PRIMARY KEY,
    userId INTEGER NOT NULL UNIQUE,
    balance TEXT NOT NULL DEFAULT '0',
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS orders (
    id INTEGER PRIMARY KEY,
    productId INTEGER NOT NULL,
    productName TEXT NOT NULL,
    quantity INTEGER NOT NULL,
    items TEXT,
    total REAL NOT NULL,
    status TEXT,
    shippingAddress TEXT,
    paymentMethod TEXT,
    trackingNumber TEXT,
    buyerId INTEGER,
    sellerId INTEGER,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS sellerPayouts (
    id INTEGER PRIMARY KEY,
    amount REAL NOT NULL,
    bankAccount TEXT,
    processedAt TEXT,
    sellerId INTEGER,
    status TEXT,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS stabletokenBalances (
    userId INTEGER PRIMARY KEY,
    balance REAL NOT NULL
  );
  `,`
  CREATE TABLE IF NOT EXISTS stabletokenTransactions (
    id INTEGER PRIMARY KEY,
    userId INTEGER NOT NULL,
    amount REAL NOT NULL,
    type TEXT NOT NULL,
    reference TEXT,
    createdAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS reports (
    id INTEGER PRIMARY KEY,
    message TEXT,
    status TEXT,
    createdAt TEXT,
    updatedAt TEXT
  );
  `,`
  CREATE TABLE IF NOT EXISTS settings (
    key TEXT PRIMARY KEY,
    value TEXT
  );
  `],Q9e=Object.freeze(Object.defineProperty({__proto__:null,createTableStatements:Lee,orders:Dee,products:kee,reports:Uee,sellerPayouts:Mee,sellers:Iee,settings:xI,stabletokenBalances:Oee,stabletokenTransactions:W9e,users:vI,wallets:Bee},Symbol.toStringTag,{value:"Module"})),jee=[{id:1,name:"Budi Santoso",username:"alice",ethereumAddress:"0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",authMethod:"siwe",role:"admin",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:2,name:"Sari Dewi",username:"bob",ethereumAddress:"0xbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",authMethod:"siwe",role:"buyer",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:3,name:"Ahmad Rizki",username:"carol",ethereumAddress:"0xcccccccccccccccccccccccccccccccccccccccc",authMethod:"siwe",role:"seller",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:4,name:"Dewi Sartika",username:"dewi_sartika",ethereumAddress:"0xdddddddddddddddddddddddddddddddddddddddd",authMethod:"siwe",role:"seller",status:"banned",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:5,name:"Eko Prasetyo",username:"eko_prasetyo",ethereumAddress:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",authMethod:"siwe",role:"seller",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:6,name:"Fitri Handayani",username:"fitri_handayani",ethereumAddress:"0xffffffffffffffffffffffffffffffffffffffff",authMethod:"siwe",role:"buyer",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:7,name:"Gunawan Setiawan",username:"gunawan_setiawan",ethereumAddress:"0x1111111111111111111111111111111111111111",authMethod:"siwe",role:"seller",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:8,name:"Test User",username:"test",ethereumAddress:"0x2222222222222222222222222222222222222222",authMethod:"siwe",role:"buyer",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],Y9e=[{id:1,userId:3,name:"Toko Elektronik Maju",status:"active",logo:"https://picsum.photos/id/1/150/150",bio:"Toko elektronik terpercaya dengan produk berkualitas tinggi",contact:"info@tokomaju.com",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:2,userId:4,name:"Warung Buah Segar",status:"active",logo:"https://picsum.photos/id/2/150/150",bio:"Buah-buahan segar langsung dari petani lokal",contact:"hello@warungbuah.com",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:3,userId:5,name:"Toko Gadget Indonesia",status:"active",logo:"https://picsum.photos/id/3/150/150",bio:"Solusi teknologi terdepan untuk kebutuhan digital Anda",contact:"info@gadgetindo.com",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:4,userId:7,name:"Boutique Fashion Nusantara",status:"active",logo:"https://picsum.photos/id/4/150/150",bio:"Fashion lokal dengan sentuhan budaya Indonesia",contact:"gunawan@boutiquenusantara.com",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],J9e=[{id:1,name:"Headphone Wireless Sony WH-1000XM4",price:25e5,status:"active",sellerId:1,description:"Headphone wireless premium dengan noise cancellation terbaik",imageUrl:"https://picsum.photos/id/10/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:2,name:"Speaker Bluetooth JBL Flip 5",price:85e4,status:"active",sellerId:1,description:"Speaker portable dengan suara jernih dan tahan air",imageUrl:"https://picsum.photos/id/11/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:3,name:"Smartwatch Samsung Galaxy Watch 5",price:35e5,status:"active",sellerId:1,description:"Smartwatch canggih dengan fitur kesehatan lengkap",imageUrl:"https://picsum.photos/id/12/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:4,name:"Alpukat Mentega Segar",price:25e3,status:"active",sellerId:2,description:"Alpukat mentega segar dari petani lokal Jawa Barat",imageUrl:"https://picsum.photos/id/20/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:5,name:"Stroberi Segar Lembang",price:45e3,status:"active",sellerId:2,description:"Stroberi segar dari kebun Lembang, Bandung",imageUrl:"https://picsum.photos/id/21/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:6,name:"Pisang Raja Premium",price:15e3,status:"active",sellerId:2,description:"Pisang raja premium kaya kalium dan vitamin",imageUrl:"https://picsum.photos/id/22/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:7,name:"Laptop Stand Aluminium Premium",price:35e4,status:"active",sellerId:3,description:"Stand laptop aluminium untuk ergonomi kerja yang lebih baik",imageUrl:"https://picsum.photos/id/30/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:8,name:"Keyboard Mechanical RGB Logitech",price:12e5,status:"active",sellerId:3,description:"Keyboard mechanical premium dengan lampu RGB yang cantik",imageUrl:"https://picsum.photos/id/31/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:9,name:"Mouse Gaming Razer DeathAdder V3",price:85e4,status:"active",sellerId:3,description:"Mouse gaming presisi tinggi dengan tombol yang dapat dikustomisasi",imageUrl:"https://picsum.photos/id/32/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:10,name:"Tas Kulit Asli Batik",price:18e5,status:"active",sellerId:4,description:"Tas kulit asli dengan motif batik tradisional Indonesia",imageUrl:"https://picsum.photos/id/40/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:11,name:"Selendang Sutra Batik Pesisir",price:55e4,status:"active",sellerId:4,description:"Selendang sutra dengan motif batik pesisir yang elegan",imageUrl:"https://picsum.photos/id/41/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:12,name:"Dompet Kulit Asli Garut",price:35e4,status:"active",sellerId:4,description:"Dompet kulit asli dari Garut dengan kualitas terbaik",imageUrl:"https://picsum.photos/id/42/300/200",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],Z9e=[{id:1,message:"Produk palsu yang menyesatkan",status:"open",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:2,message:"Penjual melakukan penipuan",status:"resolved",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:3,message:"Gambar produk tidak sesuai",status:"open",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],X9e=[{key:"siteName",value:"PasarNusantara"},{key:"currency",value:"IDR"},{key:"payoutDelayDays",value:"7"}],e7e=[{id:1,productId:1,productName:"Headphone Wireless Sony WH-1000XM4",quantity:2,items:'[{"productId":1,"quantity":2}]',total:5e6,status:"pending",shippingAddress:"123 Main St",paymentMethod:"credit_card",buyerId:2,sellerId:1,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:2,productId:4,productName:"Alpukat Mentega Segar",quantity:5,items:'[{"productId":4,"quantity":5}]',total:125e3,status:"shipped",shippingAddress:"123 Main St",paymentMethod:"credit_card",trackingNumber:"TRK1002",buyerId:2,sellerId:2,createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-14T09:15:00Z"},{id:3,productId:7,productName:"Laptop Stand Aluminium Premium",quantity:1,items:'[{"productId":7,"quantity":1}]',total:35e4,status:"delivered",shippingAddress:"123 Main St",paymentMethod:"credit_card",trackingNumber:"TRK1003",buyerId:2,sellerId:3,createdAt:"2024-01-13T14:20:00Z",updatedAt:"2024-01-13T14:20:00Z"},{id:4,productId:10,productName:"Tas Kulit Asli Batik",quantity:1,items:'[{"productId":10,"quantity":1}]',total:18e5,status:"pending",shippingAddress:"123 Main St",paymentMethod:"credit_card",buyerId:6,sellerId:4,createdAt:"2024-01-16T11:45:00Z",updatedAt:"2024-01-16T11:45:00Z"},{id:5,productId:8,productName:"Keyboard Mechanical RGB Logitech",quantity:1,items:'[{"productId":8,"quantity":1}]',total:12e5,status:"processing",shippingAddress:"123 Main St",paymentMethod:"credit_card",buyerId:6,sellerId:3,createdAt:"2024-01-15T16:30:00Z",updatedAt:"2024-01-15T16:30:00Z"},{id:6,productId:3,productName:"Smartwatch Samsung Galaxy Watch 5",quantity:1,items:'[{"productId":3,"quantity":1}]',total:35e5,status:"shipped",shippingAddress:"123 Main St",paymentMethod:"credit_card",trackingNumber:"TRK1006",buyerId:6,sellerId:1,createdAt:"2024-01-14T13:10:00Z",updatedAt:"2024-01-14T13:10:00Z"},{id:7,productId:5,productName:"Stroberi Segar Lembang",quantity:3,items:'[{"productId":5,"quantity":3}]',total:135e3,status:"delivered",shippingAddress:"123 Main St",paymentMethod:"credit_card",trackingNumber:"TRK1007",buyerId:6,sellerId:2,createdAt:"2024-01-13T10:25:00Z",updatedAt:"2024-01-13T10:25:00Z"}],t7e=[{id:1,amount:85e5,bankAccount:"1234567890",sellerId:1,status:"completed",processedAt:"2024-01-15T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:2,amount:125e5,bankAccount:"1234567890",sellerId:1,status:"completed",processedAt:"2024-01-10T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:3,amount:5e6,bankAccount:"1234567890",sellerId:2,status:"completed",processedAt:"2024-01-15T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:4,amount:75e5,bankAccount:"1234567890",sellerId:2,status:"completed",processedAt:"2024-01-08T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:5,amount:1e7,bankAccount:"1234567890",sellerId:3,status:"pending",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:6,amount:65e5,bankAccount:"1234567890",sellerId:3,status:"completed",processedAt:"2024-01-12T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:7,amount:135e5,bankAccount:"1234567890",sellerId:4,status:"pending",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],n7e=[{userId:8,balance:0}],r7e=jee.map((t,e)=>({id:e+1,userId:t.id,balance:"0",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}));async function s7e(t){if((await t.select().from(vI).all()).length>0){console.log("[seed] Already seeded.");return}for(const n of jee)await t.insert(vI).values(n).onConflictDoNothing().run();for(const n of Y9e)await t.insert(Iee).values(n).onConflictDoNothing().run();for(const n of J9e)await t.insert(kee).values(n).onConflictDoNothing().run();for(const n of Z9e)await t.insert(Uee).values(n).onConflictDoNothing().run();for(const n of X9e)await t.insert(xI).values(n).onConflictDoUpdate({target:xI.key,set:{value:n.value}}).run();for(const n of e7e)await t.insert(Dee).values(n).onConflictDoNothing().run();for(const n of r7e)await t.insert(Bee).values(n).onConflictDoNothing().run();for(const n of t7e)await t.insert(Mee).values(n).onConflictDoNothing().run();for(const n of n7e)await t.insert(Oee).values(n).onConflictDoNothing().run();console.log("[seed] DB seeded successfully.")}var BA={};let zg=null;async function Fee(){if(zg)return zg;const e=typeof process<"u"&&(BA.VITEST||BA.JEST_WORKER_ID!==void 0||BA.JEST!==void 0||BA.TEST==="true"||typeof window<"u"&&window.__TEST__)?"./public/sql-wasm.wasm":"/webappx/sql-wasm.wasm",n=await YLe({locateFile:s=>e}),r=new n.Database;zg=K9e(r,{schema:Q9e});for(const s of Lee)await zg.run(s);return console.log("[sql.js] DB ready!"),await s7e(zg),zg}let JR=null;function GFe(){return JR||(JR=Fee()),JR}async function i7e(){await Fee();const{worker:t}=await Qi(async()=>{const{worker:e}=await import("./browser-CQBBtSFT.js");return{worker:e}},[]);await t.start({serviceWorker:{url:"/webappx/mockServiceWorker.js"}})}i7e().then(()=>{Ene.createRoot(document.getElementById("root")).render(E.jsx(W.StrictMode,{children:E.jsx(KLe,{})}))});export{ln as $,rV as A,ml as B,Kp as C,nV as D,tRe as E,$m as F,om as G,XA as H,Cue as I,NFe as J,ut as K,Pue as L,fr as M,hd as N,wr as O,IFe as P,Fe as Q,c1 as R,A7e as S,Mo as T,Pt as U,Nt as V,_r as W,Ba as X,he as Y,ei as Z,Yl as _,Iee as a,kFe as a0,Ta as a1,mt as a2,tt as a3,dr as a4,f3e as a5,Ws as a6,h3e as a7,ct as a8,ao as a9,pi as aA,HA as aB,OFe as aC,cW as aD,vO as aE,_m as aF,Qi as aG,Tge as aH,oFe as aI,TM as aJ,JV as aK,Q1 as aL,Ege as aM,YV as aN,Rge as aO,aFe as aP,iFe as aQ,E2 as aR,uFe as aS,cFe as aT,jle as aa,br as ab,Wq as ac,Va as ad,Wr as ae,Yt as af,yue as ag,ZI as ah,Yq as ai,Xi as aj,wi as ak,xP as al,Yc as am,uo as an,er as ao,zle as ap,JA as aq,y2 as ar,mi as as,BFe as at,Gt as au,wO as av,Gg as aw,Wue as ax,Na as ay,TFe as az,xI as b,$o as c,GFe as d,Aee as e,Pe as f,mC as g,Uee as h,gI as i,Mee as j,Oee as k,W9e as l,ND as m,xue as n,Dee as o,kee as p,Tue as q,ede as r,IQ as s,tV as t,vI as u,QI as v,Bee as w,TD as x,Eue as y,Nue as z};
